"use strict";(()=>{var I,T,v,z,r,K,n,l={601031:(I,T,v)=>{v.d(T,{A:()=>z});const z={powerBall:"powerBall--b80e5",isMobile:"isMobile--6b808",multiplierFlag:"multiplierFlag--5886e",labelsAtBottom:"labelsAtBottom--373ca",ball:"ball--87fb9",multiplier:"multiplier--d5f07"}},911495:(I,T,v)=>{v.d(T,{A:()=>z});const z={multiButton:"multiButton--78c91",disabled:"disabled--bd075",pulse:"pulse--e28e6",buttonInner:"buttonInner--35b98",arrows:"arrows--50449",arrowsContainer:"arrowsContainer--2fdf2",pulsing:"pulsing--c9b2d",pulseKeyframes:"pulseKeyframes--f7e79",scaleDisabled:"scaleDisabled--6eb9c",pressed:"pressed--4a2fd",hovered:"hovered--97e62",arrowsRotateDisabled:"arrowsRotateDisabled--b65e0",spinning:"spinning--38e30",arrowsSpinKeyframes:"arrowsSpinKeyframes--4ca74",flipArrows:"flipArrows--356a5",sparks:"sparks--877d6",sparksXKeyframes:"sparksXKeyframes--b6078",sparksYKeyframes:"sparksYKeyframes--810ac",oval:"oval--9a837",ovalSparksXKeyframes:"ovalSparksXKeyframes--16c94",ovalSparksYKeyframes:"ovalSparksYKeyframes--0867a",isMobile:"isMobile--f2f94",lowPerformanceDevice:"lowPerformanceDevice--c601e",label:"label--7947e",useLabelCorrection:"useLabelCorrection--9f4f1",circle:"circle--07c5b",timer:"timer--8282e",contentContainer:"contentContainer--8eb0f",icon:"icon--44b2c",labelText:"labelText--447dc",pulseOvalKeyframes:"pulseOvalKeyframes--5ba6e",smallRimXPathLength:"smallRimXPathLength--6039c",smallAspectRatio:"smallAspectRatio--2ae10"}},451175:(I,T,v)=>{v.d(T,{A:()=>z});const z={border:"border--296e9",progress:"progress--f7fab"}},65402:(I,T,v)=>{var z=v(301654);T.__esModule=!0,T["default"]=void 0;var r=function(){};z(v(450679)).default&&(r=document.addEventListener?function(I,T,v,z){return I.removeEventListener(T,v,z||!1)}:document.attachEvent?function(I,T,v){return I.detachEvent("on"+T,v)}:void 0);var K=r;T["default"]=K,I.exports=T["default"]},609622:(I,T,v)=>{var z=v(301654);T.__esModule=!0,T["default"]=void 0;var r=function(){};z(v(450679)).default&&(r=document.addEventListener?function(I,T,v,z){return I.addEventListener(T,v,z||!1)}:document.attachEvent?function(I,T,v){return I.attachEvent("on"+T,(function(T){(T=T||window.event).target=T.target||T.srcElement,T.currentTarget=I,v.call(I,T)}))}:void 0);var K=r;T["default"]=K,I.exports=T["default"]},427728:(I,T,v)=>{var z=v(301654);T.__esModule=!0,T["default"]=T.animationEnd=T.animationDelay=T.animationTiming=T.animationDuration=T.animationName=T.transitionEnd=T.transitionDuration=T.transitionDelay=T.transitionTiming=T.transitionProperty=T.transform=void 0;var r,K,n,l,a,S,A,H,t,b,R,F=z(v(450679)),f="transform";if(T.transform=f,T.animationEnd=n,T.transitionEnd=K,T.transitionDelay=A,T.transitionTiming=S,T.transitionDuration=a,T.transitionProperty=l,T.animationDelay=R,T.animationTiming=b,T.animationDuration=t,T.animationName=H,F.default){var x=function(){for(var I,T,v=document.createElement("div").style,z={O:function(I){return"o"+I.toLowerCase()},Moz:function(I){return I.toLowerCase()},Webkit:function(I){return"webkit"+I},ms:function(I){return"MS"+I}},r=Object.keys(z),K="",n=0;n<r.length;n++){var l=r[n];if(l+"TransitionProperty"in v){K="-"+l.toLowerCase(),I=z[l]("TransitionEnd"),T=z[l]("AnimationEnd");break}}return!I&&"transitionProperty"in v&&(I="transitionend"),!T&&"animationName"in v&&(T="animationend"),v=null,{animationEnd:T,transitionEnd:I,prefix:K}}();r=x.prefix,T.transitionEnd=K=x.transitionEnd,T.animationEnd=n=x.animationEnd,T.transform=f=r+"-"+f,T.transitionProperty=l=r+"-transition-property",T.transitionDuration=a=r+"-transition-duration",T.transitionDelay=A=r+"-transition-delay",T.transitionTiming=S=r+"-transition-timing-function",T.animationName=H=r+"-animation-name",T.animationDuration=t=r+"-animation-duration",T.animationTiming=b=r+"-animation-delay",T.animationDelay=R=r+"-animation-timing-function"}var D={transform:f,end:K,property:l,timing:S,delay:A,duration:a};T["default"]=D},450679:(I,T)=>{T.__esModule=!0,T["default"]=void 0;var v=!("undefined"==typeof window||!window.document||!window.document.createElement);T["default"]=v,I.exports=T["default"]},504825:(I,T,v)=>{var z=v(578278);Object.defineProperty(T,"__esModule",{value:!0}),T["default"]=void 0;var r=z(v(377810)),K=(z(v(746365)),function(I){I.index;var T=I.children;r.default.Children.count(T)});T["default"]=K},454767:(I,T,v)=>{var z=v(578278);Object.defineProperty(T,"__esModule",{value:!0}),T["default"]=function(I){var T,v=I.children,z=I.startIndex,n=I.startX,l=I.pageX,a=I.viewLength,S=I.resistance,A=r.default.Children.count(v)-1,H=z+(n-l)/a;return S?H<0?H=Math.exp(H*K.default.RESISTANCE_COEF)-1:H>A&&(H=A+1-Math.exp((A-H)*K.default.RESISTANCE_COEF)):H<0?T=((H=0)-z)*a+l:H>A&&(T=((H=A)-z)*a+l),{index:H,startX:T}};var r=z(v(377810)),K=z(v(262164))},262164:(I,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T["default"]=void 0,T["default"]={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},813659:(I,T,v)=>{var z=v(578278);Object.defineProperty(T,"__esModule",{value:!0}),T["default"]=void 0;var r=z(v(377810));T["default"]=function(I,T){var v=!1,z=function(I){return I?I.key:"empty"};if(I.children.length&&T.children.length){var K=r.default.Children.map(I.children,z)[I.index];null!=K&&K===r.default.Children.map(T.children,z)[T.index]&&(v=!0)}return v}},25706:(I,T,v)=>{var z=v(578278);Object.defineProperty(T,"__esModule",{value:!0}),Object.defineProperty(T,"checkIndexBounds",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(T,"computeIndex",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(T,"constant",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(T,"getDisplaySameSlide",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(T,"mod",{enumerable:!0,get:function(){return a.default}});var r=z(v(504825)),K=z(v(454767)),n=z(v(262164)),l=z(v(813659)),a=z(v(981794))},981794:(I,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T["default"]=void 0;T["default"]=function(I,T){var v=I%T;return v<0?v+T:v}},578278:I=>{I.exports=function(I){return I&&I.__esModule?I:{default:I}}},717284:(I,T,v)=>{var z=v(737202);Object.defineProperty(T,"__esModule",{value:!0}),T.getDomTreeShapes=i,T.findNativeHandler=E,T["default"]=void 0;var r=z(v(609562)),K=z(v(288215)),n=z(v(678967)),l=z(v(704643)),a=z(v(22132)),S=z(v(103088)),A=z(v(7511)),H=z(v(377810)),t=z(v(575826)),b=(z(v(746365)),z(v(427728))),R=z(v(609622)),F=z(v(65402)),f=v(25706);function x(I,T,v,z){return(0,R.default)(I,T,v,z),{remove:function(){(0,F.default)(I,T,v,z)}}}var D={direction:"ltr",display:"flex",willChange:"transform"},q={width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"},J={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(I){return"translate(".concat(-I,"%, 0)")},"x-reverse":function(I){return"translate(".concat(I,"%, 0)")},y:function(I){return"translate(0, ".concat(-I,"%)")},"y-reverse":function(I){return"translate(0, ".concat(I,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function y(I,T){var v=T.duration,z=T.easeFunction,r=T.delay;return"".concat(I," ").concat(v," ").concat(z," ").concat(r)}function V(I,T){var v=J.rotationMatrix[T];return{pageX:v.x[0]*I.pageX+v.x[1]*I.pageY,pageY:v.y[0]*I.pageX+v.y[1]*I.pageY}}function C(I){return I.touches=[{pageX:I.pageX,pageY:I.pageY}],I}function i(I,T){for(var v=[];I&&I!==T&&!I.hasAttribute("data-swipeable");){var z=window.getComputedStyle(I);"absolute"===z.getPropertyValue("position")||"hidden"===z.getPropertyValue("overflow-x")?v=[]:(I.clientWidth>0&&I.scrollWidth>I.clientWidth||I.clientHeight>0&&I.scrollHeight>I.clientHeight)&&v.push({element:I,scrollWidth:I.scrollWidth,scrollHeight:I.scrollHeight,clientWidth:I.clientWidth,clientHeight:I.clientHeight,scrollLeft:I.scrollLeft,scrollTop:I.scrollTop}),I=I.parentNode}return v}var c=null;function E(I){var T=I.domTreeShapes,v=I.pageX,z=I.startX,r=I.axis;return T.some((function(I){var T=v>=z;"x"!==r&&"y"!==r||(T=!T);var K=I[J.scrollPosition[r]],n=K>0,l=K+I[J.clientLength[r]]<I[J.scrollLength[r]];return!!(T&&l||!T&&n)&&(c=I.element,!0)}))}var X=function(I){function T(I){var v;return(0,n.default)(this,T),(v=(0,a.default)(this,(0,S.default)(T).call(this,I))).rootNode=null,v.containerNode=null,v.ignoreNextScrollEvents=!1,v.viewLength=0,v.startX=0,v.lastX=0,v.vx=0,v.startY=0,v.isSwiping=void 0,v.started=!1,v.startIndex=0,v.transitionListener=null,v.touchMoveListener=null,v.activeSlide=null,v.indexCurrent=null,v.firstRenderTimeout=null,v.setRootNode=function(I){v.rootNode=I},v.setContainerNode=function(I){v.containerNode=I},v.setActiveSlide=function(I){v.activeSlide=I,v.updateHeight()},v.handleSwipeStart=function(I){var T=v.props.axis,z=V(I.touches[0],T);v.viewLength=v.rootNode.getBoundingClientRect()[J.length[T]],v.startX=z.pageX,v.lastX=z.pageX,v.vx=0,v.startY=z.pageY,v.isSwiping=void 0,v.started=!0;var r=window.getComputedStyle(v.containerNode),K=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform");if(K&&"none"!==K){var n=K.split("(")[1].split(")")[0].split(","),l=window.getComputedStyle(v.rootNode),a=V({pageX:parseInt(n[4],10),pageY:parseInt(n[5],10)},T);v.startIndex=-a.pageX/(v.viewLength-parseInt(l.paddingLeft,10)-parseInt(l.paddingRight,10))||0}},v.handleSwipeMove=function(I){if(v.started){if(null===c||c===v.rootNode){var T=v.props,z=T.axis,r=T.children,K=T.ignoreNativeScroll,n=T.onSwitching,l=T.resistance,a=V(I.touches[0],z);if(void 0===v.isSwiping){var S=Math.abs(a.pageX-v.startX),A=Math.abs(a.pageY-v.startY),t=S>A&&S>f.constant.UNCERTAINTY_THRESHOLD;if(!l&&("y"===z||"y-reverse"===z)&&(0===v.indexCurrent&&v.startX<a.pageX||v.indexCurrent===H.default.Children.count(v.props.children)-1&&v.startX>a.pageX))return void(v.isSwiping=!1);if(S>A&&I.preventDefault(),!0===t||A>f.constant.UNCERTAINTY_THRESHOLD)return v.isSwiping=t,void(v.startX=a.pageX)}if(!0===v.isSwiping){I.preventDefault(),v.vx=.5*v.vx+.5*(a.pageX-v.lastX),v.lastX=a.pageX;var b=(0,f.computeIndex)({children:r,resistance:l,pageX:a.pageX,startIndex:v.startIndex,startX:v.startX,viewLength:v.viewLength}),R=b.index,F=b.startX;if(null===c&&!K&&E({domTreeShapes:i(I.target,v.rootNode),startX:v.startX,pageX:a.pageX,axis:z}))return;F?v.startX=F:null===c&&(c=v.rootNode),v.setIndexCurrent(R);var x=function(){n&&n(R,"move")};!v.state.displaySameSlide&&v.state.isDragging||v.setState({displaySameSlide:!1,isDragging:!0},x),x()}}}else v.handleTouchStart(I)},v.handleSwipeEnd=function(){if(c=null,v.started&&(v.started=!1,!0===v.isSwiping)){var I,T=v.state.indexLatest,z=v.indexCurrent,r=T-z;I=Math.abs(v.vx)>v.props.threshold?v.vx>0?Math.floor(z):Math.ceil(z):Math.abs(r)>v.props.hysteresis?r>0?Math.floor(z):Math.ceil(z):T;var K=H.default.Children.count(v.props.children)-1;I<0?I=0:I>K&&(I=K),v.setIndexCurrent(I),v.setState({indexLatest:I,isDragging:!1},(function(){v.props.onSwitching&&v.props.onSwitching(I,"end"),v.props.onChangeIndex&&I!==T&&v.props.onChangeIndex(I,T,{reason:"swipe"}),z===T&&v.handleTransitionEnd()}))}},v.handleTouchStart=function(I){v.props.onTouchStart&&v.props.onTouchStart(I),v.handleSwipeStart(I)},v.handleTouchEnd=function(I){v.props.onTouchEnd&&v.props.onTouchEnd(I),v.handleSwipeEnd(I)},v.handleMouseDown=function(I){v.props.onMouseDown&&v.props.onMouseDown(I),I.persist(),v.handleSwipeStart(C(I))},v.handleMouseUp=function(I){v.props.onMouseUp&&v.props.onMouseUp(I),v.handleSwipeEnd(C(I))},v.handleMouseLeave=function(I){v.props.onMouseLeave&&v.props.onMouseLeave(I),v.started&&v.handleSwipeEnd(C(I))},v.handleMouseMove=function(I){v.props.onMouseMove&&v.props.onMouseMove(I),v.started&&v.handleSwipeMove(C(I))},v.handleScroll=function(I){if(v.props.onScroll&&v.props.onScroll(I),I.target===v.rootNode)if(v.ignoreNextScrollEvents)v.ignoreNextScrollEvents=!1;else{var T=v.state.indexLatest,z=Math.ceil(I.target.scrollLeft/I.target.clientWidth)+T;v.ignoreNextScrollEvents=!0,I.target.scrollLeft=0,v.props.onChangeIndex&&z!==T&&v.props.onChangeIndex(z,T,{reason:"focus"})}},v.updateHeight=function(){if(null!==v.activeSlide){var I=v.activeSlide.children[0];void 0!==I&&void 0!==I.offsetHeight&&v.state.heightLatest!==I.offsetHeight&&v.setState({heightLatest:I.offsetHeight})}},v.state={indexLatest:I.index,isDragging:!1,renderOnlyActive:!I.disableLazyLoading,heightLatest:0,displaySameSlide:!0},v.setIndexCurrent(I.index),v}return(0,A.default)(T,I),(0,l.default)(T,[{key:"getChildContext",value:function(){var I=this;return{swipeableViews:{slideUpdateHeight:function(){I.updateHeight()}}}}},{key:"componentDidMount",value:function(){var I=this;this.transitionListener=x(this.containerNode,b.default.end,(function(T){T.target===I.containerNode&&I.handleTransitionEnd()})),this.touchMoveListener=x(this.rootNode,"touchmove",(function(T){I.props.disabled||I.handleSwipeMove(T)}),{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout((function(){I.setState({renderOnlyActive:!1})}),0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"componentWillReceiveProps",value:function(I){var T=I.index;"number"==typeof T&&T!==this.props.index&&(this.setIndexCurrent(T),this.setState({displaySameSlide:(0,f.getDisplaySameSlide)(this.props,I),indexLatest:T}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"setIndexCurrent",value:function(I){if(this.props.animateTransitions||this.indexCurrent===I||this.handleTransitionEnd(),this.indexCurrent=I,this.containerNode){var T=this.props.axis,v=J.transform[T](100*I);this.containerNode.style.WebkitTransform=v,this.containerNode.style.transform=v}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var I,T,v=this,z=this.props,n=(z.action,z.animateHeight),l=z.animateTransitions,a=z.axis,S=z.children,A=z.containerStyle,t=z.disabled,b=(z.disableLazyLoading,z.enableMouseEvents),R=(z.hysteresis,z.ignoreNativeScroll,z.index,z.onChangeIndex,z.onSwitching,z.onTransitionEnd,z.resistance,z.slideStyle),F=z.slideClassName,f=z.springConfig,x=z.style,V=(z.threshold,(0,K.default)(z,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),C=this.state,i=C.displaySameSlide,c=C.heightLatest,E=C.indexLatest,X=C.isDragging,P=C.renderOnlyActive,G=t?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},h=!t&&b?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},B=(0,r.default)({},q,R);if(X||!l||i)I="all 0s ease 0s",T="all 0s ease 0s";else if(I=y("transform",f),T=y("-webkit-transform",f),0!==c){var _=", ".concat(y("height",f));I+=_,T+=_}var d={height:null,WebkitFlexDirection:J.flexDirection[a],flexDirection:J.flexDirection[a],WebkitTransition:T,transition:I};if(!P){var w=J.transform[a](100*this.indexCurrent);d.WebkitTransform=w,d.transform=w}return n&&(d.height=c),H.default.createElement("div",(0,r.default)({ref:this.setRootNode,style:(0,r.default)({},J.root[a],x)},V,G,h,{onScroll:this.handleScroll}),H.default.createElement("div",{ref:this.setContainerNode,style:(0,r.default)({},d,D,A),className:"react-swipeable-view-container"},H.default.Children.map(S,(function(I,T){if(P&&T!==E)return null;var z,r=!0;return T===E&&(r=!1,n&&(z=v.setActiveSlide,B.overflowY="hidden")),H.default.createElement("div",{ref:z,style:B,className:F,"aria-hidden":r,"data-swipeable":"true"},I)}))))}}]),T}(H.default.Component);X.displayName="ReactSwipableView",X.propTypes=0?0:{},X.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1},X.childContextTypes={swipeableViews:t.default.shape({slideUpdateHeight:t.default.func})};var P=X;T["default"]=P},866302:(I,T,v)=>{var z=v(737202);T.A=void 0;var r=z(v(717284)).default;T.A=r},915755:I=>{I.exports=function(I){if(void 0===I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}},678967:I=>{I.exports=function(I,T){if(!(I instanceof T))throw new TypeError("Cannot call a class as a function")}},704643:I=>{function T(I,T){for(var v=0;v<T.length;v++){var z=T[v];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}I.exports=function(I,v,z){return v&&T(I.prototype,v),z&&T(I,z),I}},609562:I=>{function T(){return I.exports=T=Object.assign||function(I){for(var T=1;T<arguments.length;T++){var v=arguments[T];for(var z in v)Object.prototype.hasOwnProperty.call(v,z)&&(I[z]=v[z])}return I},T.apply(this,arguments)}I.exports=T},103088:I=>{function T(v){return I.exports=T=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},T(v)}I.exports=T},7511:(I,T,v)=>{var z=v(308964);I.exports=function(I,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(T&&T.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),T&&z(I,T)}},737202:I=>{I.exports=function(I){return I&&I.__esModule?I:{default:I}}},288215:(I,T,v)=>{var z=v(326973);I.exports=function(I,T){if(null==I)return{};var v,r,K=z(I,T);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(I);for(r=0;r<n.length;r++)v=n[r],T.indexOf(v)>=0||Object.prototype.propertyIsEnumerable.call(I,v)&&(K[v]=I[v])}return K}},326973:I=>{I.exports=function(I,T){if(null==I)return{};var v,z,r={},K=Object.keys(I);for(z=0;z<K.length;z++)v=K[z],T.indexOf(v)>=0||(r[v]=I[v]);return r}},22132:(I,T,v)=>{var z=v(544634),r=v(915755);I.exports=function(I,T){return!T||"object"!==z(T)&&"function"!=typeof T?r(I):T}},308964:I=>{function T(v,z){return I.exports=T=Object.setPrototypeOf||function(I,T){return I.__proto__=T,I},T(v,z)}I.exports=T},544634:I=>{function T(I){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},T(I)}function v(z){return"function"==typeof Symbol&&"symbol"===T(Symbol.iterator)?I.exports=v=function(I){return T(I)}:I.exports=v=function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":T(I)},v(z)}I.exports=v},934789:(I,T,v)=>{function z(I,T,v,z){var r,K=arguments.length,n=K<3?T:null===z?z=Object.getOwnPropertyDescriptor(T,v):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(I,T,v,z);else for(var l=I.length-1;l>=0;l--)(r=I[l])&&(n=(K<3?r(n):K>3?r(T,v,n):r(T,v))||n);return K>3&&n&&Object.defineProperty(T,v,n),n}v.d(T,{Cg:()=>z}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},746365:I=>{var T=function(){};if("production"!="production"){var v=function(I,T){var v=arguments.length;T=new Array(v>1?v-1:0);for(var z=1;z<v;z++)T[z-1]=arguments[z];var r=0,K="Warning: "+I.replace(/%s/g,(function(){return T[r++]}));"undefined"!=typeof console&&console.error(K);try{throw new Error(K)}catch(I){}};T=function(I,T,z){var r=arguments.length;z=new Array(r>2?r-2:0);for(var K=2;K<r;K++)z[K-2]=arguments[K];if(void 0===T)throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument");I||v.apply(null,[T].concat(z))}}I.exports=T},652511:(I,T,v)=>{v.d(T,{s:()=>K});var z=v(64922),r=v(377810);const K=({children:I,className:T,style:v,"data-role":K,id:n,longTapDuration:l,clickHoldTimeout:a,onClick:S,onClickHold:A,onPointerEnter:H,onPointerLeave:t,onLongTap:b})=>{const[R,F]=r.useState(!1),f=r.useRef(0),x=r.useCallback((I=>{if(F(!0),b){const T=l||700;f.current=window.setTimeout((()=>{b(I)}),T)}}),[l,b]),D=r.useCallback((I=>{I.preventDefault(),F(!0),window.clearTimeout(f.current),null==S||S(I)}),[S]),q=r.useCallback((I=>{R?F(!1):null==S||S(I)}),[S,R]),J=r.useCallback((I=>{if(A){const T=a||700;f.current=window.setTimeout((()=>{A(I)}),T)}}),[a,A]),y=r.useCallback((()=>{window.clearTimeout(f.current)}),[]);return r.useEffect((()=>()=>{window.clearTimeout(f.current)})),z.jsx("div",{"data-role":K,className:T,style:v,id:n,onTouchStart:x,onTouchEnd:D,onClick:q,onMouseDown:J,onMouseUp:y,onPointerEnter:H,onPointerLeave:t,children:I})}},835521:(I,T,v)=>{v.d(T,{t:()=>S});var z=v(64922),r=v(699695),K=v(497091),n=v(621333),l=v(540024);const a={drawnBalls:"drawnBalls--bf879",twoLines:"twoLines--7fdba",ballWrapper:"ballWrapper--fc9b0",ballPlace:"ballPlace--91dba",isMobile:"isMobile--68f94",isRng:"isRng--92f5f",isMobileLandscape:"isMobileLandscape--05812"};function S(I){const{disabled:T,drawnBalls:v,className:S,areTwoLines:A,ballColors:H,isRng:t,isMegaBallPhase:b,isMobile:R,isMobileLandscape:F,isTablet:f,powerBalls:x,powerBallMultipliers:D,hasOrientationChanged:q}=I,J=A?v.slice().reverse():v,y=A?J.length-1:0,V=Math.ceil(K.YF/2),C=K.YF+(x?x.length:0),i=31,c=I=>A?{transform:`translateX(${I%V*100}%) translateY(${I>=V?0:-110}%)`}:F?{left:`${(I+(C>K.YF?.1:0))*(100/C)}%`,transition:C<=K.YF?"left 0.5s":"none"}:C>K.YF?{transform:I<C-K.YF?`translateX(${1.25*(I+.25)*i}px)`:`translateX(${(I+.25*(C-K.YF+1))*i}px)`}:{transform:`translate3d(${I*i}px, 0 ,0)`,transition:q?"none":"transform 0.5s"},E=new Array(C);for(let I=0;I<C;I++)E[I]=z.jsx("div",{className:r.A(a.ballPlace,{[a.isMobile]:R&&!f,[a.isRng]:t,[a.isMobileLandscape]:F&&!f}),style:c(I)},`${I}-ballplace`);return z.jsxs("div",{"data-role":"money-balls",className:r.A(a.drawnBalls,S,{[a.twoLines]:A}),children:[E,x&&D&&x.map(((I,T)=>z.jsx("div",{className:r.A(a.ballWrapper),style:c(T),children:z.jsx(l.i,{multiplier:D[T],powerBall:I,isMobile:!0,labelsAtBottom:!0})},I.ball))),J.map(((I,v)=>{const r=(v+=x?x.length:0)===y,K=!A&&!b&&r;return z.jsx("div",{className:a.ballWrapper,style:c(v),children:z.jsx(n.B,{ball:I,color:H[Number(I)],isFirst:K,disabled:T,isRng:t,isMobile:R,isMobileLandscape:F,isTablet:f,isLastDrawnBall:r},I.toString())},I.toString())}))]},F?"mobile-landscape-balls":"drawn-balls")}},621333:(I,T,v)=>{v.d(T,{B:()=>q});var z=v(64922),r=v(699695);v(377810);const K=({background:I})=>z.jsxs("svg",{viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",children:[z.jsxs("defs",{children:[z.jsxs("radialGradient",{cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:"49.547%",id:`a${I}`,children:[z.jsx("stop",{stopColor:"#fff",offset:"0%"}),z.jsx("stop",{stopColor:"#fff",offset:"68.446%"}),z.jsx("stop",{stopColor:I,offset:"100%"})]}),z.jsxs("radialGradient",{cx:"42.073%",cy:"108%",fx:"42.073%",fy:"108%",r:"95.676%",gradientTransform:"matrix(-.75 0 0 -1 .736 2.16)",id:`b${I}`,children:[z.jsx("stop",{stopColor:I,offset:"0%"}),z.jsx("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"})]}),z.jsxs("radialGradient",{cx:"50%",cy:"9.014%",fx:"50%",fy:"9.014%",r:"95.853%",gradientTransform:"matrix(.66667 0 0 1 .167 0)",id:`c${I}`,children:[z.jsx("stop",{stopColor:"#fff",offset:"0%"}),z.jsx("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"})]}),z.jsxs("linearGradient",{x1:"50%",y1:"1.391%",x2:"50%",y2:"99.568%",id:`d${I}`,children:[z.jsx("stop",{stopColor:I,stopOpacity:"0",offset:"0%"}),z.jsx("stop",{stopColor:I,offset:"100%"})]})]}),z.jsxs("g",{fill:"none",fillRule:"nonzero",children:[z.jsx("path",{d:"M27.622 17.216C29.398 9.692 24.74 2.154 17.216.378 9.692-1.398 2.154 3.26.378 10.784c-1.776 7.524 2.883 15.062 10.406 16.838 7.524 1.776 15.062-2.883 16.838-10.406z",fill:`url(#a${I})`}),z.jsx("ellipse",{fill:`url(#b${I})`,shapeRendering:"geometricPrecision",style:{mixBlendMode:"multiply"},cx:"14",cy:"19.5",rx:"10",ry:"7.5"}),z.jsx("ellipse",{fill:`url(#c${I})`,shapeRendering:"geometricPrecision",opacity:".78",cx:"14",cy:"7",rx:"9",ry:"6"}),z.jsx("path",{d:"M14 18.2A21.165 21.165 0 01.056 13 13.74 13.74 0 000 14.203C0 21.823 6.268 28 14 28s14-6.177 14-13.797c0-.405-.021-.806-.056-1.203A21.165 21.165 0 0114 18.2z",fill:`url(#d${I})`,style:{mixBlendMode:"multiply"}}),z.jsx("path",{d:"M17.826 23.236c5.1-2.113 7.523-7.96 5.41-13.062-2.113-5.1-7.96-7.523-13.062-5.41-5.1 2.113-7.523 7.96-5.41 13.062 2.113 5.1 7.96 7.523 13.062 5.41z",fill:"#fff"})]})]}),n="ball--b6abb",l="regular--ca3d9",a="expected--cf45f",S="multiplier--a81a2",A="disabled--e977a",H="isLastDrawnBall--9b7df",t="isMobile--45e6f",b="isRng--45d5e",R="isMobileLandscape--7d30f",F="colorCircle--b4b43",f="number--ba803",x="shouldUseSmallerContainer--5a581",D="isFirst--83070",q=({ball:I,color:T,disabled:v,multiplier:q=!1,expected:J=!1,megaBallColors:y,isFirst:V,isRng:C,isMobile:i,isMobileLandscape:c,isTablet:E,isLastDrawnBall:X=!1})=>{const P={background:T,boxShadow:V?`0 0 ${i?"1px 1px":"0.1em 0.1em"} ${T}`:void 0},G={background:y?`linear-gradient(180deg, ${y[1]} 0%, ${y[0]} 100%)`:"#fff"},h={boxShadow:`inset 0 0 0.1em 0.05em ${y?y[1]:"#ffffff"}BE`},B=i||J;return z.jsxs("div",{style:q?h:P,className:r.A(n,{[A]:v,[S]:q,[a]:J,[H]:X,[b]:C,[t]:i&&!E,[R]:c&&!E}),children:[!q&&!J&&z.jsx("div",{className:l,children:z.jsx(K,{background:T||"#fff"})}),(q||J)&&z.jsx("div",{style:G,className:F}),z.jsx("div",{"data-text":I,className:r.A(f,{[D]:V,[x]:B,[H]:X}),children:I})]})}},540024:(I,T,v)=>{v.d(T,{i:()=>A});var z=v(64922),r=v(699695),K=(v(377810),v(497091)),n=v(393799),l=v(621333);const a=v.p+"images/grain0.0399fb93.png";var S=v(601031);const A=({powerBall:{ball:I,multiplier:T},isMobile:v,labelsAtBottom:A,multiplier:H})=>{const t=K.d9[H];if(null===T||!t)return null;const b={boxShadow:v?`0 0 0.2em 0.1em #fffb, 0 0 0.2em 0.25em ${t[1]}BE`:`0 0 2px 1px #fffb, 0 0 0.2em 0.25em ${t[1]}BE`},R=n.pW("PowerBall-");return z.jsxs("div",{className:r.A(S.A.powerBall,{[S.A.isMobile]:v,[S.A.labelsAtBottom]:A}),children:[z.jsx("div",{className:r.A(S.A.multiplierFlag,{[S.A.isMobile]:v,[S.A.labelsAtBottom]:A}),children:z.jsxs("svg",{viewBox:"0 0 94 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[z.jsx("mask",{id:`${R}-mask`,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"94",height:"57",children:z.jsx("path",{d:"M4 0H90C92.2091 0 94 1.79086 94 4V53.2858C94 54.9426 92.6569 56.2858 91 56.2858C90.2904 56.2858 89.6037 56.0342 89.062 55.5758C75.0413 43.7104 61.0207 37.7778 47 37.7778C32.9793 37.7778 18.9586 43.7105 4.93797 55.5758C3.67323 56.6461 1.78029 56.4885 0.709975 55.2238C0.251556 54.6821 0 53.9954 0 53.2858V4C0 1.79086 1.79086 0 4 0Z",fill:"white"})}),z.jsxs("g",{mask:`url(#${R}-mask)`,children:[z.jsx("path",{opacity:"1",d:"M4 0H90C92.2091 0 94 1.79086 94 4V53.2858C94 54.9426 92.6569 56.2858 91 56.2858C90.2904 56.2858 89.6037 56.0342 89.062 55.5758C75.0413 43.7104 61.0207 37.7778 47 37.7778C32.9793 37.7778 18.9586 43.7105 4.93797 55.5758C3.67323 56.6461 1.78029 56.4885 0.709975 55.2238C0.251556 54.6821 0 53.9954 0 53.2858V4C0 1.79086 1.79086 0 4 0Z",fill:`url(#${R}-${I})`}),z.jsx("g",{style:{mixBlendMode:"color-dodge"},children:z.jsx("rect",{y:"0.67041",width:"94",height:"56.3296",fill:`url(#${R}-pattern)`})})]}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H90C92.2091 0 94 1.79086 94 4V30C78.3333 23.3333 62.6667 20 47 20C31.3333 20 15.6667 23.3333 0 30V4C0 1.79086 1.79086 0 4 0Z",fill:`url(#${R}-gradient)`,fillOpacity:"0.18"}),z.jsxs("defs",{children:[z.jsx("pattern",{id:`${R}-pattern`,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:z.jsx("use",{xlinkHref:`${R}-image`,transform:"scale(0.00374532 0.00625)"})}),z.jsxs("linearGradient",{id:`${R}-${I}`,x1:"47",y1:"56.8487",x2:"47",y2:"0",gradientUnits:"userSpaceOnUse",children:[z.jsx("stop",{stopColor:t[0]}),z.jsx("stop",{offset:"1",stopColor:t[1]})]}),z.jsxs("linearGradient",{id:`${R}-gradient`,x1:"47",y1:"30.3",x2:"47",y2:"0",gradientUnits:"userSpaceOnUse",children:[z.jsx("stop",{stopColor:"white",stopOpacity:"0"}),z.jsx("stop",{offset:"0.50651",stopColor:"white"}),z.jsx("stop",{offset:"1",stopColor:"white"})]}),!v&&z.jsx("image",{id:`${R}-image`,width:"267",height:"160",xlinkHref:a})]})]})}),z.jsxs("div",{className:S.A.multiplier,"data-text":`${T}x`,children:[T,"x"]}),z.jsx("div",{style:b,className:S.A.ball,children:z.jsx(l.B,{ball:I,multiplier:!0,megaBallColors:t})})]})}},73720:(I,T,v)=>{v.d(T,{jW:()=>R,rJ:()=>q});var z=v(64922),r=v(699695),K=v(436794),n=v(497091),l=v(78350),a=v(601031);const S={ballContainer:"ballContainer--f41c9",darkOverlay:"darkOverlay--8417e",chevronContainer:"chevronContainer--32c44",chevronShadow:"chevronShadow--cfec4",multiplier:"multiplier--0d760",firstBall:"firstBall--f7da8",blank:"blank--a7e8d",isMobile:"isMobile--1b825",isTablet:"isTablet--bf050",doublePowerBallNoBorderFade:"doublePowerBallNoBorderFade--78822",firstPowerBallNoBorderFade:"firstPowerBallNoBorderFade--bca8d",secondPowerBallNoBorderFade:"secondPowerBallNoBorderFade--f9afb",doublePowerBall:"doublePowerBall--f86f0",firstPowerBall:"firstPowerBall--1442f",secondPowerBall:"secondPowerBall--6708b",borderBody:"borderBody--bf8f8",borderFade:"borderFade--c93a3"};function A(I){const{powerBall:T,isFirstPowerBall:v,isDoublePowerBall:K,isFirstDoublePowerBall:n,isMultiLineFirstDoublePowerBall:A,isMultiLineSecondDoublePowerBall:H,colors:b,isMobile:R,isTablet:F}=I;return z.jsxs("div",{className:r.A(S.ballContainer,{[S.isMobile]:R,[S.isTablet]:F}),style:{background:v?R?`rgba(${l.j5(b[1],.6)})`:b[1]:R?"rgba(26, 26, 26, 0.42)":"#1e2b2b",border:`1px solid ${b[0]}`},children:[z.jsx("div",{className:S.darkOverlay}),z.jsx("div",{className:S.chevronContainer,children:z.jsx("div",{className:S.chevronShadow})}),v&&z.jsx("div",{style:{border:`1px solid ${b[1]}`},className:S.firstBall}),K&&t(!R&&(A||H),n),z.jsxs("div",{className:r.A(S.multiplier,a.A.multiplier),"data-text":`${T.multiplier}x`,children:[T.multiplier,"x"]})]})}function H({isMobile:I}){return z.jsx("div",{className:r.A(S.ballContainer,S.blank,{[S.isMobile]:I})})}function t(I,T){return z.jsxs("div",{className:r.A(I?S.doublePowerBall:S.doublePowerBallNoBorderFade,{[I?S.firstPowerBall:S.firstPowerBallNoBorderFade]:T,[I?S.secondPowerBall:S.secondPowerBallNoBorderFade]:!T}),children:[z.jsx("div",{className:S.borderFade}),z.jsx("div",{className:S.borderBody})]})}const b={multiplierPlaceholder:"multiplierPlaceholder--46ee0",isMobile:"isMobile--c9649",isTablet:"isTablet--ab20a",multiplierPlaceholdersContainer:"multiplierPlaceholdersContainer--6840d"},R=21,F=8,f=14,x=[7,14,21],D=[8,15];function q(I){const{history:T,orientation:v,isRng:l,isMobile:a=!1,isTablet:S=!1}=I,t=function(I,T){return T&&I?I===K.t.Landscape?f:F:R}(v,a);let q=0;const J=new Array(t);for(let I=0;I<t;I++)J[I]=z.jsx("div",{className:b.multiplierPlaceholder},`${I}-multiplierPlaceholder`);const y=T.map(((I,T)=>I.map(((v,r)=>{if(q>=t)return;const K=2===I.length,l=0===T,H=n.d9[v.multiplier];return q++,z.jsx(A,{powerBall:v,isFirstPowerBall:l,isDoublePowerBall:K,isFirstDoublePowerBall:K&&0===r,isMultiLineFirstDoublePowerBall:x.includes(q)&&0===r,isMultiLineSecondDoublePowerBall:D.includes(q)&&1===r,colors:H,isMobile:a,isTablet:S},`${v.ball}-${q}-${v.multiplier}`)}))));if(q<t)for(let I=0;I<t-q;I++)y.push([z.jsx(H,{isMobile:a},`blank-${I}`)]);return z.jsxs(z.Fragment,{children:[q<t&&l&&z.jsx("div",{className:r.A(b.multiplierPlaceholdersContainer,{[b.isMobile]:a,[b.isTablet]:S}),children:J}),y]})}},261113:(I,T,v)=>{v.d(T,{r:()=>G});var z=v(64922),r=v(699695),K=v(525620),n=v(377810),l=v(436794),a=v(843717),S=v(133555);const A=({className:I})=>z.jsx("svg",{viewBox:"0 0 30 12",xmlns:"http://www.w3.org/2000/svg",className:I,children:z.jsx("g",{transform:"translate(-7 -16)",fill:"currentColor",fillRule:"evenodd",children:z.jsx("path",{d:"M31.806 20.465H12.194c-.377 0-1.194.512-1.194 1.535s.817 1.535 1.194 1.535H31.806c.377 0 1.194-.512 1.194-1.535s-.817-1.535-1.194-1.535z"})})}),H=({className:I})=>z.jsx("svg",{viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg",className:I,children:z.jsx("g",{transform:"translate(-7 -7)",fill:"currentColor",fillRule:"evenodd",children:z.jsx("path",{d:"M31.806 20.465h-8.271v-8.271c0-.377-.512-1.194-1.535-1.194s-1.535.817-1.535 1.194v8.271h-8.271c-.377 0-1.194.512-1.194 1.535s.817 1.535 1.194 1.535h8.271v8.271c0 .377.512 1.194 1.535 1.194s1.535-.817 1.535-1.194v-8.271h8.271c.377 0 1.194-.512 1.194-1.535s-.817-1.535-1.194-1.535z"})})});var t=v(141737),b=v(416127),R=v(652511);const F="betControl--f79b9",f="isDisabled--f039b",x="isMobile--e67a9",D="isTablet--415c0",q="isLandscape--69568",J="isRng--d5496",y="button--3d36f",V="decreaseButton--4b506",C="increaseButton--26035",i="disabled--1e4ba",c="icon--6e45f",E="info--e3d98",X="label--f0bf2",P="value--638a5",G=K.PA((({betting:I,betting:{cardPrices:T},className:v,label:K,renderValue:G,orientation:h,isDisabled:B,isRng:_,isTablet:d,isMobile:w,sounds:$,nextPriceDisabledByBalance:p,setLastSelectedChip:Y})=>{const{selectedIndex:g}=T,L=g<T.values.length-1,Z=g>0,m=h===l.t.Landscape,W=n.useCallback((v=>{if(!B&&(g<T.values.length-1&&($.playSound(S.Fi.IncreaseBetSound,!1),T.selectedIndex++,I.playerChangeAmount(),null==Y||Y(T.selected)),g===T.values.length-1&&p)){const{x:T,y:z}=t.F(v.currentTarget,w);I.showBettingTooltip(T,z,b.Y("tooltip.balanceTooLow")),$.playSound(a.Wo.ClickingFail,!1)}}),[I,T.selectedIndex,T.values.length,B,w,p,g,Y,$]),e=n.useCallback((()=>{!B&&Z&&($.playSound(S.Fi.DecreaseBetSound,!1),T.selectedIndex--,I.playerChangeAmount(),null==Y||Y(T.selected))}),[I,T.selectedIndex,Z,B,Y,$]);return z.jsxs("div",{className:r.A(F,v,{[x]:w,[D]:d,[q]:m,[J]:_,[f]:B}),children:[z.jsx(R.s,{"data-role":"decreaseButton",className:r.A(y,V,{[i]:!Z||B}),onClick:e,children:z.jsx(A,{className:c})}),z.jsxs("div",{className:E,children:[z.jsx("div",{"data-role":"label",className:X,children:K}),z.jsx("div",{"data-role":"value",className:P,children:G(T.selected)})]}),z.jsx(R.s,{"data-role":"increaseButton",className:r.A(y,C,{[i]:!L||B}),onClick:W,children:z.jsx(H,{className:c})})]})}))},401519:(I,T,v)=>{v.d(T,{s:()=>t});var z=v(64922),r=v(377810),K=v(170877),n=v(843717),l=v(303352),a=v(657765),S=v(8689),A=v(141737),H=v(416127);function t(I){const{betting:T,betting:{repeatInfo:v},className:t,platform:b,orientation:R,sounds:F,autoplayApiEnabled:f,increaseRepeatBetCount:x}=I,D=r.createRef(),q=r.useCallback((()=>{v.enabled&&(T.repeat(),F.playSound(n.Wo.ClickUIButton,!1),f&&x())}),[T,v.enabled,F,f,x]),J=r.useCallback((()=>{if(D.current&&!v.enabled&&v.disableReason!==a.Kd.NotAvailable){const{x:I,y:z}=A.F(D.current,b!==K.OD.Desktop),r=v.disableReason===a.Kd.OutOfMoney?"tooltip.balanceTooLow":"tooltip.waitForNextGame";T.showBettingTooltip(I,z,H.Y(r)),F.playSound(n.Wo.ClickingFail,!1)}}),[T,D,b,v.enabled,F]),y=S.S({platform:b,orientation:R});return z.jsx("div",{className:t,children:z.jsx(l.k,{buttonRef:D,onClick:q,onShortcut:q,onDisabledClick:J,label:"repeat",type:"secondaryCallToAction",size:"S",fitWidth:!0,labelRef:y,labelPosition:"Inside",state:v.enabled?"Default":"Disabled",soundToPlay:null,layerStyles:{secondaryCallToAction:{border:{default:"#50a992",hovered:"#50a992"},background:{hovered:"rgba(255, 255, 255, 0.4)",gradientAnimation:"rgba(20, 65, 64, 0.75)"}}}})})}},703764:(I,T,v)=>{v.d(T,{j:()=>R});var z=v(64922),r=v(236042),K=v(377810),n=v(436794),l=v(843717),a=v(720266),S=v(338944),A=v(710928),H=v(133555),t=v(497091),b=v(8689);function R(I){const{platform:T,isDisabled:v,betting:R,orientation:F,sounds:f,type:x,className:D}=I,q=K.useCallback(r.A((()=>{f.playSound(H.Fi.UndoSound,!1),R.undo()}),t.sG),[f,R,v]),J=K.useCallback(r.A((()=>{f.playSound(l.Wo.ClickingFail,!1)}),t.sG),[f]),y=b.S({platform:T,orientation:F||n.t.Landscape}),V=K.useMemo((()=>({delay:a.g,onHold:R.undoAll})),[R.undoAll]),C=F===n.t.Portrait;return z.jsx("div",{children:z.jsx(S.V,{size:"S",fitWidth:!0,labelRef:y,labelPosition:"Inside",label:C?"":"undo",state:v?"Disabled":"Default",onClick:q,onDisabledClick:J,pointerHold:V,type:x,tooltipPositionHorizontal:A.hV.Center,soundToPlay:null,className:D})})}},480352:(I,T,v)=>{v.d(T,{H:()=>h});var z=v(934789),r=v(64922),K=v(699695),n=v(525620),l=v(377810),a=v(330441),S=v(436794),A=v(170877),H=v(587698),t=v(346160),b=v(657765),R=v(335350),F=v(416127),f=v(8689);const x=I=>{const{label:T,className:v,platform:z,orientation:K,size:n}=I,l=f.S({platform:z,orientation:K,size:n,inline:!1,label:T});return r.jsx("div",{className:v,ref:l,children:T})};var D=v(652511);const q=v.p+"images/sparkles.52919f80.png",J=14,y=4,V=208,C=117,i=new Image;i.src=q;const c={[R.iJ.Single]:{opacity:0,frameRate:0},[R.iJ.Small]:{opacity:.3,frameRate:5},[R.iJ.Medium]:{opacity:.6,frameRate:10},[R.iJ.Large]:{opacity:1,frameRate:16}};class E{constructor(I,T){this.ctx=I,this.currentSpriteFrame=0,this.frameId=null,this.lastFrameTime=0,this.dispose=()=>{this.cancelFrame()},this.drawFrame=()=>{const I=this.currentSpriteFrame%(y*J),T=I%y*V,v=Math.floor(I/y)*C;this.ctx.drawImage(i,T,v,V,C,0,0,this.canvasWidth,this.canvasHeight),this.currentSpriteFrame++},this.clearLayer=()=>{this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},this.renderFrame=I=>{this.frameId=window.requestAnimationFrame(this.renderFrame),I-this.lastFrameTime>=this.frameDuration&&(this.lastFrameTime=I,this.clearLayer(),this.drawFrame())},this.cancelFrame=()=>{this.frameId&&(window.cancelAnimationFrame(this.frameId),this.frameId=null)},this.canvasWidth=I.canvas.width,this.canvasHeight=I.canvas.height;const{opacity:v,frameRate:z}=function(I){return c[I]}(T);this.ctx.globalAlpha=v,this.frameDuration=1e3/z,this.frameId=window.requestAnimationFrame(this.renderFrame)}get currentFrame(){return this.currentSpriteFrame}}const X="canvasContainer--c099b",P=({bundleSize:I})=>{const T=l.useRef(null);return l.useEffect((()=>{var v;const z=null===(v=T.current)||void 0===v?void 0:v.getContext("2d");if(z){const T=new E(z,I);return()=>{T.dispose()}}}),[I]),r.jsx("div",{"data-role":"bundle-sparkle-canvas",className:X,children:r.jsx("canvas",{ref:T,width:V,height:C})})},G={button:"button--be5e6",count:"count--9e394",smallSize:"smallSize--3a347",blinkContainer:"blinkContainer--f5ca1",container:"container--4ff86",tablet:"tablet--768e6",phone:"phone--def1c",label:"label--6aa1a",strip:"strip--bdaa1",total:"total--25806",rtl:"rtl--62fbd",totalLabel:"totalLabel--18061",totalValue:"totalValue--ea603",buyCardButton:"buyCardButton--232c1",flipInAnimation:"flipInAnimation--adb66",flipInKeyframes:"flipInKeyframes--319eb",disabled:"disabled--97897",flipOutAnimation:"flipOutAnimation--07adb",flipDisabledKeyframes:"flipDisabledKeyframes--1cab2",flipOutKeyframes:"flipOutKeyframes--750f1",transformHolder:"transformHolder--d9d86",bundleSize:"bundleSize--b6645",glow:"glow--0f8ec",background:"background--42598",foreground:"foreground--69648",highlight:"highlight--3bb9e",glowingKeyframes:"glowingKeyframes--98d48",singleBundle:"singleBundle--cf99e",smallBundle:"smallBundle--ba8f1",mediumBundle:"mediumBundle--e36da",largeBundle:"largeBundle--073d3",shineKeyframes:"shineKeyframes--0d225"};let h=class extends l.Component{constructor(){super(...arguments),this.flipInWasPerformed=!1}render(){const{bundleSize:I,count:T,game:v,game:{betting:z,phase:n,time:l,rng:{isRng:f}},disableReason:q,isSmall:J,isGlowing:y,blinkDirection:V,position:C,platform:i,orientation:c,isHelpAsset:E,hasSparkles:X,hasBackgroundBlend:h,currencySymbol:B}=this.props,_=z.cardPrices.selected,d=F.Y(T>1?"cards":"card"),w=H.ej(_*T),$=c===S.t.Landscape,p=i!==A.OD.Desktop,Y=n===R.Qc.BetsOpened&&(q===b.Kd.OutOfMoney||q===b.Kd.MaxCards||q===b.Kd.BetsClosed&&v.cards.hasBoughtCards),g=l.shouldStartFlipOutAnimation&&!v.cards.hasBoughtCards,L=(f?v.rng.shouldStartRngFlipInAnimation:l.shouldStartFlipInAnimation)&&!this.flipInWasPerformed&&!g&&!E;L?this.flipInWasPerformed=!0:g&&(this.flipInWasPerformed=!1);const Z={mixBlendMode:h?"screen":""},m=r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:G.count,children:[v.cards.hasBoughtCards||J?"+":null,T]}),r.jsx(x,{label:d,className:G.label,size:J?"small":"large",orientation:c,platform:i})]}),W=p&&!$&&J;return r.jsxs(D.s,{"data-role":`buy-card-button-${T}`,className:K.A(G.buyCardButton,G[I],{[G.tablet]:i===A.OD.Tablet,[G.phone]:i===A.OD.Phone,[G.smallSize]:W,[G.disabled]:Y||n!==R.Qc.BetsOpened,[G.flipOutAnimation]:g,[G.flipInAnimation]:L,[G.transformHolder]:!g&&!L}),style:{animationDelay:`${C?.15*C:.1}s`},children:[r.jsx("div",{className:G.background}),r.jsx("div",{className:G.foreground}),y&&r.jsx("div",{className:G.glow}),r.jsx("div",{className:G.highlight,style:Z}),!!X&&I!==R.iJ.Single&&r.jsx(P,{bundleSize:I}),r.jsxs("div",{className:G.container,children:[W?r.jsx("div",{className:G.bundleSize,children:m}):m,($||p&&!J)&&r.jsx("div",{className:G.button,children:F.Y("buy")}),r.jsxs("div",{className:K.A(G.total,{[G.rtl]:t.sU()}),children:[r.jsxs("span",{className:G.totalLabel,children:[F.Y("total")," "]}),r.jsxs("span",{className:G.totalValue,children:[B," ",w]})]})]}),!p||p&&!J?r.jsx("div",{className:G.strip}):null,null!==V&&r.jsx("div",{className:G.blinkContainer,children:r.jsx(a.Z,{blinkDirection:V})})]})}};h=z.Cg([n.PA],h)},330441:(I,T,v)=>{v.d(T,{Z:()=>l});var z=v(64922),r=v(699695),K=v(377810);const n={highlight:"highlight--63a9a",animationContainer:"animationContainer--1d4aa",shineKeyframes:"shineKeyframes--6b2e7",blinkGradient:"blinkGradient--1da0e",left:"left--affa4",blinkLeftKeyframes:"blinkLeftKeyframes--00547",right:"right--7fb11",blinkRightKeyframes:"blinkRightKeyframes--5174a"},l=K.memo((I=>{const{blinkDirection:T}=I;return z.jsx("div",{className:r.A(n.highlight),children:z.jsx("div",{className:r.A(n.animationContainer,n.blinkGradient,n[T])})})}))},794999:(I,T,v)=>{v.d(T,{Q:()=>E});var z=v(934789),r=v(64922),K=v(699695),n=v(525620),l=v(377810),a=v(78350),S=v(621333),A=v(587698);function H(I,T,v){return`${A.ej(T,{currencySymbol:I})} - ${A.ej(v,{currencySymbol:I})}`}function t(I){return I.length>1}function b(I,T){return I.reduce((({min:I,max:v},z)=>({min:Math.min(I,T(z)),max:Math.max(v,T(z))})),{min:1/0,max:0})}function R(I){return I.reduce(((I,T)=>T.length>I.length?T:I),"")}function F({combinedExpectedBalls:I,betAmount:T,currencySymbol:v,multiplier:z,powerBall:r,isGameResolved:K}){const n=function({multiplier:I,isGameResolved:T}){return T?"resolved":void 0!==I?"multiplier_set":"in_progress"}({multiplier:z,isGameResolved:K}),l=void 0!==T&&Math.floor(T)!==T;let a={visibleAmount:"",longestAmount:""};if("in_progress"===n){let T;if(t(I)){const{min:z,max:r}=b(I,(I=>I.winAmountUi));T=H(v,z,r)}else T=A.ej(I[0].winAmountUi,{currencySymbol:v});a={visibleAmount:T,longestAmount:T}}else if("multiplier_set"===n&&z){let T,r;if(t(I)){const K=b(I,(I=>I.winAmountUi)),n=[K,b(I,(I=>I.winAmount))];l&&n.push(b(I,(I=>I.winAmount/z))),r=R(n.map((({min:I,max:T})=>H(v,I,T)))),T=H(v,K.min,K.max)}else{const{winAmountUi:K,winAmount:n}=I[0];T=A.ej(K,{currencySymbol:v});const a=[n,K];l&&a.push(n/z),r=R(a.map((I=>A.ej(I,{currencySymbol:v}))))}a={visibleAmount:T,longestAmount:r}}else if("resolved"===n){const T=I.find((({balls:I})=>I.some((I=>I===r))));if(!t(I)||void 0===T)return F({combinedExpectedBalls:I,currencySymbol:v,isGameResolved:!1});const z=A.ej(T.winAmountUi,{currencySymbol:v});a={visibleAmount:z,longestAmount:z}}return a.longestAmount=a.longestAmount.replace(/\d/g,"0"),a}const f="entity--fb9cc",x="amount--25c52",D="longestAmount--0e5d7",q="isDimmed--21074",J="balls--ff282",y="ballWrapper--bec7a",V="isCombined--d7a57",C="currentBall--7cea7",i="miniBalls--5ebe0",c="hidden--bf157";let E=class extends l.Component{render(){const{combinedExpectedBalls:I,betAmount:T,currencySymbol:v,multiplier:z,colors:n,entityType:l,currentPowerBall:A,showTooltip:H,showMiniBalls:t,isGameResolved:b}=this.props,R=void 0!==z,E=[];for(const T of I)E.push(...T.balls);const X=!!A&&E.includes(A),P={background:X?"linear-gradient(270deg, #f1e080 0%, #c08f3c 100%)":R?`linear-gradient(180deg, rgba(${a.j5(n[1],.6)}), rgba(${a.j5(n[0],.6)}))`:"linear-gradient(180deg, rgba(0, 193, 156, 0.6) 0%, rgba(0, 81, 86, 0.6) 100%)"},{longestAmount:G,visibleAmount:h}=F({combinedExpectedBalls:I,betAmount:T,currencySymbol:v,multiplier:z,powerBall:A,isGameResolved:b}),B=r.jsx("div",{"data-text":h,className:K.A(x,{[q]:R&&A&&!X}),children:r.jsx("span",{className:D,"data-role":"max-amount",children:G})});return r.jsxs("div",{style:P,"data-role":"expected-balls-entity","data-type":l,onMouseEnter:H,onClick:H,className:K.A(f,{[q]:R&&A&&!X}),children:[B,r.jsxs("div",{className:J,children:[r.jsx("div",{className:K.A({[J]:!t,[i]:t,[q]:R&&A,[c]:t&&X}),children:E.filter((I=>!X||I!==A)).map(((I,T)=>r.jsx("div",{className:K.A(y,{[V]:t}),children:r.jsx(S.B,{ball:t?null:I,expected:!0,megaBallColors:R?n:["#949494","#949494"]})},`${I}_${T}`)))}),A&&X&&r.jsx("div",{className:K.A(y,C),children:r.jsx(S.B,{ball:A,expected:!0,megaBallColors:n})},`currentBall-${A}`)]})]})}};E=z.Cg([n.PA],E)},542230:(I,T,v)=>{v.d(T,{E:()=>S});var z=v(64922),r=(v(377810),v(393799));const K="rotate--174ad",n="rotateSlow--10d5d",l="container--dd92b";function a(I,T,v){const r=500,l=500,a=(I-r)/2,S=(T-l)/2;return z.jsx("svg",{height:l,width:r,x:a,y:S,children:z.jsx("path",{className:v?n:K,scale:"5",stroke:"none",strokeWidth:"1",fillRule:"evenodd",fillOpacity:"0.05",fill:"#F8FBFC",d:"M250,250.007143 L300.332857,500 L263.665714,500 L250,250.007143 Z M250.001429,250.007143 L374.334286,499.421429 L333.667143,499.421429 L250.001429,250.007143 Z M471.667143,499.421429 L415.667143,499.421429 L250.001429,250.002857 L500,417.731429 L500,472.732857 L250.005714,250.007143 L471.667143,499.421429 Z M250,250.001429 L500,334.615714 L500,378.652857 L250,250.001429 L250,250.001429 Z M249.998571,250 L0,302.588571 L0,265.222857 L249.998571,250 Z M250,250 L500,265.222857 L500,302.588571 L250,250 Z M500,199.168571 L500,235.198571 L250,250 L500,199.168571 Z M415.667143,0.00142857143 L471.667143,0.00142857143 L250.004286,249.995714 L500,31.6957143 L500,85.0728571 L250.002857,249.998571 L500,125.105714 L500,168.475714 L250,250 L249.998571,250.007143 L236.332857,500 L199.667143,500 L249.995714,250.012857 L166.332857,499.421429 L125.665714,499.421429 L249.997143,250.007143 L249.997143,250.005714 L84.3328571,499.421429 L28.3342857,499.421429 L249.992857,250.007143 L0,472.732857 L0,417.731429 L249.998571,250.001429 L0,378.652857 L0,334.615714 L249.998571,250 L0,235.198571 L0,199.168571 L249.995714,249.998571 L0,168.475714 L0,125.105714 L249.998571,249.998571 L249.997143,249.995714 L125.665714,0.00142857143 L166.332857,0.00142857143 L249.995714,249.99 L199.667143,0.00142857143 L236.332857,0.00142857143 L249.998571,249.995714 L250,249.998571 L263.665714,0.00142857143 L300.332857,0.00142857143 L250.001429,249.995714 L250.002857,249.994286 L250.002857,249.995714 L415.667143,0.00142857143 Z M84.3328571,0.00142857143 L249.997143,249.997143 L249.992857,249.994286 L28.3342857,0.00142857143 L84.3328571,0.00142857143 Z M0,31.6957143 L249.992857,249.994286 L0,85.0728571 L0,31.6957143 Z M374.334286,0.00142857143 L250.004286,249.99 L333.667143,0.00142857143 L374.334286,0.00142857143 Z",style:{mixBlendMode:"overlay"},id:"rays"})})}const S=I=>{const{firstLine:T,secondLine:v,secondLineStyle:K={},colors:n,hasLost:S,"data-role":A}=I,H=r.pW("Badge-");return z.jsx("div",{className:l,children:z.jsxs("svg",{fill:"none",viewBox:"0 0 448 146",xmlns:"http://www.w3.org/2000/svg","data-role":A,children:[z.jsxs("defs",{children:[z.jsxs("linearGradient",{x1:"100%",y1:"50%",x2:".926%",y2:"50%",id:`${H}-c`,children:[z.jsx("stop",{stopColor:n[0],offset:"0%"}),z.jsx("stop",{stopColor:n[0],offset:"25.082%"}),z.jsx("stop",{stopColor:n[1],offset:"49.514%"}),z.jsx("stop",{stopColor:n[0],offset:"71.471%"}),z.jsx("stop",{stopColor:n[0],offset:"100%"})]}),z.jsxs("linearGradient",{x1:"99.124%",y1:"50%",x2:".877%",y2:"50%",id:`${H}-h`,children:[z.jsx("stop",{stopColor:"#f3c558",offset:"0%"}),z.jsx("stop",{stopColor:"#bba04b",offset:"31.717%"}),z.jsx("stop",{stopColor:"#ffeaaa",offset:"50.142%"}),z.jsx("stop",{stopColor:"#bba04b",offset:"68.94%"}),z.jsx("stop",{stopColor:"#f3c558",offset:"100%"})]}),z.jsxs("linearGradient",{x1:"8.635%",y1:"51.99%",x2:"0%",y2:"54.997%",id:`${H}-i`,children:[z.jsx("stop",{stopColor:"#fff",stopOpacity:"0",offset:"0%"}),z.jsx("stop",{stopColor:"#fff",stopOpacity:".592",offset:"100%"})]}),z.jsxs("linearGradient",{x1:"100%",y1:"45.003%",x2:"92.38%",y2:"48.408%",id:`${H}-j`,children:[z.jsx("stop",{stopColor:"#fff",stopOpacity:".5",offset:"0%"}),z.jsx("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"})]}),z.jsxs("filter",{x:"-1.4%",y:"-1.9%",width:"102.8%",height:"108.3%",filterUnits:"objectBoundingBox",id:`${H}-b`,children:[z.jsx("feOffset",{dy:"3",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.jsx("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0",in:"shadowBlurOuter1"})]}),z.jsxs("filter",{x:"-1.4%",y:"-2.1%",width:"102.7%",height:"108.6%",filterUnits:"objectBoundingBox",id:`${H}-f`,children:[z.jsx("feOffset",{dy:"3",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.jsx("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.499016608 0",in:"shadowBlurOuter1"})]}),z.jsxs("filter",{x:"-3.7%",y:"-4.1%",width:"107.4%",height:"116.3%",filterUnits:"objectBoundingBox",id:`${H}-k`,children:[z.jsx("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.jsx("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0",in:"shadowBlurOuter1"})]}),z.jsxs("filter",{x:"-2.8%",y:"-5.1%",width:"105.6%",height:"120.5%",filterUnits:"objectBoundingBox",id:`${H}-m`,children:[z.jsx("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.jsx("feGaussianBlur",{stdDeviation:"1",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0",in:"shadowBlurOuter1"})]}),z.jsx("text",{id:`${H}-n`,fill:"#fde464",fontSize:32,fontWeight:400,letterSpacing:"0px",textAnchor:"middle",style:{whiteSpace:"pre"},x:"50%",y:"62",xmlSpace:"preserve",children:T}),z.jsx("text",{id:`${H}-l`,fill:"#fff",fontSize:40,fontWeight:400,letterSpacing:"0px",textAnchor:"middle",style:{whiteSpace:"pre",...K},x:"50%",y:"105",xmlSpace:"preserve",children:v}),z.jsx("path",{d:"M4.502.575C75.002 9.487 145.5 13.944 216 13.944c70.5 0 140.999-4.457 211.498-13.369A4 4 0 01432 4.544v122.912a4 4 0 01-4.502 3.969c-70.5-8.912-140.999-13.369-211.498-13.369-70.5 0-140.999 4.457-211.498 13.369A4 4 0 010 127.456V4.544A4 4 0 014.502.575z",id:`${H}-a`}),z.jsx("path",{d:"M441.933 7.968A8 8 0 01442 9.001v123.732a8 8 0 01-9.033 7.933c-63.298-8.242-126.595-12.791-189.893-13.65l-19.175 6.067a9.5 9.5 0 01-5.792-.02l-18.691-6.053c-63.461.841-126.922 5.393-190.383 13.656A8 8 0 010 132.733V9a8 8 0 019.033-7.933c63.725 8.297 127.45 12.852 191.175 13.666l17.924-5.805a9.5 9.5 0 015.747-.034l18.746 5.828C306.072 13.88 369.52 9.33 432.967 1.068a8 8 0 018.966 6.9zm-8.32-1.942c-63.18 8.226-126.363 12.785-189.545 13.678l-20.169 6.379a9.5 9.5 0 01-5.792-.02l-19.464-6.304-.133-.047C135.135 18.839 71.76 14.277 8.387 6.026a3 3 0 00-3.382 2.799L5 9v123.732a3 3 0 003.387 2.974c63.655-8.287 127.311-12.853 190.968-13.697l18.777-6.081a9.5 9.5 0 015.747-.034l19.71 6.128c63.342.876 126.684 5.438 190.024 13.684a3 3 0 003.382-2.799l.005-.175V9l-.006-.194-.02-.193a3 3 0 00-3.361-2.588z",id:`${H}-g`}),z.jsxs("radialGradient",{cx:"50%",cy:"50%",fx:"50%",fy:"50%",r:"50.009%",id:`${H}-d`,children:[z.jsx("stop",{stopColor:"#fff",stopOpacity:".14",offset:"0%"}),z.jsx("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"})]})]}),z.jsxs("g",{fill:"none",fillRule:"evenodd",children:[z.jsxs("g",{transform:"translate(8 5)",children:[z.jsx("mask",{id:`${H}-e`,fill:"#fff",children:z.jsx("use",{xlinkHref:`#${H}-a`})}),z.jsxs("g",{fillRule:"nonzero",children:[z.jsx("use",{fill:"#000",filter:`url(#${H}-b)`,xlinkHref:`#${H}-a`}),z.jsx("use",{fill:`url(#${H}-c)`,xlinkHref:`#${H}-a`})]}),z.jsx("g",{mask:`url(#${H}-e)`,children:a(424,130,S)})]}),z.jsxs("g",{fillRule:"nonzero",transform:"translate(3)",children:[z.jsx("use",{fill:"#000",filter:`url(#${H}-f)`,xlinkHref:`#${H}-g`}),z.jsx("use",{fill:`url(#${H}-h)`,xlinkHref:`#${H}-g`}),z.jsx("use",{fill:`url(#${H}-i)`,xlinkHref:`#${H}-g`}),z.jsx("use",{fill:`url(#${H}-j)`,xlinkHref:`#${H}-g`})]}),z.jsxs("g",{fill:"#fff",children:[z.jsx("use",{filter:`url(#${H}-k)`,xlinkHref:`#${H}-l`}),z.jsx("use",{xlinkHref:`#${H}-l`})]}),z.jsxs("g",{fill:"#fde464",children:[z.jsx("use",{filter:`url(#${H}-k)`,xlinkHref:`#${H}-n`}),z.jsx("use",{xlinkHref:`#${H}-n`})]})]})]})})}},497091:(I,T,v)=>{v.d(T,{Bo:()=>z,Kg:()=>c,Nl:()=>t,QN:()=>l,SJ:()=>J,Si:()=>h,Tl:()=>i,Ut:()=>q,Wo:()=>x,YF:()=>r,YG:()=>A,Z0:()=>S,Zn:()=>f,c6:()=>a,cc:()=>C,co:()=>G,d9:()=>P,ft:()=>X,g6:()=>E,hM:()=>K,hO:()=>V,qL:()=>R,sE:()=>b,sG:()=>B,tW:()=>n,ti:()=>F,wp:()=>D,yA:()=>H,yk:()=>y});const z=51,r=20,K=15,n=0?0:2500,l=2e3,a=2500,S=400,A=750,H=750,t=1e3,b=29,R=15,F=1e3,f="RobotoCondensed-Bold-OnlyNumbers",x="bold",D="sans-serif",q=4e3,J=2e3,y=500,V=4e3,C=250,i=1e3,c=4e3,E=1e3,X=1500,P={5:["#184089","#005AFF"],10:["#006BB7","#30A9FF"],12:["#006BB7","#30A9FF"],15:["#5E237C","#A900FF"],20:["#5E237C","#A900FF"],25:["#931879","#E004B1"],50:["#931879","#E004B1"],100:["#C80773","#FF008F"]},G={5:["#0B1F42","#003699"],10:["#00375F","#006FBF"],12:["#00375F","#006FBF"],15:["#2D113B","#650099"],20:["#2D113B","#650099"],25:["#490C3C","#810265"],50:["#490C3C","#810265"],100:["#6F0340","#CC0072"]},h={light:"26,106,102",dark:"0,54,55"},B=300},886759:(I,T,v)=>{v.d(T,{n_:()=>rH});var z=v(64922),r=v(912986),K=v(697971),n=v(36638),l=v(755073),a=v(456647),S=v(4961),A=v(212429),H=v(484802),t=v(881357),b=v(926610),R=v(892510),F=v(977804),f=v(394532),x=v(947548),D=v(747992),q=v(706809),J=v(735821),y=v(444792),V=v(767359);function C(I,T,v){const z=V._9(i(v,I));if(!z)return null;try{(function(I,T){if(!q.A(I))throw new A.ew("Autoplay state is not an object.");const{lastActiveSession:v,selectedRounds:z,isRunning:r}=I;if(v!==T)throw new A.ew("Autoplay state contains stale data from a non-current session.");if(!J.A(z))throw new A.ew("Autoplay state contains invalid selectedRounds.");if(!y.A(r))throw new A.ew("Autoplay state contains invalid isRunning.")})(z,T);const{lastActiveSession:I,...v}=z;return v}catch(I){return 1&&window.console.warn(`Unable to load existing Autoplay state from session storage: ${I}`),null}}function i(I,T){return`${I}-${T}`}function c(){window.EVO_LOADER.sendLog("CLIENT_ERROR",{message:"Autoplay is unable to use session storage."})}var E=v(872443),X=v(346160),P=v(827424),G=v(587698),h=v(555213);const B="title--59bd2",_="rounds--f5b0d",d="roundsLabel--5bd23",w="roundsAmount--0a709",$="roundsMultiplier--f0508",p="roundsBet--97136";var Y=v(494475),g=v(13799),L=v(850449),Z=v(572989);const m=Y.Oe((({state:I,ag:T})=>{const{isLargeScreen:v,isMediumScreen:z}=P.Qo(T.viewport.size.value);return{gameTheme:L.SJ(I),currencySymbol:E.o2(I),gameDimensions:g.Ay(I),isDesktop:v,isLandscape:g.O5(I),isTablet:z,isRtl:X.sU(),isSettingsWindowOpen:T.autoplayUI.isSettingsWindowOpen}}),(I=>[I.viewport.size]))((({totalBetToRepeat:I,roundsLeft:T,limitsEnabled:v,...r})=>{const{currencySymbol:K}=r;return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:B,children:X.Tl("ap3.popup.shouldContinueAutoPlay")}),v&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:_,children:[z.jsxs("label",{className:d,children:[X.Tl("ap3.label.AutoplayCaps"),":"," "]}),z.jsxs("span",{children:[z.jsx("label",{className:w,children:X.Tl("ap3.rounds",{value:T})}),z.jsx("label",{className:$,children:""}),z.jsx("label",{className:p,children:G.ej(I,{currencySymbol:K})})]})]}),z.jsx(h.k,{...r,usedInPopup:!0})]})]})}));m.displayName="BetsChangedPopupContentConnectedToAg";const W=Z.s((I=>({totalBetToRepeat:I.totalBetToRepeat,roundsLeft:I.roundsLeft,lossLimit:I.lossLimit,singleWin:I.singleWin,isRunning:I.isRunning,limitsEnabled:I.limitsEnabled})),(I=>({setSingleWin:I.setSingleWin,setLossLimit:I.setLossLimit})))(m),e="AutoplayState";class s{constructor(I,T){this.ag=I,this.options=T,this.isRunning=new H.L(!1),this.isStartable=new H.L(!1),this.isAvailable=new H.L(!1),this.roundsLeft=new H.L(0),this.selectedRounds=new H.L(0),this.lossLimit=new H.L(0),this.singleWin=new H.L(0),this.totalBetToRepeat=new H.L(0),this.limitsEnabled=new H.L(!1),this.lastTotalBetToRepeat=new H.L(0),this.repeatCount=0,this.runningLoss=0,this.lastWin=0,this.hasUnconfirmedBetChanges=!1,this.shouldShowBetsChangedPopup=!1,this.pendingStopReason=null,this.unsubscribers={common:[],running:[],lossLimit:[]},this.start=()=>{if(!this.isStartable.value||this.isRunning.value)return;this.roundsLeft.value=this.selectedRounds.value,this.isRunning.value=!0;const I=0!==this.ag.balance.totalBet.value;this.lastTotalBetToRepeat.value=I&&this.ag.lifecycle.current.value===R.P.BetsOpen?this.ag.balance.totalBet.value:this.ag.balance.totalBetToRepeat.value,this.unsubscribers.running.push(this.ag.network.status.subscribe(this.trackNetworkStatus),this.ag.lifecycle.current.subscribe(this.trackLifecycle,!1),this.ag.compliance.realityCheck.status.subscribe(this.trackRealityCheck,!1)),this.limitsEnabled.value&&this.unsubscribers.running.push(this.ag.gameResult.amount.subscribe(this.trackLastWin,!1));const T=this.limitsEnabled.value?{lossLimit:this.lossLimit.value,singleWin:this.singleWin.value}:{};this.log({type:D.Gn.ClientStartAutoplay,payload:{selectedRounds:this.selectedRounds.value,totalBet:this.lastTotalBetToRepeat.value,...T}}),this.repeatBets(!0)},this.stop=(I,T=!1)=>{if(!this.isRunning.value)return;if(T&&this.ag.lifecycle.current.value!==R.P.BetsOpen)return void(this.pendingStopReason=I);const v=this.repeatCount;this.unsubscribe(this.unsubscribers.running),this.isRunning.value=!1,this.roundsLeft.value=0,this.lastTotalBetToRepeat.value=0,this.repeatCount=0,this.runningLoss=0,this.lastWin=0,this.hasUnconfirmedBetChanges=!1,this.shouldShowBetsChangedPopup=!1,this.pendingStopReason=null,this.log({type:D.Gn.ClientStoppedAutoplay,payload:{reason:I,roundsPlayed:v}}),this.ag.popups.close(F.QD.AUTOPLAY_BETS_CHANGED),this.ag.autoplayUI.setStopReason(I)},this.dispose=()=>{Object.keys(this.unsubscribers).forEach((I=>this.unsubscribe(this.unsubscribers[I]))),this.stop(f.G_.ManualStop),this.isStartable.value=!1},this.setSelectedRounds=I=>{const T=this.selectedRounds.value,v=Math.max(0,I);T!==v&&(this.selectedRounds.value=v,this.isRunning.value&&(this.roundsLeft.value=v),this.log({type:D.Gn.ClientUpdateAutoplayRounds,payload:{previousSelectedRounds:T,selectedRounds:v}}))},this.setLossLimit=I=>{const T=this.lossLimit.value,v=Math.max(0,I);0!==v&&T!==v&&(this.unsubscribe(this.unsubscribers.lossLimit),this.lossLimit.value=v,this.log({type:D.Gn.ClientUpdateAutoplayLossLimit,payload:{previousLossLimit:T,lossLimit:v}}))},this.setSingleWin=I=>{const T=this.singleWin.value,v=Math.max(0,I);T!==v&&(this.singleWin.value=v,this.log({type:D.Gn.ClientUpdateAutoplaySingleWin,payload:{previousSingleWin:T,singleWin:v}}))},this.placeBets=()=>{this.repeatBets()},this.triggerBetsChanged=(I=!0)=>{this.shouldShowBetsChangedPopup=I},this.trackLifecycle=I=>{switch(I){case R.P.BetsOpen:if(this.pendingStopReason)return void this.stop(this.pendingStopReason);this.repeatBets();break;case R.P.GameResolved:this.limitsEnabled.value&&this.repeatCount>0&&(this.runningLoss+=this.ag.balance.totalBet.value);break;case R.P.BetsClosed:{const I=this.ag.popups.current.value,T=F.Ns.includes(null==I?void 0:I.id)&&(null==I?void 0:I.isVisible);if(this.hasUnconfirmedBetChanges||T)return void this.stop(f.G_.MissedRound);const v=this.ag.balance.totalBet.value;if(0===v)return void this.stop(f.G_.ManualBetsReplaced);(this.shouldShowBetsChangedPopup||v!==this.lastTotalBetToRepeat.value)&&(this.lastTotalBetToRepeat.value=v,this.log({type:D.Gn.ClientUpdateAutoplayBets,payload:{totalBet:this.lastTotalBetToRepeat.value}}),this.hasUnconfirmedBetChanges=!0,this.ag.popups.open(x.$o((()=>this.stop(f.G_.ManualStop)),(()=>{this.ag.popups.close(F.QD.AUTOPLAY_BETS_CHANGED),this.hasUnconfirmedBetChanges=!1,this.shouldShowBetsChangedPopup=!1,this.repeatBets()}),W)));break}}},this.repeatBets=(I=!1,T=!1)=>{var v;const z=0!==this.ag.balance.totalBet.value,r=I||!z;if(!this.isRunning.value||this.ag.lifecycle.current.value!==R.P.BetsOpen||!r)return;const K=null!==(v=this.ag.balance.server.value)&&void 0!==v?v:0;if(this.lastTotalBetToRepeat.value>K)return void this.stop(f.G_.NoBalance);const n=this.ag.popups.current.value,l=!!n&&n.id!==F.QD.LOW_BALANCE,a=F.Ns.includes(null==n?void 0:n.id)&&(null==n?void 0:n.isVisible);if(l&&!(l&&T&&a)){const I=(null==n?void 0:n.id)===F.QD.AUTOPLAY_BETS_CHANGED;return void(!this.ag.isRngGame||a||I||this.unsubscribers.common.push(this.ag.popups.current.subscribe(this.continueAutoplayAfterClosingPopup)))}if(0===this.selectedRounds.value)return void this.stop(f.G_.RoundsEnded);const S=this.ag.balance.totalBetToRepeat.value;if(this.limitsEnabled.value&&this.repeatCount>0){if(this.runningLoss+S>this.lossLimit.value)return void this.stop(f.G_.LossReached);if(0!==this.singleWin.value&&this.lastWin>=this.singleWin.value)return void this.stop(f.G_.WinReached);this.lastWin=0}if(I||0!==S){this.roundsLeft.value--,this.repeatCount++;const T=!I||this.ag.isRngGame||!z;let v;T&&(v=this.options.repeatBets());const r=I&&this.ag.isRngGame&&z;if(T&&!r){const I=()=>{var I,T;this.log({type:D.Gn.ClientBetChip,payload:{type:"AutoPlay",roundsLeft:this.roundsLeft.value,...null===(T=(I=this.options).selectBetChipLogFields)||void 0===T?void 0:T.call(I)}},this.options.betChipLogEnhancers)};v instanceof Promise?v.then(I):I()}}return this.roundsLeft.value<=0?this.stop(f.G_.RoundsEnded):void 0},this.continueAutoplayAfterClosingPopup=I=>{I||this.repeatBets()},this.updateIsAvailable=({balance:I=0,totalBet:T,totalBetToRepeat:v,lifecycle:z,isRunning:r})=>{if(r&&z!==R.P.BetsOpen)return;const K=v>0&&v<=I;this.isAvailable.value=T>0||K},this.updateIsStartable=({isAvailable:I,selectedRounds:T})=>{this.isStartable.value=I&&T>0},this.updateTotalBetToRepeat=({totalBet:I,totalBetToRepeat:T,lastTotalBetToRepeat:v,lifecycle:z,isRunning:r})=>{this.totalBetToRepeat.value=z===R.P.BetsOpen?I||T:r?v:T||I},this.updateLossLimit=({totalBetToRepeat:I,selectedRounds:T})=>{const v=this.lossLimit.value,z=T*I;v!==z&&(this.lossLimit.value=z,this.log({type:D.Gn.ClientUpdateAutoplayLossLimit,payload:{previousLossLimit:v,lossLimit:z}}))},this.trackLastWin=I=>{I>0&&this.repeatCount>0&&(this.lastWin=I,this.runningLoss-=I)},this.trackNetworkStatus=I=>{[b.XW.Reconnecting,b.XW.Disconnected].includes(I)&&this.stop(f.G_.Disconnected)},this.trackRealityCheck=I=>{switch(I){case S.LK.Stopped:this.stop(f.G_.ManualStop);break;case S.LK.Inactive:this.repeatBets(!1,!0)}},this.saveState=()=>{var I,T,v;I={isRunning:this.isRunning.value,selectedRounds:this.selectedRounds.value,lastActiveSession:this.ag.settings.bareSessionId()},T=this.ag.tableId,v=e,V.J2(i(v,T),I,c)},this.restoreState=()=>{let I=C(this.ag.tableId,this.ag.settings.bareSessionId(),e);if(I||(I=C(this.ag.tableId,this.ag.settings.sessionId(),e),I&&A.vV(new A.bE("Deprecated sessionId still in use","Deprecation"))),!I)return;const{selectedRounds:T,isRunning:v}=I;this.selectedRounds.value=T,this.isRunning.value=v},this.unsubscribe=I=>{I.forEach((I=>I())),I.length=0},this.log=(I,T)=>{this.ag.log(D.CM(I,T))},this.restoreState(),this.limitsEnabled.value=I.settings.isUKGC(),this.isRunning.value&&this.stop(f.G_.PageRefreshed),this.unsubscribers.common.push(t.vT({balance:I.balance.server,totalBet:I.balance.totalBet,totalBetToRepeat:I.balance.totalBetToRepeat,lifecycle:I.lifecycle.current,isRunning:this.isRunning}).subscribe(this.updateIsAvailable),t.vT({isAvailable:this.isAvailable,selectedRounds:this.selectedRounds}).subscribe(this.updateIsStartable),t.vT({lifecycle:I.lifecycle.current,totalBet:I.balance.totalBet,totalBetToRepeat:I.balance.totalBetToRepeat,isRunning:this.isRunning,lastTotalBetToRepeat:this.lastTotalBetToRepeat}).subscribe(this.updateTotalBetToRepeat),t.vT({isRunning:this.isRunning,selectedRounds:this.selectedRounds}).subscribe(this.saveState)),this.limitsEnabled.value&&this.unsubscribers.lossLimit.push(t.vT({totalBetToRepeat:this.totalBetToRepeat,selectedRounds:this.selectedRounds}).subscribe(this.updateLossLimit))}}var M=v(320693),j=v(85),U=v(837557),N=v(523219),o=v(775286),Q=v(550998),O=v(277082),k=v(969695),u=v(718701),II=v(127793),TI=v(805480),vI=v(525620),zI=v(377810),rI=v(528981),KI=v(99210),nI=v(416127);const lI=async(I,T,{currencySymbol:r})=>{const{gameRules:K,disconnectionPolicy:n,shortcutKeys:l,payouts:a,returnToPlayer:S,placeBets:A}=await async function(I,T,{currencySymbol:r},K){const{GameRulesChapter:n,PayoutsChapter:l,ReturnToPlayerChapter:a,PlaceBetsChapter:S,ShortcutKeysChapter:A}=await v.e(23713).then(v.bind(v,607491)),{DisconnectionPolicyChapter:H}=await v.e(50967).then(v.bind(v,321502));return{gameRules:{id:"GameRules",title:nI.Y("help.gameRules.title"),content:z.jsx(n,{platform:I,currencySymbol:r,is400Cards:400===T.maxCardsCount(),isRng:K})},disconnectionPolicy:{id:rI.t.DisconnectionPolicy,title:nI.Y("help.disconnectionPolicy.title"),content:z.jsx(H,{translationKey:"help.disconnectionPolicySection.description"})},shortcutKeys:{id:rI.t.ShortcutKeys,title:nI.Y("help.shortcutKeys.title"),content:z.jsx(A,{})},payouts:{id:"Payouts",title:nI.Y("help.payouts.title"),content:z.jsx(l,{})},returnToPlayer:{id:"ReturnToPlayer",title:nI.Y("help.returnToPlayer.title"),content:z.jsx(a,{is400Cards:400===T.maxCardsCount(),isRtpMinMax:T.getIsRtpMinMax(),showVolatilityIndex:T.isVolatilityIndexInHelpRequired()})},placeBets:{id:"PlaceBets",title:nI.Y("help.placeBetsSection.title"),content:z.jsx(S,{tableName:T.getTableName(),currencySymbol:r,minLimit:T.bingoCardMinBet(),maxLimit:T.bingoCardMaxBet(),platform:I,isRng:K})}}}(I,T,{currencySymbol:r},!1),{gameObjective:H,errorHandling:t}=await async function(){const{GameObjectiveChapter:I}=await v.e(23713).then(v.bind(v,607491)),{ErrorHandlingChapter:T}=await v.e(50967).then(v.bind(v,321502));return{gameObjective:{id:"GameObjective",title:nI.Y("help.gameObjective.title"),content:z.jsx(I,{})},errorHandling:{id:rI.t.ErrorHandling,title:nI.Y("help.errorHandling.title"),content:z.jsx(T,{translationKey:"help.errorHandling.descriptionGameShow"})}}}();return[H,K,a,S,A,rI.t.LiveSupport,rI.t.AutoplayApi,rI.t.Chat,rI.t.GameNumber,rI.t.Sound,rI.t.GameHistory,rI.t.SettingsWithoutSideBets,rI.t.DepositAndWithdraw,rI.t.ResponsibleGaming,rI.t.InformazioniAams,t,n,rI.t.AutomatedDecision,rI.t.MoreGames,rI.t.MultiGamePlay,l]};const aI=async({settings:I,currencySymbol:T})=>async function({settings:I,currencySymbol:T,customConfig:{isRng:r}}){const{GameRulesChapter:K,GameObjectiveChapter:n,PayoutsChapter:l,ReturnToPlayerChapter:a,PlaceBetsChapter:S,ShortcutKeysChapter:A}=await v.e(23713).then(v.bind(v,607491)),H=I.DeviceSupport.PLATFORM,t=r?{}:{[KI.C.ErrorHandling]:{chapterProps:{translationKey:"help.errorHandling.descriptionGameShow"}}},b=r?z.jsx(n,{settings:I}):z.jsx(n,{}),R=r?{commonProps:{isRng:!0,buttonType:"secondaryGold"}}:{},F=r?{}:{[KI.C.SpeedMode]:!1};return{overrideDefaultChapters:{[KI.C.ShortcutKeys]:{content:z.jsx(A,{})},[KI.C.DisconnectionPolicy]:{chapterProps:{translationKey:"help.disconnectionPolicySection.description"}},...t},customChapters:{gameDetails:[{chapters:[{id:"GameRules",title:nI.Y("help.gameRules.title"),content:z.jsx(K,{platform:H,currencySymbol:T,is400Cards:400===I.maxCardsCount(),isRng:r})},{id:"GameObjective",title:nI.Y("help.gameObjective.title"),content:b},{id:"Payouts",title:nI.Y("help.payouts.title"),content:z.jsx(l,{})},{id:"ReturnToPlayer",title:nI.Y("help.returnToPlayer.title"),content:z.jsx(a,{is400Cards:400===I.maxCardsCount(),isRtpMinMax:I.getIsRtpMinMax(),showVolatilityIndex:I.isVolatilityIndexInHelpRequired()})},{id:"PlaceBets",title:nI.Y("help.placeBets.title"),content:z.jsx(S,{tableName:I.getTableName(),currencySymbol:T,minLimit:I.bingoCardMinBet(),maxLimit:I.bingoCardMaxBet(),platform:H,isRng:r})}]}]},...R,filterMap:{overrideDefault:{[KI.C.Shuffling]:!1,...F}}}}({settings:I,currencySymbol:T,customConfig:{isRng:!1}});var SI=v(741542),AI=v(718484),HI=v(923968),tI=v(350680),bI=v(686040),RI=v(699695),FI=v(653677),fI=v(671860),xI=v(509407),DI=v(808432),qI=v(525019);const JI="red--3ffaa",yI="black--f01d3";function VI(I,T,v,r){return z.jsx("use",{xlinkHref:I,x:T,y:v,height:r})}qI.z();const CI=zI.memo((({rank:I,suit:T})=>{let v;switch(I){case"2":case"6":v="36";break;case"3":case"9":v="35";break;case"4":v="34";break;case"5":case"J":v="38";break;case"7":v="40";break;case"8":v="39";break;case"10":v="0";break;case"Q":case"A":v="19";break;default:v="17"}const r=[DI.KY.D,DI.KY.H].includes(T)?JI:yI,K=VI(`#rank-${I}`,v,"10","86"),n=VI(`#suit-${DI.KY[T]}`,"100","0","106");return z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 184 106",preserveAspectRatio:"xMidYMid meet",className:r,children:[K,n]})}));CI.displayName="RankAndSuit";const iI="indented--d520e",cI="doubleIndented--68144",EI="bold--37d87",XI="bet--7d654",PI="betLimits--3cf27",GI="payout--46826",hI="ranksAndSuits--7b0b6",BI="mobileRanksAndSuits--7a895",_I="cardsDelimiter--55498",dI="disabled--fc044",wI="topPadding--64914",$I="rtl--1eee5",pI="mobile--a40d9",YI="cellContent--e7e92",gI="sectionHeader--a6eff",LI="hasContent--7f13d",ZI="middleDataCell--a2446",mI="fixedColumnWidths--a60d9",WI="hasBottomBorder--87313",eI="hasIncreasedNotch--5fff3",sI="hasNotch--42e7b",MI="legacyMenuMode--041c5",jI=zI.memo((I=>{const{betKey:T,betTitle:v,min:r,max:K,payout:n,isIndented:l=!1,areLimitsInlined:a,cards:S,middleComponent:A,hasBottomBorder:H=!0,isMobile:t=!1,currencySymbol:b="",fixedColumnWidths:R=!0,showPayouts:F=!0,isSectionHeader:f=!1,hasSectionPadding:x=!1,disabled:D=!1,legacyMenuMode:q}=I,J=l&&x,y=RI.A({[iI]:!J&&(l||x),[cI]:J}),V=void 0===v&&T?z.jsx(FI.q,{className:y,"data-role":"title",children:T}):z.jsx("span",{"data-role":"title",className:y,children:null!=v?v:String.fromCharCode(8203)}),C=zI.useMemo((()=>{if(r&&K)return xI.Q({lowerLimit:r,upperLimit:K,currencySymbol:b});const I=null!=r?r:K;return I?G.ej(I,{currencySymbol:b}):void 0}),[r,K,b]),i=zI.useMemo((()=>null==S?void 0:S.map(((I,T)=>function(I,T){const v=I.slice(0,-1);let r=null;switch(I.slice(-1)){case"C":r=DI.KY.C;break;case"D":r=DI.KY.D;break;case"H":r=DI.KY.H;break;case"S":r=DI.KY.S}return"|"===I?z.jsx("span",{className:_I,children:I}):v&&null!==r?z.jsx(CI,{rank:v,suit:r},T):null}(I,T)))),[S]),c=!!(v||T||C||i||A||n);return z.jsxs("tr",{"data-role":`bet-limits_${T}`,className:RI.A({[pI]:t,[dI]:D,[LI]:c,[WI]:H,[mI]:R,[sI]:U.DS.HAS_NOTCH,[eI]:U.DS.IS_IPHONE14_PRO}),children:[z.jsx("td",{className:RI.A(XI,{[EI]:!l&&!t,[wI]:a,[gI]:f}),colSpan:a?2:1,children:z.jsxs("div",{className:YI,children:[V,a&&!!C&&z.jsxs("span",{className:PI,"data-min":r,"data-max":K,"data-role":"limits",children:[fI.be,C]})]})}),!a&&z.jsx("td",{className:ZI,children:z.jsx("div",{className:YI,children:i?z.jsxs("div",{"data-role":"ranks-and-suits",className:RI.A(hI,{[BI]:t}),children:[...i]}):A||!a&&z.jsx("div",{"data-role":"min-max",className:PI,"data-min":r,"data-max":K,children:C})})}),F&&z.jsx("td",{className:RI.A(GI,{[wI]:a}),children:z.jsx("div",{className:RI.A(YI,{[MI]:q,[$I]:X.sU()}),"data-role":"payout",children:n})})]})}));jI.displayName="BetLimitsAndPayoutsRow";const UI=({currencySymbol:I,min:T,max:v,isMobile:r})=>z.jsxs(z.Fragment,{children:[z.jsx(jI,{betTitle:nI.Y("card_uppercase"),betKey:"bingo_card_cost",currencySymbol:I,min:T,max:v,isMobile:r}),NI.map((I=>{const{betKey:T,payoutLimits:v}=oI[I];return z.jsx(jI,{betKey:T,isIndented:!0,isMobile:r,payout:QI(v)},I)}))]}),NI=[6,5,4,3,2,1],oI={1:{payoutLimits:{min:1,max:99,ratio:1},betKey:"betLimits.oneLine"},2:{payoutLimits:{min:4,max:499,ratio:1},betKey:"betLimits.twoLines"},3:{payoutLimits:{min:49,max:4999,ratio:1},betKey:"betLimits.threeLines"},4:{payoutLimits:{min:249,max:24999,ratio:1},betKey:"betLimits.fourLines"},5:{payoutLimits:{min:999,max:99999,ratio:1},betKey:"betLimits.fiveLines"},6:{payoutLimits:{min:9999,max:999999,ratio:1},betKey:"betLimits.sixLines"}};function QI({min:I,max:T,ratio:v}){const z=1===I?`x ${nI.Y("betLimits.push")}`:"";return`${G.ej(I)}${z}${fI.xe}${G.ej(T)}${fI.W}${v}`}const OI="footerContentWrapper--24329",kI="mobile--5a6b8",uI=zI.memo((({children:I,isMobile:T})=>z.jsx("tr",{"data-role":"bet-limits-footer",children:z.jsx("td",{colSpan:3,className:RI.A(OI,{[kI]:T}),children:I})})));uI.displayName="BetLimitsAndPayoutsFooter";const IT="rtl--92945",TT="amount--14629",vT=({currencySymbol:I,payoutLimit:T,isMobile:v})=>{const r=G.ej(T,{currencySymbol:I});return z.jsx(uI,{isMobile:v,children:z.jsxs("span",{className:RI.A({[IT]:X.sU()}),children:[`${nI.Y("limitPlate.payoutLimit")} `,z.jsx("span",{className:TT,children:r})]})})},zT=({isMobile:I,currencySymbol:T,min:v,max:r,payoutLimit:K})=>z.jsxs("tbody",{children:[z.jsx(UI,{currencySymbol:T,isMobile:I,min:v,max:r}),z.jsx(vT,{currencySymbol:T,isMobile:I,payoutLimit:K})]});var rT=v(497091);const KT="winnerMultiplier--e299e";function nT({multiplier:I}){if(I&&Array.isArray(I)){const T=I.reduce(((I,T)=>I*T),1);if(1!==T)return[`<span class="${KT}" style="${2===I.length?lT(I[1]):void 0}">`,`${G.ej(T)}x${" "}`,"</span>"].join("")}return null}function lT(I){const T=rT.d9[I];return"webkitBackgroundClip"in document.body.style?[`color: ${T[1]};`,`background: linear-gradient(180deg, #ffffff 25%, ${T[1]} 75%);`,"-webkit-text-fill-color: transparent;","-webkit-background-clip: text;"].join("\n"):`color: ${T[1]};`}var aT=v(934789),ST=v(872247),AT=v(335350);const HT="logo--0a836",tT="rng--b2208",bT=({className:I,isRng:T})=>z.jsx("div",{className:RI.A(HT,I,{[tT]:T})});var RT=v(540024),FT=v(835521),fT=v(73720);const xT="ballsContainer--ca469",DT="logoWrapper--2c0fb",qT="drawnBallsWrapper--b16ca",JT="disabled--3f117",yT="isClassic--0236e",VT="powerBallsWrapper--4fe32",CT="multipliersHistoryWrapper--57c8c",iT="ballsContainerLabel--dc05a",cT="label--394e5",ET="count--cabd0",XT=({count:I,disabled:T,label:v,isClassic:r})=>z.jsxs("span",{className:RI.A(iT,{[JT]:T,[yT]:r}),children:[z.jsx("div",{className:cT,children:v}),0!==I&&z.jsx("div",{className:ET,children:I})]});let PT=class extends zI.Component{render(){const{game:{phase:I,betting:{isPlayerObserver:T},balls:v,balls:{drawnBalls:r,ui:{powerBalls:K,ballColors:n}},rng:{isRng:l}},powerBallHistory:a,isClassic:S,className:A}=this.props,H=rT.YF-r.length;return z.jsxs("div",{"data-role":"balls-container",className:RI.A(xT,A,{[JT]:T}),children:[I===AT.Qc.BetsOpened?a&&!S?z.jsxs(z.Fragment,{children:[z.jsx(XT,{disabled:T,isClassic:S,label:nI.Y("recentMultipliers")}),z.jsx("div",{className:CT,children:z.jsx(fT.rJ,{history:a,isRng:l})},"multipliersHistoryWrapper")]}):!S&&z.jsx("div",{className:DT,children:z.jsx(bT,{isRng:l})}):z.jsxs(z.Fragment,{children:[z.jsx(XT,{count:H,disabled:T,isClassic:S,label:0===H?nI.Y("megaBall"):`${nI.Y("ballsLeft")}:`}),z.jsx("div",{className:RI.A(qT,{[yT]:S}),children:z.jsx(FT.t,{drawnBalls:r,disabled:T||K.length>0,areTwoLines:!0,ballColors:n,isMobile:!1})},"drawnBallsWrapper")]}),z.jsx("div",{className:RI.A(VT),children:K.map(((I,T)=>z.jsx(RT.i,{powerBall:I,isMobile:!1,labelsAtBottom:!1,multiplier:v.powerBalls[T].multiplier},I.ball)))},"powerBallsWrapper")]})}};PT=aT.Cg([vI.PA],PT);var GT=v(436794);const hT="fadedBackground--e6dcd",BT="landscape--75348",_T="gradient--23f78",dT="fadedContainer--ea1ca",wT="ballsLeft--4f0a0",$T="ballsLeftCount--92ee7",pT="isRng--93d2d",YT="isTablet--5f805",gT="ballsLeftEmpty--ea692",LT="portrait--423ad",ZT="multipliersHistoryWrapper--85915",mT="drawnBallsWrapper--52f53",WT=({count:I})=>z.jsx("span",{className:RI.A(wT,{[gT]:0===I}),children:I>0&&z.jsxs(z.Fragment,{children:[z.jsx("span",{className:$T,children:I}),`/${rT.YF}`]})});let eT=class extends zI.Component{constructor(I){super(I),this.previousOrientation=I.orientation}render(){const{game:{phase:I,balls:T,balls:{drawnBalls:v,ui:{powerBalls:r,ballColors:K}},rng:{isRng:n},settings:l},powerBallHistory:a,className:S,orientation:A}=this.props,H=l.DeviceSupport.IS_TABLET,t=rT.YF-v.length,b=this.previousOrientation!==A;return this.previousOrientation=A,I===AT.Qc.BetsOpened?!!a&&z.jsx("div",{className:RI.A(ZT,{[YT]:H}),children:z.jsx(fT.rJ,{history:a,orientation:A,isRng:n,isMobile:!0,isTablet:H})},"multipliersHistoryWrapper"):0!==v.length&&z.jsxs("div",{className:RI.A(dT,S,{[pT]:n,[YT]:H,[LT]:A===GT.t.Portrait}),children:[z.jsx("div",{className:RI.A(hT,{[BT]:A===GT.t.Landscape&&H,[_T]:A===GT.t.Portrait||H})}),r.length>0&&!n?null:z.jsx(WT,{count:t}),z.jsx("div",{className:mT,children:z.jsx(FT.t,{drawnBalls:v,powerBallMultipliers:T.powerBalls.map((I=>I.multiplier)),powerBalls:r,ballColors:K,disabled:!1,areTwoLines:!1,isRng:n,isMegaBallPhase:r.length>0,isMobile:!0,isMobileLandscape:A===GT.t.Landscape,isTablet:l.DeviceSupport.IS_TABLET,hasOrientationChanged:b})})]})}};eT=aT.Cg([vI.PA],eT);var sT=v(170877),MT=v(840301),jT=v(750399),UT=v(753573),NT=v(261113),oT=v(236042),QT=v(133555),OT=v(843717),kT=v(822381),uT=v(710928),Iv=v(657765),Tv=v(480352);const vv="bundleButtonContainer--b5129",zv="bundleButton--fb98b",rv="small--6b56b",Kv="isHorizontalLayout--9774b",nv="actionOverlay--42635",lv="disabled--3a5ee",av={tooltipStyle:{whiteSpace:"normal",maxWidth:`calc(100vw - ${kT.o1(1)})`,boxSizing:"border-box",width:"max-content",lineHeight:"1.6"}};function Sv({idx:I,game:T,bundle:v,sounds:r,isSmall:K,disabled:n,platform:l,onTooltip:a,orientation:S,blinkDirection:A,isTooltipVisible:H,isHorizontalLayout:t,hasBackgroundBlend:b,isBettingClosingSoon:R,isGlowing:F}){const f=function(I,T,v){switch(!0){case v.notEnoughMoney:return Iv.Kd.OutOfMoney;case!I:case T:return Iv.Kd.BetsClosed;case v.maxCardsReached:return Iv.Kd.MaxCards;default:return}}(!n,R,v),x=!t&&K,D=!f&&!K,q=f&&(Iv.Js[f]||"tooltip.waitForNextGame"),J=q?nI.Y(q):"",y=HI.V((I=>I.currencySymbol)),V=oT.A((()=>{if(f)return a(I),T.betting.disableBundlePressed(v.count,f),void r.playSound(OT.Wo.ClickingFail,!1);T.betting.buyCardsBundle(v.count),r.playSound(QT.hq[v.bundleSize],!1)}),rT.sG);return zI.useEffect((()=>{if(q){const I=setTimeout((()=>{a(null)}),uT.p_);return()=>{clearTimeout(I)}}a(null)}),[H,q]),z.jsxs("div",{className:vv,children:[z.jsx(uT.m_,{hasAnchor:!0,label:J,isVisible:H,absTooltipProps:av,verticalPosition:uT.Ne.Top,horizontalPosition:uT.hV.Center}),z.jsx("div",{onClick:I=>{I.preventDefault(),V()},"data-role":"card-bundle",className:nv}),z.jsx("div",{className:RI.A(zv,{[rv]:x,[lv]:n||f,[Kv]:t}),children:z.jsx(Tv.H,{game:T,isSmall:K,isGlowing:F,position:I+1,platform:l,count:v.count,currencySymbol:y,hasSparkles:D,orientation:S,disableReason:f,bundleSize:v.bundleSize,blinkDirection:A,hasBackgroundBlend:b})})]})}var Av=v(401519),Hv=v(703764);const tv="betPanel--927f2",bv="playButton--fe4d4",Rv="repeatButton--94f97",Fv="undoButton--17d67",fv="betParams--b29d4",xv="isHorizontalLayout--3195c",Dv="isRng--c503f",qv="isLandscapePhone--2b801",Jv="fullWidth--fc8aa",yv="hasNotch--31dcf",Vv="isTablet--84420",Cv="portraitRepeatWrapper--9520d",iv="horizontalRepeatWrapper--21913",cv="isMobile--02286",Ev="undoButtonWrapper--41a58",Xv="buyCardButtons--f89b6",Pv="scaleDownAnimation--9f7bc",Gv="scaleDownAnimationSmallBundle--32227",hv="scaleUpAnimation--39049",Bv="isInIframe--69dd5",_v="betControl--29cb2",dv="button--d6cd9",wv=vI.PA((I=>{const[T,v]=zI.useState(null),r=zI.useCallback((I=>v(I)),[]),K=zI.useCallback((T=>{const v=I.currencySymbol;return G.ej(T,{currencySymbol:v})}),[I.game.settings]),{game:n,game:{betting:l,time:a,settings:S,settings:{DeviceSupport:A},rng:{isRng:H},phase:t,session:{rngGameInProgress:b},increaseRepeatBetCount:R,setLastSelectedChip:F},sounds:f,orientation:x,isInIframe:D,className:q,isGlowing:J}=I,y=n.cards.displayedCardsCount>0,V=n.phase===AT.Qc.BetsOpened,C=V||!y||a.isGameEnding||n.cards.isGhostCardsDisplayed,i=zI.useRef([]),c=S.autoplayApiEnabled();if(zI.useEffect((()=>{t===AT.Qc.GameResolved&&(i.current=[]),t===AT.Qc.BetsOpened&&(i.current=l.lastBetActions)}),[l.lastBetActions,t]),!C||n.rng.isRng&&n.session.isAutoplayRunning)return null;const E=a.isBettingClosingSoon,X=!V||b||E,P=x===GT.t.Landscape,h=A.IS_TABLET,B=A.IS_DESKTOP||P,_=A.IS_PHONE&&!P&&l.ui.isSmallBundleSize,{cardBundles:d,isUndoEnabled:w,repeatInfo:{enabled:$},nextPriceDisabledByBalance:p,ui:{blinkDirection:Y}}=l,g=A.PLATFORM,L=g===sT.OD.Phone&&x===GT.t.Portrait,Z={platform:A.PLATFORM,sounds:f,settings:S,orientation:x},m={betting:l,phase:t,autoplayApiEnabled:c,increaseRepeatBetCount:R,...Z},W={state:n.rng,className:RI.A(bv,dv),isPortraitMobile:L,gameInProgress:b,...Z},e={betting:l,isDisabled:X||!w||E,...Z},s=!A.IS_CHROME||A.IS_CHROME70_PLUS;return z.jsxs("div",{"data-role":"bet-panel",className:RI.A(tv,q,{[Bv]:D,[Dv]:H}),children:[B||n.cards.isGhostCardsDisplayed?null:z.jsxs("div",{className:RI.A(Cv,{[Dv]:H}),children:[!y&&$&&(H?z.jsx(jT.s,{...m,disabled:y,className:Rv}):z.jsx(Av.s,{...m})),y&&H&&z.jsx(MT.D,{...W})]}),z.jsx("div",{className:RI.A(Xv,{[xv]:B,[qv]:P&&A.IS_PHONE,[yv]:A.HAS_NOTCH,[Pv]:X&&!_,[Gv]:X&&_,[hv]:!X,[cv]:A.IS_PHONE}),children:d.map(((I,v)=>z.jsx(Sv,{idx:v,game:n,bundle:I,sounds:f,isSmall:_,isGlowing:J,disabled:X,platform:g,orientation:x,blinkDirection:Y,onTooltip:r,isHorizontalLayout:B,hasBackgroundBlend:s,isTooltipVisible:T===v,isBettingClosingSoon:E},I.count)))}),z.jsxs("div",{className:RI.A(fv,{[xv]:B,[Jv]:H&&!P,[yv]:A.HAS_NOTCH,[qv]:P&&A.IS_PHONE,[Vv]:h,[Dv]:H}),children:[z.jsx("div",{className:RI.A(Ev,{[xv]:B,[Dv]:H,[Vv]:h,[cv]:A.IS_PHONE}),children:H&&B?z.jsx(UT.j,{...e,className:RI.A(Fv,dv)}):z.jsx(Hv.j,{...e,type:H&&!B?"customizable":"secondary",className:dv})}),z.jsx(NT.r,{label:nI.Y("valueOfCards"),betting:l,renderValue:K,sounds:f,isDisabled:E||!V||b,nextPriceDisabledByBalance:p,orientation:x,isMobile:g!==sT.OD.Desktop,isTablet:g===sT.OD.Tablet,isRng:H,setLastSelectedChip:F,className:_v}),B&&z.jsxs("div",{className:RI.A(iv,{[Dv]:H,[Vv]:h,[cv]:A.IS_PHONE}),children:[H&&z.jsx(MT.D,{...W}),H?!y&&z.jsx(jT.s,{...m,disabled:y,className:RI.A(Rv,dv)}):z.jsx(Av.s,{...m,className:dv})]})]})]})}));function $v(I,T,v,z){const r="glowCardsContainer"===v,K=r?z?"- 0.4em":"- 0.1em":"";return{width:`calc(${100*I.size}% ${K})`,height:`calc(${100*I.size*T}% ${K})`,left:`${100*I.x}%`,top:`${100*I.y*T}%`,margin:`${r?z?"0.2em":"0.06em":""}`}}function pv(I,T,v,z,r){const K=100*I;return{boxShadow:`0 0 ${r?"0.2em 0.2em":"0.3em 0.1em"} ${void 0!==T?rT.d9[T][1]:z>0?"#f8e71c":null}`,borderRadius:100===K?"0.2em":r?v?"0.7em":"0.3em":"0.1em",zIndex:-1}}var Yv=v(141737),gv=v(794999);const Lv="calculationContainer--97bee",Zv="isClassic--0fa5f",mv="row--a9271",Wv=vI.PA((I=>{var T;const{game:{phase:v,cards:r,balls:K,baseColors:n,player:l},currencySymbol:a,isPortrait:S,isClassic:A,isMobile:H}=I,{expectedBalls:t}=K.ui,b=zI.useRef(null),[R,F]=zI.useState({combinedExpectedBalls:[],expectedBalls:[],firstInRowIndexes:[],overflowingEntityIds:[]}),f=v===AT.Qc.GameResolved,x=f&&(null===(T=K.ui.powerBalls[0])||void 0===T?void 0:T.ball)||void 0,D=x&&!t.find((I=>I.balls.includes(x)))||l.status===AT.Mi.Participant&&l.payoutLimitReached,q=t.map((I=>I.winAmountUi+I.balls.join())).join();zI.useEffect((()=>{if(b.current&&t.length>0&&!D){const I=S?3:A?2:1,T=b.current,v=[],z=[],K=[],n=T.children[0].offsetHeight;for(let r=0;r<T.childElementCount;r++){const l=T.children[r];(1===I?l.offsetTop-T.offsetTop>n:l.offsetTop-T.offsetTop>n*(I-1))&&v.push(r),l.clientWidth<l.scrollWidth&&K.push(r),l.offsetLeft===T.children[0].offsetLeft&&z.push(r)}v.length>0&&K.length>0&&v.push(...K),r.ui.setExpectedBallsLinesCount(Math.round(T.offsetHeight/n)),v.length>0&&1===I&&1!==v[0]&&v.unshift(v[0]-1);const l=K.reduce(((I,T)=>(I.push(t[T].balls.join()),I)),[]);F({combinedExpectedBalls:JSON.parse(JSON.stringify(t.slice(Math.min(...v)))),expectedBalls:JSON.parse(JSON.stringify(t.slice(0,Math.min(...v)))),firstInRowIndexes:z,overflowingEntityIds:l})}else r.ui.setExpectedBallsLinesCount(0),F({combinedExpectedBalls:[],expectedBalls:[],firstInRowIndexes:[],overflowingEntityIds:[]})}),[b,q,S,A,D,r.ui,t]);const J=zI.useCallback((I=>{const{x:T,y:v}=Yv.F(I.currentTarget,H);r.showCardsTooltip(T,v,nI.Y("tooltip.ballsToWin"))}),[r,H]),y=R.firstInRowIndexes.map((I=>I-1)),V=[];for(let I=0;I<R.expectedBalls.length;I++){let T=!1,v=V[V.length-1];const z=0===I||R.firstInRowIndexes.includes(I),r=y.includes(I)||R.expectedBalls.length===I+1;(z&&!r||r&&z)&&(v=[],T=!0),v&&v.push({moneyBallUi:R.expectedBalls[I]}),T&&V.push(v)}const C=R.combinedExpectedBalls.length>1||1===R.combinedExpectedBalls.length&&R.overflowingEntityIds.includes(R.combinedExpectedBalls[0].balls.join()),i=zI.useRef(null),c=l.status!==AT.Mi.BetRejected&&l.status!==AT.Mi.WaitForNextGame?l.betAmount:void 0;return z.jsxs("div",{className:RI.A({[Zv]:A}),style:{visibility:D?"hidden":"visible",pointerEvents:"all"},children:[z.jsxs("div",{"data-role":"expected-balls-container",style:{fontSize:S?"2em":"1em",flexWrap:"wrap",top:`${100*r.ui.highestCardPosition}%`,minWidth:A?"100%":`${r.ui.cardsWidthInContainer}%`},className:Lv,ref:i,children:[V.map(((I,T)=>z.jsx("div",{className:mv,children:I.map(((I,v)=>z.jsx(gv.Q,{betAmount:c,combinedExpectedBalls:[I.moneyBallUi],currencySymbol:a,colors:n,currentPowerBall:x,multiplier:K.ui.lastMultiplier,showTooltip:J,entityType:"entity",showMiniBalls:R.overflowingEntityIds.includes(I.moneyBallUi.balls.join()),isGameResolved:f},`${T}-${v}`)))},T))),R.combinedExpectedBalls.length>0&&z.jsx("div",{className:mv,children:z.jsx(gv.Q,{currencySymbol:a,combinedExpectedBalls:R.combinedExpectedBalls,betAmount:c,colors:n,currentPowerBall:x,multiplier:K.ui.lastMultiplier,entityType:"combined",showMiniBalls:C,isGameResolved:f})})]}),z.jsx("div",{ref:b,style:{fontSize:S?"2em":"1em",visibility:"hidden",minWidth:A?"100%":`${r.ui.cardsWidthInContainer}%`},className:Lv,children:t.map((I=>z.jsx(gv.Q,{combinedExpectedBalls:[I],betAmount:c,currencySymbol:a,colors:n,multiplier:K.ui.lastMultiplier,entityType:"calculation",isGameResolved:f},I.balls.join())))})]})})),ev="totalWinContainer--2681c",sv="isPhone--6379e",Mv="totalWinMessage--56c02",jv="label--d7bc9",Uv="isClassic--23f2e",Nv="amount--525ed",ov="decor--be208";let Qv=class extends zI.Component{render(){const{game:I,className:T,isClassic:v,currencySymbol:r}=this.props;if(!(I.result.totalWinAmount>0))return null;const K=G.ej(I.result.totalWinAmount,{currencySymbol:r});return z.jsx("div",{"data-role":"total-win-container",className:RI.A(T,ev,{[sv]:I.settings.DeviceSupport.IS_PHONE,[Uv]:v}),children:z.jsx("div",{"data-role":"total-win-message",className:Mv,children:z.jsxs("div",{className:jv,children:[z.jsx("span",{className:ov,style:{transform:"scaleX(-1)"}}),z.jsx("span",{children:nI.Y("totalWin")}),z.jsx("span",{className:Nv,children:K}),z.jsx("span",{className:ov})]})})})}};Qv=aT.Cg([vI.PA],Qv);var Ov=v(263601),kv=v(886490);const uv="cardsContainer--96897";let Iz=class extends zI.Component{constructor(I){super(I),this.animationReactionDispose=null,this.aspectRatioReactionDispose=null,this.changeViewModeReactionDispose=null,this.resizeHandler=()=>{const{cardsState:I}=this.props;I.cardRenderer.updateSize()},this.isAnimationInProgress=()=>{const{cardsState:I,ballsUiState:T}=this.props;return I.displayedCards.length>0&&(I.ui.isCardSorting||void 0!==T.lastBall)},this.createCanvasContext=I=>{const{cardsState:T}=this.props;I&&this.resizeHandler(),T.cardRenderer.setCanvas(I)},this.debouncedResize=Ov.A(this.resizeHandler,300)}render(){return z.jsx("canvas",{className:uv,"data-role":"bingo-card-container",ref:this.createCanvasContext},"cardsContainerCanvas")}componentDidMount(){kv.w9(this.debouncedResize),this.animationReactionDispose=K.mJ((()=>this.isAnimationInProgress()),(I=>{const{cardsState:T}=this.props;I||T.cardRenderer.updateContainer()})),this.aspectRatioReactionDispose=K.mJ((()=>{const{cardsState:I}=this.props;return I.ui.aspectRatio}),(()=>this.resizeHandler())),this.changeViewModeReactionDispose=K.mJ((()=>{const{isClassic:I}=this.props;return I}),(()=>this.resizeHandler()))}componentWillUnmount(){kv.Fu(this.debouncedResize),this.animationReactionDispose&&this.animationReactionDispose(),this.aspectRatioReactionDispose&&this.aspectRatioReactionDispose(),this.changeViewModeReactionDispose&&this.changeViewModeReactionDispose()}};Iz=aT.Cg([vI.PA],Iz);const Tz="overlayContainer--791ed";let vz=class extends zI.Component{constructor(I){super(I),this.containerRef=zI.createRef(),this.mouseX=0,this.mouseY=0,this.onMouseMove=I=>{this.mouseX=I.clientX,this.mouseY=I.clientY,this.update()},this.onClick=I=>{this.handleMouseClick(I.clientX,I.clientY)},this.update=()=>{const{cards:I}=this.props;I.selectedCardId||this.handleMouseMove()},window.EVO_megaballGetCardCoords=I=>{var T;const{cards:v}=this.props;if(!this.containerRef.current)return;const z=null===(T=v.displayedCards[I])||void 0===T?void 0:T.position;if(!z)return;const r=this.containerRef.current.clientWidth,K=r*z.size/2;return{x:Math.round(z.x*r+K),y:Math.round(z.y*r+K)}}}render(){return z.jsx("div",{"data-role":"card-selection-overlay",ref:this.containerRef,className:Tz,onClick:this.onClick},"cardSelectionOverlay")}componentDidMount(){const{isDesktop:I}=this.props;this.selectedCardReactionDispose=K.mJ((()=>{const{cards:I}=this.props;return I.selectedCardId}),this.update),this.cardSortingReactionDispose=K.mJ((()=>{const{cards:I}=this.props;return I.ui.sortAnimationProgress}),this.update),I&&document.addEventListener("mousemove",this.onMouseMove),this.update()}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),this.selectedCardReactionDispose&&this.selectedCardReactionDispose(),this.cardSortingReactionDispose&&this.cardSortingReactionDispose()}handleMouseMove(){const{cards:I}=this.props;if(I.cardCanBeSelected){const T=this.getHitCardId(this.mouseX,this.mouseY);I.highlightCard(T)}}handleMouseClick(I,T){const{cards:v}=this.props,z=this.getHitCardId(I,T);z&&v.selectCard(z)}getHitCardId(I,T){if(!this.containerRef.current)return;const{cards:v}=this.props,z=this.containerRef.current.getBoundingClientRect(),r=I-z.left,K=T-z.top,n=z.width;if(r<0||K<0||r>z.width||K>z.height)return;const l=v.displayedCards,a=r/n,S=K/n;for(let I=0,T=l.length;I<T;I++){const T=l[I];if(!T.position)continue;const{x:v,y:z,size:r}=T.position;if(a>=v&&a<=v+r&&S>=z&&S<=z+r)return T.id}}};vz=aT.Cg([vI.PA],vz);var zz=v(738759);const rz=v.p+"images/fakecard.b0988704.png",Kz="ghostCards--56349";var nz;(function(I){I["Appearing"]="Appearing",I["Shown"]="Shown",I["Hiding"]="Hiding",I["Removed"]="Removed"})(nz||(nz={}));let lz=class extends zI.Component{constructor(I){super(I),this.updateCardsReaction=null,this.canvas=null,this.ctx=null,this.aspectRatio=1,this.fakeImage=new Image,this.lastTime=0,this.frameHandler=0,this.clientWidth=0,this.clientHeight=0,this.cards=[],this.setRef=I=>{this.canvas=I,I?(this.updateSize(),this.ctx=I.getContext("2d")):this.ctx=null},this.updateSize=()=>{const I=this.canvas;if(!I)return;const T=zz.mZ();I.width=I.clientWidth*T,I.height=I.width/this.aspectRatio},this.updateCards=()=>{const I=this.ctx;if(!I)return;const{game:T}=this.props;if(T.balls.drawnBalls.length>0&&this.cards.length>0&&!T.betting.isPlayerObserver){this.cards.length=0;const T=I.canvas.width,v=I.canvas.height;return void I.clearRect(0,0,T,v)}const v=I.canvas.width,z=.005*I.canvas.height,{displayedCards:r,displayedCardsCount:K,isGhostCardsDisplayed:n,ui:{positions:l}}=T.cards;for(let I=0;I<K;I++){const T=l[I],K=az(T,v,z),a=!n&&I<r.length&&void 0!==r[I];let S=this.cards[I];if(a)S&&S.setProps({position:K,isReal:a,animationDelay:0});else{const v=Math.round(100*(1-T.x))/200;S=S||(this.cards[I]=new Hz),S.setProps({position:K,isReal:a,animationDelay:v})}}if(this.cards.length>K){for(let I=this.cards.length-1;I>=K;I--)this.cards[I]=void 0;this.redraw(0)}},this.onFrame=I=>{this.frameHandler=window.requestAnimationFrame(this.onFrame);const T=I>0&&.001*(I-this.lastTime)||0;this.lastTime=I,this.redraw(T)},this.fakeImage.src=rz}render(){return z.jsx("canvas",{className:Kz,ref:this.setRef},"ghostCardsCanvas")}componentDidMount(){this.updateCardsReaction=K.mJ((()=>{const{game:I}=this.props;return`${I.cards.displayedCards.length} ${I.cards.displayedCardsCount} ${I.balls.drawnBalls.length}`}),(()=>{this.updateCards()})),this.frameHandler=window.requestAnimationFrame(this.onFrame)}componentWillUnmount(){window.cancelAnimationFrame(this.frameHandler),this.updateCardsReaction&&this.updateCardsReaction()}checkSize(){const I=this.canvas;if(!I)return;const{clientWidth:T,clientHeight:v}=I;if(this.clientWidth===T&&this.clientHeight===v)return;this.clientWidth=T,this.clientHeight=v;const z=zz.mZ();I.width=T*z,I.height=v*z,this.updateCards()}redraw(I){if(this.cards.length<1)return;const T=this.ctx;if(!T)return;this.checkSize();const v=T.canvas.width,z=T.canvas.height;T.clearRect(0,0,v,z);let r=-1;for(let v=0,z=this.cards.length;v<z;v++){const z=this.cards[v];z&&(z.update(I),z.state===nz.Removed?this.cards[v]=void 0:(r=v,T.globalAlpha=z.alpha,T.drawImage(this.fakeImage,Math.round(z.x),Math.round(z.y),Math.round(z.size),Math.round(z.size))))}this.cards.length=r+1}};function az(I,T,v){return{x:I.x*T+v,y:I.y*T+v,size:T*I.size-2*v}}lz=aT.Cg([vI.PA],lz);const Sz=.25,Az=1;class Hz{constructor(){this.x=0,this.y=0,this.size=0,this.alpha=0,this.position={x:0,y:0,size:0},this.animationDelay=0,this.time=0}setProps(I){return this.position=I.position,this.x=I.position.x,this.y=I.position.y,this.size=I.position.size,this.animationDelay=I.animationDelay,I.isReal?this.hide():this.appear(),this}update(I){this.time+=I;let T=!1;switch(this.state){case nz.Appearing:{T=!0;const I=Math.max(0,this.time-this.animationDelay)/Sz,v=Math.min(1,I),z=this.position.y+this.size,r=this.position.y-z;this.y=z+r*v;const K=0,n=1-K;this.alpha=K+n*v,I>=1&&(this.state=nz.Shown);break}case nz.Hiding:{T=!0;const I=Math.max(0,this.time-this.animationDelay)/Az,v=Math.min(1,I),z=1,r=0-z;this.alpha=z+r*v,I>=1&&(this.state=nz.Removed);break}}return T}appear(){this.state!==nz.Appearing&&this.state!==nz.Shown&&(this.state=nz.Appearing,this.time=0)}hide(){this.state!==nz.Hiding&&this.state!==nz.Removed&&(this.state=nz.Hiding,this.time=0)}}const tz={ghost:"ghost--005b8",totalWinWrapper:"totalWinWrapper--bb743",isClassic:"isClassic--cac1e",glowWrapper:"glowWrapper--e50f9",glow:"glow--a9956",glowKeyframes:"glowKeyframes--94b1d",blinkGradient:"blinkGradient--0c4a8",left:"left--01114",blinkLeftKeyframes:"blinkLeftKeyframes--baa70",right:"right--d346a",blinkRightKeyframes:"blinkRightKeyframes--5ef26"},bz=vI.PA((I=>{const{game:T,game:{cards:v,phase:r,player:K,settings:n,betting:{ui:{blinkDirection:l}}},isClassic:a=!1,orientation:S}=I,A=n.DeviceSupport.IS_DESKTOP,H=n.DeviceSupport.IS_PHONE,t=n.DeviceSupport.IS_PHONE&&S===GT.t.Landscape,b=A||n.DeviceSupport.IS_TABLET||t,R=v.hasBoughtCards,F=HI.V((I=>I.currencySymbol)),f=r===AT.Qc.BetsOpened||v.isGhostCardsDisplayed,x=K.status===AT.Mi.Participant&&K.payoutLimitReached,D=!f&&R&&!x;let q=1/0,J=0,y=1/0,V=0;for(const I of v.ui.positions)I.y<q&&(q=I.y),I.y+I.size>q&&(J=I.y+I.size);for(const I of v.ui.positions)J===I.y+I.size&&(y>I.x&&(y=I.x),V<I.x+I.size&&(V=I.x+I.size));const C={position:"absolute",top:`${100*q*v.ui.aspectRatio}%`,bottom:`${100*J*v.ui.aspectRatio}%`,left:`${100*y}%`,right:`${100*V}%`,height:`${(J-q)*v.ui.aspectRatio*100}%`,width:`${100*(V-y)}%`};let i;if(T.phase===AT.Qc.GameResolved&&v.isGlowEffectVisible){i=new Array(v.displayedCardsCount);for(let I=0;I<v.displayedCardsCount;I++){const T=I<v.displayedCards.length&&!v.isGhostCardsDisplayed?v.displayedCards[I]:void 0,r=T?T.position:v.ui.positions[I],K=T?T.multiplier:0,n=T?T.card.winAmount:0,l=T&&0!==K&&pv(T.cardSizeRatio,K,1===v.displayedCards.length,n,H);i[I]=r&&z.jsx("div",{className:RI.A(tz.glowWrapper,tz.glow),style:{...$v(r,v.ui.aspectRatio,"glowCardsContainer",H),...l}},`glow-${I}`)}}const c=zI.useRef(null);return z.jsxs("div",{"data-role":"cards-container",ref:c,className:RI.A(I.className,{[tz.ghost]:v.isGhostCardsDisplayed}),children:[D&&z.jsx(Wv,{game:T,currencySymbol:F,isPortrait:!b,isClassic:a,isMobile:!A}),T.cards.displayedCardsCount>0&&z.jsxs(z.Fragment,{children:[z.jsx(Iz,{cardsState:T.cards,ballsUiState:T.balls.ui,isClassic:a}),z.jsx(vz,{cards:T.cards,isDesktop:A})]}),i,z.jsx(lz,{game:T}),(T.phase===AT.Qc.BallDrawing||T.phase===AT.Qc.PowerBallDrawing)&&z.jsx(Qv,{game:T,isClassic:a,className:RI.A(tz.totalWinWrapper,{[tz.isClassic]:a}),currencySymbol:F},"total-win-message"),!v.isGhostCardsDisplayed&&!v.ui.isCardSorting&&null!==l&&z.jsx("div",{style:C,children:z.jsx("div",{className:RI.A(tz.blinkGradient,tz[l])})})]})})),Rz="cardsCounter--3012d",Fz="isMobile--90336",fz="isPhoneLandscape--fe465";let xz=class extends zI.Component{render(){const{game:{cards:I,settings:T},className:v,orientation:r}=this.props,K=null==I?void 0:I.displayedCardsCount;return K>0?z.jsx("div",{"data-role":"cards-counter",className:RI.A(v,Rz,{[Fz]:T.DeviceSupport.IS_PHONE,[fz]:T.DeviceSupport.IS_PHONE&&r===GT.t.Landscape}),children:z.jsxs("div",{style:{fontSize:T.DeviceSupport.IS_PHONE?r===GT.t.Landscape?"0.4em":"0.7em":void 0},children:[X.Tl("amountOfCards"),": ",z.jsx("span",{children:K})]})}):null}};xz=aT.Cg([vI.PA],xz);var Dz=v(672734),qz=v(491317);const Jz=.015,yz=.147,Vz=512;var Cz=v(462566),iz=v(652511);const cz="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2028%2034%22%3E%0A%20%20%3Cpath%20d%3D%22M.13%2018.166a12.933%2012.933%200%2001.436-5.136C2.128%207.701%207.03%203.782%2012.842%203.713V.229c0-.193.242-.297.4-.18l7.168%205.268c.118.09.118.27%200%20.352l-7.16%205.267c-.166.118-.401.014-.401-.18V7.28c-3.823.062-7.085%202.419-8.488%205.75a9.258%209.258%200%2000-.726%204.106%209.344%209.344%200%20002.046%205.343%201.784%201.784%200%2001-.339%202.558%201.798%201.798%200%2001-2.474-.346A12.781%2012.781%200%2001.13%2018.166zm22.078-6.69a9.23%209.23%200%20012.046%205.342%209.32%209.32%200%2001-.726%204.106c-1.403%203.331-4.666%205.695-8.488%205.75v-3.476c0-.194-.242-.297-.401-.18L7.47%2028.285c-.117.09-.117.27%200%20.353l7.161%205.267c.166.117.4.013.4-.18V30.24c5.814-.062%2010.721-3.981%2012.277-9.317a13.06%2013.06%200%2000.435-5.136%2012.714%2012.714%200%2000-2.73-6.525%201.8%201.8%200%2000-2.475-.345%201.788%201.788%200%2000-.331%202.557z%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%2F%3E%0A%3C%2Fsvg%3E%0A",Ez="refreshButton--c10b1",Xz="icon--3d8df",Pz=Cz.u((({onClick:I,tooltipComponent:T,onPointerEnter:v,onPointerLeave:r})=>{const K=zI.useCallback((I=>{I.preventDefault()}),[]);return z.jsxs(iz.s,{"data-role":"refresh-selected-card",className:Ez,onClick:I,onPointerEnter:v,onPointerLeave:r,children:[z.jsx("img",{src:cz,className:Xz,onContextMenu:K}),T]})}));var Gz=v(235874),hz=v(327299);const Bz={switchButton:"switchButton--f31e2",icon:"icon--474be",left:"left--38464",right:"right--4f9da",disabled:"disabled--f2c7f",shadeContainer:"shadeContainer--415a4",shadeGradient:"shadeGradient--55293",desktop:"desktop--4eb5b"},_z=I=>{const{side:T,onClick:v,disabled:r,dataRole:K,isDesktop:n}=I,l=RI.A(Bz.switchButton,Bz[T],{[Bz.disabled]:r,[Bz.desktop]:n}),a="left"===T?z.jsx(Gz.Y,{className:Bz.icon}):z.jsx(hz.l,{className:Bz.icon});return z.jsxs(iz.s,{id:K,onClick:v,"data-role":K,className:l,children:[z.jsx(dz,{side:T}),a]})},dz=({side:I})=>z.jsx("div",{className:Bz.shadeContainer,children:z.jsx("div",{className:RI.A(Bz.shadeGradient,Bz[I])})}),wz="clickShield--59182",$z="selectedCardContainer--05cc8",pz="overlay--8ed10",Yz="card--7cbaf",gz="cardWrapper--e6146",Lz="closeButton--0aba5";let Zz=class extends zI.Component{constructor(I){super(I),this.ctx=null,this.autorunDispose=null,this.resizeObserver=null,this.createCanvasContext=I=>{I&&(this.ctx=I.getContext("2d"),this.renderCard())},this.renderCard=()=>{const{game:I}=this.props,T=this.ctx;T&&T.putImageData(I.cards.ui.selectedCardData,0,0)},this.state={buttonSize:0}}render(){const{game:{cards:I,phase:T,session:v,settings:r,time:K},selectedCards:{prev:n,next:l},className:a}=this.props,{buttonSize:S}=this.state,A=r.DeviceSupport.IS_DESKTOP;return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:wz,onClick:I.unselectCard}),z.jsx("div",{className:RI.A($z,a),children:z.jsxs("div",{className:pz,children:[z.jsxs("div",{className:gz,children:[z.jsx(_z,{side:"left",onClick:()=>n&&I.selectCard(n.id),disabled:void 0===n||T!==AT.Qc.BetsOpened,isDesktop:A,dataRole:"prevButton"}),z.jsx("canvas",{width:Vz,height:Vz,className:Yz,ref:this.createCanvasContext}),z.jsx(_z,{side:"right",onClick:()=>l&&I.selectCard(l.id),disabled:void 0===l||T!==AT.Qc.BetsOpened,isDesktop:A,dataRole:"nextButton"})]}),T===AT.Qc.BetsOpened&&!K.isBettingClosingSoon&&!v.rngGameInProgress&&z.jsx(Pz,{tooltip:"tooltip.refreshNumbers",onClick:I.regenerateCard}),z.jsx("div",{className:Lz,children:z.jsx(Dz.g,{size:S,role:"close-button",iconComponent:z.jsx(qz.b,{}),onClick:I.unselectCard,type:"secondary"})})]})})]})}componentDidMount(){var I;if(this.autorunDispose=K.mJ((()=>{const{game:I}=this.props;return I.cards.ui.selectedCardDataUpdateTime}),this.renderCard),!ResizeObserver||this.props.game.settings.DeviceSupport.IS_DESKTOP)return this.setState({buttonSize:"XXS"});this.resizeObserver=new ResizeObserver((I=>{this.setState({buttonSize:I[0].contentRect.width/62})})),(null===(I=this.ctx)||void 0===I?void 0:I.canvas)&&this.resizeObserver.observe(this.ctx.canvas)}componentWillUnmount(){var I;null===(I=this.resizeObserver)||void 0===I||I.disconnect(),this.autorunDispose&&this.autorunDispose()}};Zz=aT.Cg([vI.PA],Zz);var mz=v(554724);const Wz="countdownWrapper--6b75d",ez=({className:I})=>z.jsx("div",{"data-role":"countdown-timer",className:RI.A(Wz,I),children:z.jsx(mz.c,{})});var sz=v(542230);function Mz(I,T,v){const{cards:z,settings:r}=I,{IS_PHONE:K,IS_UCBROWSER:n,IS_TABLET:l}=r.DeviceSupport;if(K){if(T===GT.t.Portrait){const I=z.ui.highestCardPosition*z.ui.aspectRatio;return{bottom:1===z.ui.expectedBallsLinesCount||z.ui.expectedBallsLinesCount>2&&2!==z.displayedCardsCount?"1em":2===z.ui.expectedBallsLinesCount||z.ui.expectedBallsLinesCount>2&&2===z.displayedCardsCount?"3em":0,transform:n?`translateX(-50%) translateY(calc(${100*I}% - 7em))`:`translate(-50%, calc(${100*I}% - 12em))`}}return{transform:1===z.ui.expectedBallsLinesCount?"translateY(-1.65em)":z.ui.expectedBallsLinesCount>=2?"translateY(-4.65em)":void 0}}return z.ui.expectedBallsLinesCount>0?v||l?{transform:1===z.ui.expectedBallsLinesCount?"translateX(-50%) translateY(-1em)":"translateX(-50%) translateY(-2.1em)"}:{transform:1===z.ui.expectedBallsLinesCount?"translateX(-50%) translateY(-0.4em)":"translateX(-50%) translateY(-1.2em)"}:{}}const jz="DoubleMegaBall--ee61b";let Uz=class extends zI.Component{render(){const{game:I,className:T,isClassic:v,orientation:r,powerBallMultiplier:K}=this.props,n=I.settings.DeviceSupport,{IS_PHONE:l}=n,a={...Mz(I,r,v),...I.cards.ui.cardsWidthInContainer<=0&&l?r===GT.t.Portrait?{bottom:"6em",transform:"translateX(-50%)"}:{transform:"translateY(-1.5em)"}:void 0};return z.jsx("div",{className:RI.A(jz,T),style:a,children:z.jsx(sz.E,{"data-role":"double-megaball",firstLine:nI.Y("result.double"),secondLine:nI.Y("result.megaball"),hasLost:!0,colors:rT.d9[K]})})}};Uz=aT.Cg([vI.PA],Uz);var Nz=v(221770),oz=v(330441);const Qz="payouts--5e1a7",Oz="entry--a2966",kz="underline--509a9",uz="name--e436e",Ir="value--cb00e",Tr="isFF--9299a",vr="onboarding--53bda",zr="landscape--b1308",rr=[["betLimits.sixLines",1e4],["betLimits.fiveLines",1e3],["betLimits.fourLines",250],["betLimits.threeLines",50],["betLimits.twoLines",5],["betLimits.oneLine",1]],Kr=1e6,nr=vI.PA((I=>z.jsx("div",{className:I.className,children:z.jsx("div",{className:RI.A(Qz,{[vr]:I.isOnboarding,[zr]:I.orientation===GT.t.Landscape}),children:rr.map((T=>{const[v,r]=T,K=Math.min(Number(r)*I.betting.playerCardValue*(I.multiplier||1),I.payoutLimit),n=G.ej(K),l=Nz.i(K),a=K<Kr,S=a?void 0:function(T){const{x:v,y:z}=Yv.F(T.currentTarget,I.isMobile||!1);I.betting.showBettingTooltip(v,z,`${I.currencySymbol} ${n}`,!0)},A={background:`linear-gradient(to right, ${I.colors[0]}, rgba(255, 255, 255, 0))`};return z.jsxs("div",{className:RI.A(Oz,{[Tr]:I.isFF}),children:[null!==I.betting.ui.blinkDirection&&z.jsx(oz.Z,{blinkDirection:I.betting.ui.blinkDirection}),z.jsx("div",{className:uz,children:nI.Y(v)}),z.jsxs("div",{"data-role":"payout-value",className:Ir,onMouseEnter:S,onClick:S,children:[I.currencySymbol," ",a?n:l]}),z.jsx("div",{className:kz,style:A})]},v)}))})})));var lr=v(604929);const ar=v.p+"images/card.198a21da.png",Sr=v.p+"images/diagonalwi.7cc5eb33.png",Ar=v.p+"images/verticalwi.a0ffd51b.png",Hr={winPatterns:"winPatterns--2e6c7",isOnboarding:"isOnboarding--eafa6",landscape:"landscape--d0738",hasNotch:"hasNotch--8df44",portrait:"portrait--25153",subtitle:"subtitle--126df",title:"title--b70a9"};var tr;(function(I){I["Horizontal"]="horizontal",I["Vertical"]="vertical",I["Diagonal"]="diagonal"})(tr||(tr={}));const br=[["C1","C2","C3","C4","C5","DLR"],["R1","R2","R3","R4","R5","DRL"]],Rr=[["R1","R2","R3","R4","R5"]],Fr=[["C1","C2","C3","C4","C5"]],fr=[["DLR","DRL"]],xr=[["C1","C2","C3"],["C4","C5","DLR"],["R1","R2","R3"],["R4","R5","DRL"]],Dr=5,qr={[GT.t.Portrait]:{width:300,height:500},[GT.t.Landscape]:{width:500,height:300}},Jr=K.sH({images:null}),yr=K.XI((I=>{Jr.images={card:I[0],verticalLine:I[1],diagonalLine:I[2]}}));function Vr(I,T,v,z=!0){const r=document.createElement("canvas");if(r.width=T,r.height=v,z){const z=r.getContext("2d");null==z||z.drawImage(I,0,0,T,v)}return r}function Cr({orientation:I,type:T,maxCardsPerRow:v}){const r=function(I,T,v){const z=function(I,T){switch(T){case tr.Vertical:return Fr;case tr.Horizontal:return Rr;case tr.Diagonal:return fr;default:return I===GT.t.Portrait?xr:br}}(I,T),r=qr[I].width*zz.mZ(),K=z[0].length,n="number"==typeof v?v:K,l=Math.floor(r/((n-1)*Dr*2)),a=Math.floor((r-l*(n-1))/n),S=n-K;return{grid:z,cellSize:a/Dr,cardGap:l,cardSize:a,width:n*(a+l)-l,height:z.length*(a+l)-l,xOffset:S>0?(S*(a+l)-l)/2:0}}(I,T,v),K=zI.useCallback((I=>{null!==I&&Jr.images&&function(I,T,{grid:v,cellSize:z,cardSize:r,cardGap:K,xOffset:n}){const l=Vr(T.card,r,r),a=Vr(T.verticalLine,z,r),S=Vr(T.verticalLine,r,r,!1),H=S.getContext("2d");H&&(H.translate(0,z),H.rotate(-90*Math.PI/180),H.drawImage(T.verticalLine,0,0,z,r));const t=Vr(T.diagonalLine,r,r),b=Vr(T.diagonalLine,r,r,!1),R=b.getContext("2d");R&&(R.translate(r,0),R.scale(-1,1),R.drawImage(T.diagonalLine,0,0,r,r));const F=I.getContext("2d");if(!F)throw new A.bE("Cannot get canvas context to render win patterns","CanvasContext");v.forEach(((I,T)=>{I.forEach(((I,v)=>{const A=v*(r+K)+n,H=T*(r+K);F.drawImage(l,A,H);const R=I[0],f=Number(I[1]);switch(R){case"C":{const I=A+z*(f-1);F.drawImage(a,I,H);break}case"R":{const I=H+z*(f-1);F.drawImage(S,A,I);break}case"D":F.drawImage("DRL"===I?b:t,A,H)}}))}))}(I,Jr.images,r)}),[I,Jr.images]);return z.jsx("canvas",{ref:K,width:r.width,height:r.height})}const ir=vI.PA((I=>{Jr.images||Promise.all([lr.y(ar),lr.y(Ar),lr.y(Sr)]).then(yr);const{isOnboarding:T,className:v,orientation:r=GT.t.Landscape,hasNotch:K}=I;if(T){const I=Object.values(tr),T={[tr.Horizontal]:nI.Y("winPatterns.horizontal"),[tr.Vertical]:nI.Y("winPatterns.vertical"),[tr.Diagonal]:nI.Y("winPatterns.diagonal")},n=Math.max(...[Fr,Rr,fr].map((I=>I[0].length)));return z.jsx("div",{className:RI.A(Hr.winPatterns,Hr.isOnboarding,Hr[r],v,{[Hr.hasNotch]:K}),children:I.map((I=>z.jsxs(zI.Fragment,{children:[z.jsx("div",{className:RI.A(Hr.subtitle),children:T[I]}),z.jsx(Cr,{type:I,maxCardsPerRow:n,orientation:r})]},I)))})}return z.jsxs(z.Fragment,{children:[z.jsx("div",{className:RI.A(Hr.title),children:nI.Y("winPatterns")}),z.jsx("div",{className:RI.A(Hr.winPatterns,v),children:z.jsx(Cr,{orientation:r})})]})})),cr={view:"view--66e46",howToPlayView:"howToPlayView--64d70",image:"image--7eca4",cards:"cards--a7de6",payouts:"payouts--211ab",patterns:"patterns--0bae8",payoutPanel:"payoutPanel--b67b7",item:"item--e1296",description:"description--baa22",onboardingPopup:"onboardingPopup--f2a2c",landscape:"landscape--e5459",patternsView:"patternsView--c0d18"};var Er;(function(I){I["PayoutPanel"]="payoutPanel",I["OnboardingPopup"]="onboardingPopup"})(Er||(Er={}));const Xr=I=>{const{className:T,location:v,orientation:r,isMobile:K,maxCardsCount:n}=I;return z.jsx("div",{className:cr.view,children:z.jsxs("div",{className:RI.A(T,cr.howToPlayView,[cr[v||Er.OnboardingPopup]],{[cr.landscape]:K&&r===GT.t.Landscape}),children:[z.jsxs("div",{className:cr.item,children:[z.jsx("div",{className:RI.A(cr.image,cr.cards),"data-role":"howtoplay-buyuptoncards-image"}),z.jsx("div",{className:cr.description,children:nI.Y("onboarding.buyUpToNCards",{count:n})})]}),z.jsxs("div",{className:cr.item,children:[z.jsx("div",{className:RI.A(cr.image,cr.patterns),"data-role":"howtoplay-morelines-image"}),z.jsx("div",{className:cr.description,children:nI.Y("onboarding.moreLines")})]}),z.jsxs("div",{className:cr.item,children:[z.jsx("div",{className:RI.A(cr.image,cr.payouts),"data-role":"howtoplay-multipliers-image"}),z.jsx("div",{className:cr.description,children:nI.Y("onboarding.multipliers")})]})]})})},Pr=I=>{const{game:{settings:T,betting:v,balls:{ui:r}},baseColors:K,orientation:n,isMobile:l,className:a}=I,S=r.lastMultiplier&&r.lastMultiplier>=5?r.lastMultiplier:void 0,A=HI.V((I=>I.currencySymbol));return z.jsx("div",{className:cr.view,children:z.jsx("div",{className:a,children:z.jsx(nr,{currencySymbol:A,betting:v,payoutLimit:T.bingoPayoutLimit(),colors:K,orientation:n,isOnboarding:!0,multiplier:S,isMobile:l})})})},Gr=({className:I,orientation:T,hasNotch:v})=>z.jsx("div",{className:cr.view,children:z.jsx("div",{className:RI.A(I,cr.patternsView),children:z.jsx(ir,{isOnboarding:!0,hasNotch:v,orientation:T})})}),hr="onboarding--d9b1b",Br="title--81674",_r="hasBoldTitle--ec93e",dr=({className:I,hasBoldTitle:T,isMobile:v,maxCardsCount:r})=>z.jsxs(z.Fragment,{children:[z.jsx("div",{className:RI.A(Br,{[_r]:T}),children:nI.Y("expandedHowToPlayOnboarding")}),z.jsx("div",{className:RI.A(hr,I),"data-role":"payout-onboarding",children:z.jsx(Xr,{location:Er.PayoutPanel,isMobile:v,maxCardsCount:r})})]}),wr="payoutTable--be56f",$r="isOpen--0b6a0",pr="isClassic--53ea8",Yr="hasOnboarding--54535",gr="winPatterns--e632b",Lr="onboarding--a33d4",Zr="payouts--067d8",mr="label--77320",Wr="switchPatternButton--4c80b",er="switchIcon--fc015",sr="flash--35c34",Mr="hiddenItems--dcdbb",jr=225,Ur=45,Nr="16 40",or="16 -9";let Qr=class extends zI.Component{constructor(){super(...arguments),this.onMouseOver=I=>{const{game:{session:T},isClassic:v}=this.props;T.isLeftPanelOpened||this.showExtendedPanelTooltip(I,!v)},this.onMouseLeave=()=>{const{game:{session:I}}=this.props;I.hideLeftPanelTooltip()},this.onClick=()=>{const{game:{session:I},sounds:T}=this.props;T.playSound(OT.Wo.ClickUIButton,!1),I.toggleLeftPanel()},this.onPanelClick=()=>{const{game:{session:I}}=this.props;I.toggleLeftPanelFlashing()}}render(){const{game:{session:{isLeftPanelOpened:I,isLeftPanelFlashing:T},settings:v,betting:r,baseColors:K,balls:{ui:{lastMultiplier:n}}},isClassic:l=!1,currencySymbol:a}=this.props,S=!l,A=`\n            translate(${I?or:Nr})\n            rotate(${I?Ur:jr})\n        `;return z.jsxs("div",{"data-role":"payout-panel",onClick:this.onPanelClick,className:RI.A(wr,{[$r]:I,[pr]:l,[Yr]:I&&S}),children:[I&&z.jsxs("div",{className:RI.A(Mr,{[pr]:l}),children:[S&&z.jsx(dr,{className:Lr,isMobile:v.DeviceSupport.IS_PHONE,hasBoldTitle:!0,maxCardsCount:v.maxCardsCount()}),z.jsx(ir,{className:gr})]}),z.jsxs("div",{"data-role":"toggle-button",className:RI.A(Wr,{[$r]:I,[pr]:l}),onClick:this.onClick,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,children:[T&&z.jsx("div",{className:sr}),z.jsx("svg",{viewBox:"0 0 30 30",className:er,xmlns:"http://www.w3.org/2000/svg",children:z.jsx("polygon",{points:"20,8 23,8 23,23 8,23 8,20 20,20",transform:A})})]}),z.jsx("div",{className:RI.A(mr,{[$r]:I,[pr]:l}),children:void 0!==n?nI.Y("megaPaytable"):nI.Y("paytable")}),z.jsx(nr,{className:RI.A(Zr,{[$r]:I,[pr]:l}),currencySymbol:a,payoutLimit:v.bingoPayoutLimit(),betting:r,colors:K,isFF:v.DeviceSupport.IS_FIREFOX,multiplier:n})]})}showExtendedPanelTooltip(I,T){const{game:v}=this.props,z=T?"expandWinAndOnboarding":"expandWin",{x:r,y:K}=Yv.F(I.currentTarget,!1);v.session.showLeftPanelTooltip(r,K,nI.Y(z),!0)}};Qr=aT.Cg([vI.PA],Qr);const Or="winMessage--03042",kr="visible--894a5";let ur=class extends zI.Component{constructor(I){super(I),this.onClick=()=>{const{game:I}=this.props;I.rng.isRng&&I.rng.startNewGame()},this.getMessageLabels=(I,T,v)=>{let z;switch(T.result.ballsToWin){case 1:z=nI.Y("result.oneBall.uppercase");break;case 2:z=nI.Y("result.twoBalls.uppercase");break;case 3:z=nI.Y("result.threeBalls.uppercase");break;default:z=nI.Y("result.fourBalls.uppercase")}return{firstLine:I?z:nI.Y("youWin"),secondLine:I?nI.Y("result.away.uppercase"):G.ej(T.result.winAmount,{currencySymbol:v,decimalThreshold:void 0})}},this.state={isVisible:!1}}componentDidMount(){const{game:I}=this.props;I.result.winAmount&&I.rng.winningAnimationStarted(),this.timeoutId=setTimeout((()=>{this.setState({isVisible:!0})}))}componentWillUnmount(){clearTimeout(this.timeoutId)}render(){const{game:I,game:{cards:T},className:v,orientation:r,isClassic:K,currencySymbol:n}=this.props,{isVisible:l}=this.state,a=0===I.result.winAmount,{firstLine:S,secondLine:A}=this.getMessageLabels(a,I,n),H=I.settings.hideYouWinOnLowCelebration()?I.result.winAmount<=I.balance.totalBet:a,t=z.jsx(sz.E,{"data-role":"game-result",firstLine:S,secondLine:A,hasLost:H,colors:T.biggestMultiplier?rT.d9[T.biggestMultiplier]:["#00534D","#009F92"]});return z.jsx(iz.s,{className:RI.A(Or,v,l&&kr),style:Mz(I,r,K),"data-role":"win-message",onClick:this.onClick,children:t})}};ur=aT.Cg([vI.PA],ur);const IK="overlayStatus--ad1a9",TK="hidden--5fe23",vK="gradient--957d4",zK="phone--a073c",rK=({hasGradient:I=!0,hidden:T=!1,isPhone:v=!1,children:r})=>z.jsx("div",{className:RI.A(IK,{[vK]:I,[TK]:T,[zK]:v}),"data-role":"status-text",children:r});rK.displayName="OverlayStatus";const KK=({message:I,delay:T,className:v,isPhone:r})=>{const[K,n]=zI.useState(!1);return zI.useEffect((()=>{if(T){const I=window.setTimeout((()=>{n(!0)}),T);return()=>{window.clearTimeout(I)}}n(!1)}),[T]),z.jsx("div",{className:v,"data-role":"traffic-light-message",children:z.jsx(rK,{isPhone:r,hidden:K,hasGradient:!0,children:I})})},nK="fadeOut--32985";let lK=class extends zI.Component{render(){var I;const{state:T,Panel:v,isInIframe:r}=this.props,{game:K}=T;if(!K)return null;const n=this.getStyles(K),l=T.abstractGameAdapter.orientation,a=T.abstractGameAdapter.currencySymbol,S=T.abstractGameAdapter.currentLayout===O.LayoutType.Classic,A=K.settings.DeviceSupport.IS_DESKTOP,H=K.settings.DeviceSupport.IS_TABLET,t=T.abstractGameAdapter.gamePaused,b=K.rng.isRng,R=K.cards.ui.expectedBallsLinesCount>2&&2!==K.cards.displayedCards.length,F=z.jsx(bz,{game:K,orientation:l,isClassic:S,className:RI.A(n.cardsContainer,K.cards.ui.isBetPanelVisible&&n.isBetPanelVisible,S&&!K.cards.hasBoughtCards&&n.isClassicWithNoCards,R&&n.shrunkContainer)},"cardsContainer"),f=K.cards.ui.isBetPanelVisible?z.jsx(xz,{game:K,orientation:l,className:n.cardsCounter}):null,x=K.cards.selectedCards&&z.jsx(Zz,{game:K,selectedCards:K.cards.selectedCards,className:RI.A(n.selectedCardPopup,K.phase===AT.Qc.BetsOpened&&n.isBetPanelVisible)}),D=z.jsx(wv,{game:K,currencySymbol:a,className:RI.A(n.betPanelContainer,K.betting.ui.isSmallBundleSize&&n.isSmallBundleSize),sounds:T.sounds,orientation:l,isInIframe:!!r,isGlowing:!1},"betPanel"),q=K.cards.isGhostCardsDisplayed&&K.betting.repeatInfo.enabled,J=!(K.phase!==AT.Qc.BetsOpened||K.cards.hasBoughtCards||q||K.time.isBettingClosingSoon||K.betting.repeatInfo.enabled),y=(K.phase===AT.Qc.BallDrawing||K.phase===AT.Qc.PowerBallDrawing||K.phase===AT.Qc.GameResolved)&&K.betting.isPlayerObserver,V=J?T.abstractGameAdapter.getStatusBarProps(!1,K.rng.hasSecondPowerBall).text:y?X.Tl("trafficlight.waitForNextGame2"):"",C=S?null:(J||y)&&z.jsx(KK,{message:V,isPhone:K.settings.DeviceSupport.IS_PHONE,delay:J?rT.hO:void 0,className:RI.A(n.immersiveTrafficLight,y&&n.waitForNextGame)}),i=A?z.jsx(PT,{game:K,powerBallHistory:T.multiplierHistory,isClassic:S,className:n.ballsContainer},"ballsContainer"):z.jsx(eT,{game:K,powerBallHistory:T.multiplierHistory,className:RI.A(n.ballsContainer,H&&n.isTablet,b&&n.isRng),orientation:l},"ballsContainer"),c=A?z.jsx(Qr,{currencySymbol:a,game:K,sounds:T.sounds,isClassic:S},"desktopPayoutPanel"):void 0,E=v?z.jsx(v,{isLeftPanelOpened:K.session.isLeftPanelOpened,rightChildren:S?c:i,leftChildren:S?i:c},"ballsPayoutPanel"):i,P=S||t||b?null:z.jsx(ez,{className:n.countdownContainer},"countdown"),G=K.phase===AT.Qc.PowerBallDrawing?K.rng.isRng&&K.rng.hasSecondPowerBall&&!K.rng.hasSecondMultiplierLanded?K.rng.secondPowerBallMultiplier:!K.rng.isRng&&2===K.balls.powerBalls.length&&K.balls.lastPowerBall?K.balls.lastPowerBall.multiplier:void 0:void 0;switch(K.phase){case AT.Qc.BallDrawing:case AT.Qc.PowerBallDrawing:const T=G?z.jsx(Uz,{game:K,className:n.winMessageContainer,isClassic:S,orientation:l,powerBallMultiplier:(null===(I=K.balls.firstPowerBall)||void 0===I?void 0:I.multiplier)||1},"doubleBallMessage"):null;return z.jsxs(z.Fragment,{children:[T,f,F,D,x,E,C]});case AT.Qc.GameResolved:const v=K.result.winAmount>0||K.result.ballsToWin>0?z.jsx(ur,{game:K,currencySymbol:a,className:n.winMessageContainer,orientation:l,isClassic:S},"winMessage"):null;return z.jsxs(z.Fragment,{children:[v,F,f,D,x,E,C]});case AT.Qc.BetsOpened:return z.jsxs(z.Fragment,{children:[F,f,D,x,P,E,C]})}}getStyles(I){const{styles:T}=this.props,v=I.time.isGameEnding,z=I.cards.isGhostCardsDisplayed,r=["betPanelContainer"];return Object.keys(T).reduce(((I,K)=>(I[K]=RI.A(T[K],{[nK]:!r.includes(K)&&v&&!z}),I)),{})}};lK=aT.Cg([vI.PA],lK);const aK="panel--f570d",SK="leftPanel--d518d",AK="rightPanel--640b3",HK="background--6a0fa",tK=({leftChildren:I,rightChildren:T,isLeftPanelOpened:v,isRightPanelOpened:r})=>z.jsxs(z.Fragment,{children:[z.jsxs("div",{"data-role":"desktop-left-panel",className:RI.A(aK,SK,{[HK]:v}),children:[" ",I]}),z.jsxs("div",{"data-role":"desktop-right-panel",className:RI.A(aK,AK,{[HK]:r}),children:[" ",T]})]}),bK="panel--4be9f",RK="firstChild--f6f78",FK="secondChild--03c64",fK=({rightChildren:I,leftChildren:T})=>z.jsxs("div",{className:bK,children:[z.jsx("div",{className:RK,children:I}),z.jsx("div",{className:FK,children:T})]}),xK={desktopLayout:"desktopLayout--636fa",cardsCounter:"cardsCounter--8cfe5",immersive:"immersive--e5e1e",immersiveTrafficLight:"immersiveTrafficLight--a8361",ballDrawingPhase:"ballDrawingPhase--72df3",waitForNextGame:"waitForNextGame--95720",ballsContainer:"ballsContainer--7f76c",betPanelContainer:"betPanelContainer--e4dcf",cardsContainer:"cardsContainer--cc3c7",isBetPanelVisible:"isBetPanelVisible--e11c9",selectedCardPopup:"selectedCardPopup--c420e",winMessageContainer:"winMessageContainer--5d320",countdownContainer:"countdownContainer--33ca5",classic:"classic--c1fb4",isSmallBundleSize:"isSmallBundleSize--8d1a8",isClassicWithNoCards:"isClassicWithNoCards--4cea6",messagesWinnersChatContainer:"messagesWinnersChatContainer--d1abb",bottomGradient:"bottomGradient--2e991",trafficLight:"trafficLight--33cd9"};let DK=class extends zI.Component{render(){const{bingoState:I}=this.props,T=I.abstractGameAdapter.currentLayout===O.LayoutType.Classic;return z.jsxs("div",{"data-role":"desktop-layout",className:RI.A(xK.desktopLayout,T?xK.classic:xK.immersive),children:[!T&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:xK.messagesWinnersChatContainer,children:z.jsx(ST.C,{isExtendedToFullHeight:!1,hasQuickChat:!0,isReversed:!0,hasWinnersList:!0})}),z.jsx("div",{className:xK.bottomGradient})]}),z.jsx(lK,{state:I,styles:xK,Panel:T?fK:tK})]})}};DK=aT.Cg([vI.PA],DK);const qK=({children:I})=>z.jsxs(z.Fragment,{children:[z.jsx(SI.iZ,{}),z.jsx(AI.k,{}),I,z.jsx(bI.m,{})]}),JK=vI.PA((({bingoState:{settings:I}})=>{const T={currencySymbol:HI.V((I=>I.currencySymbol)),isMobile:!1,min:I.bingoCardMinBet(),max:I.bingoCardMaxBet(),payoutLimit:I.bingoPayoutLimit()};return z.jsx(zT,{...T})}));function yK(I){return{LayoutBetLimitsBody:()=>z.jsx(JK,{bingoState:I}),GameOverlays:()=>z.jsx(DK,{bingoState:I}),Layouts:{...tI.Layouts,[O.LayoutType.ImmersiveV2]:qK},HelpComponentListCreator:lI,HelpCreator:aI,WinnerListMultiplierComponents:{WinnerMultiplier:nT}}}const VK=vI.PA((I=>{var T;const v=null===(T=I.bingoState.serverTableState.game)||void 0===T?void 0:T.player,r=v&&(v.status===AT.Mi.Betting||v.status===AT.Mi.WaitForNextGame)&&v.repeatInfo&&0!==v.repeatInfo.cost?v.repeatInfo:null,K=!v||v.status!==AT.Mi.Participant&&v.status!==AT.Mi.Betting?0:v.betAmount,n=!v||v.status!==AT.Mi.Participant&&v.status!==AT.Mi.Betting?0:v.cards.length,l=HI.V((I=>I.currencySymbol)),a=[`${nI.Y("valueOfCards")}:`,l,r?r.betAmount:K].filter((I=>I)).join(" ");return z.jsxs("div",{children:[nI.Y("amountOfCards"),": ",r?r.count:n,z.jsx("br",{}),a]})}));var CK=v(132006),iK=v(25581),cK=v(897899),EK=v(744327);const XK=({betMinLimit:I,betMaxLimit:T,currencySymbol:v,tableMinLimit:r,tableMaxLimit:K,tableName:n,tBodyComponent:l,preSection:a,areLimitsInlined:S=!1,hideTitle:A=!1,isTablet:H=!1,showPayouts:t,legacyMenuMode:b})=>{const R=zI.useContext(CK.lv),F=zI.useMemo((()=>xI.Q({lowerLimit:I,upperLimit:T,currencySymbol:v})),[I,T,v]),f=zI.useMemo((()=>{if(K&&r)return xI.Q({lowerLimit:r,upperLimit:K,currencySymbol:v})}),[r,K,v]);return z.jsxs(z.Fragment,{children:[z.jsx(iK.y,{className:EK.A.container,useMobileScrollable:!0,dataRole:b?void 0:"drawer-scrollable",hasContentFadeOut:!b,refCallback:null==R?void 0:R.assignScrollable,children:z.jsxs("div",{className:EK.A.scrollContainer,children:[!A&&z.jsxs("div",{className:RI.A(EK.A.tableInfo,{[EK.A.tablet]:H}),children:[z.jsxs("div",{children:[`${X.Tl("table")}: `,z.jsx("span",{className:EK.A.tableName,children:n})]}),z.jsxs("div",{children:[z.jsx("span",{children:X.Tl("betlimits3")}),"",z.jsx("span",{className:EK.A.limits,children:F})]}),!!f&&z.jsxs("div",{"data-role":"table-limits",children:[z.jsx("span",{children:X.Tl("tableLimits3")}),"",z.jsx("span",{className:EK.A.limits,children:f})]})]}),a,z.jsxs("table",{className:EK.A.table,children:[z.jsx(cK.V,{isMobile:!0,areLimitsInlined:S,showPayouts:t,legacyMenuMode:b}),l]})]})}),b&&z.jsx("div",{className:RI.A(EK.A.shadow,{[EK.A.tablet]:H})})]})};XK.displayName="MobileBetLimitsAndPayoutsTable";const PK=vI.PA((({bingoState:{abstractGameAdapter:I,settings:T}})=>{const v=I.settings.DeviceSupport.IS_TABLET,r=T.bingoCardMinBet(),K=T.bingoCardMaxBet(),n=T.getTableName(),l=HI.V((I=>I.currencySymbol)),a={currencySymbol:l,isMobile:!0,min:r,max:K,payoutLimit:T.bingoPayoutLimit()};return z.jsx(XK,{currencySymbol:l,betMinLimit:r,betMaxLimit:K,isTablet:v,tableName:n,tBodyComponent:z.jsx(zT,{...a})})})),GK="gradient--b1a60",hK=({colors:I})=>{var T;const v=I||(null===(T=N.W0.brandedClothGradient())||void 0===T?void 0:T.dark)||"0, 0, 0";return z.jsx("div",{className:GK,style:{background:`linear-gradient(to bottom, rgba(${v}, 0), rgb(${v}), rgba(${v}, 0))`},"data-role":"video-bottom-gradient"})};hK.displayName="VideoBottomGradient";const BK="bottomGradient--34df2",_K="landscape--767d3",dK=vI.PA((({bingoState:I})=>{const{orientation:T,currentBackgroundColors:v}=I.abstractGameAdapter;return z.jsxs(z.Fragment,{children:[z.jsx(hK,{colors:v.dark}),z.jsx("div",{className:RI.A(BK,{[_K]:T===GT.t.Landscape})})]})}));var wK=v(866302),$K=v(875915),pK=v(13866),YK=v(626239);const gK=({className:I})=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 38",fillRule:"evenodd",className:I,children:[z.jsxs("g",{fill:"#fff",children:[z.jsx("path",{d:"M2.332 3.397h8.77v8.77h-8.77z"}),z.jsx("path",{fillOpacity:"0.6",d:"M13.537 3.397h8.77v8.77h-8.77zm11.206 0h8.77v8.77h-8.77zM2.332 14.602h8.77v8.77h-8.77z"}),z.jsx("path",{d:"M13.537 14.602h8.77v8.77h-8.77z"}),z.jsx("path",{fillOpacity:".6",d:"M24.743 14.602h8.77v8.77h-8.77zM2.332 25.807h8.77v8.77h-8.77zm11.205 0h8.77v8.77h-8.77z"}),z.jsx("path",{d:"M24.743 25.807h8.77v8.77h-8.77z"})]}),z.jsx("path",{fill:"#b2afad",d:"M1.692.865l34.08 34.787-1.698 1.728L-.005 2.594z"})]});var LK=v(508730);const ZK="titleIcon--94c99",mK="tabs--56bb3",WK="container--54126",eK="tab--72e88",sK="active--9a5d6",MK="view--ee143",jK={width:"100%",overflow:"visible",boxSizing:"border-box"},UK=495,NK=420,oK=["onboarding.howToPlay","onboarding.payouts","onboarding.patterns"],QK=({name:I,index:T,activeViewIndex:v,game:r})=>{const{session:K}=r,n=zI.useCallback((()=>{K.changeMobileOnboardingViewIndex(T)}),[K,T]);return z.jsx("div",{className:RI.A(eK,{[sK]:T===v}),onClick:n,children:I})},OK=vI.PA((({state:I,orientation:T,sounds:v})=>{const{game:r,abstractGameAdapter:K}=I,n=$K.O((I=>I.featureHighlighting.resume)),l=zI.useCallback((()=>{v.playSound(OT.Wo.ClickUIButton,!1),null==r||r.session.toggleMobileOnboarding(),n(O.HighlightedFeature.LanguageSwitcher)}),[null==r?void 0:r.session,v,n]),a=zI.useCallback((I=>{null==r||r.session.changeMobileOnboardingViewIndex(I)}),[null==r?void 0:r.session]),S=zI.useCallback((I=>K.createClientLog(LK.oi({message:I}))),[]);if(!r)return null;const{session:{mobileOnboardingActiveViewIndex:A,isMobileOnboardingOpened:H},settings:t}=r,{HAS_NOTCH:b}=t.DeviceSupport,R=[z.jsx(Xr,{className:MK,orientation:T,isMobile:!0,maxCardsCount:t.maxCardsCount()},1),z.jsx(Pr,{className:MK,game:r,baseColors:r.baseColors,orientation:T,isMobile:!t.DeviceSupport.IS_DESKTOP},2),z.jsx(Gr,{className:MK,orientation:T,hasNotch:b},3)];return z.jsx(pK._,{isLandscape:T===GT.t.Landscape,isOpen:H,isRtl:X.sU(),onClose:l,titleText:nI.Y("onboarding.title"),titleIcon:z.jsx(gK,{className:ZK}),landscape:{openWidth:`${NK}px`},portrait:{openHeight:`${UK}px`},DS:t.DeviceSupport,logClientInteractedWithDrawer:S,children:z.jsxs(YK.Xl,{children:[z.jsx("div",{className:mK,children:z.jsx("div",{className:WK,children:oK.map(((I,T)=>z.jsx(QK,{name:nI.Y(I),index:T,activeViewIndex:A,game:r},I)))})}),z.jsx("div",{"data-interactive":"true",children:z.jsx(wK.A,{disableLazyLoading:!0,enableMouseEvents:!1,ignoreNativeScroll:!0,style:jK,index:A,onChangeIndex:a,children:[...R]})})]})})}));var kK=v(28230);const uK={container:"container--c7eb1",portrait:"portrait--2ba29",landscape:"landscape--01f5d",closed:"closed--f69f5",opened:"opened--d9240",isTablet:"isTablet--4e02b",isRng:"isRng--8009d",isInIframe:"isInIframe--ca742",openerWrapper:"openerWrapper--cbd30",opener:"opener--9035e",background:"background--6c323",isMobile:"isMobile--e2347",combinationsIcon:"combinationsIcon--c2530",tooltip:"tooltip--86512"},In=3,Tn=vI.PA((({state:I,orientation:T,sounds:v,isRng:r})=>{const{session:{isMobileOnboardingOpened:K,isMobileOnboardingTooltipOpened:n,toggleMobileOnboardingTooltip:l,toggleMobileOnboarding:a},settings:S,game:A}=I,{IS_TABLET:H,IS_PHONE:t,IS_IN_IFRAME:b}=S.DeviceSupport,R=(null==A?void 0:A.phase)===AT.Qc.BetsOpened&&n&&!K,F=zI.useRef(0);zI.useEffect((()=>{R&&(F.current>=In&&l(),F.current++)}),[R]);const f="onboarding-popup-happening",x=$K.O((I=>I.featureHighlighting.pause)),D=$K.O((I=>I.featureHighlighting.resume));zI.useEffect((()=>{R?x(f):D(f)}),[R,x,D]);const q=zI.useCallback((()=>{l()}),[l]),J=zI.useCallback((()=>{v.playSound(OT.Wo.ClickUIButton,!1),a()}),[a,v]);return z.jsxs("div",{className:RI.A(uK.container,uK[T],{[uK.closed]:K,[uK.opened]:!K,[uK.isRng]:r,[uK.isTablet]:H,[uK.isMobile]:t,[uK.isInIframe]:b}),"data-role":"onboarding-container",children:[z.jsx(kK.f,{visible:R,position:"LeftCenter",className:uK.tooltip,label:nI.Y("expandedHowToPlayOnboarding"),onClose:q,isLandscape:T===GT.t.Landscape,isFloating:!0}),z.jsx(iz.s,{"data-role":"onboarding-pener",className:uK.openerWrapper,onClick:J,children:z.jsxs("div",{className:uK.opener,children:[z.jsx("div",{className:uK.background}),z.jsx(gK,{className:uK.combinationsIcon})]})})]})})),vn={mobileLayoutWrapper:"mobileLayoutWrapper--42491",mobileLayout:"mobileLayout--a97da",portrait:"portrait--9f8d9",immersiveTrafficLight:"immersiveTrafficLight--5da8b",ballDrawingPhase:"ballDrawingPhase--16c30",waitForNextGame:"waitForNextGame--f346e",ballsContainer:"ballsContainer--5db9b",isRng:"isRng--be3a2",isTablet:"isTablet--71ad2",betPanelContainer:"betPanelContainer--853ab",cardsContainer:"cardsContainer--72168",cardsCounter:"cardsCounter--54bcb",isBetPanelVisible:"isBetPanelVisible--9c3ee",shrunkContainer:"shrunkContainer--cd99b",selectedCardPopup:"selectedCardPopup--cd87e",winMessageContainer:"winMessageContainer--c7dc6",countdownContainer:"countdownContainer--fe566",landscape:"landscape--47748",isUCBrowser:"isUCBrowser--4cd80",isInIframe:"isInIframe--44657"};let zn=class extends zI.Component{render(){const{bingoState:I}=this.props,{abstractGameAdapter:{orientation:T,settings:v,gameDimensions:r},session:{isMobileOnboardingOpened:K},sounds:n,game:a}=I,S=!!(null==a?void 0:a.rng.isRng),A=v.DeviceSupport.IS_UCBROWSER,H=v.DeviceSupport.IS_IN_IFRAME&&r.height<320,t=v.showOnboardingMobileToggle(),b={state:I,orientation:T,sounds:n,gameDimensions:r};return z.jsxs("div",{"data-role":"mobile-layout",className:vn.mobileLayoutWrapper,children:[z.jsx(l.MobileSafeContainerConnected,{isRng:S,children:z.jsx("div",{className:RI.A(vn.mobileLayout,vn[T],{[vn.isUCBrowser]:A,[vn.isInIframe]:H}),children:z.jsx(lK,{state:I,styles:vn,isInIframe:H})})}),t&&z.jsx(Tn,{...b}),K&&z.jsx(OK,{...b})]})}};zn=aT.Cg([vI.PA],zn);const rn={tabletLayout:"tabletLayout--74baa",ballsContainer:"ballsContainer--1e4a8",cardsCounter:"cardsCounter--ae2e3",cardsContainer:"cardsContainer--9f280",isBetPanelVisible:"isBetPanelVisible--28c2b",betPanelContainer:"betPanelContainer--a9d86",selectedCardPopup:"selectedCardPopup--c109e",winMessageContainer:"winMessageContainer--410a5",immersiveTrafficLight:"immersiveTrafficLight--b93a5",ballDrawingPhase:"ballDrawingPhase--5d383",waitForNextGame:"waitForNextGame--d7d31",countdownContainer:"countdownContainer--92502",playButton:"playButton--0d8f1",playModeButton:"playModeButton--9d6ef",bottomGradient:"bottomGradient--5530d"};let Kn=class extends zI.Component{render(){const{bingoState:I}=this.props,{abstractGameAdapter:{orientation:T,settings:v,gameDimensions:r},sounds:K}=I,n=v.showOnboardingMobileToggle(),l={state:I,orientation:T,sounds:K,gameDimensions:r};return z.jsxs(z.Fragment,{children:[z.jsxs("div",{"data-role":"tablet-layout",className:rn.tabletLayout,children:[z.jsx("div",{className:rn.bottomGradient}),z.jsx(lK,{state:I,styles:rn}),n&&z.jsx(Tn,{...l})]}),n&&z.jsx(OK,{...l})]})}};Kn=aT.Cg([vI.PA],Kn);const nn=380,ln=190;function an(I,T,v,z,r=!1){var K,n,l,a,S;const{padding:H,radius:t}=z,b=I-2*H,R=I-H-(null!==(K=z.paddingBottom)&&void 0!==K?K:H),F=Math.round(b/5),f=Math.round(R/5),x=document.createElement("canvas");x.height=I,x.width=I;const D=x.getContext("2d");if(!D)throw new A.bE("Cannot get canvas context to render card","CanvasContext");z.color&&(D.fillStyle=z.color,D.globalAlpha=null!==(n=z.alpha)&&void 0!==n?n:1,D.beginPath(),D.moveTo(t,0),D.arcTo(I,0,I,t,t),D.arcTo(I,I,I-t,I,t),D.arcTo(0,I,0,I-t,t),D.arcTo(0,0,t,0,t),D.fill()),D.fillStyle=T.color,D.globalAlpha=null!==(l=T.alpha)&&void 0!==l?l:1,D.translate(H,H),D.beginPath(),D.moveTo(t,0),D.arcTo(b,0,b,t,t),D.arcTo(b,R,b-t,R,t),D.arcTo(0,R,0,R-t,t),D.arcTo(0,0,t,0,t),D.fill(),D.strokeStyle=v.color,D.globalAlpha=null!==(a=v.alpha)&&void 0!==a?a:1,D.lineWidth=1;for(let I=0;I<4;I++){const T=f*(I+1);D.beginPath(),D.moveTo(0,T),D.lineTo(b,T),D.stroke();const v=F*(I+1);D.beginPath(),D.moveTo(v,0),D.lineTo(v,R),D.stroke()}return r&&(D.fillStyle=v.color,D.globalAlpha=null!==(S=v.alpha)&&void 0!==S?S:1,D.fillRect(2*F,2*f,F,f)),x}function Sn(){const I=139,T=I/2,v=8,z=T-v/2,r=document.createElement("canvas");r.height=I,r.width=I;const K=r.getContext("2d");if(!K)throw new A.bE("Cannot get canvas context to render glass","CanvasContext");return K.fillStyle="rgba(112, 216, 201, 0.8)",K.lineWidth=v,K.strokeStyle="#fff",K.beginPath(),K.arc(T,T,z,0,2*Math.PI),K.fill(),K.shadowBlur=4,K.shadowColor="rgba(0, 0, 0, 0.5)",K.stroke(),r}function An(){const I=document.createElement("canvas");return I.height=1,I.width=1,I}const Hn=v.p+"images/cardnoise.f7d62b8c.png",tn=v.p+"images/card.459f5b58.svg",bn=v.p+"images/cardsmall.102912ba.svg",Rn=v.p+"images/cardsmallw.4837b4da.svg",Fn=v.p+"images/cardwin.e588995b.png",fn=v.p+"images/cardwithou.7b2df2c7.svg",xn=v.p+"images/dabexplosi.15575d96.png",Dn=v.p+"images/freebadge.58287175.png",qn=v.p+"images/glass.9f1cfb26.png",Jn=v.p+"images/mediumpurp.fa2e7f4e.png";function yn(I){const T=new Image;return T.crossOrigin="anonymous",new Promise(((v,z)=>{T.onload=()=>v(T),T.onerror=()=>z(new Error(`Image failed to load, path: "${I}"`)),T.src=I})).catch((I=>(window.EVO_LOADER.failed({reason:"images",failureDetails:I}),T)))}const Vn=K.Gn({cardImages:{card:an(nn,{color:"#051d1d",alpha:.81},{color:"#026958",alpha:.86},{padding:6,paddingBottom:56,radius:8}),cardSmall:an(ln,{color:"#233a3a",alpha:.77},{color:"#1ee0b9"},{padding:3,radius:5},!0),cardSmallWin:an(ln,{color:"#4d5c3c"},{color:"#1ee0b9"},{color:"#d8b85f",padding:3,radius:5}),cardWin:an(nn,{color:"#212214",alpha:.81},{color:"#2b8364",alpha:.86},{color:"#a88640",padding:6,paddingBottom:56,radius:8}),cardWithoutLabel:an(ln,{color:"#042b2b",alpha:.81},{color:"#107c66",alpha:.86},{color:"#168c89",padding:6,radius:8}),glass:Sn(),freeBadge:Sn(),dabExplosion:An(),cardLine:An()}},{cardImages:K.sH.ref});const Cn=function(I){let T=!1;return()=>{T||Promise.all(I.map((I=>I[1]))).then((v=>{const z=v.map((I=>function(I){if(function(I){return I instanceof HTMLImageElement}(I))return I;const T=document.createElement("canvas");T.height=I.height,T.width=I.width;const v=T.getContext("2d");if(!v)throw new A.bE("Cannot get canvas context to render image","CanvasContext");return v.drawImage(I,0,0),T}(I))),r=I.reduce(((I,T,v)=>({...I,[T[0]]:z[v]})),{});K.XI((()=>{Vn.cardImages=r}))(),T=!0}))}}([["card",(cn=yn(tn),En=yn(Hn),Promise.all([cn,En]).then((([I,T])=>{const v=document.createElement("canvas"),z=v.getContext("2d");if(!z)throw new A.bE("Cannot get canvas context to rassembel card","CanvasContext");return v.height=I.height,v.width=I.width,z.drawImage(I,0,0,v.width,v.height),z.drawImage(T,0,0,v.width,v.height),v})))],["cardSmall",yn(bn)],["cardSmallWin",yn(Rn)],["cardWin",yn(Fn)],["cardWithoutLabel",yn(fn)],["glass",yn(qn)],["freeBadge",yn(Dn)],["dabExplosion",yn(xn)],["cardLine",yn(Jn)]]);var cn,En;const Xn=v(160739).Mz(g.V6,g.Ay,((I,T)=>{const{boxHeight:v,boxWidth:z,containerHeight:r,containerWidth:K}=T;if(0===r)return[1,1];const n=K/r,l=z/v,a=Math.floor(K/r*100)/100<=.4?.35:.4;if(I===GT.t.Landscape){const I=Math.max(K/z,r/v);return[I,I]}const S=l/n*a;return[S,S]}));var Pn,Gn=v(616938),hn=v(625678),Bn=v(717236),_n=v(885537),dn=v(554267),wn=v(294851);function $n(){return{type:Pn.GetState}}function pn(){return{type:Pn.GetRepeatInfo}}(function(I){I["GetState"]="GetState",I["GetRepeatInfo"]="GetRepeatInfo",I["StartGame"]="StartGame",I["GenerateCards"]="GenerateCards",I["RemoveGeneratedCards"]="RemoveGeneratedCards",I["RemoveAllGeneratedCards"]="RemoveAllGeneratedCards",I["Repeat"]="RepeatLastGameGeneration",I["RepeatAndStartGame"]="RepeatAndStartGame",I["RegenerateCard"]="RegenerateCard",I["ChangeBetAmount"]="ChangeBetAmount"})(Pn||(Pn={}));var Yn=v(759576),gn=v(864442),Ln=v(993483);function Zn(){const I=gn.y();return Object.keys(I).reduce(((T,v)=>({...T,[v]:`${I[v]}`})),{})}function mn(I){const T=I.video.streamForCurrentLayout.value||"",v=I.network.latency.value;return{...Zn(),latency:void 0!==v?v.toString():void 0,videoProtocol:I.video.playerName.value,btVideoQuality:Ln.n6(I.video.quality.value),btTableView:`${T}`,orientation:I.orientation.value}}var Wn=v(923628),en=v(786596);function sn(I){const{totalWinnerCount:T,totalWinAmount:v}=I,z=[{type:en.Q.TotalWin,players:T,totalWin:v}];return I.winners.forEach((I=>{const T=I[0],v=I[1],r=function(I){const T=["winnersList.oneLine","winnersList.twoLines","winnersList.threeLines","winnersList.fourLines","winnersList.fiveLines","winnersList.sixLines"];return nI.Y(I>=6?T[5]:I>1?T[I-1]:T[0])}(T);z.push({type:en.Q.WinnersGroup,orderNr:T,group:r}),v.forEach((I=>{const{amountWon:T,screenName:v,multipliers:r}=I;z.push({type:en.Q.Winner,screenName:v,win:T,multiplier:r})}))})),z}var Mn=v(170510);const jn={containerHeight:0,containerWidth:0,left:0,top:0,width:0,height:0,boxHeight:0,boxWidth:0},Un=_n.O4.AlreadyDealt,Nn=[_n.O4.UnknownError,_n.O4.InvalidParameter,_n.O4.BetDoesNotExist],on={megaBallCardsValueChangedOnce:{storageKey:"megaball.common.cardsValueChangedOnce",getDefaultValue:()=>!1},megaBallCardsValueChangedOnceRng:{storageKey:"megaball.common.cardsValueChangedOnceRng",getDefaultValue:()=>!1},megaBallOnboardingViewCount:{storageKey:"megaball.common.onboardingViewCount",getDefaultValue:()=>0},megaBallOnboardingViewCountRng:{storageKey:"megaball.common.onboardingViewCountRng",getDefaultValue:()=>0},speedMode:{storageKey:(Qn="speedMode",On=U.DS.PLATFORM,kn=!0,Bn.$9({game:"megaball",platform:On,key:Qn,isRng:kn})),getDefaultValue:()=>dn.hR.Normal}};var Qn,On,kn;class un extends Mn.j{constructor(I,T,v){super(),this.settings=I,this.bingoState=T,this.sounds=v,this.balance=0,this.reservedBet=0,this.orientation=GT.t.Landscape,this.isFullscreen=!1,this.isGoingLive=!1,this.lastSelectedChip=0,this.gameDimensions=jn,this.playMode="realMoney",this.gamePaused=!1,this.status=b.XW.Connected,this.currentLayout=null,this.preferences=null,this.isPreviousTotalBetVisible=!1,this.gameType=hn.Z.MegaBall,this.currencySymbol="",this._ag=null,this.messageHandler=null,this.winnersList=null,this.winningAnimationStarted=()=>{this.ag.lifecycle.winningAnimationStarted()},this.increaseRepeatBetCount=()=>{this.ag.autoplayUI.increaseRepeatBetCount()},this.disposeTimeout=()=>{this.classicViewWinnersListTimeout&&window.clearTimeout(this.classicViewWinnersListTimeout)},this.defaultBackgroundColors=I.brandedClothGradient()||rT.Si,this.currentBackgroundColors=this.defaultBackgroundColors,this.backgroundColorChangeDelay=I.backgroundColorChangeDelay(),K.Gn(this)}init(I,T){this._ag=I,this.messageHandler=T,this.gameType=I.gameType;const v=this.subscribeToAg();I.transport.incomingMessages.onValue((I=>T.incomingMessageHandler(I))),I.video.mobile.disableScaleAnimation();const z=K.mJ((()=>{var I;return null===(I=this.bingoState.game)||void 0===I?void 0:I.cards.hasBoughtCards}),(T=>{I.betting.setHasValidBets(T||!1)})),r=()=>{if(this.gameType!==hn.Z.MegaBall||this.currentLayout!==O.LayoutType.PhoneV2||!this.bingoState.game||!this.bingoState.serverTableState.game)return;const{game:{balls:I,phase:T},serverTableState:{game:v}}=this.bingoState;switch(T){case AT.Qc.BetsOpened:{this.backgroundChangeTimeout&&(window.clearTimeout(this.backgroundChangeTimeout),this.backgroundChangeTimeout=void 0);const I=this.defaultBackgroundColors;this.setMobileBackgroundColors(I);break}case AT.Qc.PowerBallDrawing:if(v.player.status===AT.Mi.Participant){const{multiplier:T}=I.powerBalls[0],v=Wn.Mf(T);this.backgroundChangeTimeout=window.setTimeout((()=>{this.setMobileBackgroundColors(v,100)}),this.backgroundColorChangeDelay)}}},n=K.fm((()=>{if(this.bingoState.game){const I=this.bingoState.game.phase,{decisionTimer:T}=this.ag;switch(r(),I){case AT.Qc.BetsOpened:if(this.ag.lifecycle.openBets(),this.bingoState.game.time.secondsRemaining){let I=Number(this.settings.getTimerSoundTickingThreshold());Number.isNaN(I)&&(I=5),T.startTimer({initialValue:this.bingoState.game.time.secondsRemaining,animationStartTime:I})}break;case AT.Qc.BallDrawing:this.ag.isRngGame&&this.bingoState.serverTableState.game&&this.bingoState.serverTableState.game.player.status===AT.Mi.Participant&&this.ag.log(LK.le({gameDimensions:this.ag.gameDimensions.value,animationSpeed:this.bingoState.session.rngSpeedMode,layout:this.currentLayout})),this.ag.lifecycle.closeBets();break;case AT.Qc.GameResolved:this.ag.gameResult.setAmount(this.bingoState.game.result.winAmount),this.ag.lifecycle.resolveGame()}I!==AT.Qc.BetsOpened&&"Hidden"!==T.timerStatus.value&&T.hide(),I!==AT.Qc.GameResolved&&0!==this.ag.gameResult.amount.value&&this.ag.gameResult.setAmount(0),this.ag.isRngGame&&(I===AT.Qc.BetsOpened?this.ag.goLiveButton.enable():this.ag.goLiveButton.hide())}}),{delay:1}),l=K.mJ((()=>this.bingoState.serverTableState.error),(I=>{I&&(I.errorCode===Un&&this.ag.isRngGame&&null!==this.bingoState.serverTableState.game?this.showCurrencySwitchPopup(this.bingoState.serverTableState.game):this.showError(I.errorCode))})),a=K.fm((()=>{this.ag.statusBar.setProps(this.getStatusBarProps(this.currentLayout===O.LayoutType.Classic))})),S=K.mJ((()=>{var I,T;return{phase:null===(I=this.bingoState.serverTableState.game)||void 0===I?void 0:I.phase,errorCode:null===(T=this.bingoState.serverTableState.error)||void 0===T?void 0:T.errorCode}}),(({phase:I,errorCode:T})=>{I===AT.Qc.GameCancelled&&(this.ag.isRngGame&&Nn.includes(T)||this.ag.toasts.show({type:wn.C.ErrorMessageToast,props:{description:nI.Y(_n.D2),title:nI.Y(_n.Y6),reason:_n.y$(_n.D2)}}),this.ag.isRngGame&&(this.ag.log(LK.GL({gameDimensions:this.ag.gameDimensions.value,animationSpeed:this.bingoState.session.rngSpeedMode,layout:this.currentLayout})),this.handleRngGameCancelled()))})),A=K.mJ((()=>{var I,T,v;return null===(v=null===(T=null===(I=this.bingoState.game)||void 0===I?void 0:I.balls)||void 0===T?void 0:T.ui)||void 0===v?void 0:v.lastMultiplier}),(()=>{this.setClassicBackgroundColors(Wn.LG(this.bingoState))})),H=K.mJ((()=>{var I;return(null===(I=this.bingoState.game)||void 0===I?void 0:I.phase)===AT.Qc.BetsOpened}),(I=>{const T=this.currentLayout===O.LayoutType.Classic;I&&T&&this.ag.winnersList.hidden&&this.winnersList&&(this.ag.winnersList.setWinners(sn(this.winnersList)),this.winnersList=null)})),t=K.mJ((()=>this.currentLayout===O.LayoutType.Classic),(I=>{var T;I&&((null===(T=this.bingoState.game)||void 0===T?void 0:T.phase)===AT.Qc.GameResolved&&this.ag.winnersList.hide(),this.setClassicBackgroundColors(Wn.LG(this.bingoState)))})),b=K.mJ((()=>{var I,T;return null===(T=null===(I=this.bingoState.game)||void 0===I?void 0:I.time)||void 0===T?void 0:T.isBettingClosingSoon}),(I=>{I&&this.hideWinnersList()})),R=K.fm((()=>{const I=this.bingoState.serverTableState.game;I&&(this.ag.setGameRoundId(I.gameId),this.ag.setGameTime(I.number))}));if(!this.ag.isRngGame){const T=K.EW((()=>{var I;const T=null===(I=this.bingoState.game)||void 0===I?void 0:I.player;return T?T.status===AT.Mi.Participant&&T.betAccepted:null})).observe_((({newValue:T})=>{!0===T&&I.log(LK.le({gameDimensions:this.ag.gameDimensions.value,layout:this.currentLayout}))})),v=K.EW((()=>{var I;const T=null===(I=this.bingoState.game)||void 0===I?void 0:I.player;return T?T.status===AT.Mi.BetRejected:null})).observe_((({newValue:T,oldValue:v})=>{!0===T&&!1===v&&I.log(LK.GL({gameDimensions:this.ag.gameDimensions.value,layout:this.currentLayout}))}));this.onDispose(T,v)}const F=K.fm((()=>{var T;const v=!this.reservedBet&&this.balance<(this.settings.bingoCardMinBet()||0),z=(null===(T=this.bingoState.serverTableState.game)||void 0===T?void 0:T.player.status)===AT.Mi.Participant;v&&!z?I.balance.setLow():I.balance.setEnough()}));this.onDispose(v,n,S,l,A,t,H,R,b,a,this.disposeTimeout,F,z)}addTooltip(I,T,v,z,r,K){const{left:n,top:l}=function({x:I,y:T},v){return{left:I-(v.containerWidth-v.width)/2,top:T-(v.containerHeight-v.height)/2}}({x:I,y:T},this.gameDimensions);this.ag.tooltips.add({type:K,label:z,top:l,left:n,hasAnchor:r,id:v})}hideTooltip(I){this.ag.tooltips.hideByType(I)}send(I){var T;if(this.ag.isRngGame)null===(T=this.messageHandler)||void 0===T||T.sendMessage(I);else{const{type:T,args:v}=I;T!==Yn.gW.GenerateCards&&T!==Yn.gW.ChangeBetAmount&&T!==Yn.gW.Repeat||(v.betTags=mn(this.ag)),this.ag.transport.sendStandardMessage(null,{type:T,payload:v})}}sendRngMessage(I){this.ag.isRngGame&&this.messageHandler.sendRngMessage(I)}reserveBalanceForBet(I){this.ag.balance.reserveBet(I)}setLastSelectedChip(I){this.ag.betAmounts.selectBetAmount(I),this.sounds.stopSound(OT.Wo.SelectChip)}setAbstractGameTotalBet(I){this.ag.balance.setTotalBet(I)}setAbstractGameTotalBetToRepeat(I){this.ag.balance.setTotalBetToRepeat(I)}openPopup(I){this.ag.popups.open(I)}pauseBalanceUpdate(){this.ag.balance.pauseBalanceUpdate()}resumeBalanceUpdate(){this.ag.balance.resumeBalanceUpdate()}setServerBalance(I,T){this.ag.balance.setServerBalance(I,T)}updateServerBalanceFromPayload(I,T){this.ag.balance.updateFromPayload(I,T)}changeMusic(I){this.setMusicVolumeControl(I,!0)}createClientLog(I){this.ag.log(I)}setWinnersList(I){if(I.totalWinAmount<this.settings.bingoCardMinBet())return;this.winnersList=I;const{game:T}=this.bingoState;this.currentLayout===O.LayoutType.Classic?T&&(this.classicViewWinnersListTimeout=window.setTimeout((()=>{this.ag.winnersList.setWinners(sn(I))}),T.settings.resolvedTime()-2e3)):this.ag.winnersList.setWinners(sn(I))}hideWinnersList(){this.ag.winnersList.hide()}setClassicBackgroundColors(I){this.ag.layout.classic.setBackgroundColors(I)}setMobileBackgroundColors(I,T=0){this.ag.layout.mobile.setBackgroundColors(I,{transitionDuration:T}),this.currentBackgroundColors=I}setMegaBallCardsValueChangedOnce(){this.setUserPreference({key:"megaBallCardsValueChangedOnce",value:!0})}setMegaBallCardsValueChangedOnceRng(){this.setUserPreference({key:"megaBallCardsValueChangedOnceRng",value:!0})}setMegaBallOnboardingViewCount(I){this.setUserPreference({key:"megaBallOnboardingViewCount",value:I})}setMegaBallOnboardingViewCountRng(I){this.setUserPreference({key:"megaBallOnboardingViewCountRng",value:I})}setMusicVolumeControl(I,T=!1){this.setUserPreference({key:"volumeMusic",value:I,skipSavingToBackend:T})}setRngSpeedMode(I){this.setUserPreference({key:"speedMode",value:I})}getStatusBarProps(I=!1,T=!1){const{game:v}=this.bingoState;if(v)switch(v.phase){case AT.Qc.BetsOpened:{const T=v.time.secondsRemaining||0,z=T<=this.settings.getTimerSoundTickingThreshold(),r=T<1?"":T.toFixed(0);return{text:I?`${nI.Y(z?"betsclosing":"placebets")} ${r}`:nI.Y("trafficLight.buyCardsToPlaceBet"),color:z?"yellow":"green"}}case AT.Qc.BallDrawing:{if(v.betting.isPlayerObserver)return{text:nI.Y("trafficlight.waitForNextGame2"),color:"grey"};const I=rT.YF-v.balls.drawnBalls.length;return{text:`${I<1?"":I} ${nI.Y("ballsLeft.uppercase")}`,color:"grey"}}case AT.Qc.GameCancelled:return{text:nI.Y("gamecancelled"),color:"red"};case AT.Qc.PowerBallDrawing:return v.betting.isPlayerObserver?{text:I?nI.Y("trafficlight.waitForNextGame2"):2===v.balls.powerBalls.length?nI.Y("trafficLight.doubleMegaBall"):"",color:"grey"}:{text:nI.Y(this.ag.isRngGame&&T||2===v.balls.powerBalls.length?"trafficLight.doubleMegaBall":"trafficLight.megaBallTime"),color:"lightning"};case AT.Qc.GameResolved:if(v.betting.isPlayerObserver)return{text:nI.Y("trafficlight.waitForNextGame2"),color:"grey"};if(v.result.winAmount)return{text:nI.Y("youwon.new",{amount:G.ej(v.result.winAmount,{currencySymbol:this.currencySymbol})}),color:"gold"};switch(v.result.ballsToWin){case 1:return{text:`${nI.Y("result.oneBall")} ${nI.Y("result.away")}`,color:"gold"};case 2:return{text:`${nI.Y("result.twoBalls")} ${nI.Y("result.away")}`,color:"gold"};case 3:return{text:`${nI.Y("result.threeBalls")} ${nI.Y("result.away")}`,color:"gold"};default:return{text:`${nI.Y("result.fourBalls")} ${nI.Y("result.away")}`,color:"gold"}}}return{text:nI.Y("trafficlight.waitForNextGame2"),color:"grey"}}shouldUndoAllCards(I,T=!1){return this.ag.isRngGame&&I.player.status===AT.Mi.Betting&&(T?this.balance<0:I.player.totalBet>this.balance)}get isRng(){return this.gameType===hn.Z.RNGMegaBall}setUserPreference(I){this.ag.preferences.setPreferences(I)}showError(I){const T={errorId:`error_${I}`};this.ag.handleError(T)}showCurrencySwitchPopup(I){const T=I.player.status===AT.Mi.Betting&&I.player.totalBet>0,v=this.shouldUndoAllCards(I);if(!T||v)return;const z=x.W6({message:nI.Y("rewardGames.modeSwitch"),buttonIds:["Ok"],callback:()=>{this.send(Yn.VI(this.ag.gameRoundId.value))}});this.ag.popups.open(z)}handleRngGameCancelled(){var I;this.sendRngMessage(pn()),this.sendRngMessage($n()),this.bingoState.session.isAutoplayRunning&&(null===(I=this.ag.autoplay)||void 0===I||I.stop(f.G_.ManualStop))}get ag(){if(null===this._ag)throw new Error("Abstract Game is not set");return this._ag}subscribeToAg(){const I=this.ag.balance.available.subscribe(K.XI((I=>{this.balance=I||0}))),T=this.ag.balance.reserved.subscribe(K.XI((I=>{this.reservedBet=I||0}))),v=this.ag.orientation.subscribe(K.XI((I=>{this.orientation=I}))),z=this.ag.fullscreen.isInFullscreen.subscribe(K.XI((I=>{this.isFullscreen=I}))),r=this.ag.isGoingLive.subscribe(K.XI((I=>{this.isGoingLive=I}))),n=this.ag.autoplayUI.isPreviousTotalBetVisible.subscribe(K.XI((I=>{this.isPreviousTotalBetVisible=I}))),l=this.ag.gameDimensions.subscribe(K.XI((I=>{this.gameDimensions=I}))),a=this.ag.gamePaused.state.subscribe(K.XI((I=>{this.gamePaused=I}))),S=this.ag.betAmounts.lastSelectedAmount.subscribe(K.XI((I=>{this.lastSelectedChip=I}))),A=this.ag.network.status.subscribe(K.XI((I=>{this.status=I}))),H=this.ag.layout.current.subscribe(K.XI((I=>{this.currentLayout=I}))),t=this.ag.preferences.values.subscribe(K.XI((I=>{I&&(this.preferences=I,this.bingoState.session.setRngSpeedMode(I.speedMode))})),!1),b=this.ag.playMode.subscribe(K.XI((I=>{this.playMode=I}))),R=this.ag.currencySymbol.subscribe(K.XI((I=>{this.currencySymbol=I})));return()=>{I(),T(),v(),z(),r(),l(),a(),S(),A(),H(),t(),b(),n(),R()}}}aT.Cg([K.sH],un.prototype,"balance",void 0),aT.Cg([K.sH],un.prototype,"reservedBet",void 0),aT.Cg([K.sH],un.prototype,"orientation",void 0),aT.Cg([K.sH],un.prototype,"isFullscreen",void 0),aT.Cg([K.sH],un.prototype,"isGoingLive",void 0),aT.Cg([K.sH],un.prototype,"lastSelectedChip",void 0),aT.Cg([K.sH.ref],un.prototype,"gameDimensions",void 0),aT.Cg([K.sH],un.prototype,"playMode",void 0),aT.Cg([K.sH],un.prototype,"gamePaused",void 0),aT.Cg([K.sH],un.prototype,"status",void 0),aT.Cg([K.sH],un.prototype,"currentLayout",void 0),aT.Cg([K.sH],un.prototype,"currentBackgroundColors",void 0),aT.Cg([K.sH.ref],un.prototype,"preferences",void 0),aT.Cg([K.sH],un.prototype,"isPreviousTotalBetVisible",void 0),aT.Cg([K.sH],un.prototype,"currencySymbol",void 0);const Il=Object.prototype.hasOwnProperty;function Tl(I){return void 0===I?"undefined":null===I?"null":Array.isArray(I)||K.Fq(I)?"array":typeof I}function vl(I,T){if(I===T)return!0;const v=Tl(I),z=Tl(T);return"array"===v&&"array"===z?function(I,T){const v=I.length;if(v!==T.length)return!1;for(let z=0;z<v;z++)if(!vl(I[z],T[z]))return!1;return!0}(I,T):"object"===v&&"object"===z&&function(I,T){const v=Object.keys(I),z=Object.keys(T),r=v.length;if(r!==z.length)return!1;for(let z=0;z<r;z++){const r=v[z];if(!Il.call(T,r)||!vl(I[r],T[r]))return!1}return!0}(I,T)}function zl(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}function rl(I){return I.replace(/~/g,"~0").replace(/\//g,"~1")}class Kl{static fromJSON(I){const T=I.split("/").map(zl);if(""!==T[0])throw new Error(`Invalid JSON Pointer: ${I}`);return new Kl(T)}constructor(I=[""]){this.tokens=I}toString(){return this.tokens.map(rl).join("/")}evaluate(I){let T=null,v="",z=I;for(let I=1,r=this.tokens.length;I<r;I++)T=z,v=this.tokens[I],z=null==T?void 0:T[v];return{parent:T,key:v,value:z}}get(I){return this.evaluate(I).value}set(I,T){let v=I;for(let I=1,T=this.tokens.length-1,z=this.tokens[I];I<T;I++)v=null==v?void 0:v[z];v&&(v[this.tokens[this.tokens.length-1]]=T)}add(I){const T=this.tokens.concat(String(I));return new Kl(T)}}var nl=v(929307);const ll=Object.prototype.hasOwnProperty;function al(I,T){const v={};for(const T in I)ll.call(I,T)&&void 0!==I[T]&&(v[T]=1);for(const I in T)ll.call(T,I)&&void 0!==T[I]&&delete v[I];return Object.keys(v)}function Sl(I,T){return{operations:I.operations.concat(T),cost:I.cost+1}}function Al(I,T,v,z=Al){const r=Tl(I),K=Tl(T);return"array"===r&&"array"===K?function(I,T,v,z=Al){const r={"0,0":{operations:[],cost:0}},K=Number.isNaN(Number(I.length))||I.length<=0?0:I.length,n=Number.isNaN(Number(T.length))||T.length<=0?0:T.length,l=function v(z,K){const n=`${z},${K}`;let l=r[n];if(void 0===l){if(z>0&&K>0&&vl(I[z-1],T[K-1]))l=v(z-1,K-1);else{const r=[];if(z>0){const I=v(z-1,K),T={op:"remove",index:z-1};r.push(Sl(I,T))}if(K>0){const I=v(z,K-1),n={op:"add",index:z-1,value:T[K-1]};r.push(Sl(I,n))}if(z>0&&K>0){const n=v(z-1,K-1),l={op:"replace",index:z-1,original:I[z-1],value:T[K-1]};r.push(Sl(n,l))}l=r.sort(((I,T)=>I.cost-T.cost))[0]}r[n]=l}return l}(K,n).operations,[a]=l.reduce((([I,T],r)=>{if(function(I){return"add"===I.op}(r)){const z=r.index+1+T,n=z<K+T?String(z):"-",l={op:r.op,path:v.add(n).toString(),value:r.value};return[I.concat(l),T+1]}if(function(I){return"remove"===I.op}(r)){const z={op:r.op,path:v.add(String(r.index+T)).toString()};return[I.concat(z),T-1]}const n=v.add(String(r.index+T)),l=z(r.original,r.value,n);return[I.concat(...l),T]}),[[],0]);return a}(I,T,v,z):"object"===r&&"object"===K?function(I,T,v,z=Al){const r=[];return al(I,T).forEach((I=>{r.push({op:"remove",path:v.add(I).toString()})})),al(T,I).forEach((I=>{r.push({op:"add",path:v.add(I).toString(),value:T[I]})})),function(I){const T=I.length,v={};for(let z=0;z<T;z++){const T=I[z];for(const I in T)ll.call(T,I)&&void 0!==T[I]&&(v[I]=(v[I]||0)+1)}for(const I in v)v[I]<T&&delete v[I];return Object.keys(v)}([I,T]).forEach((K=>{r.push(...z(I[K],T[K],v.add(K)))})),r}(I,T,v,z):function(I,T,v){return vl(I,T)?[]:[{op:"replace",path:v.toString(),value:T}]}(I,T,v)}function Hl(I){return null===I||"object"!=typeof I?I:K.sH(nl.A(I))}function tl(I,T,v){const z=new Kl;return(v?function(I){return function T(v,z,r){const K=I(v,z,r);return Array.isArray(K)?K:Al(v,z,r,T)}}(v):Al)(I,T,z)}class bl extends Error{constructor(I){super(`Value required at path: ${I}`),this.path=I,this.name="MissingError"}}class Rl extends Error{constructor(I,T){super(`Test failed: ${I} != ${T}`),this.actual=I,this.expected=T,this.name="TestError",this.actual=I,this.expected=T}}function Fl(I,T,v){if(Array.isArray(I)||K.Fq(I))if("-"===T)I.push(v);else{const z=parseInt(T,10);I.splice(z,0,v)}else K.AT(I)?K.hZ(I,T,v):I[T]=v}function fl(I,T){if(Array.isArray(I)||K.Fq(I)){const v=parseInt(T,10);I.splice(v,1)}else K.AT(I)?I[T]=null:delete I[T]}class xl extends Error{constructor(I){super(`Invalid operation: ${I.op}`),this.operation=I,this.name="InvalidOperationError"}}function Dl(I,T){return T.map((T=>function(I,T){switch(T.op){case"add":return function(I,T){const v=Kl.fromJSON(T.path).evaluate(I);return void 0===v.parent?new bl(T.path):(Fl(v.parent,v.key,Hl(T.value)),null)}(I,T);case"remove":return function(I,T){const v=Kl.fromJSON(T.path).evaluate(I);return void 0===v.value?new bl(T.path):(fl(v.parent,v.key),null)}(I,T);case"replace":return function(I,T){const v=Kl.fromJSON(T.path).evaluate(I);if(null===v.parent)return new bl(T.path);if(Array.isArray(v.parent)||K.Fq(v.parent)){if(parseInt(v.key,10)>=v.parent.length)return new bl(T.path)}else if(void 0===v.value)return new bl(T.path);return v.parent[v.key]=Hl(T.value),null}(I,T);case"move":return function(I,T){const v=Kl.fromJSON(T.from).evaluate(I);if(void 0===v.value)return new bl(T.from);const z=Kl.fromJSON(T.path).evaluate(I);return void 0===z.parent?new bl(T.path):(fl(v.parent,v.key),Fl(z.parent,z.key,v.value),null)}(I,T);case"copy":return function(I,T){const v=Kl.fromJSON(T.from).evaluate(I);if(void 0===v.value)return new bl(T.from);const z=Kl.fromJSON(T.path).evaluate(I);return void 0===z.parent?new bl(T.path):(Fl(z.parent,z.key,Hl(v.value)),null)}(I,T);case"test":return function(I,T){const v=Kl.fromJSON(T.path).evaluate(I);return vl(v.value,T.value)?null:new Rl(v.value,T.value)}(I,T)}return new xl(T)}(I,T)))}const ql=K.XI((I=>{if(null===I.game)return;const{player:T}=I.game;if(T.status===AT.Mi.Betting||T.status===AT.Mi.Participant){const{cards:I}=T;return T.cards=[],I}})),Jl=document.createElement("canvas");let yl=null;function Vl(){yl=function(I,T){const v=il*El,z=cl*El;if(I.width=v,I.height=z,!(T=I.getContext("2d")))throw new A.bE("Cannot get canvas context to render numbers","CanvasContext");T.clearRect(0,0,v,z),T.font=`${.575*El}px ${Xl()}`,T.textAlign="center";const r=T.createLinearGradient(0,0,0,El);r.addColorStop(0,"#e8fdf8"),r.addColorStop(1,"#a6ecde"),T.fillStyle=r;for(let I=0;I<=rT.Bo;I++){const v=I%il,z=Math.floor(I/il);T.fillText(0===I?"??":I.toString(),El/2+El*v,.7*El+El*z)}return T}(Jl,yl)}const Cl=rT.Bo+1,il=Math.ceil(Math.sqrt(Cl)),cl=Math.ceil(Cl/il),El=100;function Xl(){return`${rT.Zn}, ${rT.wp}`}function Pl(I,T){return I[0]=T[0],I[1]=T[1],I[2]=T[2],I[3]=T[3],I}function Gl(I,T,v,z,r){return I[0]=T,I[1]=v,I[2]=z,I[3]=r,I}function hl(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=v*v+z*z+r*r+K*K;return n>0&&(n=1/Math.sqrt(n)),I[0]=v*n,I[1]=z*n,I[2]=r*n,I[3]=K*n,I}function Bl(I,T){return I[0]*T[0]+I[1]*T[1]+I[2]*T[2]+I[3]*T[3]}class _l extends Array{constructor(I=0,T=I,v=I,z=I){return super(I,T,v,z),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(I){this[0]=I}set y(I){this[1]=I}set z(I){this[2]=I}set w(I){this[3]=I}set(I,T=I,v=I,z=I){return I.length?this.copy(I):(Gl(this,I,T,v,z),this)}copy(I){return Pl(this,I),this}normalize(){return hl(this,this),this}multiply(I){return v=this,z=I,(T=this)[0]=v[0]*z,T[1]=v[1]*z,T[2]=v[2]*z,T[3]=v[3]*z,this;var T,v,z}dot(I){return Bl(this,I)}fromArray(I,T=0){return this[0]=I[T],this[1]=I[T+1],this[2]=I[T+2],this[3]=I[T+3],this}toArray(I=[],T=0){return I[T]=this[0],I[T+1]=this[1],I[T+2]=this[2],I[T+3]=this[3],I}}function dl(I,T,v){return I[0]=T[0]+v[0],I[1]=T[1]+v[1],I}function wl(I,T,v){return I[0]=T[0]-v[0],I[1]=T[1]-v[1],I}function $l(I,T,v){return I[0]=T[0]*v,I[1]=T[1]*v,I}function pl(I){var T=I[0],v=I[1];return Math.sqrt(T*T+v*v)}function Yl(I,T){return I[0]*T[1]-I[1]*T[0]}class gl extends Array{constructor(I=0,T=I){return super(I,T),this}get x(){return this[0]}get y(){return this[1]}set x(I){this[0]=I}set y(I){this[1]=I}set(I,T=I){return I.length?this.copy(I):(function(I,T,v){I[0]=T,I[1]=v}(this,I,T),this)}copy(I){var T,v;return v=I,(T=this)[0]=v[0],T[1]=v[1],this}add(I,T){return T?dl(this,I,T):dl(this,this,I),this}sub(I,T){return T?wl(this,I,T):wl(this,this,I),this}multiply(I){var T,v;return I.length?(v=I,(T=this)[0]=this[0]*v[0],T[1]=this[1]*v[1]):$l(this,this,I),this}divide(I){var T,v;return I.length?(v=I,(T=this)[0]=this[0]/v[0],T[1]=this[1]/v[1]):$l(this,this,1/I),this}inverse(I=this){var T,v;return v=I,(T=this)[0]=1/v[0],T[1]=1/v[1],this}len(){return pl(this)}distance(I){return I?function(I,T){var v=T[0]-I[0],z=T[1]-I[1];return Math.sqrt(v*v+z*z)}(this,I):pl(this)}squaredLen(){return this.squaredDistance()}squaredDistance(I){return I?function(I,T){var v=T[0]-I[0],z=T[1]-I[1];return v*v+z*z}(this,I):function(I){var T=I[0],v=I[1];return T*T+v*v}(this)}negate(I=this){var T,v;return v=I,(T=this)[0]=-v[0],T[1]=-v[1],this}cross(I,T){return T?Yl(I,T):Yl(this,I)}scale(I){return $l(this,this,I),this}normalize(){return function(I,T){var v=T[0],z=T[1],r=v*v+z*z;r>0&&(r=1/Math.sqrt(r)),I[0]=T[0]*r,I[1]=T[1]*r}(this,this),this}dot(I){return T=I,this[0]*T[0]+this[1]*T[1];var T}equals(I){return T=I,this[0]===T[0]&&this[1]===T[1];var T}applyMatrix3(I){return function(I,T,v){var z=T[0],r=T[1];I[0]=v[0]*z+v[3]*r+v[6],I[1]=v[1]*z+v[4]*r+v[7]}(this,this,I),this}applyMatrix4(I){return function(I,T,v){let z=T[0],r=T[1];I[0]=v[0]*z+v[4]*r+v[12],I[1]=v[1]*z+v[5]*r+v[13]}(this,this,I),this}lerp(I,T){return function(I,T,v,z){var r=T[0],K=T[1];I[0]=r+z*(v[0]-r),I[1]=K+z*(v[1]-K)}(this,this,I,T),this}clone(){return new gl(this[0],this[1])}fromArray(I,T=0){return this[0]=I[T],this[1]=I[T+1],this}toArray(I=[],T=0){return I[T]=this[0],I[T+1]=this[1],I}}function Ll(I){let T=I[0],v=I[1],z=I[2];return Math.sqrt(T*T+v*v+z*z)}function Zl(I,T){return I[0]=T[0],I[1]=T[1],I[2]=T[2],I}function ml(I,T,v){return I[0]=T[0]+v[0],I[1]=T[1]+v[1],I[2]=T[2]+v[2],I}function Wl(I,T,v){return I[0]=T[0]-v[0],I[1]=T[1]-v[1],I[2]=T[2]-v[2],I}function el(I,T,v){return I[0]=T[0]*v,I[1]=T[1]*v,I[2]=T[2]*v,I}function sl(I){let T=I[0],v=I[1],z=I[2];return T*T+v*v+z*z}function Ml(I,T){let v=T[0],z=T[1],r=T[2],K=v*v+z*z+r*r;return K>0&&(K=1/Math.sqrt(K)),I[0]=T[0]*K,I[1]=T[1]*K,I[2]=T[2]*K,I}function jl(I,T){return I[0]*T[0]+I[1]*T[1]+I[2]*T[2]}function Ul(I,T,v){let z=T[0],r=T[1],K=T[2],n=v[0],l=v[1],a=v[2];return I[0]=r*a-K*l,I[1]=K*n-z*a,I[2]=z*l-r*n,I}const Nl=function(){const I=[0,0,0],T=[0,0,0];return function(v,z){Zl(I,v),Zl(T,z),Ml(I,I),Ml(T,T);let r=jl(I,T);return r>1?0:r<-1?Math.PI:Math.acos(r)}}();class ol extends Array{constructor(I=0,T=I,v=I){return super(I,T,v),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(I){this[0]=I}set y(I){this[1]=I}set z(I){this[2]=I}set(I,T=I,v=I){return I.length?this.copy(I):(function(I,T,v,z){I[0]=T,I[1]=v,I[2]=z}(this,I,T,v),this)}copy(I){return Zl(this,I),this}add(I,T){return T?ml(this,I,T):ml(this,this,I),this}sub(I,T){return T?Wl(this,I,T):Wl(this,this,I),this}multiply(I){var T,v,z;return I.length?(v=this,z=I,(T=this)[0]=v[0]*z[0],T[1]=v[1]*z[1],T[2]=v[2]*z[2]):el(this,this,I),this}divide(I){var T,v,z;return I.length?(v=this,z=I,(T=this)[0]=v[0]/z[0],T[1]=v[1]/z[1],T[2]=v[2]/z[2]):el(this,this,1/I),this}inverse(I=this){var T,v;return v=I,(T=this)[0]=1/v[0],T[1]=1/v[1],T[2]=1/v[2],this}len(){return Ll(this)}distance(I){return I?function(I,T){let v=T[0]-I[0],z=T[1]-I[1],r=T[2]-I[2];return Math.sqrt(v*v+z*z+r*r)}(this,I):Ll(this)}squaredLen(){return sl(this)}squaredDistance(I){return I?function(I,T){let v=T[0]-I[0],z=T[1]-I[1],r=T[2]-I[2];return v*v+z*z+r*r}(this,I):sl(this)}negate(I=this){var T,v;return v=I,(T=this)[0]=-v[0],T[1]=-v[1],T[2]=-v[2],this}cross(I,T){return T?Ul(this,I,T):Ul(this,this,I),this}scale(I){return el(this,this,I),this}normalize(){return Ml(this,this),this}dot(I){return jl(this,I)}equals(I){return T=I,this[0]===T[0]&&this[1]===T[1]&&this[2]===T[2];var T}applyMatrix3(I){return function(I,T,v){let z=T[0],r=T[1],K=T[2];I[0]=z*v[0]+r*v[3]+K*v[6],I[1]=z*v[1]+r*v[4]+K*v[7],I[2]=z*v[2]+r*v[5]+K*v[8]}(this,this,I),this}applyMatrix4(I){return function(I,T,v){let z=T[0],r=T[1],K=T[2],n=v[3]*z+v[7]*r+v[11]*K+v[15];n=n||1,I[0]=(v[0]*z+v[4]*r+v[8]*K+v[12])/n,I[1]=(v[1]*z+v[5]*r+v[9]*K+v[13])/n,I[2]=(v[2]*z+v[6]*r+v[10]*K+v[14])/n}(this,this,I),this}scaleRotateMatrix4(I){return function(I,T,v){let z=T[0],r=T[1],K=T[2],n=v[3]*z+v[7]*r+v[11]*K+v[15];n=n||1,I[0]=(v[0]*z+v[4]*r+v[8]*K)/n,I[1]=(v[1]*z+v[5]*r+v[9]*K)/n,I[2]=(v[2]*z+v[6]*r+v[10]*K)/n}(this,this,I),this}applyQuaternion(I){return function(I,T,v){let z=T[0],r=T[1],K=T[2],n=v[0],l=v[1],a=v[2],S=l*K-a*r,A=a*z-n*K,H=n*r-l*z,t=l*H-a*A,b=a*S-n*H,R=n*A-l*S,F=2*v[3];S*=F,A*=F,H*=F,t*=2,b*=2,R*=2,I[0]=z+S+t,I[1]=r+A+b,I[2]=K+H+R}(this,this,I),this}angle(I){return Nl(this,I)}lerp(I,T){return function(I,T,v,z){let r=T[0],K=T[1],n=T[2];I[0]=r+z*(v[0]-r),I[1]=K+z*(v[1]-K),I[2]=n+z*(v[2]-n)}(this,this,I,T),this}clone(){return new ol(this[0],this[1],this[2])}fromArray(I,T=0){return this[0]=I[T],this[1]=I[T+1],this[2]=I[T+2],this}toArray(I=[],T=0){return I[T]=this[0],I[T+1]=this[1],I[T+2]=this[2],I}transformDirection(I){const T=this[0],v=this[1],z=this[2];return this[0]=I[0]*T+I[4]*v+I[8]*z,this[1]=I[1]*T+I[5]*v+I[9]*z,this[2]=I[2]*T+I[6]*v+I[10]*z,this.normalize()}}const Ql=new ol;let Ol=1;class kl{constructor({canvas:I=document.createElement("canvas"),width:T=300,height:v=150,dpr:z=1,alpha:r=!1,depth:K=!0,stencil:n=!1,antialias:l=!1,premultipliedAlpha:a=!1,preserveDrawingBuffer:S=!1,powerPreference:A="default",autoClear:H=!0,webgl:t=2}={}){const b={alpha:r,depth:K,stencil:n,antialias:l,premultipliedAlpha:a,preserveDrawingBuffer:S,powerPreference:A};this.dpr=z,this.alpha=r,this.color=!0,this.depth=K,this.stencil=n,this.premultipliedAlpha=a,this.autoClear=H,this.id=Ol++,2===t&&(this.gl=I.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=I.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(T,v),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(I,T){this.width=I,this.height=T,this.gl.canvas.width=I*this.dpr,this.gl.canvas.height=T*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:I+"px",height:T+"px"})}setViewport(I,T,v=0,z=0){this.state.viewport.width===I&&this.state.viewport.height===T||(this.state.viewport.width=I,this.state.viewport.height=T,this.state.viewport.x=v,this.state.viewport.y=z,this.gl.viewport(v,z,I,T))}setScissor(I,T,v=0,z=0){this.gl.scissor(v,z,I,T)}enable(I){!0!==this.state[I]&&(this.gl.enable(I),this.state[I]=!0)}disable(I){!1!==this.state[I]&&(this.gl.disable(I),this.state[I]=!1)}setBlendFunc(I,T,v,z){this.state.blendFunc.src===I&&this.state.blendFunc.dst===T&&this.state.blendFunc.srcAlpha===v&&this.state.blendFunc.dstAlpha===z||(this.state.blendFunc.src=I,this.state.blendFunc.dst=T,this.state.blendFunc.srcAlpha=v,this.state.blendFunc.dstAlpha=z,void 0!==v?this.gl.blendFuncSeparate(I,T,v,z):this.gl.blendFunc(I,T))}setBlendEquation(I,T){I=I||this.gl.FUNC_ADD,this.state.blendEquation.modeRGB===I&&this.state.blendEquation.modeAlpha===T||(this.state.blendEquation.modeRGB=I,this.state.blendEquation.modeAlpha=T,void 0!==T?this.gl.blendEquationSeparate(I,T):this.gl.blendEquation(I))}setCullFace(I){this.state.cullFace!==I&&(this.state.cullFace=I,this.gl.cullFace(I))}setFrontFace(I){this.state.frontFace!==I&&(this.state.frontFace=I,this.gl.frontFace(I))}setDepthMask(I){this.state.depthMask!==I&&(this.state.depthMask=I,this.gl.depthMask(I))}setDepthFunc(I){this.state.depthFunc!==I&&(this.state.depthFunc=I,this.gl.depthFunc(I))}activeTexture(I){this.state.activeTextureUnit!==I&&(this.state.activeTextureUnit=I,this.gl.activeTexture(this.gl.TEXTURE0+I))}bindFramebuffer({target:I=this.gl.FRAMEBUFFER,buffer:T=null}={}){this.state.framebuffer!==T&&(this.state.framebuffer=T,this.gl.bindFramebuffer(I,T))}getExtension(I,T,v){return T&&this.gl[T]?this.gl[T].bind(this.gl):(this.extensions[I]||(this.extensions[I]=this.gl.getExtension(I)),T?this.extensions[I]?this.extensions[I][v].bind(this.extensions[I]):null:this.extensions[I])}sortOpaque(I,T){return I.renderOrder!==T.renderOrder?I.renderOrder-T.renderOrder:I.program.id!==T.program.id?I.program.id-T.program.id:I.zDepth!==T.zDepth?I.zDepth-T.zDepth:T.id-I.id}sortTransparent(I,T){return I.renderOrder!==T.renderOrder?I.renderOrder-T.renderOrder:I.zDepth!==T.zDepth?T.zDepth-I.zDepth:T.id-I.id}sortUI(I,T){return I.renderOrder!==T.renderOrder?I.renderOrder-T.renderOrder:I.program.id!==T.program.id?I.program.id-T.program.id:T.id-I.id}getRenderList({scene:I,camera:T,frustumCull:v,sort:z}){let r=[];if(T&&v&&T.updateFrustum(),I.traverse((I=>{if(!I.visible)return!0;I.draw&&(v&&I.frustumCulled&&T&&!T.frustumIntersectsMesh(I)||r.push(I))})),z){const I=[],v=[],z=[];r.forEach((r=>{r.program.transparent?r.program.depthTest?v.push(r):z.push(r):I.push(r),r.zDepth=0,0===r.renderOrder&&r.program.depthTest&&T&&(r.worldMatrix.getTranslation(Ql),Ql.applyMatrix4(T.projectionViewMatrix),r.zDepth=Ql.z)})),I.sort(this.sortOpaque),v.sort(this.sortTransparent),z.sort(this.sortUI),r=I.concat(v,z)}return r}render({scene:I,camera:T,target:v=null,update:z=!0,sort:r=!0,frustumCull:K=!0,clear:n}){null===v?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(v),this.setViewport(v.width,v.height)),(n||this.autoClear&&!1!==n)&&(!this.depth||v&&!v.depth||(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),z&&I.updateMatrixWorld(),T&&T.updateMatrixWorld(),this.getRenderList({scene:I,camera:T,frustumCull:K,sort:r}).forEach((I=>{I.draw({camera:T})}))}}const ul=new Uint8Array(4);function Ia(I){return!(I&I-1)}let Ta=1;class va{constructor(I,{image:T,target:v=I.TEXTURE_2D,type:z=I.UNSIGNED_BYTE,format:r=I.RGBA,internalFormat:K=r,wrapS:n=I.CLAMP_TO_EDGE,wrapT:l=I.CLAMP_TO_EDGE,generateMipmaps:a=!0,minFilter:S=(a?I.NEAREST_MIPMAP_LINEAR:I.LINEAR),magFilter:A=I.LINEAR,premultiplyAlpha:H=!1,unpackAlignment:t=4,flipY:b=v==I.TEXTURE_2D,anisotropy:R=0,level:F=0,width:f,height:x=f}={}){this.gl=I,this.id=Ta++,this.image=T,this.target=v,this.type=z,this.format=r,this.internalFormat=K,this.minFilter=S,this.magFilter=A,this.wrapS=n,this.wrapT=l,this.generateMipmaps=a,this.premultiplyAlpha=H,this.unpackAlignment=t,this.flipY=b,this.anisotropy=Math.min(R,this.gl.renderer.parameters.maxAnisotropy),this.level=F,this.width=f,this.height=x,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(I=0){const T=!(this.image===this.store.image&&!this.needsUpdate);if((T||this.glState.textureUnits[I]!==this.id)&&(this.gl.renderer.activeTexture(I),this.bind()),T){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let I=0;I<6;I++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+I,this.level,this.internalFormat,this.format,this.type,this.image[I]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let I=0;I<this.image.length;I++)this.gl.compressedTexImage2D(this.target,I,this.internalFormat,this.image[I].width,this.image[I].height,0,this.image[I].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||Ia(this.image.width)&&Ia(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let I=0;I<6;I++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+I,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,ul);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,ul);this.store.image=this.image}}}class za{constructor(I,{width:T=I.canvas.width,height:v=I.canvas.height,target:z=I.FRAMEBUFFER,color:r=1,depth:K=!0,stencil:n=!1,depthTexture:l=!1,wrapS:a=I.CLAMP_TO_EDGE,wrapT:S=I.CLAMP_TO_EDGE,minFilter:A=I.LINEAR,magFilter:H=A,type:t=I.UNSIGNED_BYTE,format:b=I.RGBA,internalFormat:R=b,unpackAlignment:F,premultiplyAlpha:f}={}){this.gl=I,this.width=T,this.height=v,this.depth=K,this.buffer=this.gl.createFramebuffer(),this.target=z,this.gl.renderer.bindFramebuffer(this),this.textures=[];const x=[];for(let z=0;z<r;z++)this.textures.push(new va(I,{width:T,height:v,wrapS:a,wrapT:S,minFilter:A,magFilter:H,type:t,format:b,internalFormat:R,unpackAlignment:F,premultiplyAlpha:f,flipY:!1,generateMipmaps:!1})),this.textures[z].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+z,this.gl.TEXTURE_2D,this.textures[z].texture,0),x.push(this.gl.COLOR_ATTACHMENT0+z);x.length>1&&this.gl.renderer.drawBuffers(x),this.texture=this.textures[0],l&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new va(I,{width:T,height:v,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.gl.DEPTH_COMPONENT,internalFormat:I.renderer.isWebgl2?this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(K&&!n&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,T,v),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),n&&!K&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,T,v),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),K&&n&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,T,v),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(I,T){if(this.width!==I||this.height!==T){this.width=I,this.height=T,this.gl.renderer.bindFramebuffer(this);for(let v=0;v<this.textures.length;v++)this.textures[v].width=I,this.textures[v].height=T,this.textures[v].needsUpdate=!0,this.textures[v].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+v,this.gl.TEXTURE_2D,this.textures[v].texture,0);this.depthTexture?(this.depthTexture.width=I,this.depthTexture.height=T,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,I,T)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,I,T)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,I,T))),this.gl.renderer.bindFramebuffer({target:this.target})}}}function ra(I){I.gl&&!I.gl.isContextLost()&&I.gl.deleteTexture(I.texture),I.texture=void 0,I.image=void 0,I.gl=void 0}function Ka(I){var T;if(I.gl&&!I.gl.isContextLost()){if("uniformLocations"in I){const v=null===(T=I.gl.renderer)||void 0===T?void 0:T.state;I.uniformLocations.forEach((I=>{null==v||v.uniformLocations.delete(I)}))}I.remove()}I.gl=void 0}function na(I){var T;(null===(T=I.gl)||void 0===T?void 0:T.renderer)&&!I.gl.isContextLost()&&I.remove(),I.gl=void 0}const la=new ol;let aa=1,Sa=1,Aa=!1;class Ha{constructor(I,T={}){I.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=I,this.attributes=T,this.id=aa++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let I in T)this.addAttribute(I,T[I])}addAttribute(I,T){if(this.attributes[I]=T,T.id=Sa++,T.size=T.size||1,T.type=T.type||(T.data.constructor===Float32Array?this.gl.FLOAT:T.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),T.target="index"===I?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,T.normalized=T.normalized||!1,T.stride=T.stride||0,T.offset=T.offset||0,T.count=T.count||(T.stride?T.data.byteLength/T.stride:T.data.length/T.size),T.divisor=T.instanced||0,T.needsUpdate=!1,T.usage=T.usage||this.gl.STATIC_DRAW,T.buffer||this.updateAttribute(T),T.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==T.count*T.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,T.count*T.divisor);this.instancedCount=T.count*T.divisor}else"index"===I?this.drawRange.count=T.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,T.count))}updateAttribute(I){const T=!I.buffer;T&&(I.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==I.buffer&&(this.gl.bindBuffer(I.target,I.buffer),this.glState.boundBuffer=I.buffer),T?this.gl.bufferData(I.target,I.data,I.usage):this.gl.bufferSubData(I.target,0,I.data),I.needsUpdate=!1}setIndex(I){this.addAttribute("index",I)}setDrawRange(I,T){this.drawRange.start=I,this.drawRange.count=T}setInstancedCount(I){this.instancedCount=I}createVAO(I){this.VAOs[I.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[I.attributeOrder]),this.bindAttributes(I)}bindAttributes(I){I.attributeLocations.forEach(((I,{name:T,type:v})=>{if(!this.attributes[T])return void console.warn(`active attribute ${T} not being supplied`);const z=this.attributes[T];this.gl.bindBuffer(z.target,z.buffer),this.glState.boundBuffer=z.buffer;let r=1;35674===v&&(r=2),35675===v&&(r=3),35676===v&&(r=4);const K=z.size/r,n=1===r?0:r*r*4,l=1===r?0:4*r;for(let T=0;T<r;T++)this.gl.vertexAttribPointer(I+T,K,z.type,z.normalized,z.stride+n,z.offset+T*l),this.gl.enableVertexAttribArray(I+T),this.gl.renderer.vertexAttribDivisor(I+T,z.divisor)})),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:I,mode:T=this.gl.TRIANGLES}){var v;this.gl.renderer.currentGeometry!==`${this.id}_${I.attributeOrder}`&&(this.VAOs[I.attributeOrder]||this.createVAO(I),this.gl.renderer.bindVertexArray(this.VAOs[I.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${I.attributeOrder}`),I.attributeLocations.forEach(((I,{name:T})=>{const v=this.attributes[T];v.needsUpdate&&this.updateAttribute(v)}));let z=2;(null===(v=this.attributes.index)||void 0===v?void 0:v.type)===this.gl.UNSIGNED_INT&&(z=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(T,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*z,this.instancedCount):this.gl.renderer.drawArraysInstanced(T,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(T,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*z):this.gl.drawArrays(T,this.drawRange.start,this.drawRange.count)}getPosition(){const I=this.attributes.position;return I.data?I:Aa?void 0:(console.warn("No position buffer data found to compute bounds"),Aa=!0)}computeBoundingBox(I){I||(I=this.getPosition());const T=I.data,v=I.size;this.bounds||(this.bounds={min:new ol,max:new ol,center:new ol,scale:new ol,radius:1/0});const z=this.bounds.min,r=this.bounds.max,K=this.bounds.center,n=this.bounds.scale;z.set(+1/0),r.set(-1/0);for(let I=0,K=T.length;I<K;I+=v){const v=T[I],K=T[I+1],n=T[I+2];z.x=Math.min(v,z.x),z.y=Math.min(K,z.y),z.z=Math.min(n,z.z),r.x=Math.max(v,r.x),r.y=Math.max(K,r.y),r.z=Math.max(n,r.z)}n.sub(r,z),K.add(z,r).divide(2)}computeBoundingSphere(I){I||(I=this.getPosition());const T=I.data,v=I.size;this.bounds||this.computeBoundingBox(I);let z=0;for(let I=0,r=T.length;I<r;I+=v)la.fromArray(T,I),z=Math.max(z,this.bounds.center.squaredDistance(la));this.bounds.radius=Math.sqrt(z)}remove(){for(let I in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[I]),delete this.VAOs[I];for(let I in this.attributes)this.gl.deleteBuffer(this.attributes[I].buffer),delete this.attributes[I]}}let ta=1;const ba={};class Ra{constructor(I,{vertex:T,fragment:v,uniforms:z={},transparent:r=!1,cullFace:K=I.BACK,frontFace:n=I.CCW,depthTest:l=!0,depthWrite:a=!0,depthFunc:S=I.LESS}={}){I.canvas||console.error("gl not passed as first argument to Program"),this.gl=I,this.uniforms=z,this.id=ta++,T||console.warn("vertex shader not supplied"),v||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=K,this.frontFace=n,this.depthTest=l,this.depthWrite=a,this.depthFunc=S,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const A=I.createShader(I.VERTEX_SHADER);I.shaderSource(A,T),I.compileShader(A),""!==I.getShaderInfoLog(A)&&console.warn(`${I.getShaderInfoLog(A)}\nVertex Shader\n${fa(T)}`);const H=I.createShader(I.FRAGMENT_SHADER);if(I.shaderSource(H,v),I.compileShader(H),""!==I.getShaderInfoLog(H)&&console.warn(`${I.getShaderInfoLog(H)}\nFragment Shader\n${fa(v)}`),this.program=I.createProgram(),I.attachShader(this.program,A),I.attachShader(this.program,H),I.linkProgram(this.program),!I.getProgramParameter(this.program,I.LINK_STATUS))return console.warn(I.getProgramInfoLog(this.program));I.deleteShader(A),I.deleteShader(H),this.uniformLocations=new Map;let t=I.getProgramParameter(this.program,I.ACTIVE_UNIFORMS);for(let T=0;T<t;T++){let v=I.getActiveUniform(this.program,T);this.uniformLocations.set(v,I.getUniformLocation(this.program,v.name));const z=v.name.match(/(\w+)/g);v.uniformName=z[0],v.nameComponents=z.slice(1)}this.attributeLocations=new Map;const b=[],R=I.getProgramParameter(this.program,I.ACTIVE_ATTRIBUTES);for(let T=0;T<R;T++){const v=I.getActiveAttrib(this.program,T),z=I.getAttribLocation(this.program,v.name);-1!==z&&(b[z]=v.name,this.attributeLocations.set(v,z))}this.attributeOrder=b.join("")}setBlendFunc(I,T,v,z){this.blendFunc.src=I,this.blendFunc.dst=T,this.blendFunc.srcAlpha=v,this.blendFunc.dstAlpha=z,I&&(this.transparent=!0)}setBlendEquation(I,T){this.blendEquation.modeRGB=I,this.blendEquation.modeAlpha=T}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:I=!1}={}){let T=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach(((I,v)=>{let z=this.uniforms[v.uniformName];for(const I of v.nameComponents){if(!z)break;if(!(I in z)){if(Array.isArray(z.value))break;z=void 0;break}z=z[I]}if(!z)return Da(`Active uniform ${v.name} has not been supplied`);if(z&&void 0===z.value)return Da(`${v.name} uniform is missing a value parameter`);if(z.value.texture)return T+=1,z.value.update(T),Fa(this.gl,v.type,I,T);if(z.value.length&&z.value[0].texture){const r=[];return z.value.forEach((I=>{T+=1,I.update(T),r.push(T)})),Fa(this.gl,v.type,I,r)}Fa(this.gl,v.type,I,z.value)})),this.applyState(),I&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Fa(I,T,v,z){z=z.length?function(I){const T=I.length,v=I[0].length;if(void 0===v)return I;const z=T*v;let r=ba[z];r||(ba[z]=r=new Float32Array(z));for(let z=0;z<T;z++)r.set(I[z],z*v);return r}(z):z;const r=I.renderer.state.uniformLocations.get(v);if(z.length)if(void 0===r||r.length!==z.length)I.renderer.state.uniformLocations.set(v,z.slice(0));else{if(function(I,T){if(I.length!==T.length)return!1;for(let v=0,z=I.length;v<z;v++)if(I[v]!==T[v])return!1;return!0}(r,z))return;r.set?r.set(z):function(I,T){for(let v=0,z=I.length;v<z;v++)I[v]=T[v]}(r,z),I.renderer.state.uniformLocations.set(v,r)}else{if(r===z)return;I.renderer.state.uniformLocations.set(v,z)}switch(T){case 5126:return z.length?I.uniform1fv(v,z):I.uniform1f(v,z);case 35664:return I.uniform2fv(v,z);case 35665:return I.uniform3fv(v,z);case 35666:return I.uniform4fv(v,z);case 35670:case 5124:case 35678:case 35680:return z.length?I.uniform1iv(v,z):I.uniform1i(v,z);case 35671:case 35667:return I.uniform2iv(v,z);case 35672:case 35668:return I.uniform3iv(v,z);case 35673:case 35669:return I.uniform4iv(v,z);case 35674:return I.uniformMatrix2fv(v,!1,z);case 35675:return I.uniformMatrix3fv(v,!1,z);case 35676:return I.uniformMatrix4fv(v,!1,z)}}function fa(I){let T=I.split("\n");for(let I=0;I<T.length;I++)T[I]=I+1+": "+T[I];return T.join("\n")}let xa=0;function Da(I){xa>100||(console.warn(I),xa++,xa>100&&console.warn("More than 100 program warnings - stopping logs."))}function qa(I,T,v){let z=T[0],r=T[1],K=T[2],n=T[3],l=v[0],a=v[1],S=v[2],A=v[3];return I[0]=z*A+n*l+r*S-K*a,I[1]=r*A+n*a+K*l-z*S,I[2]=K*A+n*S+z*a-r*l,I[3]=n*A-z*l-r*a-K*S,I}const Ja=Pl,ya=Gl,Va=Bl,Ca=hl;class ia extends Array{constructor(I=0,T=0,v=0,z=1){return super(I,T,v,z),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(I){this[0]=I,this.onChange()}set y(I){this[1]=I,this.onChange()}set z(I){this[2]=I,this.onChange()}set w(I){this[3]=I,this.onChange()}identity(){var I;return(I=this)[0]=0,I[1]=0,I[2]=0,I[3]=1,this.onChange(),this}set(I,T,v,z){return I.length?this.copy(I):(ya(this,I,T,v,z),this.onChange(),this)}rotateX(I){return function(I,T,v){v*=.5;let z=T[0],r=T[1],K=T[2],n=T[3],l=Math.sin(v),a=Math.cos(v);I[0]=z*a+n*l,I[1]=r*a+K*l,I[2]=K*a-r*l,I[3]=n*a-z*l}(this,this,I),this.onChange(),this}rotateY(I){return function(I,T,v){v*=.5;let z=T[0],r=T[1],K=T[2],n=T[3],l=Math.sin(v),a=Math.cos(v);I[0]=z*a-K*l,I[1]=r*a+n*l,I[2]=K*a+z*l,I[3]=n*a-r*l}(this,this,I),this.onChange(),this}rotateZ(I){return function(I,T,v){v*=.5;let z=T[0],r=T[1],K=T[2],n=T[3],l=Math.sin(v),a=Math.cos(v);I[0]=z*a+r*l,I[1]=r*a-z*l,I[2]=K*a+n*l,I[3]=n*a-K*l}(this,this,I),this.onChange(),this}inverse(I=this){return function(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=v*v+z*z+r*r+K*K,l=n?1/n:0;I[0]=-v*l,I[1]=-z*l,I[2]=-r*l,I[3]=K*l}(this,I),this.onChange(),this}conjugate(I=this){var T,v;return v=I,(T=this)[0]=-v[0],T[1]=-v[1],T[2]=-v[2],T[3]=v[3],this.onChange(),this}copy(I){return Ja(this,I),this.onChange(),this}normalize(I=this){return Ca(this,I),this.onChange(),this}multiply(I,T){return T?qa(this,I,T):qa(this,this,I),this.onChange(),this}dot(I){return Va(this,I)}fromMatrix3(I){return function(I,T){let v,z=T[0]+T[4]+T[8];if(z>0)v=Math.sqrt(z+1),I[3]=.5*v,v=.5/v,I[0]=(T[5]-T[7])*v,I[1]=(T[6]-T[2])*v,I[2]=(T[1]-T[3])*v;else{let z=0;T[4]>T[0]&&(z=1),T[8]>T[3*z+z]&&(z=2);let r=(z+1)%3,K=(z+2)%3;v=Math.sqrt(T[3*z+z]-T[3*r+r]-T[3*K+K]+1),I[z]=.5*v,v=.5/v,I[3]=(T[3*r+K]-T[3*K+r])*v,I[r]=(T[3*r+z]+T[3*z+r])*v,I[K]=(T[3*K+z]+T[3*z+K])*v}}(this,I),this.onChange(),this}fromEuler(I){return function(I,T,v="YXZ"){let z=Math.sin(.5*T[0]),r=Math.cos(.5*T[0]),K=Math.sin(.5*T[1]),n=Math.cos(.5*T[1]),l=Math.sin(.5*T[2]),a=Math.cos(.5*T[2]);"XYZ"===v?(I[0]=z*n*a+r*K*l,I[1]=r*K*a-z*n*l,I[2]=r*n*l+z*K*a,I[3]=r*n*a-z*K*l):"YXZ"===v?(I[0]=z*n*a+r*K*l,I[1]=r*K*a-z*n*l,I[2]=r*n*l-z*K*a,I[3]=r*n*a+z*K*l):"ZXY"===v?(I[0]=z*n*a-r*K*l,I[1]=r*K*a+z*n*l,I[2]=r*n*l+z*K*a,I[3]=r*n*a-z*K*l):"ZYX"===v?(I[0]=z*n*a-r*K*l,I[1]=r*K*a+z*n*l,I[2]=r*n*l-z*K*a,I[3]=r*n*a+z*K*l):"YZX"===v?(I[0]=z*n*a+r*K*l,I[1]=r*K*a+z*n*l,I[2]=r*n*l-z*K*a,I[3]=r*n*a-z*K*l):"XZY"===v&&(I[0]=z*n*a-r*K*l,I[1]=r*K*a-z*n*l,I[2]=r*n*l+z*K*a,I[3]=r*n*a+z*K*l)}(this,I,I.order),this}fromAxisAngle(I,T){return function(I,T,v){v*=.5;let z=Math.sin(v);I[0]=z*T[0],I[1]=z*T[1],I[2]=z*T[2],I[3]=Math.cos(v)}(this,I,T),this.onChange(),this}slerp(I,T){return function(I,T,v,z){let r,K,n,l,a,S=T[0],A=T[1],H=T[2],t=T[3],b=v[0],R=v[1],F=v[2],f=v[3];K=S*b+A*R+H*F+t*f,K<0&&(K=-K,b=-b,R=-R,F=-F,f=-f),1-K>1e-6?(r=Math.acos(K),n=Math.sin(r),l=Math.sin((1-z)*r)/n,a=Math.sin(z*r)/n):(l=1-z,a=z),I[0]=l*S+a*b,I[1]=l*A+a*R,I[2]=l*H+a*F,I[3]=l*t+a*f}(this,this,I,T),this.onChange(),this}fromArray(I,T=0){return this[0]=I[T],this[1]=I[T+1],this[2]=I[T+2],this[3]=I[T+3],this.onChange(),this}toArray(I=[],T=0){return I[T]=this[0],I[T+1]=this[1],I[T+2]=this[2],I[T+3]=this[3],I}}const ca=1e-6;function Ea(I,T,v){let z=T[0],r=T[1],K=T[2],n=T[3],l=T[4],a=T[5],S=T[6],A=T[7],H=T[8],t=T[9],b=T[10],R=T[11],F=T[12],f=T[13],x=T[14],D=T[15],q=v[0],J=v[1],y=v[2],V=v[3];return I[0]=q*z+J*l+y*H+V*F,I[1]=q*r+J*a+y*t+V*f,I[2]=q*K+J*S+y*b+V*x,I[3]=q*n+J*A+y*R+V*D,q=v[4],J=v[5],y=v[6],V=v[7],I[4]=q*z+J*l+y*H+V*F,I[5]=q*r+J*a+y*t+V*f,I[6]=q*K+J*S+y*b+V*x,I[7]=q*n+J*A+y*R+V*D,q=v[8],J=v[9],y=v[10],V=v[11],I[8]=q*z+J*l+y*H+V*F,I[9]=q*r+J*a+y*t+V*f,I[10]=q*K+J*S+y*b+V*x,I[11]=q*n+J*A+y*R+V*D,q=v[12],J=v[13],y=v[14],V=v[15],I[12]=q*z+J*l+y*H+V*F,I[13]=q*r+J*a+y*t+V*f,I[14]=q*K+J*S+y*b+V*x,I[15]=q*n+J*A+y*R+V*D,I}function Xa(I,T){let v=T[0],z=T[1],r=T[2],K=T[4],n=T[5],l=T[6],a=T[8],S=T[9],A=T[10];return I[0]=Math.hypot(v,z,r),I[1]=Math.hypot(K,n,l),I[2]=Math.hypot(a,S,A),I}const Pa=function(){const I=[0,0,0];return function(T,v){let z=I;Xa(z,v);let r=1/z[0],K=1/z[1],n=1/z[2],l=v[0]*r,a=v[1]*K,S=v[2]*n,A=v[4]*r,H=v[5]*K,t=v[6]*n,b=v[8]*r,R=v[9]*K,F=v[10]*n,f=l+H+F,x=0;return f>0?(x=2*Math.sqrt(f+1),T[3]=.25*x,T[0]=(t-R)/x,T[1]=(b-S)/x,T[2]=(a-A)/x):l>H&&l>F?(x=2*Math.sqrt(1+l-H-F),T[3]=(t-R)/x,T[0]=.25*x,T[1]=(a+A)/x,T[2]=(b+S)/x):H>F?(x=2*Math.sqrt(1+H-l-F),T[3]=(b-S)/x,T[0]=(a+A)/x,T[1]=.25*x,T[2]=(t+R)/x):(x=2*Math.sqrt(1+F-l-H),T[3]=(a-A)/x,T[0]=(b+S)/x,T[1]=(t+R)/x,T[2]=.25*x),T}}();function Ga(I,T,v){return I[0]=T[0]+v[0],I[1]=T[1]+v[1],I[2]=T[2]+v[2],I[3]=T[3]+v[3],I[4]=T[4]+v[4],I[5]=T[5]+v[5],I[6]=T[6]+v[6],I[7]=T[7]+v[7],I[8]=T[8]+v[8],I[9]=T[9]+v[9],I[10]=T[10]+v[10],I[11]=T[11]+v[11],I[12]=T[12]+v[12],I[13]=T[13]+v[13],I[14]=T[14]+v[14],I[15]=T[15]+v[15],I}function ha(I,T,v){return I[0]=T[0]-v[0],I[1]=T[1]-v[1],I[2]=T[2]-v[2],I[3]=T[3]-v[3],I[4]=T[4]-v[4],I[5]=T[5]-v[5],I[6]=T[6]-v[6],I[7]=T[7]-v[7],I[8]=T[8]-v[8],I[9]=T[9]-v[9],I[10]=T[10]-v[10],I[11]=T[11]-v[11],I[12]=T[12]-v[12],I[13]=T[13]-v[13],I[14]=T[14]-v[14],I[15]=T[15]-v[15],I}class Ba extends Array{constructor(I=1,T=0,v=0,z=0,r=0,K=1,n=0,l=0,a=0,S=0,A=1,H=0,t=0,b=0,R=0,F=1){return super(I,T,v,z,r,K,n,l,a,S,A,H,t,b,R,F),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(I){this[12]=I}set y(I){this[13]=I}set z(I){this[14]=I}set w(I){this[15]=I}set(I,T,v,z,r,K,n,l,a,S,A,H,t,b,R,F){return I.length?this.copy(I):(function(I,T,v,z,r,K,n,l,a,S,A,H,t,b,R,F,f){I[0]=T,I[1]=v,I[2]=z,I[3]=r,I[4]=K,I[5]=n,I[6]=l,I[7]=a,I[8]=S,I[9]=A,I[10]=H,I[11]=t,I[12]=b,I[13]=R,I[14]=F,I[15]=f}(this,I,T,v,z,r,K,n,l,a,S,A,H,t,b,R,F),this)}translate(I,T=this){return function(I,T,v){let z,r,K,n,l,a,S,A,H,t,b,R,F=v[0],f=v[1],x=v[2];T===I?(I[12]=T[0]*F+T[4]*f+T[8]*x+T[12],I[13]=T[1]*F+T[5]*f+T[9]*x+T[13],I[14]=T[2]*F+T[6]*f+T[10]*x+T[14],I[15]=T[3]*F+T[7]*f+T[11]*x+T[15]):(z=T[0],r=T[1],K=T[2],n=T[3],l=T[4],a=T[5],S=T[6],A=T[7],H=T[8],t=T[9],b=T[10],R=T[11],I[0]=z,I[1]=r,I[2]=K,I[3]=n,I[4]=l,I[5]=a,I[6]=S,I[7]=A,I[8]=H,I[9]=t,I[10]=b,I[11]=R,I[12]=z*F+l*f+H*x+T[12],I[13]=r*F+a*f+t*x+T[13],I[14]=K*F+S*f+b*x+T[14],I[15]=n*F+A*f+R*x+T[15])}(this,T,I),this}rotate(I,T,v=this){return function(I,T,v,z){let r,K,n,l,a,S,A,H,t,b,R,F,f,x,D,q,J,y,V,C,i,c,E,X,P=z[0],G=z[1],h=z[2],B=Math.hypot(P,G,h);Math.abs(B)<ca||(B=1/B,P*=B,G*=B,h*=B,r=Math.sin(v),K=Math.cos(v),n=1-K,l=T[0],a=T[1],S=T[2],A=T[3],H=T[4],t=T[5],b=T[6],R=T[7],F=T[8],f=T[9],x=T[10],D=T[11],q=P*P*n+K,J=G*P*n+h*r,y=h*P*n-G*r,V=P*G*n-h*r,C=G*G*n+K,i=h*G*n+P*r,c=P*h*n+G*r,E=G*h*n-P*r,X=h*h*n+K,I[0]=l*q+H*J+F*y,I[1]=a*q+t*J+f*y,I[2]=S*q+b*J+x*y,I[3]=A*q+R*J+D*y,I[4]=l*V+H*C+F*i,I[5]=a*V+t*C+f*i,I[6]=S*V+b*C+x*i,I[7]=A*V+R*C+D*i,I[8]=l*c+H*E+F*X,I[9]=a*c+t*E+f*X,I[10]=S*c+b*E+x*X,I[11]=A*c+R*E+D*X,T!==I&&(I[12]=T[12],I[13]=T[13],I[14]=T[14],I[15]=T[15]))}(this,v,I,T),this}scale(I,T=this){return function(I,T,v){let z=v[0],r=v[1],K=v[2];I[0]=T[0]*z,I[1]=T[1]*z,I[2]=T[2]*z,I[3]=T[3]*z,I[4]=T[4]*r,I[5]=T[5]*r,I[6]=T[6]*r,I[7]=T[7]*r,I[8]=T[8]*K,I[9]=T[9]*K,I[10]=T[10]*K,I[11]=T[11]*K,I[12]=T[12],I[13]=T[13],I[14]=T[14],I[15]=T[15]}(this,T,"number"==typeof I?[I,I,I]:I),this}add(I,T){return T?Ga(this,I,T):Ga(this,this,I),this}sub(I,T){return T?ha(this,I,T):ha(this,this,I),this}multiply(I,T){var v,z,r;return I.length?T?Ea(this,I,T):Ea(this,this,I):(z=this,r=I,(v=this)[0]=z[0]*r,v[1]=z[1]*r,v[2]=z[2]*r,v[3]=z[3]*r,v[4]=z[4]*r,v[5]=z[5]*r,v[6]=z[6]*r,v[7]=z[7]*r,v[8]=z[8]*r,v[9]=z[9]*r,v[10]=z[10]*r,v[11]=z[11]*r,v[12]=z[12]*r,v[13]=z[13]*r,v[14]=z[14]*r,v[15]=z[15]*r),this}identity(){var I;return(I=this)[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,this}copy(I){var T,v;return v=I,(T=this)[0]=v[0],T[1]=v[1],T[2]=v[2],T[3]=v[3],T[4]=v[4],T[5]=v[5],T[6]=v[6],T[7]=v[7],T[8]=v[8],T[9]=v[9],T[10]=v[10],T[11]=v[11],T[12]=v[12],T[13]=v[13],T[14]=v[14],T[15]=v[15],this}fromPerspective({fov:I,aspect:T,near:v,far:z}={}){return function(I,T,v,z,r){let K=1/Math.tan(T/2),n=1/(z-r);I[0]=K/v,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=K,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=(r+z)*n,I[11]=-1,I[12]=0,I[13]=0,I[14]=2*r*z*n,I[15]=0}(this,I,T,v,z),this}fromOrthogonal({left:I,right:T,bottom:v,top:z,near:r,far:K}){return function(I,T,v,z,r,K,n){let l=1/(T-v),a=1/(z-r),S=1/(K-n);I[0]=-2*l,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=-2*a,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=2*S,I[11]=0,I[12]=(T+v)*l,I[13]=(r+z)*a,I[14]=(n+K)*S,I[15]=1}(this,I,T,v,z,r,K),this}fromQuaternion(I){return function(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=v+v,l=z+z,a=r+r,S=v*n,A=z*n,H=z*l,t=r*n,b=r*l,R=r*a,F=K*n,f=K*l,x=K*a;I[0]=1-H-R,I[1]=A+x,I[2]=t-f,I[3]=0,I[4]=A-x,I[5]=1-S-R,I[6]=b+F,I[7]=0,I[8]=t+f,I[9]=b-F,I[10]=1-S-H,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1}(this,I),this}setPosition(I){return this.x=I[0],this.y=I[1],this.z=I[2],this}inverse(I=this){return function(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=T[4],l=T[5],a=T[6],S=T[7],A=T[8],H=T[9],t=T[10],b=T[11],R=T[12],F=T[13],f=T[14],x=T[15],D=v*l-z*n,q=v*a-r*n,J=v*S-K*n,y=z*a-r*l,V=z*S-K*l,C=r*S-K*a,i=A*F-H*R,c=A*f-t*R,E=A*x-b*R,X=H*f-t*F,P=H*x-b*F,G=t*x-b*f,h=D*G-q*P+J*X+y*E-V*c+C*i;h&&(h=1/h,I[0]=(l*G-a*P+S*X)*h,I[1]=(r*P-z*G-K*X)*h,I[2]=(F*C-f*V+x*y)*h,I[3]=(t*V-H*C-b*y)*h,I[4]=(a*E-n*G-S*c)*h,I[5]=(v*G-r*E+K*c)*h,I[6]=(f*J-R*C-x*q)*h,I[7]=(A*C-t*J+b*q)*h,I[8]=(n*P-l*E+S*i)*h,I[9]=(z*E-v*P-K*i)*h,I[10]=(R*V-F*J+x*D)*h,I[11]=(H*J-A*V-b*D)*h,I[12]=(l*c-n*X-a*i)*h,I[13]=(v*X-z*c+r*i)*h,I[14]=(F*q-R*y-f*D)*h,I[15]=(A*y-H*q+t*D)*h)}(this,I),this}compose(I,T,v){return function(I,T,v,z){let r=T[0],K=T[1],n=T[2],l=T[3],a=r+r,S=K+K,A=n+n,H=r*a,t=r*S,b=r*A,R=K*S,F=K*A,f=n*A,x=l*a,D=l*S,q=l*A,J=z[0],y=z[1],V=z[2];I[0]=(1-(R+f))*J,I[1]=(t+q)*J,I[2]=(b-D)*J,I[3]=0,I[4]=(t-q)*y,I[5]=(1-(H+f))*y,I[6]=(F+x)*y,I[7]=0,I[8]=(b+D)*V,I[9]=(F-x)*V,I[10]=(1-(H+R))*V,I[11]=0,I[12]=v[0],I[13]=v[1],I[14]=v[2],I[15]=1}(this,I,T,v),this}getRotation(I){return Pa(I,this),this}getTranslation(I){var T,v;return v=this,(T=I)[0]=v[12],T[1]=v[13],T[2]=v[14],this}getScaling(I){return Xa(I,this),this}getMaxScaleOnAxis(){return function(I){let T=I[0],v=I[1],z=I[2],r=I[4],K=I[5],n=I[6],l=I[8],a=I[9],S=I[10];const A=T*T+v*v+z*z,H=r*r+K*K+n*n,t=l*l+a*a+S*S;return Math.sqrt(Math.max(A,H,t))}(this)}lookAt(I,T,v){return function(I,T,v,z){let r=T[0],K=T[1],n=T[2],l=z[0],a=z[1],S=z[2],A=r-v[0],H=K-v[1],t=n-v[2],b=A*A+H*H+t*t;0===b?t=1:(b=1/Math.sqrt(b),A*=b,H*=b,t*=b);let R=a*t-S*H,F=S*A-l*t,f=l*H-a*A;b=R*R+F*F+f*f,0===b&&(S?l+=1e-6:a?S+=1e-6:a+=1e-6,R=a*t-S*H,F=S*A-l*t,f=l*H-a*A,b=R*R+F*F+f*f),b=1/Math.sqrt(b),R*=b,F*=b,f*=b,I[0]=R,I[1]=F,I[2]=f,I[3]=0,I[4]=H*f-t*F,I[5]=t*R-A*f,I[6]=A*F-H*R,I[7]=0,I[8]=A,I[9]=H,I[10]=t,I[11]=0,I[12]=r,I[13]=K,I[14]=n,I[15]=1}(this,I,T,v),this}determinant(){return function(I){let T=I[0],v=I[1],z=I[2],r=I[3],K=I[4],n=I[5],l=I[6],a=I[7],S=I[8],A=I[9],H=I[10],t=I[11],b=I[12],R=I[13],F=I[14],f=I[15];return(T*n-v*K)*(H*f-t*F)-(T*l-z*K)*(A*f-t*R)+(T*a-r*K)*(A*F-H*R)+(v*l-z*n)*(S*f-t*b)-(v*a-r*n)*(S*F-H*b)+(z*a-r*l)*(S*R-A*b)}(this)}fromArray(I,T=0){return this[0]=I[T],this[1]=I[T+1],this[2]=I[T+2],this[3]=I[T+3],this[4]=I[T+4],this[5]=I[T+5],this[6]=I[T+6],this[7]=I[T+7],this[8]=I[T+8],this[9]=I[T+9],this[10]=I[T+10],this[11]=I[T+11],this[12]=I[T+12],this[13]=I[T+13],this[14]=I[T+14],this[15]=I[T+15],this}toArray(I=[],T=0){return I[T]=this[0],I[T+1]=this[1],I[T+2]=this[2],I[T+3]=this[3],I[T+4]=this[4],I[T+5]=this[5],I[T+6]=this[6],I[T+7]=this[7],I[T+8]=this[8],I[T+9]=this[9],I[T+10]=this[10],I[T+11]=this[11],I[T+12]=this[12],I[T+13]=this[13],I[T+14]=this[14],I[T+15]=this[15],I}}const _a=new Ba;class da extends Array{constructor(I=0,T=I,v=I,z="YXZ"){return super(I,T,v),this.order=z,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(I){this[0]=I,this.onChange()}set y(I){this[1]=I,this.onChange()}set z(I){this[2]=I,this.onChange()}set(I,T=I,v=I){return I.length?this.copy(I):(this[0]=I,this[1]=T,this[2]=v,this.onChange(),this)}copy(I){return this[0]=I[0],this[1]=I[1],this[2]=I[2],this.onChange(),this}reorder(I){return this.order=I,this.onChange(),this}fromRotationMatrix(I,T=this.order){return function(I,T,v="YXZ"){"XYZ"===v?(I[1]=Math.asin(Math.min(Math.max(T[8],-1),1)),Math.abs(T[8])<.99999?(I[0]=Math.atan2(-T[9],T[10]),I[2]=Math.atan2(-T[4],T[0])):(I[0]=Math.atan2(T[6],T[5]),I[2]=0)):"YXZ"===v?(I[0]=Math.asin(-Math.min(Math.max(T[9],-1),1)),Math.abs(T[9])<.99999?(I[1]=Math.atan2(T[8],T[10]),I[2]=Math.atan2(T[1],T[5])):(I[1]=Math.atan2(-T[2],T[0]),I[2]=0)):"ZXY"===v?(I[0]=Math.asin(Math.min(Math.max(T[6],-1),1)),Math.abs(T[6])<.99999?(I[1]=Math.atan2(-T[2],T[10]),I[2]=Math.atan2(-T[4],T[5])):(I[1]=0,I[2]=Math.atan2(T[1],T[0]))):"ZYX"===v?(I[1]=Math.asin(-Math.min(Math.max(T[2],-1),1)),Math.abs(T[2])<.99999?(I[0]=Math.atan2(T[6],T[10]),I[2]=Math.atan2(T[1],T[0])):(I[0]=0,I[2]=Math.atan2(-T[4],T[5]))):"YZX"===v?(I[2]=Math.asin(Math.min(Math.max(T[1],-1),1)),Math.abs(T[1])<.99999?(I[0]=Math.atan2(-T[9],T[5]),I[1]=Math.atan2(-T[2],T[0])):(I[0]=0,I[1]=Math.atan2(T[8],T[10]))):"XZY"===v&&(I[2]=Math.asin(-Math.min(Math.max(T[4],-1),1)),Math.abs(T[4])<.99999?(I[0]=Math.atan2(T[6],T[5]),I[1]=Math.atan2(T[8],T[0])):(I[0]=Math.atan2(-T[9],T[10]),I[1]=0))}(this,I,T),this.onChange(),this}fromQuaternion(I,T=this.order){return _a.fromQuaternion(I),this.fromRotationMatrix(_a,T)}fromArray(I,T=0){return this[0]=I[T],this[1]=I[T+1],this[2]=I[T+2],this}toArray(I=[],T=0){return I[T]=this[0],I[T+1]=this[1],I[T+2]=this[2],I}}class wa{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Ba,this.worldMatrix=new Ba,this.matrixAutoUpdate=!0,this.position=new ol,this.quaternion=new ia,this.scale=new ol(1),this.rotation=new da,this.up=new ol(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(I,T=!0){this.parent&&I!==this.parent&&this.parent.removeChild(this,!1),this.parent=I,T&&I&&I.addChild(this,!1)}addChild(I,T=!0){~this.children.indexOf(I)||this.children.push(I),T&&I.setParent(this,!1)}removeChild(I,T=!0){~this.children.indexOf(I)&&this.children.splice(this.children.indexOf(I),1),T&&I.setParent(null,!1)}updateMatrixWorld(I){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||I)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,I=!0);for(let T=0,v=this.children.length;T<v;T++)this.children[T].updateMatrixWorld(I)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(I){if(!I(this))for(let T=0,v=this.children.length;T<v;T++)this.children[T].traverse(I)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(I,T=!1){T?this.matrix.lookAt(this.position,I,this.up):this.matrix.lookAt(I,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}function $a(I,T,v){let z=T[0],r=T[1],K=T[2],n=T[3],l=T[4],a=T[5],S=T[6],A=T[7],H=T[8],t=v[0],b=v[1],R=v[2],F=v[3],f=v[4],x=v[5],D=v[6],q=v[7],J=v[8];return I[0]=t*z+b*n+R*S,I[1]=t*r+b*l+R*A,I[2]=t*K+b*a+R*H,I[3]=F*z+f*n+x*S,I[4]=F*r+f*l+x*A,I[5]=F*K+f*a+x*H,I[6]=D*z+q*n+J*S,I[7]=D*r+q*l+J*A,I[8]=D*K+q*a+J*H,I}class pa extends Array{constructor(I=1,T=0,v=0,z=0,r=1,K=0,n=0,l=0,a=1){return super(I,T,v,z,r,K,n,l,a),this}set(I,T,v,z,r,K,n,l,a){return I.length?this.copy(I):(function(I,T,v,z,r,K,n,l,a,S){I[0]=T,I[1]=v,I[2]=z,I[3]=r,I[4]=K,I[5]=n,I[6]=l,I[7]=a,I[8]=S}(this,I,T,v,z,r,K,n,l,a),this)}translate(I,T=this){return function(I,T,v){let z=T[0],r=T[1],K=T[2],n=T[3],l=T[4],a=T[5],S=T[6],A=T[7],H=T[8],t=v[0],b=v[1];I[0]=z,I[1]=r,I[2]=K,I[3]=n,I[4]=l,I[5]=a,I[6]=t*z+b*n+S,I[7]=t*r+b*l+A,I[8]=t*K+b*a+H}(this,T,I),this}rotate(I,T=this){return function(I,T,v){let z=T[0],r=T[1],K=T[2],n=T[3],l=T[4],a=T[5],S=T[6],A=T[7],H=T[8],t=Math.sin(v),b=Math.cos(v);I[0]=b*z+t*n,I[1]=b*r+t*l,I[2]=b*K+t*a,I[3]=b*n-t*z,I[4]=b*l-t*r,I[5]=b*a-t*K,I[6]=S,I[7]=A,I[8]=H}(this,T,I),this}scale(I,T=this){return function(I,T,v){let z=v[0],r=v[1];I[0]=z*T[0],I[1]=z*T[1],I[2]=z*T[2],I[3]=r*T[3],I[4]=r*T[4],I[5]=r*T[5],I[6]=T[6],I[7]=T[7],I[8]=T[8]}(this,T,I),this}multiply(I,T){return T?$a(this,I,T):$a(this,this,I),this}identity(){var I;return(I=this)[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=1,I[5]=0,I[6]=0,I[7]=0,I[8]=1,this}copy(I){var T,v;return v=I,(T=this)[0]=v[0],T[1]=v[1],T[2]=v[2],T[3]=v[3],T[4]=v[4],T[5]=v[5],T[6]=v[6],T[7]=v[7],T[8]=v[8],this}fromMatrix4(I){var T,v;return v=I,(T=this)[0]=v[0],T[1]=v[1],T[2]=v[2],T[3]=v[4],T[4]=v[5],T[5]=v[6],T[6]=v[8],T[7]=v[9],T[8]=v[10],this}fromQuaternion(I){return function(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=v+v,l=z+z,a=r+r,S=v*n,A=z*n,H=z*l,t=r*n,b=r*l,R=r*a,F=K*n,f=K*l,x=K*a;I[0]=1-H-R,I[3]=A-x,I[6]=t+f,I[1]=A+x,I[4]=1-S-R,I[7]=b-F,I[2]=t-f,I[5]=b+F,I[8]=1-S-H}(this,I),this}fromBasis(I,T,v){return this.set(I[0],I[1],I[2],T[0],T[1],T[2],v[0],v[1],v[2]),this}inverse(I=this){return function(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=T[4],l=T[5],a=T[6],S=T[7],A=T[8],H=A*n-l*S,t=-A*K+l*a,b=S*K-n*a,R=v*H+z*t+r*b;R&&(R=1/R,I[0]=H*R,I[1]=(-A*z+r*S)*R,I[2]=(l*z-r*n)*R,I[3]=t*R,I[4]=(A*v-r*a)*R,I[5]=(-l*v+r*K)*R,I[6]=b*R,I[7]=(-S*v+z*a)*R,I[8]=(n*v-z*K)*R)}(this,I),this}getNormalMatrix(I){return function(I,T){let v=T[0],z=T[1],r=T[2],K=T[3],n=T[4],l=T[5],a=T[6],S=T[7],A=T[8],H=T[9],t=T[10],b=T[11],R=T[12],F=T[13],f=T[14],x=T[15],D=v*l-z*n,q=v*a-r*n,J=v*S-K*n,y=z*a-r*l,V=z*S-K*l,C=r*S-K*a,i=A*F-H*R,c=A*f-t*R,E=A*x-b*R,X=H*f-t*F,P=H*x-b*F,G=t*x-b*f,h=D*G-q*P+J*X+y*E-V*c+C*i;h&&(h=1/h,I[0]=(l*G-a*P+S*X)*h,I[1]=(a*E-n*G-S*c)*h,I[2]=(n*P-l*E+S*i)*h,I[3]=(r*P-z*G-K*X)*h,I[4]=(v*G-r*E+K*c)*h,I[5]=(z*E-v*P-K*i)*h,I[6]=(F*C-f*V+x*y)*h,I[7]=(f*J-R*C-x*q)*h,I[8]=(R*V-F*J+x*D)*h)}(this,I),this}}let Ya=0;class ga extends wa{constructor(I,{geometry:T,program:v,mode:z=I.TRIANGLES,frustumCulled:r=!0,renderOrder:K=0}={}){super(),I.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=I,this.id=Ya++,this.geometry=T,this.program=v,this.mode=z,this.frustumCulled=r,this.renderOrder=K,this.modelViewMatrix=new Ba,this.normalMatrix=new pa,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(I){return this.beforeRenderCallbacks.push(I),this}onAfterRender(I){return this.afterRenderCallbacks.push(I),this}draw({camera:I}={}){I&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=I.projectionMatrix,this.program.uniforms.cameraPosition.value=I.worldPosition,this.program.uniforms.viewMatrix.value=I.viewMatrix,this.modelViewMatrix.multiply(I.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach((T=>T&&T({mesh:this,camera:I})));let T=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:T}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach((T=>T&&T({mesh:this,camera:I})))}}class La{constructor(I,T,v){this.renderer=T;const z=new Ha(I,{position:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},uv:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},index:{data:new Uint16Array([0,1,2,3,2,0])}});this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n\n            uniform vec4 pos;\n\n            varying vec2 vUV;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                gl_Position = vec4(x, y, 0.0, 1.0);\n                vUV = uv;\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l}},cullFace:null,transparent:!0,depthTest:!1}),this.mesh=new ga(I,{geometry:z,program:this.program})}dispose(){Ka(this.program),na(this.mesh.geometry)}render(I,T,v){this.program.uniforms.pos.value=T,this.program.uniforms.sampler.value=v,I.scene=this.mesh,this.renderer.render(I)}}class Za{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n\n            uniform vec4 pos;\n\n            varying vec2 vUV;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                gl_Position = vec4(x, y, 0.0, 1.0);\n                vUV = uv;\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l}},cullFace:null,transparent:!0,depthTest:!1}),this.smallMesh=ma(I,AT.bU.Small,this.program),this.bigMesh=ma(I,AT.bU.Regular,this.program)}dispose(){Ka(this.program),na(this.smallMesh.geometry),na(this.bigMesh.geometry)}updateTexture(I){this.program.uniforms.sampler.value=I}render(I,T,v){I.scene=v===AT.bU.Regular?this.bigMesh:this.smallMesh,this.program.uniforms.pos.value=T,this.renderer.render(I)}}function ma(I,T,v){const z=T===AT.bU.Regular,r=1-Jz-(z?yz:Jz),K=r/5,n=(1-K)/2,l=n+K,a=Jz+2*r/5,S=a+K,A=new Ha(I,{position:{size:2,data:new Float32Array([n,a,l,a,l,S,n,S])},uv:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},index:{data:new Uint16Array([0,1,2,3,2,0])}});return new ga(I,{geometry:A,program:v})}class Wa{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n            attribute vec2 centers;\n            attribute float idx; // sprite index\n\n            // card position relative to canvas - x: x, y: y, w: width, z: height\n            uniform vec4 pos;\n            uniform bool visibility[25];\n            uniform int numbers[25];\n            uniform int lastBall;\n            uniform int frame;\n\n            varying vec2 vUV;\n\n            const int DAB_FRAMES = 15;\n\n            void main() {\n                float centerX = (centers.x * pos.w + pos.x) * 2.0 - 1.0;\n                float centerY = 1.0 - (centers.y * pos.z + pos.y) * 2.0;\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                int index = int(idx);\n                bool show = bool(visibility[index]);\n                int number = numbers[index];\n                bool isLast = number == lastBall;\n\n                bool isFrameVisible = frame > DAB_FRAMES / 2;\n                float dabScale = float(DAB_FRAMES - frame) / float(DAB_FRAMES) * 2.0;\n                float addScale = max(0.0, dabScale) * float(isLast);\n                float meshScale = 1.0 + addScale;\n                float scaledX = centerX + (x - centerX) * meshScale;\n                float scaledY = centerY + (y - centerY) * meshScale;\n                bool isVisible = !isLast || isFrameVisible;\n                gl_Position = vec4(scaledX, scaledY, 0.0, 1.0) * float(show) * float(isVisible);\n                vUV = uv;\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l(0,0,1,1)},visibility:{value:[]},numbers:{value:[]},lastBall:{value:0},frame:{value:0}},cullFace:null,transparent:!0,depthTest:!1}),this.smallMesh=ea(I,AT.bU.Small,this.program),this.bigMesh=ea(I,AT.bU.Regular,this.program)}dispose(){Ka(this.program),na(this.smallMesh.geometry),na(this.bigMesh.geometry)}updateTexture(I){this.program.uniforms.sampler.value=I}render(I,T,v,z,r,K){I.scene=z===AT.bU.Regular?this.bigMesh:this.smallMesh,this.program.uniforms.pos.value=T,this.program.uniforms.visibility.value=v.dabVisibility,this.program.uniforms.numbers.value=v.cardNumbers,this.program.uniforms.lastBall.value=K,this.program.uniforms.frame.value=r,this.renderer.render(I)}}function ea(I,T,v){const z=T===AT.bU.Regular,r=Jz,K=(1-r-r)/5,n=(1-r-(z?yz:r))/5,l=n,a=l/2,S=[],A=[],H=[],t=[],b=[];let R=0;const F=(K-l)/2,f=(n-l)/2;for(let I=0;I<5;I++){const T=r+I*K+F,v=T+a;for(let z=0;z<5;z++){if(2===z&&2===I)continue;const K=r+z*n+f,F=K+a;S.push(T,K,T+l,K,T+l,K+l,T,K+l),H.push(0,0,1,0,1,1,0,1),A.push(v,F,v,F,v,F,v,F),t.push(R,R+1,R+2,R+3,R+2,R),R+=4;const x=5*I+z;b.push(x,x,x,x)}}const x=new Ha(I,{position:{size:2,data:new Float32Array(S)},uv:{size:2,data:new Float32Array(H)},index:{data:new Uint16Array(t)},centers:{size:2,data:new Float32Array(A)},idx:{data:new Uint16Array(b)}});return new ga(I,{geometry:x,program:v})}const sa=[null,5,10,12,15,20,25,50,100],Ma=sa.length,ja={0:0,5:1/Ma,10:2/Ma,12:3/Ma,15:4/Ma,20:5/Ma,25:6/Ma,50:7/Ma,100:8/Ma},Ua=document.createElement("canvas"),Na=Ua.getContext("2d");if(!Na)throw new A.bE("Cannot get canvas context to render closeToWin atlas","CanvasContext");const oa=50,Qa=.85*oa,Oa=.35,ka=.35,ua=oa*Oa,IS=Qa*ka,TS=oa+2*ua,vS=Qa+2*IS,zS=.04*Qa,rS=.3*Qa,KS=.1*Qa;Ua.width=TS,Ua.height=vS*Ma;const nS=ua;for(let I=0;I<Ma;I++){const T=vS*I+IS,v=sa[I],z=Na.createLinearGradient(nS,T,nS,T+Qa);null!==v?(z.addColorStop(0,rT.d9[v][0]),z.addColorStop(1,rT.d9[v][1])):(z.addColorStop(1,"#36c29f"),z.addColorStop(0,"#107772")),Na.fillStyle=z,Na.shadowColor="#fff",Na.shadowBlur=rS,Na.shadowOffsetX=0,Na.shadowOffsetY=1,Na.fillRect(nS,T,oa,Qa),Na.lineWidth=zS,Na.strokeStyle="#fff",Na.shadowColor="#f8e61c",Na.shadowBlur=KS,Na.shadowOffsetX=1,Na.shadowOffsetY=0,Na.strokeRect(nS,T,oa,Qa),Na.shadowBlur=0,Na.shadowColor="rgba(0, 0, 0, 0)"}class lS{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n            attribute float idx; // sprite index\n\n            uniform vec4 pos;\n            uniform bool visibility[25];\n            uniform float multiplier;\n\n            varying vec2 vUV;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                bool show = visibility[int(idx)];\n                gl_Position = vec4(x, y, 0.0, 1.0) * float(show);\n                vUV = vec2(uv.x, uv.y + multiplier);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l},visibility:{value:[]},multiplier:{value:0}},cullFace:null,transparent:!0,depthTest:!1}),this.smallMesh=aS(I,AT.bU.Small,this.program),this.bigMesh=aS(I,AT.bU.Regular,this.program)}dispose(){Ka(this.program),na(this.smallMesh.geometry),na(this.bigMesh.geometry)}render(I,T,v,z,r,K){const n=v.serverState.phase,l=(0===r&&n===AT.Qc.GameResolved?void 0:K)||0,a=ja[l];I.scene=z===AT.bU.Regular?this.bigMesh:this.smallMesh,this.program.uniforms.pos.value=T,this.program.uniforms.visibility.value=v.expectedNumbers,this.program.uniforms.multiplier.value=a,this.renderer.render(I)}}function aS(I,T,v){const z=T===AT.bU.Regular,r=Jz,K=(1-r-r)/5,n=(1-r-(z?yz:r))/5,l=K*Oa,a=n*ka,S=K+2*l,A=n+2*a,H=[],t=[],b=[],R=[];let F=0;const f=1/Ma;for(let I=0;I<5;I++){const T=r+I*K-l;for(let v=0;v<5;v++){if(2===v&&2===I)continue;const z=r+v*n-a;H.push(T,z,T+S,z,T+S,z+A,T,z+A),t.push(0,0,1,0,1,f,0,f),b.push(F,F+1,F+2,F+3,F+2,F),F+=4;const K=5*I+v;R.push(K,K,K,K)}}const x=new Ha(I,{position:{size:2,data:new Float32Array(H)},uv:{size:2,data:new Float32Array(t)},index:{data:new Uint16Array(b)},idx:{data:new Uint16Array(R)}});return new ga(I,{geometry:x,program:v})}class SS{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n            attribute float idx; // sprite index\n\n            uniform vec4 pos;\n            uniform int numbers[25];\n            uniform int lastBall;\n            uniform int frame;\n\n            varying vec2 vUV;\n\n            const int rows = 3;\n            const int columns = 5;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                float hStep = 1.0 / float(columns);\n                float vStep = 1.0 / float(rows);\n\n                int row = frame / rows;\n                int column = frame - row * rows;\n                float uOffset = hStep * float(column);\n                float vOffset = vStep * float(row);\n\n                int number = numbers[int(idx)];\n                bool show = lastBall == number;\n\n                gl_Position = vec4(x, y, 0.0, 1.0);\n                vUV = vec2(uv.x + uOffset, uv.y + vOffset) * float(show);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l},numbers:{value:[]},lastBall:{value:0},frame:{value:0}},cullFace:null,transparent:!0,depthTest:!1}),this.mesh=function(I,T){const v=Jz,z=(1-v-v)/5,r=(1-v-yz)/5,K=[],n=[],l=[],a=[],S=1.28,A=.72;let H=0;const t=(z-S)/2,b=0-A/2;for(let I=0;I<5;I++){const T=v+I*z+t;for(let z=0;z<5;z++){if(2===z&&2===I)continue;const t=v+z*r+b;K.push(T,t,T+S,t,T+S,t+A,T,t+A),n.push(0,0,1/5,0,1/5,1/3,0,1/3),l.push(H,H+1,H+2,H+3,H+2,H),H+=4;const R=5*I+z;a.push(R,R,R,R)}}const R=new Ha(I,{position:{size:2,data:new Float32Array(K)},uv:{size:2,data:new Float32Array(n)},index:{data:new Uint16Array(l)},idx:{data:new Uint16Array(a)}});return new ga(I,{geometry:R,program:T})}(I,this.program)}dispose(){Ka(this.program),na(this.mesh.geometry)}updateTexture(I){this.program.uniforms.sampler.value=I}render(I,T,v,z,r){!r||z>=rT.qL||(this.program.uniforms.pos.value=T,this.program.uniforms.numbers.value=v.cardNumbers,this.program.uniforms.lastBall.value=r,this.program.uniforms.frame.value=z,I.scene=this.mesh,this.renderer.render(I))}}class AS{constructor(I,T){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute float idx;\n\n            uniform vec4 pos;\n            uniform vec3 color[2];\n            uniform vec2 vpSize;\n\n            varying lowp vec4 vColor;\n            varying vec2 vResolution;\n            varying vec4 vBounds;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                gl_Position = vec4(x, y, 0.0, 1.0);\n\n                vColor = vec4(mix(color[0], color[1], idx), 1.0);\n                vResolution = vpSize;\n                vBounds = vec4(pos.x * vpSize.x, pos.y * vpSize.y, pos.z * vpSize.y, pos.w * vpSize.x);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            uniform float vScale;\n\n            varying lowp vec4 vColor;\n            varying vec2 vResolution;\n            varying vec4 vBounds;\n\n            float udRoundBox(vec2 distanceToCenter, vec2 bounds, float r)\n            {\n                vec2 distanceToBorders = (abs(distanceToCenter) - bounds) * vec2(1.0, vScale);\n                return length(max(distanceToBorders + r, 0.0)) - r;\n            }\n\n            void main() {\n                float iRadius = vBounds.w * 0.032;\n                vec2 center = vec2(vBounds.x + vBounds.w / 2.0, vBounds.y + vBounds.z / 2.0);\n                vec2 position = vec2(gl_FragCoord.x, vResolution.y - gl_FragCoord.y);\n\n                // compute box\n                float b = udRoundBox(position - center, vBounds.wz / 2.0, iRadius);\n\n                float visibility = float(b <= 0.0);\n                gl_FragColor = vColor * visibility;\n            }\n        `,uniforms:{pos:{value:new _l},color:{value:[]},vpSize:{value:[]},vScale:{value:1}},cullFace:null,transparent:!0,depthTest:!1});const v=new Ha(I,{position:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},uv:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},index:{data:new Uint16Array([0,1,2,3,2,0])},idx:{data:new Float32Array([0,.5,1,.5,1,0])}});this.mesh=new ga(I,{geometry:v,program:this.program})}dispose(){Ka(this.program),na(this.mesh.geometry)}render(I,T,v,z,r){this.program.uniforms.pos.value=T,this.program.uniforms.color.value=v.gradientColors,this.program.uniforms.vpSize.value=z,this.program.uniforms.vScale.value=r,I.scene=this.mesh,this.renderer.render(I)}}class HS{constructor(I,T){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n\n            uniform vec4 pos;\n            uniform vec2 vpSize;\n\n            varying lowp vec4 vColor;\n            varying vec2 vResolution;\n            varying vec4 vBounds;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                gl_Position = vec4(x, y, 0.0, 1.0);\n\n                vColor = vec4(0.25);\n                vResolution = vpSize;\n                vBounds = vec4(pos.x * vpSize.x, pos.y * vpSize.y, pos.z * vpSize.y, pos.w * vpSize.x);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            uniform float vScale;\n\n            varying lowp vec4 vColor;\n            varying vec2 vResolution;\n            varying vec4 vBounds;\n\n            float udRoundBox(vec2 distanceToCenter, vec2 bounds, float r)\n            {\n                vec2 distanceToBorders = (abs(distanceToCenter) - bounds) * vec2(1.0, vScale);\n                return length(max(distanceToBorders + r, 0.0)) - r;\n            }\n\n            void main() {\n                float iRadius = vBounds.w * 0.032;\n                vec2 center = vec2(vBounds.x + vBounds.w / 2.0, vBounds.y + vBounds.z / 2.0);\n                vec2 position = vec2(gl_FragCoord.x, vResolution.y - gl_FragCoord.y);\n\n                // compute box\n                float b = udRoundBox(position - center, vBounds.wz / 2.0, iRadius);\n\n                float visibility = float(b <= 0.0);\n                gl_FragColor = vColor * visibility;\n            }\n        `,uniforms:{pos:{value:new _l},vpSize:{value:new gl},vScale:{value:1}},cullFace:null,transparent:!0,depthTest:!1});const v=new Ha(I,{position:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},uv:{size:2,data:new Float32Array([0,0,1,0,1,1,0,1])},index:{data:new Uint16Array([0,1,2,3,2,0])}});this.mesh=new ga(I,{geometry:v,program:this.program})}dispose(){Ka(this.program),na(this.mesh.geometry)}render(I,T,v,z){this.program.uniforms.pos.value=T,this.program.uniforms.vpSize.value=v,this.program.uniforms.vScale.value=z,I.scene=this.mesh,this.renderer.render(I)}}const tS=[5,5,10,12,15,20,25,50,100],bS=tS.length,RS={0:0,5:1/bS,10:2/bS,12:3/bS,15:4/bS,20:5/bS,25:6/bS,50:7/bS,100:8/bS},FS=.2,fS=.025,xS=50,DS=.85*xS,qS=document.createElement("canvas");let JS=null;class yS{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n            attribute float idx; // sprite index\n\n            // card position relative to canvas - x: x, y: y, w: width, z: height\n            uniform vec4 pos;\n            uniform float offsets[25];\n\n            varying vec2 vUV;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                int index = int(idx);\n                float offset = offsets[index];\n                gl_Position = vec4(x, y, 0.0, 1.0);\n                vUV = vec2(uv.x, uv.y + offset);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l(0,0,1,1)},offsets:{value:[]}},cullFace:null,transparent:!0,depthTest:!1}),this.smallMesh=VS(I,AT.bU.Small,this.program),this.bigMesh=VS(I,AT.bU.Regular,this.program)}dispose(){Ka(this.program),na(this.smallMesh.geometry),na(this.bigMesh.geometry)}updateTexture(I){this.program.uniforms.sampler.value=I}render(I,T,v,z){I.scene=z===AT.bU.Regular?this.bigMesh:this.smallMesh,this.program.uniforms.pos.value=T,this.program.uniforms.offsets.value=v.cardMultipliers,this.renderer.render(I)}}function VS(I,T,v){const z=T===AT.bU.Regular,r=Jz,K=(1-r-r)/5,n=(1-r-(z?yz:r))/5,l=K*FS,a=n*fS,S=K+2*l,A=n+2*a,H=[],t=[],b=[],R=[];let F=0;const f=1/bS;for(let I=0;I<5;I++){const T=r+I*K-l;for(let v=0;v<5;v++){const z=r+v*n-a;H.push(T,z,T+S,z,T+S,z+A,T,z+A),t.push(0,0,1,0,1,f,0,f),b.push(F,F+1,F+2,F+3,F+2,F),F+=4;const K=5*I+v;R.push(K,K,K,K)}}const x=new Ha(I,{position:{size:2,data:new Float32Array(H)},uv:{size:2,data:new Float32Array(t)},index:{data:new Uint16Array(b)},idx:{data:new Uint16Array(R)}});return new ga(I,{geometry:x,program:v})}class CS{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n            attribute float idx; // sprite index\n\n            uniform vec4 pos;\n            uniform int columns;\n            uniform int rows;\n            uniform int numbers[25];\n            uniform bool expected[25];\n\n            varying vec2 vUV;\n            varying float color;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                float hStep = 1.0 / float(columns);\n                float vStep = 1.0 / float(rows);\n\n                int number = numbers[int(idx)];\n                int row = number / columns;\n                int column = number - row * columns;\n                float uOffset = hStep * float(column);\n                float vOffset = vStep * float(row);\n\n                gl_Position = vec4(vec2(x, y), 0.0, 1.0);\n                vUV = vec2(uv.x + uOffset, uv.y + vOffset);\n                color = float(expected[int(idx)]);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n            varying float color;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               vec4 tex = texture2D(sampler, vUV);\n               vec4 yellow = vec4(1.0, 0.97, 0.63, 1.0) * tex.a;\n\n               gl_FragColor = mix(tex, yellow, color);\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l},columns:{value:il},rows:{value:cl},numbers:{value:[]},expected:{value:[]}},cullFace:null,transparent:!0,depthTest:!1}),this.smallMesh=iS(I,AT.bU.Small,this.program),this.bigMesh=iS(I,AT.bU.Regular,this.program)}dispose(){Ka(this.program),na(this.smallMesh.geometry),na(this.bigMesh.geometry)}updateTexture(I){this.program.uniforms.sampler.value=I}render(I,T,v,z){I.scene=z===AT.bU.Regular?this.bigMesh:this.smallMesh,this.program.uniforms.pos.value=T,this.program.uniforms.numbers.value=v.cardNumbers,this.program.uniforms.expected.value=v.expectedNumbers,this.renderer.render(I)}}function iS(I,T,v){const z=T===AT.bU.Regular,r=Jz,K=(1-r-r)/5,n=(1-r-(z?yz:r))/5,l=K*(z?.86:1),a=[],S=[],A=[],H=[],t=1/il,b=1/cl;let R=0;const F=(K-l)/2,f=(n-l)/2;for(let I=0;I<5;I++){const T=r+I*K+F;for(let v=0;v<5;v++){if(2===v&&2===I)continue;const z=r+v*n+f;a.push(T,z,T+l,z,T+l,z+l,T,z+l),S.push(0,0,t,0,t,b,0,b),A.push(R,R+1,R+2,R+3,R+2,R),R+=4;const K=5*I+v;H.push(K,K,K,K)}}const x=new Ha(I,{position:{size:2,data:new Float32Array(a)},uv:{size:2,data:new Float32Array(S)},index:{data:new Uint16Array(A)},idx:{data:new Uint16Array(H)}});return new ga(I,{geometry:x,program:v})}var cS=v(718284);const ES=" .,01234567890";class XS{constructor(I,T,v,z,r){this.gl=I,this.renderer=T,this.label=v,this.currencySymbol=z,this.currencyDecimals=r,this.meshMap={};const K={[v]:"#f9fcfb",[z]:"#f8e71c"};for(const I of ES)K[I]="#f8e71c";this.atlas=PS(25,K),this.texture=new va(I,{wrapS:I.CLAMP_TO_EDGE,wrapT:I.CLAMP_TO_EDGE,minFilter:I.LINEAR,image:this.atlas.canvas,premultiplyAlpha:!0}),this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n\n            uniform vec4 pos;\n\n            varying vec2 vUV;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                gl_Position = vec4(x, y, 0.0, 1.0);\n                vUV = uv;\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n\n            void main() {\n               gl_FragColor = texture2D(sampler, vUV);\n            }\n        `,uniforms:{sampler:{value:this.texture},pos:{value:new _l}},cullFace:null,transparent:!0,depthTest:!1})}dispose(){Ka(this.program),Object.keys(this.meshMap).forEach((I=>na(this.meshMap[I].geometry)))}render(I,T,v){const z=this.getMeshForAmount(v);this.program.uniforms.pos.value=T,I.scene=z,this.renderer.render(I)}getMeshForAmount(I){let T=this.meshMap[I];if(!T){const v=G.ej(I,{maximumDecimalCount:this.currencyDecimals}),z=[this.label," ",this.currencySymbol," ",...v.split("")],r=.015,K=.09,n=1-K-r,l=1-r,a=[],S=[],A=[],H=this.atlas.canvas.width/this.atlas.canvas.height;let t=0;for(let I=0,T=z.length;I<T;I++){const T=z[I],v=this.atlas.letters[T];v&&(t+=v.width)}const b=t*H*K;let R=0,F=(1-b)/2;for(let I=0,T=z.length;I<T;I++){const T=z[I],v=this.atlas.letters[T];if(!v)continue;const r=F,K=r+v.width/t*b;F=K;const H=v.position,f=H+v.width;a.push(r,n,K,n,K,l,r,l),S.push(H,1,f,1,f,0,H,0),A.push(R,R+1,R+2,R+3,R+2,R),R+=4}const f=new Ha(this.gl,{position:{size:2,data:new Float32Array(a)},uv:{size:2,data:new Float32Array(S)},index:{data:new Uint16Array(A)}});T=new ga(this.gl,{geometry:f,program:this.program}),this.meshMap[I]=T}return T}}const PS=cS.A(((I,T)=>{const v=document.createElement("canvas"),z=v.getContext("2d");if(!z)throw new A.bE("Cannot get canvas context to render text atlas","CanvasContext");const r=.8*I,K=`bold ${1*I}px / 1 ${"Inter, Arial, sans-serif"}`,n=1,l=Object.keys(T);z.font=K;const a=l.map((I=>z.measureText(I).width)),S=a.reduce(((I,T)=>I+T),0)+l.length*n*2;v.width=S,v.height=I,z.font=K;const H=[];let t=0;for(let I=0;I<l.length;I++){const v=l[I];z.fillStyle=T[v];const K=t+n;H.push(K),z.fillText(v,K,r),t+=a[I]+n+n}const b={};for(let I=0;I<l.length;I++){const T=l[I],v=a[I]/S,z=H[I]/S;b[T]={position:z,width:v}}return{canvas:v,letters:b}})),GS="vec3 rgb2hsv(vec3 c){vec4 K=vec4(0.,-1./3.,2./3.,-1.);vec4 p=c.g<c.b?vec4(c.bg,K.wz):vec4(c.gb,K.xy);vec4 q=c.r<p.x?vec4(p.xyw,c.r):vec4(c.r,p.yzx);float d=q.x-min(q.w,q.y);float e=1.0e-10;return vec3(abs(q.z+(q.w-q.y)/(6.*d+e)),d/(q.x+e),q.x);}vec3 hsv2rgb(vec3 c){vec4 K=vec4(1.,2./3.,1./3.,3.);vec3 p=abs(fract(c.xxx+K.xyz)*6.-K.www);return c.z*mix(K.xxx,clamp(p-K.xxx,0.,1.),c.y);}vec3 hsvAdjust(vec3 c,vec3 values){vec3 hsv=rgb2hsv(c);hsv.x+=values.x/360.;hsv.y*=values.y;hsv.z*=values.z;hsv.x=mod(hsv.x,1.);return hsv2rgb(hsv);}",hS=1/30,BS=null,_S=new ol(110,1,1),dS={5:new ol(-88,1,1),10:new ol(-110,1,1),12:new ol(-110,1,1),15:new ol(-24,.7,1),20:new ol(-24,.7,1),25:new ol(0,1,1),50:new ol(0,1,1),100:new ol(42,1,1)};class wS{constructor(I,T,v){this.renderer=T,this.program=new Ra(I,{vertex:`\n            attribute vec2 position;\n            attribute vec2 uv;\n            attribute float idx; // sprite index\n\n            uniform vec4 pos;\n            uniform int visibility[12];\n            uniform int frame;\n\n            varying vec2 vUV;\n\n            const float lineOffset = 1.0 / 30.0;\n            const float lastFrame = 29.0;\n\n            void main() {\n                float x = (position.x * pos.w + pos.x) * 2.0 - 1.0;\n                float y = 1.0 - (position.y * pos.z + pos.y) * 2.0;\n\n                int vis = visibility[int(idx)];\n                bool show = bool(vis);\n                bool animate = vis == 2;\n                gl_Position = vec4(x, y, 0.0, 1.0) * float(show);\n                float staticOffset = lastFrame * lineOffset * float(!animate);\n                float animatedOffset = float(frame) * lineOffset * float(animate);\n                vUV = vec2(uv.x, uv.y + staticOffset + animatedOffset);\n            }\n        `,fragment:`\n            precision mediump float;\n\n            varying vec2 vUV;\n\n            uniform sampler2D sampler;\n            uniform vec3 hsv;\n\n            ${GS}\n\n            void main() {\n               vec4 tex = texture2D(sampler, vUV);\n               tex.rgb = hsvAdjust(tex.rgb, hsv);\n               gl_FragColor = tex;\n            }\n        `,uniforms:{sampler:{value:v},pos:{value:new _l},visibility:{value:[]},frame:{value:0},hsv:{value:new ol}},cullFace:null,transparent:!0,depthTest:!1}),this.smallMesh=$S(I,AT.bU.Small,this.program),this.bigMesh=$S(I,AT.bU.Regular,this.program)}dispose(){Ka(this.program),na(this.smallMesh.geometry),na(this.bigMesh.geometry)}updateTexture(I){this.program.uniforms.sampler.value=I}render(I,T,v,z,r){I.scene=z===AT.bU.Regular?this.bigMesh:this.smallMesh;const K=dS[r||0]||_S;this.program.uniforms.pos.value=T,this.program.uniforms.visibility.value=v.lineVisibility,this.program.uniforms.frame.value=v.currentLineFrame,this.program.uniforms.hsv.value=BS||K,this.renderer.render(I)}}function $S(I,T,v){const z=T===AT.bU.Regular,r=Jz,K=z?yz:r,n=1-r-K,l=(1-r-r)/5,a=n/5,S=hS,A=.087,H=[],t=[],b=[],R=[];let F=0,f=0;const x=r,D=1-r;for(let I=0;I<5;I++){const T=r+a*I,v=T+a;H.push(x,T,D,T,D,v,x,v),t.push(A,0,1-A,0,1-A,S,A,S),b.push(F,F+1,F+2,F+3,F+2,F),F+=4,R.push(f,f,f,f),f++}const q=r,J=q+n;for(let I=0;I<5;I++){const T=r+l*I,v=T+l;H.push(T,q,v,q,v,J,T,J),t.push(1-A,0,1-A,S,A,S,A,0),b.push(F,F+1,F+2,F+3,F+2,F),F+=4,R.push(f,f,f,f),f++}const y=.16,V=r-y+.01,C=r-y+.11,i=-r+y+.88,c=-r+y+.98,E=r-y+.02,X=r-y+.15,P=-K+y+.87,G=-K+y+.95;H.push(C,E,c,P,i,G,V,X),t.push(1,0,0,0,0,S,1,S),b.push(F,F+1,F+2,F+3,F+2,F),F+=4,R.push(f,f,f,f),f++,H.push(V,P,i,E,c,X,C,G),t.push(0,0,1,0,1,S,0,S),b.push(F,F+1,F+2,F+3,F+2,F),R.push(f,f,f,f),f++;const h=new Ha(I,{position:{size:2,data:new Float32Array(H)},uv:{size:2,data:new Float32Array(t)},index:{data:new Uint16Array(b)},idx:{data:new Uint16Array(R)}});return new ga(I,{geometry:h,program:v})}const pS={scene:void 0,camera:void 0,update:!1},YS={scene:void 0,camera:void 0,update:!1},gS=new _l(0,0,1,1),LS=new gl(Vz,Vz),ZS=new Uint8Array(Vz*Vz*4);class mS{constructor(I,T,v,z,r,K,n,l,a){this.canvas=I,this.winLabel=n,this.currencySymbol=l,this.currencyDecimals=a,this.viewportSize=new gl,this.vScale=1;const{width:S,height:A}=I.style;this.renderer=new kl({canvas:I,width:I.width,height:I.height,stencil:!1,antialias:!0,powerPreference:"high-performance",alpha:!0,premultipliedAlpha:!0,autoClear:!1}),I.style.width=S,I.style.height=A;const H=this.renderer.gl;H.clearColor(0,0,0,0),this.emptyTexture=new va(H,{image:T,generateMipmaps:!1,minFilter:H.NEAREST,magFilter:H.NEAREST}),this.cardTextures=WS(H,v),this.numberTexture=sS(H,z),this.cardMultiplierTexture=sS(H,r),this.closeToWinTexture=sS(H,K),this.gradientRenderer=new AS(H,this.renderer),this.baseRenderer=new La(H,this.renderer,this.emptyTexture),this.numberRenderer=new CS(H,this.renderer,this.numberTexture),this.expectedNumberRenderer=new lS(H,this.renderer,this.closeToWinTexture),this.centerRenderer=new Za(H,this.renderer,this.cardTextures.freeBadge),this.dabRenderer=new Wa(H,this.renderer,this.cardTextures.glass),this.explosionRenderer=new SS(H,this.renderer,this.cardTextures.dabExplosion),this.multiplierRenderer=new yS(H,this.renderer,this.cardMultiplierTexture),this.lineRenderer=new wS(H,this.renderer,this.cardTextures.cardLine),this.winAmountRenderer=new XS(H,this.renderer,this.winLabel,this.currencySymbol,this.currencyDecimals),this.highlightRenderer=new HS(H,this.renderer),this.renderTarget=new za(H,{width:Vz,height:Vz}),YS.target=this.renderTarget}dispose(){this.gradientRenderer.dispose(),this.baseRenderer.dispose(),this.numberRenderer.dispose(),this.expectedNumberRenderer.dispose(),this.centerRenderer.dispose(),this.dabRenderer.dispose(),this.explosionRenderer.dispose(),this.multiplierRenderer.dispose(),this.lineRenderer.dispose(),this.winAmountRenderer.dispose(),this.highlightRenderer.dispose(),eS(this.cardTextures),ra(this.emptyTexture),ra(this.numberTexture),ra(this.cardMultiplierTexture),ra(this.closeToWinTexture),function(I){if(I.gl){if(!I.gl.isContextLost())for(let T=0;T<I.state.textureUnits.length;T++)I.gl.activeTexture(I.gl.TEXTURE0+T),I.gl.bindTexture(I.gl.TEXTURE_2D,null),I.gl.bindTexture(I.gl.TEXTURE_CUBE_MAP,null);I.state.textureUnits.length=0,I.gl.renderer=void 0,I.gl=void 0}}(this.renderer)}updateSize(){const{width:I,height:T}=this.canvas,{width:v,height:z}=this.canvas.style;this.renderer.setSize(I,T),this.canvas.style.width=v,this.canvas.style.height=z;const r=this.canvas.clientHeight/this.canvas.clientWidth,K=T/I;this.vScale=r/K,this.viewportSize=new gl(I,T)}updateCardTextures(I){eS(this.cardTextures),this.cardTextures=WS(this.renderer.gl,I),this.centerRenderer.updateTexture(this.cardTextures.freeBadge),this.dabRenderer.updateTexture(this.cardTextures.glass),this.explosionRenderer.updateTexture(this.cardTextures.dabExplosion),this.lineRenderer.updateTexture(this.cardTextures.cardLine)}updateGeneratedAssets(I,T){ra(this.numberTexture),ra(this.cardMultiplierTexture),this.numberTexture=sS(this.renderer.gl,I),this.cardMultiplierTexture=sS(this.renderer.gl,T),this.numberRenderer.updateTexture(this.numberTexture),this.multiplierRenderer.updateTexture(this.cardMultiplierTexture)}renderCards(I,T,v){const{renderer:z,cardTextures:r}=this,K=T.lastMultiplier,n=+(T.lastBall||0),l=T.currentDabFrame,a=T.showExpectedNumbers;z.gl.clear(z.gl.COLOR_BUFFER_BIT);for(let T=0,v=I.length;T<v;T++){const v=I[T],z=v.position3d,S=v.cardType,A=v.card.winAmount,H=l+v.animationDelay,t=v.multiplier,b=MS(r,S,A,t);(b===r.card||b===r.cardSmall)&&this.gradientRenderer.render(pS,z,v,this.viewportSize,this.vScale),this.baseRenderer.render(pS,z,b),a&&this.expectedNumberRenderer.render(pS,z,v,S,A,K),this.numberRenderer.render(pS,z,v,S),S===AT.bU.Regular&&A>0&&this.winAmountRenderer.render(pS,z,A),S!==AT.bU.Small&&this.centerRenderer.render(pS,z,S),this.dabRenderer.render(pS,z,v,S,H,n),S!==AT.bU.Small&&this.explosionRenderer.render(pS,z,v,H,n),this.multiplierRenderer.render(pS,z,v,S),S!==AT.bU.WithoutLabel&&this.lineRenderer.render(pS,z,v,S,t),v.isHighlighted&&this.highlightRenderer.render(pS,z,this.viewportSize,this.vScale)}if(v.selectedCardId)for(let T=0,z=I.length;T<z;T++){const z=I[T];if(z.isHighlighted){const{winAmount:I}=z.card,T=l+z.animationDelay,r=z.multiplier;this.renderSelectedCard(z,K,n,I,T,a,r,v.ui)}}}renderSelectedCard(I,T,v,z,r,K,n,l){const{cardTextures:a,renderer:S}=this,{phase:A}=I.serverState,H=A===AT.Qc.BetsOpened?AT.bU.WithoutLabel:AT.bU.Regular,t=MS(a,H,z,n);(t===a.card||t===a.cardSmall)&&this.gradientRenderer.render(YS,gS,I,LS,1),this.baseRenderer.render(YS,gS,t),K&&this.expectedNumberRenderer.render(YS,gS,I,H,z,T),this.numberRenderer.render(YS,gS,I,H),H===AT.bU.Regular&&z>0&&this.winAmountRenderer.render(YS,gS,z),this.centerRenderer.render(YS,gS,H),this.dabRenderer.render(YS,gS,I,H,r,v),this.explosionRenderer.render(YS,gS,I,r,v),this.multiplierRenderer.render(YS,gS,I,H),H!==AT.bU.WithoutLabel&&this.lineRenderer.render(YS,gS,I,H,n);const b=S.gl,R=this.renderTarget,F=l.selectedCardData.data;b.readPixels(0,0,R.width,R.height,b.RGBA,b.UNSIGNED_BYTE,ZS),F.set(ZS),l.updateSelectedCardData()}}function WS(I,T){return{cardWithoutLabel:sS(I,T.cardWithoutLabel),card:sS(I,T.card),cardWin:sS(I,T.cardWin),cardSmall:sS(I,T.cardSmall),cardSmallWin:sS(I,T.cardSmallWin),glass:sS(I,T.glass),freeBadge:sS(I,T.freeBadge),dabExplosion:sS(I,T.dabExplosion),cardLine:sS(I,T.cardLine)}}function eS(I){Object.keys(I).forEach((T=>ra(I[T])))}function sS(I,T){return new va(I,{wrapS:I.CLAMP_TO_EDGE,wrapT:I.CLAMP_TO_EDGE,minFilter:I.LINEAR,image:T,premultiplyAlpha:!0,flipY:!1,generateMipmaps:!1})}function MS(I,T,v,z){switch(T){case AT.bU.Small:return v>0&&void 0===z?I.cardSmallWin:I.cardSmall;case AT.bU.WithoutLabel:return I.cardWithoutLabel;case AT.bU.Regular:default:return v>0&&void 0===z?I.cardWin:I.card}}class jS extends Mn.j{constructor(I,T,v){super(),this.currencySymbol=I,this.deviceSupport=T,this.currencyDecimals=v,this.ballsUiState=null,this.cardState=null,this.cardImages=Vn.cardImages,this.emptyTextureCanvas=document.createElement("canvas"),this.canvas=null,this.renderer=null,this.aspectRatio=1,this.displayedCards=[],this.containerDirty=!1,this.frameHandle=0,this.orientation=null,this.setCanvas=I=>{this.canvas=I,this.disposeRenderer(),I?(this.renderer=new mS(I,this.emptyTextureCanvas,this.cardImages,Jl,qS,Ua,nI.Y("cardWin"),this.currencySymbol,this.currencyDecimals),this.applySize(),this.updateContainer()):this.renderer=null},this.updateContainer=()=>{this.containerDirty=!0},this.disposeRenderer=()=>{var I;null===(I=this.renderer)||void 0===I||I.dispose(),this.renderer=null},this.handleFrame=()=>{this.containerDirty&&(this.drawCards(),this.containerDirty=!1),window.cancelAnimationFrame(this.frameHandle),this.frameHandle=window.requestAnimationFrame(this.handleFrame)},this.updateCardTextures=()=>{var I;null===(I=this.renderer)||void 0===I||I.updateCardTextures(this.cardImages)},this.updateGeneratedAssets=()=>{var I;null===(I=this.renderer)||void 0===I||I.updateGeneratedAssets(Jl,qS)},Vl(),o.Al(rT.Zn,rT.Wo).then((()=>{Vl(),function(){if(JS)return;if(JS=qS.getContext("2d"),!JS)throw new A.bE("Cannot get canvas context to render card multiplier atlas","CanvasContext");const I=DS*fS,T=.065*DS,v=`bold ${.72*DS}px ${Xl()}`,z=xS*FS,r=I,K=xS+2*z,n=DS+2*r;qS.width=K,qS.height=n*bS,JS.font=v,JS.textAlign="center";const l=z;for(let v=1;v<bS;v++){const z=n*v+r,K=tS[v],a=rT.d9[K],S=JS.createLinearGradient(0,z,0,z+DS);S.addColorStop(0,a[0]),S.addColorStop(1,a[1]),JS.fillStyle=S,JS.fillRect(l,z,xS,DS),JS.beginPath(),JS.rect(l,z,xS,DS),JS.lineWidth=I,JS.strokeStyle="#fffcec",JS.stroke(),JS.strokeStyle="#000",JS.lineWidth=T,JS.strokeText(`${K}x`,l+xS/2,z+DS/1.4);const A=JS.createLinearGradient(0,z,0,z+DS);A.addColorStop(1,"#f4e584"),A.addColorStop(0,"#ba8433"),JS.fillStyle=A,JS.fillText(`${K}x`,l+xS/2,z+DS/1.4)}}()})).then(this.updateGeneratedAssets);const z=K.mJ((()=>Vn.cardImages),(I=>{this.cardImages=I,this.updateCardTextures(),this.updateContainer()}));this.emptyTextureCanvas.height=2,this.emptyTextureCanvas.width=2;const r=this.emptyTextureCanvas.getContext("2d",{alpha:!1});r&&(r.fillStyle="#fff",r.fillRect(0,0,1,1),r.fillRect(1,1,1,1)),this.handleFrame(),this.onDispose(z,this.disposeRenderer,(()=>{window.cancelAnimationFrame(this.frameHandle),window.clearTimeout(this.clientWidthTimeout)}))}setDisplayedCards(I){this.displayedCards=I,this.updateContainer()}setAspectRatio(I){this.aspectRatio!==I&&(this.aspectRatio=I,this.applySize())}updateSize(){this.applySize()}setOrientation(I){this.orientation=I}deviceSpecificDpiMultiplier(){return this.deviceSupport.IS_ANDROID?1:1.5}applySize(){var I;const T=this.canvas;if(!T)return;const v=zz.mZ(),z=T.clientWidth*v*this.deviceSpecificDpiMultiplier(),r=z/this.aspectRatio;T.width===z&&T.height===r||(this.deviceSupport.IS_IOS?(T.width=2e3,T.height=2e3,this.clientWidthTimeout=window.setTimeout((()=>{this.orientation===GT.t.Portrait?T.style.height="":T.style.height=`${T.clientWidth/this.aspectRatio}px`}),0)):(T.width=z,T.height=r),null===(I=this.renderer)||void 0===I||I.updateSize(),this.updateContainer())}drawCards(){const{renderer:I,displayedCards:T,ballsUiState:v,cardState:z}=this;I&&v&&z&&I.renderCards(T,v,z)}}class US extends Mn.j{constructor(I,T){super(),this.abstractGameAdapter=I,this.serverState=T,this.totalBet=0,this.isTotalBetSetFromServer=!1,K.Gn(this);const v=K.mJ((()=>{const I=this.serverState.player,T=I.status===AT.Mi.Participant?I.totalBet:I.repeatInfo?I.repeatInfo.cost:null;return I&&this.serverState.phase===AT.Qc.GameCancelled&&I.status!==AT.Mi.BetRejected?{totalBet:0,totalBetToRepeat:T,status:AT.Mi.BetRejected}:{totalBet:I&&(I.status===AT.Mi.Betting||I.status===AT.Mi.Participant)&&I.totalBet||0,totalBetToRepeat:T,status:I.status}}),(({status:I,totalBet:T,totalBetToRepeat:v})=>{this.isTotalBetSetFromServer&&I!==AT.Mi.WaitForNextGame&&I!==AT.Mi.Participant&&I!==AT.Mi.BetRejected||(this.totalBet=T,this.isTotalBetSetFromServer=!0,I!==AT.Mi.Betting&&I!==AT.Mi.BetRejected&&I!==AT.Mi.WaitForNextGame||this.abstractGameAdapter.reserveBalanceForBet(T),this.abstractGameAdapter.setAbstractGameTotalBet(T)),null!==v&&this.abstractGameAdapter.setAbstractGameTotalBetToRepeat(v)}),{fireImmediately:!0}),z=K.mJ((()=>this.serverState.phase),(I=>{const T=this.serverState.player,v=T.status===AT.Mi.Participant||T.status===AT.Mi.Betting?T.totalBet:0;I===AT.Qc.BetsOpened?(this.abstractGameAdapter.resumeBalanceUpdate(),this.abstractGameAdapter.reserveBalanceForBet(v)):I===AT.Qc.GameCancelled||I===AT.Qc.GameResolved?(this.abstractGameAdapter.reserveBalanceForBet(0),this.abstractGameAdapter.resumeBalanceUpdate()):v&&this.abstractGameAdapter.pauseBalanceUpdate()}),{fireImmediately:!0});this.onDispose(v,z)}reserveBet(I,T=!0){this.totalBet=I+(T?this.totalBet:0),this.abstractGameAdapter.reserveBalanceForBet(this.totalBet),this.abstractGameAdapter.setAbstractGameTotalBet(this.totalBet)}}aT.Cg([K.sH],US.prototype,"totalBet",void 0),aT.Cg([K.XI.bound],US.prototype,"reserveBet",null);var NS=function(){};function oS(I,T){void 0===T&&(T="Illegal state"),I||function(I){throw new Error("[mobx-utils] "+I)}(T)}var QS=function(I){return I&&I!==Object.prototype&&Object.getOwnPropertyNames(I).concat(QS(Object.getPrototypeOf(I))||[])},OS=function(I){return function(I){var T=QS(I);return T.filter((function(I,v){return T.indexOf(I)===v}))}(I).filter((function(I){return"constructor"!==I&&!~I.indexOf("__")}))},kS="pending",uS="fulfilled",IA="rejected";function TA(I){switch(this.state){case kS:return I.pending&&I.pending(this.value);case IA:return I.rejected&&I.rejected(this.value);case uS:return I.fulfilled?I.fulfilled(this.value):this.value}}function vA(I,T){if(oS(arguments.length<=2,"fromPromise expects up to two arguments"),oS("function"==typeof I||"object"==typeof I&&I&&"function"==typeof I.then,"Please pass a promise or function to fromPromise"),!0===I.isPromiseBasedObservable)return I;"function"==typeof I&&(I=new Promise(I));var v=I;I.then(K.XI("observableFromPromise-resolve",(function(I){v.value=I,v.state=uS})),K.XI("observableFromPromise-reject",(function(I){v.value=I,v.state=IA}))),v.isPromiseBasedObservable=!0,v.case=TA;var z=T&&T.state===uS?T.value:void 0;return K.kt(v,{value:z,state:kS},{},{deep:!1}),v}function zA(I,T,v){void 0===T&&(T=NS),void 0===v&&(v=void 0);var z=!1,r=!1,n=v,l=function(){z&&(z=!1,T())},a=K.MN("ResourceBasedObservable",(function(){oS(!z&&!r),z=!0,I((function(I){K.vx(!0,(function(){n=I,a.reportChanged()}))}))}),l);return{current:function(){return oS(!r,"subscribingObservable has already been disposed"),a.reportObserved()||z||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),n},dispose:function(){r=!0,l()},isAlive:function(){return z}}}(function(I){I.reject=K.XI("fromPromise.reject",(function(T){var v=I(Promise.reject(T));return v.state=IA,v.value=T,v})),I.resolve=K.XI("fromPromise.resolve",(function(T){void 0===T&&(T=void 0);var v=I(Promise.resolve(T));return v.state=uS,v.value=T,v}))})(vA||(vA={}));var rA=!1||function(I,T,v,z){var r,K=arguments.length,n=K<3?T:null===z?z=Object.getOwnPropertyDescriptor(T,v):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(I,T,v,z);else for(var l=I.length-1;l>=0;l--)(r=I[l])&&(n=(K<3?r(n):K>3?r(T,v,n):r(T,v))||n);return K>3&&n&&Object.defineProperty(T,v,n),n};(function(){function I(I,T){var v=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),K.Gn(this),K.h5((function(){v.current=T,v.subscription=I.subscribe(v)}))}Object.defineProperty(I.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(I.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(I){this.current=I}}),Object.defineProperty(I.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(I.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(I){this.current=I,this.dispose()}}),rA([K.sH.ref],I.prototype,"current",void 0),rA([K.XI.bound],I.prototype,"next",null),rA([K.XI.bound],I.prototype,"complete",null),rA([K.XI.bound],I.prototype,"error",null)})();var KA=!1||function(){return KA=Object.assign||function(I){for(var T,v=1,z=arguments.length;v<z;v++)for(var r in T=arguments[v])Object.prototype.hasOwnProperty.call(T,r)&&(I[r]=T[r]);return I},KA.apply(this,arguments)},nA=!1||function(I,T,v,z){var r,K=arguments.length,n=K<3?T:null===z?z=Object.getOwnPropertyDescriptor(T,v):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(I,T,v,z);else for(var l=I.length-1;l>=0;l--)(r=I[l])&&(n=(K<3?r(n):K>3?r(T,v,n):r(T,v))||n);return K>3&&n&&Object.defineProperty(T,v,n),n},lA=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function I(I){var T=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:K.sH.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:K.sH.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(I){return T.localValues.has(I)}}),K.Gn(this),oS(K.OB(I),"createViewModel expects an observable object");var v=OS(this);OS(I).forEach((function(z){var r;if(!v.includes(z)&&z!==K.BQ&&"__mobxDidRunLazyInitializers"!==z){if(oS(-1===lA.indexOf(z),"The propertyname "+z+" is reserved and cannot be used with viewModels"),K.H8(I,z)){var n=K.Mr(I,z),l=n.derivation.bind(T),a=null===(r=n.setter_)||void 0===r?void 0:r.bind(T);T.localComputedValues.set(z,K.EW(l,{set:a}))}var S=Object.getOwnPropertyDescriptor(I,z),A=S?{enumerable:S.enumerable}:{};Object.defineProperty(T,z,KA(KA({},A),{configurable:!0,get:function(){return K.H8(I,z)?T.localComputedValues.get(z).get():T.isPropertyDirty(z)?T.localValues.get(z):T.model[z]},set:K.XI((function(v){K.H8(I,z)?T.localComputedValues.get(z).set(v):v!==T.model[z]?T.localValues.set(z,v):T.localValues.delete(z)}))}))}}))}Object.defineProperty(I.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var I=this;K.HP(this.localValues).forEach((function(T){var v=I.localValues.get(T),z=I.model[T];K.Fq(z)?z.replace(v):K.uz(z)?(z.clear(),z.merge(v)):K.YQ(v)||(I.model[T]=v)})),this.localValues.clear()}}),Object.defineProperty(I.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(I.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(I){this.localValues.delete(I)}}),nA([K.EW],I.prototype,"isDirty",null),nA([K.EW],I.prototype,"changedValues",null),nA([K.XI.bound],I.prototype,"submit",null),nA([K.XI.bound],I.prototype,"reset",null),nA([K.XI.bound],I.prototype,"resetProperty",null)})();var aA={};function SA(I){return void 0===I&&(I=1e3),K.Tx()?(aA[I]||(aA[I]="number"==typeof I?function(I){var T;return zA((function(v){v(Date.now()),T=setInterval((function(){return v(Date.now())}),I)}),(function(){clearInterval(T)}),Date.now())}(I):T=zA((function(I){I(Date.now()),function v(){window.requestAnimationFrame((function(){I(Date.now()),T.isAlive()&&v()}))}()}),(function(){}),Date.now())),aA[I].current()):Date.now();var T}var AA,HA=!1||(AA=function(I,T){return AA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var v in T)Object.prototype.hasOwnProperty.call(T,v)&&(I[v]=T[v])},AA(I,T)},function(I,T){function v(){this.constructor=I}AA(I,T),I.prototype=null===T?Object.create(T):(v.prototype=T.prototype,new v)}),tA=(function(I){function T(T,v,z){var r=void 0===z?{}:z,n=r.name,l=void 0===n?"ogm"+(1e3*Math.random()|0):n,a=r.keyToName,S=void 0===a?function(I){return""+I}:a,A=I.call(this)||this;Object.defineProperty(A,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(A,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(A,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(A,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(A,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),A._keyToName=S,A._groupBy=v,A._ogmInfoKey=Symbol("ogmInfo"+l),A._base=T;for(var H=0;H<T.length;H++)A._addItem(T[H]);return A._disposeBaseObserver=K.lB(A._base,(function(I){if("splice"===I.type)K.Rn((function(){for(var T=0,v=I.removed;T<v.length;T++){var z=v[T];A._removeItem(z)}for(var r=0,K=I.added;r<K.length;r++){var n=K[r];A._addItem(n)}}));else{if("update"!==I.type)throw new Error("illegal state");K.Rn((function(){A._removeItem(I.oldValue),A._addItem(I.newValue)}))}})),A}HA(T,I),Object.defineProperty(T.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(T.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(I){throw new Error("not supported")}}),Object.defineProperty(T.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(I,T){throw new Error("not supported")}}),Object.defineProperty(T.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var T=this._base[I];T[this._ogmInfoKey].reaction(),delete T[this._ogmInfoKey]}}}),Object.defineProperty(T.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(T){var v=I.prototype.get.call(this,T);return void 0===v&&(v=K.sH([],{name:"GroupArray["+this._keyToName(T)+"]",deep:!1}),I.prototype.set.call(this,T,v)),v}}),Object.defineProperty(T.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(T,v){var z=I.prototype.get.call(this,T);1===z.length?I.prototype.delete.call(this,T):(v===z.length-1||(z[v]=z[z.length-1],z[v][this._ogmInfoKey].groupArrIndex=v),z.length--)}}),Object.defineProperty(T.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(I){var T=this,v=this._groupBy(I),z=this._getGroupArr(v),r={groupByValue:v,groupArrIndex:z.length,reaction:K.mJ((function(){return T._groupBy(I)}),(function(v,z){var r=I[T._ogmInfoKey];T._removeFromGroupArr(r.groupByValue,r.groupArrIndex);var K=T._getGroupArr(v),n=K.length;K.push(I),r.groupByValue=v,r.groupArrIndex=n}))};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:r}),z.push(I)}}),Object.defineProperty(T.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(I){var T=I[this._ogmInfoKey];this._removeFromGroupArr(T.groupByValue,T.groupArrIndex),T.reaction(),delete I[this._ogmInfoKey]}})}(K.Es),function(){function I(I,T){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:I}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:T}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var v=this.closest=this.root=I,z=0;z<this.args.length-1&&(v=v.get(T[z]));z++)this.closest=v;this.closestIdx=z}return Object.defineProperty(I.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var I=this.args.length;return this.closestIdx>=I-1&&this.closest.has(this.args[I-1])}}),Object.defineProperty(I.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(I.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(I){this.assertNotDisposed();for(var T=this.args.length,v=this.closest,z=this.closestIdx;z<T-1;z++){var r=new Map;v.set(this.args[z],r),v=r}this.closestIdx=T-1,this.closest=v,v.set(this.args[T-1],I)}}),Object.defineProperty(I.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var I=this.args.length;this.closest.delete(this.args[I-1]);for(var T=this.root,v=[T],z=0;z<I-1;z++)T=T.get(this.args[z]),v.push(T);for(z=v.length-1;z>0;z--)0===v[z].size&&v[z-1].delete(this.args[z-1]);this.isDisposed=!0}}),Object.defineProperty(I.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),I}());Object.defineProperty(function(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(I){if(-1===this.argsLength)this.argsLength=I.length;else if(this.argsLength!==I.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+I.length);return this.last&&(this.last.isDisposed=!0),this.last=new tA(this.store,I)}});const bA=1;class RA extends Mn.j{constructor(I,T,v,z,r){super(),this.serverState=I,this.result=T,this.sounds=v,this.settings=z,this.session=r,this.ui=new FA(this,this.serverState,this.result,this.settings,this.session),K.Gn(this),this.isRng=this.settings.getGameType()===hn.Z.RNGMegaBall;const n=K.mJ((()=>this.drawnBalls.length),(I=>{I>0&&!this.isRng&&this.serverState.player.status===AT.Mi.Participant&&this.sounds.playSound(QT.Fi.BallDrawnSound,!1)}));this.onDispose(n,this.ui.dispose)}get drawnBalls(){const I=this.serverState;return I.phase===AT.Qc.BallDrawing||I.phase===AT.Qc.PowerBallDrawing||I.phase===AT.Qc.GameResolved?I.drawnBalls:[]}get powerBalls(){const I=this.serverState;return I.phase===AT.Qc.PowerBallDrawing||I.phase===AT.Qc.GameResolved?I.powerBalls.slice().reverse():[]}get lastDrawnBall(){return this.drawnBalls.length>0?this.drawnBalls[0]:void 0}get firstPowerBall(){return this.powerBalls.length>0?this.powerBalls[this.powerBalls.length-1]:void 0}get lastPowerBall(){return this.powerBalls.length>0?this.powerBalls[0]:void 0}get lastBall(){var I,T;return null!==(T=null===(I=this.lastPowerBall)||void 0===I?void 0:I.ball)&&void 0!==T?T:this.lastDrawnBall}get moneyBalls(){const I=this.serverState;return(I.phase===AT.Qc.BallDrawing||I.phase===AT.Qc.PowerBallDrawing||I.phase===AT.Qc.GameResolved||this.result.ballsToWin>0)&&I.player.status===AT.Mi.Participant?I.player.moneyBalls:[]}}aT.Cg([K.EW],RA.prototype,"drawnBalls",null),aT.Cg([K.EW],RA.prototype,"powerBalls",null),aT.Cg([K.EW],RA.prototype,"lastDrawnBall",null),aT.Cg([K.EW],RA.prototype,"firstPowerBall",null),aT.Cg([K.EW],RA.prototype,"lastPowerBall",null),aT.Cg([K.EW],RA.prototype,"lastBall",null),aT.Cg([K.EW],RA.prototype,"moneyBalls",null);class FA extends Mn.j{constructor(I,T,v,z,r){super(),this.balls=I,this.serverState=T,this.result=v,this.settings=z,this.session=r,this.lastBall=void 0,this.prevMoneyBalls=[],this.powerBallsReceivedTimestamp=void 0,this.powerBallsDrawnTimestamp=void 0,this.lastDrawnBallExistTimeout=void 0,this.dabAnimationTimestamp=void 0,this.disposeTimeout=()=>{window.clearTimeout(this.lastDrawnBallExistTimeout)},K.Gn(this);const n=K.mJ((()=>I.powerBalls.length),(I=>{this.powerBallsReceivedTimestamp=I>0?this.now():void 0}),{fireImmediately:!0}),l=K.mJ((()=>I.lastBall),(I=>{this.lastBall=I,I&&(this.dabAnimationTimestamp=this.now(),window.clearTimeout(this.lastDrawnBallExistTimeout),this.lastDrawnBallExistTimeout=window.setTimeout(K.XI((()=>{this.lastBall=void 0})),T.phase===AT.Qc.BallDrawing?rT.Nl:0))}),{fireImmediately:!0}),a=K.mJ((()=>{var I;return null===(I=this.balls.lastPowerBall)||void 0===I?void 0:I.ball}),(I=>{this.powerBallsDrawnTimestamp=I?this.now():void 0})),S=K.mJ((()=>!this.balls.isRng&&this.serverState.phase===AT.Qc.PowerBallDrawing&&this.balls.lastPowerBall&&null===this.balls.lastPowerBall.ball||this.balls.isRng&&void 0!==this.countUpAnimationProgress&&this.moneyBalls.length>0||0?this.moneyBalls:void 0),(I=>{I&&(this.prevMoneyBalls=K.HO(I))}));this.onDispose(this.disposeTimeout,l,n,a,S)}now(){return Math.max(SA("frame"),Date.now())}get countUpAnimationProgress(){if(this.serverState.phase===AT.Qc.GameResolved)return bA;if(void 0!==this.powerBallsReceivedTimestamp){const I=this.powerBallsReceivedTimestamp+Number(this.settings.powerBallMultiplierDelay()),T=Math.max(0,this.now()-I);if(T>0){const I=this.session.transitionTimeMap.powerBallPosition;return Math.min(bA,Math.round(100*T/I)/100)}}}get isPowerBallFocusInProcessRNG(){if(void 0!==this.powerBallsDrawnTimestamp){const I=function(I,T){return I?T+rT.Z0:0}(this.balls.isRng,this.session.transitionTimeMap.powerBallPosition);return this.now()-this.powerBallsDrawnTimestamp<I}return!1}get ballColors(){return Wn.SE(this.settings.ballColors())}get moneyBallMultipliers(){if(0===this.balls.powerBalls.length)return;const I=this.countUpAnimationProgress;return this.balls.moneyBalls.map((T=>{const v=T.winAmount,z=T.prevWinAmount||0;if(void 0===I)return z%1==0?Math.round(z):Math.round(100*z)/100;const r=v*I;return Math.max(z,v%1==0?Math.round(r):Math.round(100*r)/100)}))}get powerBalls(){const I=this.countUpAnimationProgress;return this.balls.powerBalls.map(((T,v)=>{if(0===v&&this.serverState.phase===AT.Qc.PowerBallDrawing){if(void 0!==I){const v=this.isPowerBallFocusInProcessRNG?null:T.ball;return{ball:v,multiplier:null===v?Math.max(Math.floor(this.balls.powerBalls[0].multiplier*I),1):T.multiplier}}return{ball:T.ball,multiplier:null}}return T})).filter((I=>void 0!==I))}get moneyBalls(){return this.balls.moneyBalls.map(((I,T)=>({balls:I.balls,winAmountUi:this.serverState.phase===AT.Qc.PowerBallDrawing&&void 0!==this.moneyBallMultipliers?this.moneyBallMultipliers[T]:I.winAmount,winAmount:I.winAmount})))}get expectedBalls(){return this.serverState.phase===AT.Qc.GameResolved||this.serverState.phase===AT.Qc.PowerBallDrawing&&void 0!==this.countUpAnimationProgress?this.balls.ui.prevMoneyBalls:this.balls.ui.moneyBalls}get showExpectedNumbers(){const I=this.serverState.phase!==AT.Qc.GameResolved&&this.moneyBalls.length>0,T=this.serverState.phase===AT.Qc.GameResolved&&0===this.result.totalWinAmount;return I||T}get lastMultiplier(){var I,T;return void 0!==this.countUpAnimationProgress?null!==(T=null===(I=this.balls.powerBalls[0])||void 0===I?void 0:I.multiplier)&&void 0!==T?T:void 0:this.balls.powerBalls.length>1?this.balls.powerBalls[1].multiplier:void 0}get drawAnimationProgress(){if(1&&void 0!==this.dabAnimationTimestamp){const I=this.dabAnimationTimestamp,T=Math.max(0,this.now()-I);if(T>0)return Math.min(1,T/rT.YG)}return null}get currentDabFrame(){const I=this.drawAnimationProgress||1;return Math.ceil(rT.qL*I)}}function fA(I,T,v=1,z=!0,r="top"){const K=1,n=K/T;let l=1,a=Math.ceil(I/l),S=Math.min(n,K/a,v);for(;xA(n-l*S)>S&&l<I;)l++,a=Math.ceil(I/l),S=xA(Math.min(K/a,n/l,v));const A=new Array(I);for(let T=0;T<I;T++){const I=Math.floor(T/a);A[T]={x:T%a*S,y:I*S,size:S}}if(z)for(let I=0;I<l;I++){const T=A.slice(I*a,(I+1)*a),v=K-T.length*S;T.forEach((I=>{I.x+=v/2}))}if("bottom"===r){const I=n-l*S;A.forEach((T=>{T.y+=I}))}else if("middle"===r){const I=n-l*S;A.forEach((T=>{T.y+=I/2}))}return A}aT.Cg([K.sH],FA.prototype,"lastBall",void 0),aT.Cg([K.sH],FA.prototype,"prevMoneyBalls",void 0),aT.Cg([K.sH],FA.prototype,"powerBallsReceivedTimestamp",void 0),aT.Cg([K.sH],FA.prototype,"powerBallsDrawnTimestamp",void 0),aT.Cg([K.sH],FA.prototype,"dabAnimationTimestamp",void 0),aT.Cg([K.EW],FA.prototype,"countUpAnimationProgress",null),aT.Cg([K.EW],FA.prototype,"ballColors",null),aT.Cg([K.EW],FA.prototype,"moneyBallMultipliers",null),aT.Cg([K.EW],FA.prototype,"powerBalls",null),aT.Cg([K.EW],FA.prototype,"moneyBalls",null),aT.Cg([K.EW],FA.prototype,"expectedBalls",null),aT.Cg([K.EW],FA.prototype,"showExpectedNumbers",null),aT.Cg([K.EW],FA.prototype,"lastMultiplier",null),aT.Cg([K.EW],FA.prototype,"drawAnimationProgress",null),aT.Cg([K.EW],FA.prototype,"currentDabFrame",null);const xA=I=>Number(I.toFixed(6)),DA=[0,1,5,50,250,1e3];function qA(I){const T={R1:[],R2:[],R3:[],R4:[],R5:[],C1:[],C2:[],C3:[],C4:[],C5:[],DLR:[],DRL:[]};for(let v=0;v<5;v++)for(let z=0;z<5;z++){const r=I[v][z];r.drawn||null===r.value||(T[`C${v+1}`].push({x:v,y:z}),T[`R${z+1}`].push({x:v,y:z}),v===z&&T.DLR.push({x:v,y:z}),v===4-z&&T.DRL.push({x:v,y:z}))}const v=[];for(const I of Object.keys(T)){const z=T[I];z.length>0&&v.push(z)}return v.sort(JA),v}function JA(I,T){return I.length-T.length}var yA=v(234433);const VA={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function CA(I){4===I.length&&(I=I[0]+I[1]+I[1]+I[2]+I[2]+I[3]+I[3]);const T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(I);return T||console.warn(`Unable to convert hex string ${I} to rgb values`),[parseInt(T[1],16)/255,parseInt(T[2],16)/255,parseInt(T[3],16)/255]}function iA(I){return void 0===I?[0,0,0]:3===arguments.length?arguments:isNaN(I)?"#"===I[0]?CA(I):VA[I.toLowerCase()]?CA(VA[I.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):(T=I,[((T=parseInt(T))>>16&255)/255,(T>>8&255)/255,(255&T)/255]);var T}class cA extends Array{constructor(I){return Array.isArray(I)?super(...I):super(...iA(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(I){this[0]=I}set g(I){this[1]=I}set b(I){this[2]=I}set(I){return Array.isArray(I)?this.copy(I):this.copy(iA(...arguments))}copy(I){return this[0]=I[0],this[1]=I[1],this[2]=I[2],this}}const EA=[new cA("#0BB9B3"),new cA("#216060")],XA=[],PA=[],GA=[],hA=[];for(let I=0;I<25;I++)XA[I]=!1,PA[I]=!1,GA[I]=0;const BA=["R1","R2","R3","R4","R5","C1","C2","C3","C4","C5","DLR","DRL"];class _A extends Mn.j{constructor(I,T,v,z){super(),this.ballsUiState=T,this.serverState=v,this.redrawCallback=z,this.canvas=document.createElement("canvas"),this.animationDelay=0,this.cardSizeRatio=0,this.closestToWin=[],this.cardNumbers=GA.slice(),this.position3d=new _l,this.gradientColors=EA,this.dabVisibility=PA.slice(),this.expectedNumbers=XA.slice(),this.cardMultipliers=hA.slice(),this.lineVisibility=[],this.isHighlighted=!1,this.lineAnimationTimestamp=void 0,this.aspectRatio=0,this.renderCard=()=>{this.redrawCallback()},this.calculateExpectedBalls=()=>{if(!this.ballsUiState.showExpectedNumbers)return;const I=qA(this.grid).filter((I=>1===I.length));this.closestToWin=I.map((I=>I[0])).filter(((I,T,v)=>v.map((I=>`${I.x}${I.y}`)).indexOf(`${I.x}${I.y}`)===T));for(let I=0,T=this.closestToWin.length;I<T;I++){const T=this.closestToWin[I];this.expectedNumbers[5*T.x+T.y]=!0}},this.updateGradient=()=>{const I=this.multiplier,T=this.card.winAmount;if(void 0===I||0===T)this.gradientColors=EA;else{const T=rT.d9[I];this.gradientColors=[new cA(T[0]),new cA(T[1])]}},this.updateWinLines=()=>{const I=this.card.winCombinations,T=I.length>0&&I[0];for(let I=0;I<BA.length;I++)this.lineVisibility[I]=0;for(const v of I){let I=-1;switch(v){case"R1":I=0;break;case"R2":I=1;break;case"R3":I=2;break;case"R4":I=3;break;case"R5":I=4;break;case"C1":I=5;break;case"C2":I=6;break;case"C3":I=7;break;case"C4":I=8;break;case"C5":I=9;break;case"DLR":I=10;break;case"DRL":I=11}this.lineVisibility[I]=v===T?2:1}},this.id=I.id,this.card=I,this.cardType=AT.bU.WithoutLabel,K.Gn(this);const r=K.mJ((()=>this.card.score),(()=>{this.updateWinLines(),this.updateGrid(),this.renderCard()})),n=K.mJ((()=>this.card.winAmount),(()=>{this.updateWinLines(),this.cardType===AT.bU.Regular&&(this.lineAnimationTimestamp=this.now()),this.renderCard()})),l=K.mJ((()=>this.cardType===AT.bU.Regular&&void 0!==this.ballsUiState.lastBall&&this.cellValues.includes(this.ballsUiState.lastBall)?this.ballsUiState.currentDabFrame:0),this.renderCard),a=K.mJ((()=>I.grid),(()=>{this.updateGrid(),this.renderCard()})),S=K.mJ((()=>this.multiplier),this.updateGradient),A=K.mJ((()=>`${this.currentLineFrame}`),this.renderCard),H=K.mJ((()=>`${this.isHighlighted}`),this.renderCard),t=K.mJ((()=>this.ballsUiState.showExpectedNumbers),this.calculateExpectedBalls);this.updateGrid(),this.updateGradient(),this.updateWinLines(),this.onDispose(r,l,a,n,A,H,S,t)}updateCard(I,T,v){if(this.position&&this.position.x===I.x&&this.position.y===I.y&&this.position.size===I.size&&this.aspectRatio===v)return;this.aspectRatio=v,this.position=I,this.cardType=T,this.cardSizeRatio=I.size*v;const z=.005,r=z/v;this.position3d=new _l(I.x+r,I.y*v+z,I.size*v-2*z,I.size-2*r)}now(){return Math.max(SA("frame"),Date.now())}updateGrid(){const I=yA.F7(this.card.grid);this.grid=I;const T=[];for(let v=0,z=I.length;v<z;v++){const z=I[v];for(let I=0,r=z.length;I<r;I++){const r=5*v+I,K=z[I];null!==K.value?(T.push(K.value),this.cardNumbers[r]=+K.value,this.cardMultipliers[r]=RS[K.multiplier||0]):(this.cardNumbers[r]=0,this.cardMultipliers[r]=0),this.dabVisibility[r]=K.drawn}}this.cellValues=T;for(let I=0;I<25;I++)this.expectedNumbers[I]=!1;this.calculateExpectedBalls()}get multiplier(){const{player:I,phase:T}=this.serverState;if(I&&I.status===AT.Mi.Participant&&(T===AT.Qc.PowerBallDrawing||T===AT.Qc.GameResolved)){const T=this.card.winAmount>0&&!I.payoutLimitReached?Math.round(this.card.winAmount/(v=this.card.winCombinations.length,(DA[v]||1e4)*I.betAmount)):1;return T in rT.d9?T:void 0}var v}get drawAnimationProgress(){if(1&&void 0!==this.lineAnimationTimestamp){const I=this.lineAnimationTimestamp,T=Math.max(0,this.now()-I);if(T>0)return Math.min(1,T/rT.YG)}}get currentLineFrame(){const I=this.drawAnimationProgress||1;return Math.ceil(rT.sE*I)}}aT.Cg([K.sH],_A.prototype,"isHighlighted",void 0),aT.Cg([K.sH],_A.prototype,"cardType",void 0),aT.Cg([K.sH],_A.prototype,"card",void 0),aT.Cg([K.sH],_A.prototype,"lineAnimationTimestamp",void 0),aT.Cg([K.EW],_A.prototype,"multiplier",null),aT.Cg([K.EW],_A.prototype,"drawAnimationProgress",null),aT.Cg([K.EW],_A.prototype,"currentLineFrame",null);class dA extends Mn.j{constructor(I,T,v,z,r,n,l){super(),this.abstractGameAdapter=I,this.serverState=T,this.sounds=v,this.balls=z,this.result=r,this.time=n,this.cardRenderer=l,this.displayedCards=[],this.selectedCardId=void 0,this.prevSortedCardIds=[],this.sortedCardIds=[],this.optimisticCardsCount=0,this.ghostCardsCount=0,this.cardSortingTimeout=void 0,this.disposeTimeout=()=>{this.cardSortingTimeout&&window.clearTimeout(this.cardSortingTimeout)},this.cardsModelDispose=()=>{this.displayedCards.forEach((I=>I.dispose()))},this.updateCard=()=>{this.cardRenderer.updateContainer()},K.Gn(this),this.ui=new pA(this,this.serverState,this.balls,this.abstractGameAdapter),this.optimisticCardsCount=this.realDisplayedCards.length;const a=this.abstractGameAdapter.settings.sortOnBalls();window.EVO_megaballCards=()=>this.displayedCards.map((I=>({cardId:I.id,cellValues:I.cellValues})));const S=K.mJ((()=>`${this.realDisplayedCards.length} ${this.serverState.phase}`),(()=>{this.serverState.phase!==AT.Qc.BetsOpened&&(this.optimisticCardsCount=this.realDisplayedCards.length)})),A=K.mJ((()=>this._displayedList.length+(this._displayedList.length>0?this._displayedList[0].id:"")),(()=>{for(let I=this._displayedList.length-1;I>=0;I--){const T=this._displayedList[I];if(!this.displayedCards.some((I=>I.id===T.id))){const I=new _A(T,this.balls.ui,this.serverState,this.updateCard);this.displayedCards.push(I)}}for(let I=this.displayedCards.length-1;I>=0;I--){const T=this.displayedCards[I];this._displayedList.some((I=>I.id===T.id))||(T.dispose(),this.displayedCards.splice(I,1))}this.cardRenderer.setDisplayedCards(this.displayedCards)}),{fireImmediately:!0,delay:1}),H=K.mJ((()=>{const{player:I}=this.serverState;return I.status===AT.Mi.Betting||I.status===AT.Mi.WaitForNextGame?I.repeatInfo:null}),(I=>{this.ghostCardsCount=I?I.count:0}),{fireImmediately:!0}),t=K.mJ((()=>this.sortedCardIds),(I=>{0===I.length&&0!==this._displayedList.length&&(this.sortedCardIds=this.getSortedCardIds(),this.prevSortedCardIds=this.sortedCardIds)}),{fireImmediately:!0}),b=K.mJ((()=>`${this.list.length+this.optimisticCardsCount} ${T.phase===AT.Qc.BallDrawing||T.phase===AT.Qc.GameResolved} ${this.balls.lastBall} `),(()=>{(T.phase!==AT.Qc.BallDrawing||a.includes(this.balls.drawnBalls.length))&&(this.cardSortingTimeout=window.setTimeout(K.XI((()=>this.sortCards())),T.phase===AT.Qc.BallDrawing||T.phase===AT.Qc.PowerBallDrawing?rT.Nl:0))}),{fireImmediately:!0}),R=K.fm((()=>{this.selectedCardId&&!this.cardCanBeSelected&&this.unselectCard()})),F=K.mJ((()=>T.phase),(I=>{I===AT.Qc.BallDrawing&&this.unselectCard()})),f=K.mJ((()=>this.list.map((I=>I.winCombinations.length)).reduce(((I,T)=>I+T),0)),(I=>{I>0&&this.sounds.playSound(1===I?QT.Fi.FirstLineHitSound:QT.Fi.LinesHitSound,!1)})),x=K.mJ((()=>this.serverState.player.status===AT.Mi.Betting),(I=>{I&&yA.Jq.clear()}),{fireImmediately:!0}),D=K.mJ((()=>T.phase),(I=>{I===AT.Qc.BetsOpened&&this.serverState.player.status===AT.Mi.Betting&&(this.optimisticCardsCount=this.serverState.player.cards.length),I!==AT.Qc.GameResolved&&I!==AT.Qc.BallDrawing||this.highlightCard(void 0)}));this.onDispose(H,b,t,R,F,f,x,A,S,D,this.cardsModelDispose,this.disposeTimeout,this.ui.dispose)}sortCards(){const I=this.getSortedCardIds();this.prevSortedCardIds=this.sortedCardIds.slice(),this.balls.moneyBalls.length>0&&I.join()!==this.sortedCardIds.join()&&this.sounds.playSound(QT.Fi.CardsSortingSound,!1),this.sortedCardIds=I}get hasBoughtCards(){return this.optimisticCardsCount>0}get list(){const I=this.serverState.player;return I&&(I.status===AT.Mi.Betting||I.status===AT.Mi.Participant)&&I.cards||[]}get isGlowEffectVisible(){return this.time.isGlowEffectVisible}get realDisplayedCards(){const{gameType:I}=this.abstractGameAdapter;return this.serverState.phase!==AT.Qc.GameResolved||!this.hasBoughtCards||this.time.isGlowEffectEnding&&I!==hn.Z.RNGMegaBall&&0!==this.result.totalWinAmount?this.list:this.result.totalWinAmount>0?this.list.filter((I=>I.winAmount>0)):this.list.filter((I=>qA(yA.F7(I.grid))[0].length===this.result.ballsToWin))}get _displayedList(){const I=this.realDisplayedCards;return I.length>0?I.slice(-this.optimisticCardsCount):[]}get displayedSortedCardIds(){return this.optimisticCardsCount>0?this.sortedCardIds:[]}get displayedCardsCount(){return this.optimisticCardsCount||(this.isGhostCardsDisplayed?this.ghostCardsCount:0)}get isGhostCardsDisplayed(){return!this.hasBoughtCards&&this.abstractGameAdapter.isPreviousTotalBetVisible}get biggestMultiplier(){if(this.serverState.phase!==AT.Qc.GameResolved)return;let I=1;for(let T=0,v=this.displayedCards.length;T<v;T++){const v=this.displayedCards[T];I=Math.max(I,v.multiplier||1)}return 1===I?void 0:I}get selectedCards(){if(!this.selectedCardId)return;const I=this.displayedCards,T=I.findIndex((I=>I.id===this.selectedCardId));if(-1===T)return;const v=I[T];if(this.serverState.phase!==AT.Qc.BetsOpened)return{prev:void 0,current:v,next:void 0};const z=T-1,r=T+1;return{prev:I.length>z&&z>=0?I[z].card:void 0,current:v,next:I.length>r&&r>=0?I[r].card:void 0}}selectCard(I){this.cardCanBeSelected&&(this.abstractGameAdapter.createClientLog(LK.gp(void 0===this.selectedCardId?LK.CO.ZoomInCard:LK.CO.SwitchCard,{cardId:I})),this.selectedCardId=I,this.highlightCard(this.selectedCardId))}unselectCard(){void 0!==this.selectedCardId&&(this.abstractGameAdapter.createClientLog(LK.gp(LK.CO.ZoomOutCard,{cardId:this.selectedCardId})),this.selectedCardId=void 0,this.highlightCard(void 0))}highlightCard(I){this.displayedCards.forEach((T=>{T.isHighlighted=T.id===I})),this.updateCard()}regenerateCard(){this.selectedCardId&&(this.abstractGameAdapter.send(Yn.OW(this.serverState.gameId,this.selectedCardId)),this.abstractGameAdapter.createClientLog(LK.Y4({cardId:this.selectedCardId})))}showCardsTooltip(I,T,v){this.abstractGameAdapter.addTooltip(I,T,"cardsTooltip",v,!1)}get cardCanBeSelected(){const I=this.serverState.phase;return(I===AT.Qc.BetsOpened||I===AT.Qc.BallDrawing&&this.list.length>1||I===AT.Qc.PowerBallDrawing&&this.list.length>1)&&!this.isGhostCardsDisplayed}getSortedCardIds(){const I=this.serverState.phase===AT.Qc.GameResolved?$A:wA;return this._displayedList.slice().sort(I).map((I=>I.id))}}function wA(I,T){return T.score-I.score}function $A(I,T){return T.winAmount-I.winAmount}aT.Cg([K.sH],dA.prototype,"displayedCards",void 0),aT.Cg([K.sH],dA.prototype,"selectedCardId",void 0),aT.Cg([K.sH],dA.prototype,"sortedCardIds",void 0),aT.Cg([K.sH],dA.prototype,"optimisticCardsCount",void 0),aT.Cg([K.sH],dA.prototype,"ghostCardsCount",void 0),aT.Cg([K.XI.bound],dA.prototype,"sortCards",null),aT.Cg([K.EW],dA.prototype,"hasBoughtCards",null),aT.Cg([K.EW],dA.prototype,"list",null),aT.Cg([K.EW],dA.prototype,"isGlowEffectVisible",null),aT.Cg([K.EW],dA.prototype,"realDisplayedCards",null),aT.Cg([K.EW],dA.prototype,"_displayedList",null),aT.Cg([K.EW],dA.prototype,"displayedSortedCardIds",null),aT.Cg([K.EW],dA.prototype,"displayedCardsCount",null),aT.Cg([K.EW],dA.prototype,"isGhostCardsDisplayed",null),aT.Cg([K.EW],dA.prototype,"biggestMultiplier",null),aT.Cg([K.EW],dA.prototype,"selectedCards",null),aT.Cg([K.XI.bound],dA.prototype,"selectCard",null),aT.Cg([K.XI.bound],dA.prototype,"unselectCard",null),aT.Cg([K.XI.bound],dA.prototype,"highlightCard",null),aT.Cg([K.XI.bound],dA.prototype,"regenerateCard",null),aT.Cg([K.XI.bound],dA.prototype,"showCardsTooltip",null),aT.Cg([K.EW],dA.prototype,"cardCanBeSelected",null);class pA extends Mn.j{constructor(I,T,v,z){super(),this.cards=I,this.serverState=T,this.balls=v,this.abstractGameAdapter=z,this.isCardSorting=!1,this.selectedCardData=new ImageData(Vz,Vz),this.selectedCardDataUpdateTime=0,this.expectedBallsLinesCount=0,this.sortCardsTimeout=void 0,this.sortAnimationTimestamp=void 0,this.disposeTimeout=()=>{this.sortCardsTimeout&&window.clearTimeout(this.sortCardsTimeout)},K.Gn(this);const r=K.mJ((()=>`${this.serverState.phase===AT.Qc.GameResolved} ${this.serverState.phase===AT.Qc.BetsOpened?I.optimisticCardsCount+I.realDisplayedCards.length:I.displayedSortedCardIds.join()} ${this.balls.ui.lastMultiplier}`),(()=>{this.sortAnimationTimestamp=this.now(),this.isCardSorting=!0,this.sortCardsTimeout=window.setTimeout(K.XI((()=>{this.isCardSorting=!1,this.sortAnimationTimestamp=void 0})),rT.yA)})),n=K.mJ((()=>`${this.sortAnimationProgress} ${this.cards.optimisticCardsCount} ${this.cards.displayedCards.length+(this.cards.displayedCards.length>0?this.cards.displayedCards[0].id:"")} ${this.aspectRatio}`),(()=>{let I=Math.min(1,this.sortAnimationProgress);const T=this.isBetPanelVisible,v=this.aspectRatio,z=this.cards.displayedSortedCardIds;for(let r=0,K=this.cards.optimisticCardsCount;r<K;r++){const K=r<this.cards.displayedCards.length?this.cards.displayedCards[r]:void 0;if(K){const n=T?r:z.indexOf(K.id),l=this.positions[n],a=K.position?K.position:l;if(l){let z;if(T||0)z=l;else{const v=this.cards.displayedCards.length,r=T||1===v?0:(v-n)/v**2;I=Math.min(1,I+r),z={x:l.x-(l.x-a.x)*(1-I),y:l.y-(l.y-a.y)*(1-I),size:l.size-(l.size-a.size)*(1-I)}}const r=T?AT.bU.WithoutLabel:z.size<=1/(10*v)?AT.bU.Small:AT.bU.Regular;K.updateCard(z,r,v),K.animationDelay=K.cardType===AT.bU.Regular?n:0}}}this.cards.cardRenderer.updateContainer(),this.cards.cardRenderer.setAspectRatio(this.aspectRatio),T&&(this.sortAnimationTimestamp=void 0)}),{fireImmediately:!0}),l=K.mJ((()=>this.balls.ui.lastMultiplier),(()=>{this.cards.cardRenderer.updateContainer()})),a=K.mJ((()=>this.balls.ui.showExpectedNumbers),(()=>{this.cards.cardRenderer.updateContainer()}));this.onDispose(r,n,l,a,this.disposeTimeout)}updateSelectedCardData(){this.selectedCardDataUpdateTime=Date.now()}setExpectedBallsLinesCount(I){this.expectedBallsLinesCount=I}get isBetPanelVisible(){return this.serverState.phase===AT.Qc.BetsOpened||!this.cards.hasBoughtCards||this.cards.isGhostCardsDisplayed}get switchEnhancedCardLayoutLimit(){return this.abstractGameAdapter.settings.switchEnhancedCardLayoutLimit()}get aspectRatio(){const I=this.abstractGameAdapter.settings.DeviceSupport,T=this.isBetPanelVisible,v=I.IS_PHONE&&this.abstractGameAdapter.orientation===GT.t.Landscape;return I.IS_DESKTOP||I.IS_TABLET||v?T?v?4:8:v?5:4:T?2/1:this.expectedBallsLinesCount>2&&2!==this.cards.displayedCards.length?5/4:1}get positions(){const I=this.abstractGameAdapter.settings.DeviceSupport,T=this.serverState.player,v=this.isBetPanelVisible,z=I.IS_PHONE&&this.abstractGameAdapter.orientation===GT.t.Landscape,r=I.IS_DESKTOP||I.IS_TABLET||z,K=this.serverState.phase===AT.Qc.GameResolved&&this.abstractGameAdapter.orientation===GT.t.Portrait&&I.IS_PHONE||this.serverState.phase===AT.Qc.BetsOpened&&r||T&&T.status===AT.Mi.WaitForNextGame?"bottom":"top";return v?fA(this.cards.displayedCardsCount,this.aspectRatio,1,!0,z?"middle":K):function(I,T,v=2,z=!0,r=1,K="top",n=200){const l=1,a=l/T,S=.1*l,A=.1*a,H=I>n,t=v;v=H?0:v,r=H?.5:r;const[b,R]=function(I,T,v,z,r,K,n,l){const a=K>(r=Math.min(r,K));let S=I,A=T;a&&n&&(A-=z),a&&!n&&(S-=v);const H=Math.min(S/r,A,l);let t=r;if(!n){const T=Math.round(I/H),v=Math.max(0,K-T),z=4;t=Math.max(r,T-Math.ceil(v/(z-1)))}return[xA(H),t]}(l,a,S,A,v,I,z,r);if(I<=R||z&&a<b+A)return fA(I,T,b,!0,K);const F=new Array(R);let f=0,x=0;for(let I=0;I<R;I++)F[I]={x:b*I,y:0,size:b},f=b*I+b,x=b;let D=[];const q=b/2,J=H?z?2:2*t+1:1,y=J*(z?4:2);let V=0;if(I-y-v>0){V=Math.min(y,I-R);const T=V/J;D=new Array(V);for(let I=0;I<V;I++)D[I]={x:z?q*(I%T):f+q*Math.floor(I/T),y:z?x+q*Math.floor(I/T):q*(I%T),size:q};f+=z?0:q*J,x+=z?q*J:0}let C=z?0:f,i=z?x:0,c=[];const E=b/4;let X=0;if(!z&&I>28){const v=.5*b/a,r=xA(v/T);X=Math.min(8,I-R-y),c=fA(X,v,xA(E/r),z,"top").map((I=>({x:r*I.x+C,y:r*I.y+i,size:r*I.size}))),f+=2*E,x=b}const P=xA(z?l/(a-x):(l-f)/a);C=z?0:f,i=z?x:0;const G=z?1:xA(P/T),h=fA(I-R-V-X,P,xA((D.length>0?q:b)/G),z,"top").map((I=>({x:G*I.x+C,y:G*I.y+i,size:G*I.size}))),B=F.concat(D,c,h),_=l-Math.max(...B.map((I=>I.x+I.size)));return B.map((I=>({x:I.x+(z?0:_/2),y:I.y,size:I.size})))}(this.cards.displayedCardsCount,this.aspectRatio,z?3:2,!r,r?1:.85,K,!r&&this.expectedBallsLinesCount>2?6:this.switchEnhancedCardLayoutLimit)}now(){return Math.max(SA("frame"),Date.now())}get sortAnimationProgress(){if(void 0!==this.sortAnimationTimestamp){const I=this.sortAnimationTimestamp,T=Math.max(0,this.now()-I);if(T>0)return Math.min(1,Math.round(10*T/rT.yA)/10)}return 1}get highestCardPosition(){return Math.min(...this.positions.map((I=>I.y)))}get cardsWidthInContainer(){return 100*(Math.max(...this.positions.map((I=>I.x+I.size)))-Math.min(...this.positions.map((I=>I.x))))}}var YA;aT.Cg([K.sH],pA.prototype,"isCardSorting",void 0),aT.Cg([K.sH],pA.prototype,"selectedCardDataUpdateTime",void 0),aT.Cg([K.sH],pA.prototype,"expectedBallsLinesCount",void 0),aT.Cg([K.sH],pA.prototype,"sortAnimationTimestamp",void 0),aT.Cg([K.XI],pA.prototype,"updateSelectedCardData",null),aT.Cg([K.XI.bound],pA.prototype,"setExpectedBallsLinesCount",null),aT.Cg([K.EW],pA.prototype,"isBetPanelVisible",null),aT.Cg([K.EW],pA.prototype,"switchEnhancedCardLayoutLimit",null),aT.Cg([K.EW],pA.prototype,"aspectRatio",null),aT.Cg([K.EW],pA.prototype,"positions",null),aT.Cg([K.EW],pA.prototype,"sortAnimationProgress",null),aT.Cg([K.EW],pA.prototype,"highestCardPosition",null),aT.Cg([K.EW],pA.prototype,"cardsWidthInContainer",null),function(I){I["None"]="None",I["NoWin"]="NoWin",I["Small"]="Small",I["Medium"]="Medium",I["Big"]="Big"}(YA||(YA={}));const gA={[YA.None]:void 0,[YA.Small]:QT.Fi.WinSmallSound,[YA.Medium]:QT.Fi.WinMediumSound,[YA.Big]:QT.Fi.WinBigSound,[YA.NoWin]:QT.Fi.NoWinSound};class LA extends Mn.j{constructor(I,T,v){super(),this.serverState=I,this.sounds=T,this.settings=v,K.Gn(this);const z=K.mJ((()=>gA[this.winType]),(I=>{I&&this.sounds.playSound(I,!1)}));this.onDispose(z)}get winAmount(){const I=this.serverState.player;return this.serverState.phase===AT.Qc.GameResolved&&I.status===AT.Mi.Participant?I.winAmount:0}get totalWinAmount(){const I=this.serverState.player;return I.status===AT.Mi.Participant?I.winAmount:0}get ballsToWin(){const I=this.serverState.player;return I.status===AT.Mi.Participant&&0===I.winAmount?I.cards.filter((I=>0===I.winAmount)).map((I=>qA(yA.F7(I.grid))[0].length)).sort()[0]:0}get winType(){const I=this.serverState.player;if(I.status===AT.Mi.Participant&&this.serverState.phase===AT.Qc.GameResolved&&(0===this.winAmount||this.settings.hideYouWinOnLowCelebration()&&this.winAmount<=I.totalBet))return YA.NoWin;if(I.status===AT.Mi.Participant&&this.winAmount>0){const T=100*(this.winAmount-I.totalBet)/I.totalBet;return T<100?YA.Small:100===T?YA.Medium:YA.Big}return YA.None}}aT.Cg([K.EW],LA.prototype,"winAmount",null),aT.Cg([K.EW],LA.prototype,"totalWinAmount",null),aT.Cg([K.EW],LA.prototype,"ballsToWin",null),aT.Cg([K.EW],LA.prototype,"winType",null);var ZA=v(199002);class mA extends Mn.j{constructor(I,T,v,z,r){super(),this.abstractGameAdapter=I,this.serverState=T,this.balance=v,this.cards=z,this.session=r,this.hasSecondPowerBall=!1,this.hasSecondMultiplierLanded=!1,this.shouldStartRngFlipInAnimation=!1,this.animationPromise=Promise.resolve(),this.onPowerBallReveal=null,this.gameResultPromise=null,this.flipAnimationTimeout=0,this.openPopup=I=>this.abstractGameAdapter.openPopup(I),this.startNewGame=()=>{this.disposeRequestGameState(),this.abstractGameAdapter.sendRngMessage(pn()),null!==this.gameResultPromise&&(this.gameResultPromise.resolve(),this.gameResultPromise=null)},this.winningAnimationStarted=()=>{this.abstractGameAdapter.winningAnimationStarted()},this.disposeRequestGameState=()=>{window.clearTimeout(this.stateRequestTimeout),this.stateRequestTimeout=void 0},K.Gn(this);const n=K.mJ((()=>this.serverState.phase),(T=>{T===AT.Qc.BallDrawing?this.abstractGameAdapter.sendRngMessage($n()):T===AT.Qc.GameResolved?(this.gameResultPromise=new ZA.h,this.stateRequestTimeout||(this.stateRequestTimeout=window.setTimeout(this.startNewGame,I.settings.rngGameResultDisplayDuration())),this.session.rngGameInProgress=!1):T!==AT.Qc.BetsOpened&&T!==AT.Qc.GameCancelled||(this.session.rngGameInProgress=!1)}),{fireImmediately:!0}),l=K.mJ((()=>this.serverState.phase===AT.Qc.BetsOpened),(I=>{clearTimeout(this.flipAnimationTimeout),I&&(this.shouldStartRngFlipInAnimation=!0,this.flipAnimationTimeout=window.setTimeout(K.XI((()=>{this.shouldStartRngFlipInAnimation=!1})),rT.ft))}),{fireImmediately:!0});this.onDispose(n,l,(()=>{clearTimeout(this.flipAnimationTimeout)}),this.disposeRequestGameState)}setSecondPowerBallPresence(I){return this.secondPowerBallMultiplier=I,this.hasSecondPowerBall=!0}setSecondMultiplierHasLanded(){return this.hasSecondMultiplierLanded=!0}play(){this.session.rngGameInProgress=!0,this.abstractGameAdapter.pauseBalanceUpdate(),this.abstractGameAdapter.sendRngMessage({type:Pn.StartGame}),this.abstractGameAdapter.createClientLog(LK.T())}repeatAndPlay(){const I=this.serverState.player;I.status===AT.Mi.Betting&&I.repeatInfo&&(this.balance.reserveBet(I.repeatInfo.cost),this.session.rngGameInProgress=!0,this.session.lastBetActionsRngAutoPlay=[{cost:I.repeatInfo.cost,count:I.repeatInfo.count}],this.abstractGameAdapter.pauseBalanceUpdate(),this.abstractGameAdapter.sendRngMessage({type:Pn.RepeatAndStartGame}),this.cards.optimisticCardsCount=I.repeatInfo.count)}get isRng(){return this.abstractGameAdapter.isRng}get isPlayVisible(){return this.serverState.phase===AT.Qc.BetsOpened&&this.balance.totalBet>0}setAnimationPromise(I){this.animationPromise=I}}aT.Cg([K.sH],mA.prototype,"hasSecondPowerBall",void 0),aT.Cg([K.sH],mA.prototype,"secondPowerBallMultiplier",void 0),aT.Cg([K.sH],mA.prototype,"hasSecondMultiplierLanded",void 0),aT.Cg([K.sH],mA.prototype,"shouldStartRngFlipInAnimation",void 0),aT.Cg([K.XI],mA.prototype,"setSecondPowerBallPresence",null),aT.Cg([K.XI],mA.prototype,"setSecondMultiplierHasLanded",null),aT.Cg([K.XI],mA.prototype,"play",null),aT.Cg([K.XI],mA.prototype,"repeatAndPlay",null),aT.Cg([K.EW],mA.prototype,"isPlayVisible",null),aT.Cg([K.XI],mA.prototype,"setAnimationPromise",null);class WA extends Mn.j{constructor(I,T){super(),this.abstractGameAdapter=I,this.serverState=T,this.gameResolvedTimestamp=0,this.nextPhaseTimestamp=void 0,this.getNextPhaseIn=()=>{if(this.abstractGameAdapter.gameType===hn.Z.RNGMegaBall)return;const I=this.serverState;return I.phase===AT.Qc.BetsOpened||I.phase===AT.Qc.GameResolved?I.nextPhaseIn:void 0},K.Gn(this);const v=K.mJ(this.getNextPhaseIn,(I=>{this.nextPhaseTimestamp=I?Date.now()+I:void 0}),{fireImmediately:!0}),z=K.mJ((()=>this.serverState.phase===AT.Qc.GameResolved),(I=>{I&&(this.gameResolvedTimestamp=Date.now())}),{fireImmediately:!0});this.onDispose(v,z)}get isGameEnding(){return this.serverState.phase===AT.Qc.GameResolved&&void 0!==this.msRemaining&&this.msRemaining<=rT.yk}get isBettingClosingSoon(){return this.serverState.phase===AT.Qc.BetsOpened&&void 0!==this.msRemaining&&this.msRemaining<=rT.g6}get shouldStartFlipOutAnimation(){return this.serverState.phase===AT.Qc.BetsOpened&&void 0!==this.msRemaining&&this.msRemaining<=rT.ft}get shouldStartFlipInAnimation(){return this.serverState.phase===AT.Qc.BetsOpened&&void 0!==this.msRemaining&&void 0!==this.secondsInitial&&1e3*this.secondsInitial-this.msRemaining<=rT.ft}get isGlowEffectEnding(){return this.now(500)-this.gameResolvedTimestamp<rT.Kg}get isGlowEffectVisible(){return this.now(500)-this.gameResolvedTimestamp>rT.Tl&&this.isGlowEffectEnding}get secondsInitial(){const I=this.getPhaseDuration(this.serverState.phase);if(void 0!==I)return Math.floor(I/1e3)}get secondsRemaining(){if(void 0!==this.nextPhaseTimestamp){const I=this.nextPhaseTimestamp-this.now(1e3);return Math.max(0,Math.floor(I/1e3))}}get msRemaining(){if(void 0!==this.nextPhaseTimestamp){const I=this.nextPhaseTimestamp-this.now(500);return Math.max(0,I)}}now(I){return Math.max(SA(I),Date.now())}getPhaseDuration(I){switch(I){case AT.Qc.BetsOpened:return this.abstractGameAdapter.settings.bettingTime();case AT.Qc.GameResolved:return this.abstractGameAdapter.settings.resolvedTime()}}}aT.Cg([K.sH],WA.prototype,"gameResolvedTimestamp",void 0),aT.Cg([K.sH],WA.prototype,"nextPhaseTimestamp",void 0),aT.Cg([K.EW],WA.prototype,"isGameEnding",null),aT.Cg([K.EW],WA.prototype,"isBettingClosingSoon",null),aT.Cg([K.EW],WA.prototype,"shouldStartFlipOutAnimation",null),aT.Cg([K.EW],WA.prototype,"shouldStartFlipInAnimation",null),aT.Cg([K.EW],WA.prototype,"isGlowEffectEnding",null),aT.Cg([K.EW],WA.prototype,"isGlowEffectVisible",null),aT.Cg([K.EW],WA.prototype,"secondsInitial",null);class eA extends Mn.j{constructor(I,T,v,z,r){super(),this.abstractGameAdapter=I,this.serverState=T,this.sounds=v,this.session=z,this.cardRenderer=r,this.time=new WA(this.abstractGameAdapter,this.serverState),this.balance=new US(this.abstractGameAdapter,this.serverState),this.result=new LA(this.serverState,this.sounds,this.settings),this.balls=new RA(this.serverState,this.result,this.sounds,this.abstractGameAdapter.settings,this.session),this.cards=new dA(this.abstractGameAdapter,this.serverState,this.sounds,this.balls,this.result,this.time,this.cardRenderer),this.betting=new Iv.vh(this.abstractGameAdapter,this.serverState,this.balance,this.cards,this.session,this.time),this.rng=new mA(this.abstractGameAdapter,this.serverState,this.balance,this.cards,this.session),K.Gn(this),this.cardRenderer.ballsUiState=this.balls.ui,this.cardRenderer.cardState=this.cards,this.onDispose(this.time.dispose,this.betting.dispose,this.cards.dispose,this.result.dispose,this.balance.dispose,this.balls.dispose,this.rng.dispose)}get phase(){return this.serverState.phase}get gameId(){return this.serverState.gameId}get settings(){return this.abstractGameAdapter.settings}get player(){return this.serverState.player}get baseColors(){if(void 0!==this.balls.ui.lastMultiplier){const I=this.balls.ui.lastMultiplier;return[rT.d9[I][0],rT.d9[I][1]]}return["#216060","#0BB9B3"]}increaseRepeatBetCount(){this.abstractGameAdapter.increaseRepeatBetCount()}setLastSelectedChip(I){this.abstractGameAdapter.setLastSelectedChip(I)}}function sA(I,T=0,v=1){return Math.min(v,Math.max(T,I))}aT.Cg([K.EW],eA.prototype,"phase",null),aT.Cg([K.EW],eA.prototype,"gameId",null),aT.Cg([K.EW],eA.prototype,"settings",null),aT.Cg([K.EW],eA.prototype,"player",null),aT.Cg([K.EW],eA.prototype,"baseColors",null),aT.Cg([K.XI.bound],eA.prototype,"increaseRepeatBetCount",null),aT.Cg([K.XI.bound],eA.prototype,"setLastSelectedChip",null);class MA{static Sign(I){return 0==(I=+I)||isNaN(I)?I:I>0?1:-1}static Log2(I){return Math.log(I)*Math.LOG2E}static ILog2(I){if(Math.log2)return Math.floor(Math.log2(I));if(I<0)return NaN;if(0===I)return-1/0;let T=0;if(I<1){for(;I<1;)T++,I*=2;T=-T}else if(I>1)for(;I>1;)T++,I=Math.floor(I/2);return T}static Repeat(I,T){return I-Math.floor(I/T)*T}static Normalize(I,T,v){return(I-T)/(v-T)}static Denormalize(I,T,v){return I*(v-T)+T}static DeltaAngle(I,T){let v=MA.Repeat(T-I,360);return v>180&&(v-=360),v}static PingPong(I,T){const v=MA.Repeat(I,2*T);return T-Math.abs(v-T)}static SmoothStep(I,T,v){let z=MA.Clamp(v);return z=-2*z*z*z+3*z*z,T*z+I*(1-z)}static MoveTowards(I,T,v){let z=0;return z=Math.abs(T-I)<=v?T:I+MA.Sign(T-I)*v,z}static MoveTowardsAngle(I,T,v){const z=MA.DeltaAngle(I,T);let r=0;return-v<z&&z<v?r=T:(T=I+z,r=MA.MoveTowards(I,T,v)),r}static LerpAngle(I,T,v){let z=MA.Repeat(T-I,360);return z>180&&(z-=360),I+z*sA(v)}static InverseLerp(I,T,v){let z=0;return z=I!=T?sA((v-I)/(T-I)):0,z}static Hermite(I,T,v,z,r){const K=r*r,n=r*K;return I*(2*n-3*K+1)+v*(-2*n+3*K)+T*(n-2*K+r)+z*(n-K)}static Hermite1stDerivative(I,T,v,z,r){const K=r*r;return 6*(K-r)*I+(3*K-4*r+1)*T+6*(-K+r)*v+(3*K-2*r)*z}static RangeToPercent(I,T,v){return(I-T)/(v-T)}static PercentToRange(I,T,v){return(v-T)*I+T}static HCF(I,T){const v=I%T;return 0===v?T:MA.HCF(T,v)}}MA.TwoPi=2*Math.PI,MA.WithinEpsilon=function(I,T,v=1401298e-51){return Math.abs(I-T)<=v},MA.ToHex=function(I){const T=I.toString(16);return I<=15?("0"+T).toUpperCase():T.toUpperCase()},MA.Clamp=sA,MA.Lerp=function(I,T,v){return I+(T-I)*v},MA.RandomRange=function(I,T){return I===T?I:Math.random()*(T-I)+I},MA.NormalizeRadians=function(I){return I-2*Math.PI*Math.floor((I+Math.PI)/(2*Math.PI))};const jA={ballDrawingPosition:{[dn.hR.Normal]:8e3,[dn.hR.Fast]:2e3,[dn.hR.Slow]:1e4},powerMultiplierPosition:{[dn.hR.Normal]:rT.QN,[dn.hR.Fast]:rT.QN/2,[dn.hR.Slow]:rT.QN},powerBallPosition:{[dn.hR.Normal]:rT.tW,[dn.hR.Fast]:rT.tW,[dn.hR.Slow]:rT.tW},gameResolvedPosition:{[dn.hR.Normal]:3e3,[dn.hR.Fast]:2e3,[dn.hR.Slow]:6e3}};function UA(I,T,v){return{speedMode:I,ballDrawingPosition:jA.ballDrawingPosition[I],powerMultiplierPosition:jA.powerMultiplierPosition[I],powerBallPosition:jA.powerBallPosition[I],gameResolvedPosition:jA.gameResolvedPosition[I],ballDrawDelays:NA(T,v,rT.c6,I)}}function NA(I,T,v,z){if(z===dn.hR.Fast){const I=.1*T;return Array.from({length:rT.YF},(()=>I))}if(z===dn.hR.Slow){const I=.95*T;return Array.from({length:rT.YF},(()=>I))}const r=Array.from({length:rT.hM},(()=>I)),K=rT.YF-rT.hM-1,n=Array.from({length:K},((v,z)=>{const r=(z+1)/K;return MA.Lerp(I,T,r)})),l=[v];return r.concat(n).concat(l)}class oA{constructor(I){this._values=I,this.selected=I[0],K.Gn(this)}get values(){return this._values}set values(I){if(!I.includes(this.selected)){const T=this.selectedIndex;this.selected=I[T]||I[T-1]||I[T+1]}this._values=I}get selectedIndex(){return this.values.indexOf(this.selected)}set selectedIndex(I){this.selected=this.values[Math.max(0,Math.min(I,this.values.length))]}}aT.Cg([K.sH],oA.prototype,"selected",void 0),aT.Cg([K.sH],oA.prototype,"_values",void 0),aT.Cg([K.EW],oA.prototype,"values",null),aT.Cg([K.EW],oA.prototype,"selectedIndex",null);class QA extends Mn.j{constructor(I){super(),this.abstractGameAdapter=I,this.cardPrices=new oA([]),this.isRngLoading=!1,this.lastBetActionsRngAutoPlay=[],this.isLeftPanelOpened=!1,this.isLeftPanelFlashing=!1,this.isMobileOnboardingOpened=!1,this.isMobileOnboardingTooltipOpened=!1,this.mobileOnboardingActiveViewIndex=0,this.rngGameInProgress=!1,this.rngSpeedMode=dn.hR.Normal,this.isAutoplayRunning=!1,this.increaseOnboardingViewCountOnPanelClose=()=>{const{preferences:I,gameType:T,settings:v}=this.abstractGameAdapter,z=T===hn.Z.RNGMegaBall,r=(null==I?void 0:I[z?"megaBallOnboardingViewCountRng":"megaBallOnboardingViewCount"])||0;v.onboardingViewCount()>r&&(z?this.abstractGameAdapter.setMegaBallOnboardingViewCountRng(r+1):this.abstractGameAdapter.setMegaBallOnboardingViewCount(r+1))},this.getOnboardingViewCount=()=>{const{preferences:I,gameType:T}=this.abstractGameAdapter,v=T===hn.Z.RNGMegaBall;return(null==I?void 0:I[v?"megaBallOnboardingViewCountRng":"megaBallOnboardingViewCount"])||0},this.disposeTimeout=()=>{this.leftPanelFlashingTimeout&&window.clearTimeout(this.leftPanelFlashingTimeout)};const T=this.abstractGameAdapter.settings.rngDrawBallsDelay(),v=this.abstractGameAdapter.settings.rngDrawFirstBallsDelay();this.transitionTimeMap=UA(dn.hR.Normal,v,T),K.Gn(this);const z=K.mJ((()=>{var I;return(null===(I=this.abstractGameAdapter.preferences)||void 0===I?void 0:I.preferencesAreLoaded)&&this.abstractGameAdapter.settings.onboardingViewCount()>0}),(I=>{I&&this.abstractGameAdapter.settings.onboardingViewCount()>this.getOnboardingViewCount()&&(this.isLeftPanelOpened=!0,this.isMobileOnboardingTooltipOpened=!0)}),{fireImmediately:!0});this.onDispose(z,this.disposeTimeout)}toggleLeftPanel(){this.isLeftPanelOpened=!this.isLeftPanelOpened,this.isLeftPanelOpened||this.increaseOnboardingViewCountOnPanelClose(),this.abstractGameAdapter.createClientLog(LK.Y0({toggleAction:this.isLeftPanelOpened?"open":"close"}))}toggleLeftPanelFlashing(){this.isLeftPanelFlashing||(this.isLeftPanelFlashing=!0,this.leftPanelFlashingTimeout=window.setTimeout(K.XI((()=>{this.isLeftPanelFlashing=!1})),rT.Ut))}toggleMobileOnboarding(){this.isMobileOnboardingOpened=!this.isMobileOnboardingOpened,this.isMobileOnboardingTooltipOpened=!1,this.isMobileOnboardingOpened||this.increaseOnboardingViewCountOnPanelClose(),this.abstractGameAdapter.createClientLog(LK.QI({toggleAction:this.isMobileOnboardingOpened?"open":"close"}))}toggleMobileOnboardingTooltip(){this.isMobileOnboardingTooltipOpened=!this.isMobileOnboardingTooltipOpened,this.isMobileOnboardingTooltipOpened||this.increaseOnboardingViewCountOnPanelClose()}changeMobileOnboardingViewIndex(I){this.mobileOnboardingActiveViewIndex=I,this.abstractGameAdapter.createClientLog(LK.dR({currentTabIndex:this.mobileOnboardingActiveViewIndex}))}setRngSpeedMode(I,T=!1,v=a.Xj.UI){if(this.rngSpeedMode===I||this.abstractGameAdapter.settings.disableSpeedMode())return;T&&this.abstractGameAdapter.createClientLog(LK.LF(this.rngSpeedMode,I,v,U.DS.PLATFORM)),this.rngSpeedMode=I;const z=this.abstractGameAdapter.settings.rngDrawBallsDelay(),r=this.abstractGameAdapter.settings.rngDrawFirstBallsDelay();this.transitionTimeMap=UA(I,r,z),this.abstractGameAdapter.setRngSpeedMode(I)}showLeftPanelTooltip(I,T,v,z){this.abstractGameAdapter.addTooltip(I,T,"showLeftPanelTooltip",v,z,"leftPanelTooltip")}hideLeftPanelTooltip(){this.abstractGameAdapter.hideTooltip("leftPanelTooltip")}}aT.Cg([K.sH],QA.prototype,"isLeftPanelOpened",void 0),aT.Cg([K.sH],QA.prototype,"isLeftPanelFlashing",void 0),aT.Cg([K.sH],QA.prototype,"isMobileOnboardingOpened",void 0),aT.Cg([K.sH],QA.prototype,"isMobileOnboardingTooltipOpened",void 0),aT.Cg([K.sH],QA.prototype,"mobileOnboardingActiveViewIndex",void 0),aT.Cg([K.sH],QA.prototype,"rngGameInProgress",void 0),aT.Cg([K.sH],QA.prototype,"rngSpeedMode",void 0),aT.Cg([K.sH.ref],QA.prototype,"transitionTimeMap",void 0),aT.Cg([K.XI.bound],QA.prototype,"toggleLeftPanel",null),aT.Cg([K.XI.bound],QA.prototype,"toggleLeftPanelFlashing",null),aT.Cg([K.XI.bound],QA.prototype,"toggleMobileOnboarding",null),aT.Cg([K.XI.bound],QA.prototype,"toggleMobileOnboardingTooltip",null),aT.Cg([K.XI.bound],QA.prototype,"changeMobileOnboardingViewIndex",null),aT.Cg([K.XI.bound],QA.prototype,"setRngSpeedMode",null);const OA={grid:K.sH.ref,winCombinations:K.sH.ref,score:K.sH.ref,winAmount:K.sH.ref};class kA extends Mn.j{constructor(I){super(),this.settings=I,this.sounds=new QT.xF,this.abstractGameAdapter=new un(this.settings,this,this.sounds),this.session=new QA(this.abstractGameAdapter),this.cardRenderer=new jS(this.settings.getCurrencySymbol(),this.settings.DeviceSupport,this.settings.getCurrencyDecimals()),this.game=void 0,this.multiplierHistory=void 0,this.observableServerTableState={game:null,multiplierHistory:null,error:null},this.disposeGame=()=>{this.game&&this.game.dispose()},K.Gn(this);const T=K.mJ((()=>this.observableServerTableState.game),(I=>{I&&(this.disposeGame(),this.game=new eA(this.abstractGameAdapter,I,this.sounds,this.session,this.cardRenderer))})),v=K.mJ((()=>this.abstractGameAdapter.orientation),(I=>{this.cardRenderer.setOrientation(I)}));this.onDispose(T,v,this.abstractGameAdapter.dispose,this.session.dispose,this.cardRenderer.dispose,this.disposeGame)}static get newRngGame(){return{phase:AT.Qc.BetsOpened,gameId:"",nextPhaseIn:-1,number:"",player:{status:AT.Mi.Betting,cards:[],lastBetActions:[],totalBet:0,betAmount:0,repeatInfo:null}}}get serverTableState(){return this.observableServerTableState}setPowerBallMultiplierHistory(I){this.multiplierHistory=I}setState(I){Object.assign(this.observableServerTableState,I),I.multiplierHistory&&this.setPowerBallMultiplierHistory(I.multiplierHistory)}patchState(I){Dl(this.observableServerTableState,I)}setStateAsPatch(I){const T=Hl(this.observableServerTableState);ql(T);const v=ql(I),z=this.extractHistory(I),r=tl(T,I);Dl(this.observableServerTableState,r),v&&this.patchCards(v),z&&this.setPowerBallMultiplierHistory(z)}patchCards(I){if(this.observableServerTableState.game){const T=I.map(this.makeCardObservable),{player:v}=this.observableServerTableState.game;if(v.status===AT.Mi.Betting||v.status===AT.Mi.Participant){v.cards.length>T.length?v.cards.splice(0,v.cards.length-T.length):v.cards.length<T.length&&v.cards.unshift(...T.slice(0,T.length-v.cards.length));for(let I=0;I<T.length;I++)v.cards[I]!==T[I]&&Object.assign(v.cards[I],T[I])}}}makeCardObservable(I){return K.Gn(I,OA)}extractHistory(I){const T=I.multiplierHistory;return I.multiplierHistory=null,T}}aT.Cg([K.sH],kA.prototype,"game",void 0),aT.Cg([K.sH],kA.prototype,"observableServerTableState",void 0),aT.Cg([K.EW],kA.prototype,"serverTableState",null),aT.Cg([K.XI.bound],kA.prototype,"setPowerBallMultiplierHistory",null),aT.Cg([K.XI.bound],kA.prototype,"setState",null),aT.Cg([K.XI.bound],kA.prototype,"patchState",null),aT.Cg([K.XI.bound],kA.prototype,"setStateAsPatch",null);const uA="megaball.playerState",IH="megaball.playerStatePatch",TH="megaball.winnersList",vH="balanceUpdated";class zH{constructor(I,T){this.ag=T,this.incomingMessageHandler=function(I,T){const v=function(I,T){const v=[AT.Qc.BallDrawing,AT.Qc.PowerBallDrawing];let z;const r=K.XI((I=>{Dl(z,I)})),n=[],l=T=>{const v=n.splice(0,T);for(const T of v)K.XI((()=>{I.patchState(T.operations),T.cards&&I.patchCards(T.cards),T.multiplierHistory&&I.setPowerBallMultiplierHistory(T.multiplierHistory)}))()};function a(){var T,v;return(null===(T=null==z?void 0:z.game)||void 0===T?void 0:T.phase)===AT.Qc.BallDrawing?I.settings.liveDrawBallsDelay():(null===(v=null==z?void 0:z.game)||void 0===v?void 0:v.phase)===AT.Qc.PowerBallDrawing?I.settings.livePowerBallsDelay():0}async function S(I,K,S,A){var H;const t={operations:I,cards:S,multiplierHistory:A};n.push(t);const b=null===(H=null==z?void 0:z.game)||void 0===H?void 0:H.phase,R=a();r(I);const F=v.includes(b),f=I.some((({path:I})=>"/error"===I));if(F&&!f){await T.wait(K+R);const I=n.indexOf(t);I>-1&&l(I+1)}else l(n.length)}return{onState:(T,v)=>{if(void 0!==z){ql(z);const I=ql(T);S(tl(z,T),v,I,T.multiplierHistory)}else z=T,n.length=0,I.setState(T)},onPatch:S,onConnected:function(){z=void 0},onWinnersList:async function(v,z){const r=a();await T.wait(z+r).then((()=>{I.abstractGameAdapter.setWinnersList(v)}))},getServerState:()=>z}}(I,T);return T=>{const z=T,r=T.timestamp||Date.now();switch(z.type){case uA:v.onState(z.payload,r);break;case IH:v.onPatch(z.payload.patch,r);break;case TH:v.onWinnersList(z.payload,r);break;case vH:(function(I,{payload:T,id:v="messageId"}){if(I.game){const{game:z,abstractGameAdapter:r}=I;z.phase!==AT.Qc.BetsOpened&&r.reserveBalanceForBet(0),r.updateServerBalanceFromPayload(T,v)}})(I,z)}}}(I,T.video.sync)}sendMessage(I){const{type:T,args:v}=I;T!==Yn.gW.GenerateCards&&T!==Yn.gW.ChangeBetAmount&&T!==Yn.gW.Repeat||(v.betTags=mn(this.ag)),this.ag.transport.sendStandardMessage(null,{type:T,payload:v})}}const rH=async(I,T)=>{const v=N.W0._extend(Gn.g);if(U.DS.IS_DESKTOP&&v._init(I.setup,I.styles,I.tableConfig,U.DS),!U.DS.IS_WEBGL_SUPPORTED){const I=v.licenseeLobbyUrl(),T=x.Wk({icon:x["if"].UndetectedDevice,title:"mobile.unsupportedDevice_short",backToLobbyButton:!!I,callback:I?()=>Q.NA(I):r.A}),K=z.jsx(u.y,{currentPopup:T,gameNumber:"",isClassic:!1,isCashierOpen:!1,closePopup:r.A,size:U.DS.IS_DESKTOP?"lg":"md",gameTheme:II.q.Default,logClientPopupDisplayed:I=>{const T={...a.px(I),message:"WEBGL_NOT_SUPPORTED",tableId:v.getTableId()};window.EVO_LOADER.sendLog(a.HK,T)}});return Promise.resolve({jsx:K,abstractGameDispose:()=>Promise.resolve(),videoIsReady:Promise.resolve()})}K.jK({enforceActions:"always"});const S=K.XI((()=>new kA(v)))(),A=U.DS.IS_DESKTOP?yK(S):function(I){const{settings:{DeviceSupport:T}}=I.abstractGameAdapter;return{MobileVideoOverlays:[()=>z.jsx(dK,{bingoState:I})],MobileGameOverlayContainer:()=>T.IS_TABLET?z.jsx(Kn,{bingoState:I}):z.jsx(zn,{bingoState:I}),HelpComponentListCreator:lI,HelpCreator:aI,WinnerListMultiplierComponents:{WinnerMultiplier:nT},MobileMenuNavigationMap:{betLimits:()=>z.jsx(PK,{bingoState:I})},AutoplayMobileSettingsBetspots:()=>z.jsx(VK,{bingoState:I})}}(S),{store:H,dispose:t,ag:b,getReactRoot:R}=function(I,T,v,z,r,K){const a=r?r.IS_DESKTOP:U.DS.IS_DESKTOP,S=a?{[O.LayoutType.ImmersiveV2]:{labelTranslationId:"tooltip.threeDView"},[O.LayoutType.Classic]:{labelTranslationId:"tooltip.threeDView",winnersListPosition:k.C1.TopRight}}:{[O.LayoutType.PhoneV2]:{videoStream:TI.VideoPlaylist.Default}};return A={config:{layout:{initialLayout:a?O.LayoutType.ImmersiveV2:O.LayoutType.PhoneV2,layoutClassicIsHidden:!1,layouts:S,hasHelpSupportChatButton:!0,decisionTimerPosition:l.DecisionTimerPosition.None},helpNamespace:"megaball",chipstack:{disabledComponents:"all"},tableLimits:{min:T.settings.bingoCardMinBet(),max:T.settings.bingoCardMaxBet()},minBalance:T.settings.bingoCardMinBet(),showOnboardingHintsOptionInSettings:!T.settings.onboardingDisabled(),chat:{oneLineType:{landscape:n.X.Bottom}},video:{enabled:!0}},settings:T.settings,game:{preferenceConfiguration:on,realityCheckOptions:{videoSyncDisabled:!0},loader:I,mockBalanceManager:K},lobby:v},H=z,j.I({...A,game:{...A.game,mockTransports:H,gameFamily:"live"}});var A,H}(I,S,T),F=new zH(S,b);S.abstractGameAdapter.init(b,F);const f=function(I,T){return I.subscribe((()=>{const v=I.getState(),z=Xn(v);T.video.mobile.setScale(z[0],z[1])}))}(H,b),D=R(A);let q,J;await b.preferences.initialization,Cn();return v.autoplayApiEnabled()&&({AutoplayProvider:q,dispose:J}=function(I,T,v){return M.PS(s,I,T,v)}(b,{repeatBets:()=>{window.setTimeout((()=>{var I;return null===(I=null==S?void 0:S.game)||void 0===I?void 0:I.betting.repeat(!0)}))}},I.clientApi)),{jsx:M.pA(q,z.jsx(D,{})),videoIsReady:b.video.ready,abstractGameDispose:async()=>(f(),S.dispose(),null==J||J(),o.N1(),t())}}},616938:(I,T,v)=>{function z(I){return{bingoCardMaxBet:()=>Number(I.rawConfig.card_bet_max)||100,bingoCardMinBet:()=>Number(I.rawConfig.card_bet_min)||1,bingoPayoutLimit:()=>Number(I.rawConfig.payout_limit)||5e5,bettingTime:()=>Number(I.rawConfig.betting_time)||2e4,resolvedTime:()=>Number(I.rawConfig.resolved_time)||5e3,onboardingDisabled:()=>"true"===I.rawConfig.onboarding_disabled,onboardingBettingBubbleDelay:()=>void 0===I.rawConfig.onboarding_betting_bubble_delay?5e3:Number(I.rawConfig.onboarding_betting_bubble_delay),onboardingMinBettingTime:()=>void 0===I.rawConfig.onboarding_min_betting_time?12e3:Number(I.rawConfig.onboarding_min_betting_time),onboardingDrawingBubbleTimeout:()=>void 0===I.rawConfig.onboarding_drawing_bubble_timeout?4e3:Number(I.rawConfig.onboarding_drawing_bubble_timeout),onboardingViewCount:()=>void 0===I.rawConfig.onboarding_amount?1:Number(I.rawConfig.onboarding_amount),showOnboardingMobileToggle:()=>"false"!==I.rawConfig.show_onboarding_toggle_mob,bingoCardBundles:()=>(I.rawConfig.bingo_card_bundles||"1,10,25,100").split(",").map(Number),powerBallMultiplierDelay:()=>Number(I.rawConfig.power_ball_multiplier_delay)||0,rngDrawBallsDelay:()=>Number(I.rawConfig.rng_draw_balls_delay)||1e3,rngDrawFirstBallsDelay:()=>Number(I.rawConfig.rng_draw_first_balls_delay)||300,rngGameResultDisplayDuration:()=>Number(I.rawConfig.rng_game_result_display_duration)||4500,ballColors:()=>(I.rawConfig.ball_colors||"#ffdb00,#04c64c,#bbbbbb,#ffdb00,#04c64c").split(","),liveDrawBallsDelay:()=>I.rawConfig.live_draw_balls_delay||650,livePowerBallsDelay:()=>I.rawConfig.live_power_balls_delay||-2e3,sortOnBalls:()=>(I.rawConfig.sort_on_balls||"7,13,17,20").split(",").map(Number),maxCardsCount:()=>Number(I.rawConfig.max_cards_count)||200,switchEnhancedCardLayoutLimit:()=>Number(I.rawConfig.switch_enhanced_card_layout_limit)||200,backgroundColorChangeDelay:()=>Number(I.rawConfig.background_color_change_delay)||8e3,disableSpeedMode:()=>"true"===I.rawConfig.disable_speed_mode,gameSubTranslateKey:()=>I.rawConfig.game_sub_translation_key,getIsRtpMinMax:()=>"true"===I.rawConfig.rtpMinMax,isVolatilityIndexInHelpRequired:()=>"true"===I.rawConfig["regulatory.volatility_index_in_help_required"]}}v.d(T,{g:()=>z})},657765:(I,T,v)=>{v.d(T,{Js:()=>R,Kd:()=>z,vh:()=>F});var z,r=v(934789),K=v(697971),n=v(625678),l=v(947548),a=v(497091),S=v(759576),A=v(335350),H=v(416127),t=v(508730),b=v(170510);(function(I){I["NotAvailable"]="notAvailable",I["OutOfMoney"]="outOfMoney",I["MaxCards"]="maxCards",I["BetsClosed"]="betsClosed",I["BetsClosingSoon"]="betsClosingSoon"})(z||(z={}));const R={[z.OutOfMoney]:"tooltip.balanceTooLow",[z.MaxCards]:"tooltip.maxCards"};class F extends b.j{constructor(I,T,v,z,r,n){super(),this.abstractGameAdapter=I,this.serverState=T,this.balance=v,this.cards=z,this.session=r,this.time=n,this.ui=new f(this,this.cards),this.lastBundleClickInfo=void 0,this.lastBetActions=[],this.nextPriceDisabledByBalance=!1,this.hasLastBetActionsSetFromServer=!1,K.Gn(this);const l=K.mJ((()=>this.cardsPriceInfo),(({values:I,selected:v,nextPriceDisabledByBalance:z})=>{this.cardPrices.values=I.map((I=>I.amount)),this.cardPrices.selected=v.amount,this.nextPriceDisabledByBalance=z,this.serverState.player.status===A.Mi.Betting&&v.amount!==this.serverState.player.betAmount&&this.serverState.player.cards.length>0&&T.phase===A.Qc.BetsOpened&&this.changeCardAmount(v.amount)}),{fireImmediately:!0,equals:K.m3.structural}),a=K.mJ((()=>T.player.status===A.Mi.Betting?T.player.lastBetActions:[]),(I=>{this.hasLastBetActionsSetFromServer||(this.hasLastBetActionsSetFromServer=!0,this.lastBetActions=I,this.abstractGameAdapter.shouldUndoAllCards(this.serverState,!0)&&this.undoAll())}),{fireImmediately:!0}),S=K.mJ((()=>T.phase),(I=>{I===A.Qc.BetsOpened&&this.serverState.player.status===A.Mi.Betting&&(this.lastBetActions.length=0)}));this.onDispose(l,a,S,this.ui.dispose)}disableBundlePressed(I,T){const v=this.cardPrices.selected;this.abstractGameAdapter.createClientLog(t.Cc({amount:v,cardCount:I,disableReason:T}))}buyCardsBundle(I){this.cards.optimisticCardsCount+=I;const T=this.cardPrices.selected;this.lastBetActions=[{cost:T*I,count:I,type:"card"},...this.lastBetActions],this.abstractGameAdapter.send(S.SE(this.serverState.gameId,T,I));const v=T*I;this.balance.reserveBet(v),this.lastBundleClickInfo={timestamp:Date.now(),isSmallBundleSize:this.ui.isSmallBundleSize},this.abstractGameAdapter.createClientLog(t.LA({amount:v,type:`bundle_${I}`}))}changeCardAmount(I){var T,v;const z=K.XI((()=>{this.serverState.phase===A.Qc.BetsOpened&&(this.abstractGameAdapter.send(S.LG(this.serverState.gameId,I)),this.lastBetActions.forEach((T=>{T.cost=T.count*I})),this.balance.reserveBet(I*this.cards.optimisticCardsCount,!1))})),{preferences:r,gameType:a}=this.abstractGameAdapter,t=a===n.Z.RNGMegaBall,b=t?null!==(T=null==r?void 0:r.megaBallCardsValueChangedOnceRng)&&void 0!==T&&T:null!==(v=null==r?void 0:r.megaBallCardsValueChangedOnce)&&void 0!==v&&v;r&&!b?this.abstractGameAdapter.openPopup(l.W6({message:H.Y("changeCardsValuePopup"),buttonIds:["Ok"],callback:I=>{"Ok"===I&&(z(),t?this.abstractGameAdapter.setMegaBallCardsValueChangedOnceRng():this.abstractGameAdapter.setMegaBallCardsValueChangedOnce())}})):z()}undo(){if(this.isUndoEnabled){const I=this.lastBetActions[0];this.cards.optimisticCardsCount-=I.count,this.balance.reserveBet(-1*I.cost),this.abstractGameAdapter.createClientLog(t.LA({amount:-I.cost,type:t.uu.Undo})),this.lastBetActions=this.lastBetActions.slice(1),this.abstractGameAdapter.send(S._L(this.serverState.gameId)),this.abstractGameAdapter.createClientLog(t.$2())}}undoAll(){if(this.serverState.player.status===A.Mi.Betting&&this.balance.totalBet>0){this.lastBetActions=[],this.abstractGameAdapter.send(S.VI(this.serverState.gameId));const I=-1*this.balance.totalBet;this.balance.reserveBet(I),this.abstractGameAdapter.createClientLog(t.LA({amount:I,type:t.uu.UndoAll})),this.abstractGameAdapter.createClientLog(t.g6()),this.cards.optimisticCardsCount=0}}repeat(I=!1){const T=this.repeatInfo;0===this.cards.optimisticCardsCount&&T.enabled&&(this.abstractGameAdapter.send(S.vP(this.serverState.gameId)),this.cardPrices.selected=T.betAmount,this.balance.reserveBet(T.cost),this.cards.optimisticCardsCount+=T.count,this.lastBetActions=[{cost:T.cost,count:T.count,type:"repeat"}],I||(this.abstractGameAdapter.createClientLog(t.LA({amount:T.cost,type:t.uu.Repeat})),this.abstractGameAdapter.createClientLog(t.Gd())))}playerChangeAmount(){const I=this.cardPrices.selected,T=this.cards.displayedCards.length;this.abstractGameAdapter.createClientLog(t.Vp({amount:I,cardCount:T})),this.abstractGameAdapter.setLastSelectedChip(I)}get cardPrices(){return this.session.cardPrices}get playerCardValue(){const I=this.serverState.player;return this.cards.realDisplayedCards.length>0&&(I.status===A.Mi.Participant||I.status===A.Mi.Betting)?I.betAmount:this.session.cardPrices.selected}get isPlayerObserver(){return this.serverState.player.status===A.Mi.WaitForNextGame||this.serverState.player.status===A.Mi.BetRejected}get isUndoEnabled(){return this.lastBetActions.length>0&&this.cards.hasBoughtCards}get repeatInfo(){const{isBettingClosingSoon:I}=this.time;if(I)return{cost:0,enabled:!1,disableReason:z.BetsClosingSoon};const T=this.serverState.player,v=T.status===A.Mi.Betting||T.status===A.Mi.WaitForNextGame?T.repeatInfo:null;if(!v)return{cost:0,enabled:!1,disableReason:z.NotAvailable};const r=this.serverState.phase===A.Qc.BetsOpened,K=v.cost<=this.abstractGameAdapter.balance;return r&&K?this.cards.optimisticCardsCount>0?{cost:v.cost,enabled:!1,disableReason:z.NotAvailable}:{enabled:!0,cost:v.cost,count:v.count,betAmount:v.betAmount}:{cost:v.cost,enabled:!1,disableReason:K?z.BetsClosed:z.OutOfMoney}}get cardBundles(){const{balance:I,settings:T}=this.abstractGameAdapter,v=this.cardPrices.selected,z=Number((I+this.balance.totalBet-this.cards.optimisticCardsCount*v).toFixed(2)),r=T.bingoCardMinBet(),K=T.bingoCardBundles(),n={[A.iJ.Single]:K[0],[A.iJ.Small]:K[1],[A.iJ.Medium]:K[2],[A.iJ.Large]:K[3]},l=this.abstractGameAdapter.settings.maxCardsCount();return Object.keys(n).map((I=>{const T=n[I];return{bundleSize:I,count:T,notEnoughMoney:z<r||T*v>z,maxCardsReached:T>l-this.cards.optimisticCardsCount}})).sort(((I,T)=>I.count-T.count))}showBettingTooltip(I,T,v,z=!1){this.abstractGameAdapter.addTooltip(I,T,"bettingTooltip",v,z)}get cardsPriceInfo(){const I=this.abstractGameAdapter.settings,T=this.abstractGameAdapter.balance,v=this.balance.totalBet,z=I.bingoCardMinBet(),r=I.bingoCardMaxBet(),K=I.getChipAmounts(),n=K.includes(z)?K:[z,...K].sort(((I,T)=>I-T)),l=I.getDefaultChip()-1,a=this.serverState.player.status===A.Mi.Betting&&this.serverState.player.betAmount||this.abstractGameAdapter.lastSelectedChip,S=this.cards.optimisticCardsCount,H=n.map((I=>({amount:I,hasEnoughBalance:v>0?Math.round(I*S*100)/100<=Math.round(100*(T+v))/100:I<=T,valid:I>=z&&I<=r}))),t=I=>I.hasEnoughBalance&&I.valid,b=H.filter(t),R=H.some((I=>!I.hasEnoughBalance)),F=H[l],f=H.find((I=>I.amount===a)),x=H.find((I=>I.amount===this.cardPrices.selected))||f||F;if(x&&t(x))return{values:b,selected:x,nextPriceDisabledByBalance:R};let D;if(x){const I=H.indexOf(x),T=H.slice(0,I),v=H.slice(I+1);D=T.reverse().concat(v)}else D=H;const q=D.find(t);if(q&&0===v)return{values:b,selected:q,nextPriceDisabledByBalance:R};const J=(null==x?void 0:x.valid)?x:b[0]||H[0];return{values:[J],selected:J,nextPriceDisabledByBalance:R}}}r.Cg([K.sH],F.prototype,"lastBundleClickInfo",void 0),r.Cg([K.sH],F.prototype,"lastBetActions",void 0),r.Cg([K.sH],F.prototype,"nextPriceDisabledByBalance",void 0),r.Cg([K.XI.bound],F.prototype,"buyCardsBundle",null),r.Cg([K.XI.bound],F.prototype,"changeCardAmount",null),r.Cg([K.XI.bound],F.prototype,"undo",null),r.Cg([K.XI.bound],F.prototype,"undoAll",null),r.Cg([K.XI.bound],F.prototype,"repeat",null),r.Cg([K.XI.bound],F.prototype,"playerChangeAmount",null),r.Cg([K.EW],F.prototype,"cardPrices",null),r.Cg([K.EW],F.prototype,"playerCardValue",null),r.Cg([K.EW],F.prototype,"isPlayerObserver",null),r.Cg([K.EW],F.prototype,"isUndoEnabled",null),r.Cg([K.EW],F.prototype,"repeatInfo",null),r.Cg([K.EW],F.prototype,"cardBundles",null),r.Cg([K.EW],F.prototype,"cardsPriceInfo",null);class f extends b.j{get isSmallBundleSize(){return this.cardsAreReduced&&this.cards.displayedCardsCount>0}constructor(I,T){super(),this.cards=T,this.blinkDirection=null,this.cardsAreReduced=!1,this.cardCountUpdatedHandler=0,this.disposeTimeout=()=>{this.changeBetTimeout&&window.clearTimeout(this.changeBetTimeout),this.cardCountUpdatedHandler&&window.clearTimeout(this.cardCountUpdatedHandler)},K.Gn(this);const v=K.mJ((()=>I.cardPrices.selected),(I=>{this.blinkDirection||void 0===this.prevSelectedCardPrice||(this.blinkDirection=I>this.prevSelectedCardPrice?"right":"left",this.changeBetTimeout=window.setTimeout(K.XI((()=>{this.blinkDirection=null})),a.ti)),this.prevSelectedCardPrice=I})),z=K.mJ((()=>this.cards.displayedCardsCount),(I=>{window.clearTimeout(this.cardCountUpdatedHandler),I?this.cardCountUpdatedHandler=window.setTimeout(K.XI((()=>{this.cardsAreReduced=!0})),a.cc):this.cardsAreReduced=!1}),{fireImmediately:!0});this.onDispose(v,z,this.disposeTimeout)}}r.Cg([K.sH],f.prototype,"blinkDirection",void 0),r.Cg([K.sH],f.prototype,"cardsAreReduced",void 0),r.Cg([K.EW],f.prototype,"isSmallBundleSize",null)},170510:(I,T,v)=>{v.d(T,{j:()=>z});class z{constructor(){this.disposers=[],this.dispose=()=>{this.disposers.forEach((I=>I()))}}onDispose(...I){this.disposers.push(...I)}}},508730:(I,T,v)=>{v.d(T,{$2:()=>q,CO:()=>z,Cc:()=>F,GL:()=>i,Gd:()=>y,LA:()=>t,LF:()=>c,QI:()=>x,T:()=>V,Vp:()=>H,Y0:()=>f,Y4:()=>b,dR:()=>D,g6:()=>J,gp:()=>R,le:()=>C,oi:()=>E,uu:()=>r});var z,r,K=v(456647),n=v(170877);(function(I){I["BetAccepted"]="CLIENT_BET_ACCEPTED",I["BetRejected"]="CLIENT_BET_REJECTED",I["BetAmountChanged"]="CLIENT_MEGABALL_CHANGE_BET_AMOUNT",I["RegenerateCard"]="CLIENT_MEGABALL_REGENERATE_CARD",I["ZoomInCard"]="CLIENT_MEGABALL_ZOOM_IN_CARD",I["ZoomOutCard"]="CLIENT_MEGABALL_ZOOM_OUT_CARD",I["SwitchCard"]="CLIENT_MEGABALL_SWITCH_CARD",I["PressedDisabledBundle"]="CLIENT_MEGABALL_PRESSED_DISABLED_BUNDLE",I["PatternPanelToggle"]="CLIENT_MEGABALL_PATTERN_PANEL_TOGGLE",I["QuickHelpToggle"]="CLIENT_MEGABALL_QUICK_HELP_TOGGLE",I["QuickHelpTabChanged"]="CLIENT_MEGABALL_QUICK_HELP_TAB_CHANGED",I["ClientBetChip"]="CLIENT_BET_CHIP",I["ClientInteractedWithDrawer"]="CLIENT_INTERACTED_WITH_DRAWER"})(z||(z={})),function(I){I["Repeat"]="repeat",I["Undo"]="undo",I["UndoAll"]="undoAll",I["AutoPlay"]="AutoPlay"}(r||(r={}));const l=["gameType","gameTime","balance","currency"],a=["gameType","gameTime","currency","chipStack","tableLimits"],S=["gameType","gameTime","balance","currency","chipStack","tableLimits"],A=["bets","currency","orientation"];function H(I){return{type:z.BetAmountChanged,payload:I,enhancers:l}}function t(I){return{type:z.ClientBetChip,payload:I,enhancers:a}}function b(I){return{type:z.RegenerateCard,payload:I,enhancers:l}}function R(I,T){return{type:I,payload:T,enhancers:l}}function F(I){return{type:z.PressedDisabledBundle,payload:I,enhancers:l}}function f(I){return{type:z.PatternPanelToggle,payload:I,enhancers:l}}function x(I){return{type:z.QuickHelpToggle,payload:I,enhancers:l}}function D(I){return{type:z.QuickHelpTabChanged,payload:I,enhancers:l}}function q(){return{type:"CLIENT_PRESSED_UNDO",enhancers:A}}function J(){return{type:"CLIENT_PRESSED_UNDO_ALL",enhancers:A}}function y(){return{type:"CLIENT_PRESSED_REPEAT",enhancers:A}}function V(){return{type:"CLIENT_MEGABALL_PRESSED_PLAY",enhancers:A}}function C(I){return{type:z.BetAccepted,payload:I,enhancers:S}}function i(I){return{type:z.BetRejected,payload:I,enhancers:S}}function c(I,T,v,z){return z===n.OD.Desktop?K.zv(I,T,v,z).meta.log:K.AG(I,T).meta.log}function E(I){return{type:z.ClientInteractedWithDrawer,payload:I}}},759576:(I,T,v)=>{var z;function r(I,T,v){const r={gameId:I,betAmount:T,cardsCount:v};return{type:z.GenerateCards,args:r,timestamp:Date.now()}}function K(I,T){const v={gameId:I,betAmount:T};return{type:z.ChangeBetAmount,args:v,timestamp:Date.now()}}function n(I){return{type:z.Undo,args:{gameId:I},timestamp:Date.now()}}function l(I){return{type:z.UndoAll,args:{gameId:I},timestamp:Date.now()}}function a(I){return{type:z.Repeat,args:{gameId:I},timestamp:Date.now()}}function S(I,T){return{type:z.RegenerateCard,args:{gameId:I,cardId:T},timestamp:Date.now()}}v.d(T,{LG:()=>K,OW:()=>S,SE:()=>r,VI:()=>l,_L:()=>n,gW:()=>z,vP:()=>a}),function(I){I["GenerateCards"]="megaball.generateCards",I["ChangeBetAmount"]="megaball.changeBetAmount",I["Undo"]="megaball.undo",I["UndoAll"]="megaball.undoAll",I["Repeat"]="megaball.repeat",I["RegenerateCard"]="megaball.regenerateCard"}(z||(z={}))},335350:(I,T,v)=>{var z,r,K,n;v.d(T,{Mi:()=>K,Qc:()=>z,bU:()=>n,iJ:()=>r}),function(I){I["BetsOpen"]="BetsOpen",I["BetsOpened"]="BetsOpened",I["BallDrawing"]="BallDrawing",I["PowerBallDrawing"]="PowerBallDrawing",I["GameResolved"]="GameResolved",I["WaitForGame"]="WaitForGame",I["GameCancelled"]="GameCancelled"}(z||(z={})),function(I){I["Single"]="singleBundle",I["Small"]="smallBundle",I["Medium"]="mediumBundle",I["Large"]="largeBundle"}(r||(r={})),function(I){I["Participant"]="Participant",I["Betting"]="Betting",I["WaitForNextGame"]="WaitForNextGame",I["BetRejected"]="BetRejected"}(K||(K={})),function(I){I["Regular"]="Regular",I["Small"]="Small",I["WithoutLabel"]="WithoutLabel"}(n||(n={}))},416127:(I,T,v)=>{v.d(T,{Y:()=>A,x:()=>S});var z=v(64922),r=v(653677),K=v(346160),n=v(523219),l=v(616938);const a=n.W0._extend(l.g),S=({children:I,...T})=>z.jsx(r.q,{...T,children:K.gJ(I,a.gameSubTranslateKey())});function A(I,T){return K.Tl(K.gJ(I,a.gameSubTranslateKey()),T)}},923628:(I,T,v)=>{v.d(T,{LG:()=>K,Mf:()=>n,SE:()=>l});var z=v(78350),r=v(497091);function K(I){var T,v,z;const K=(null!==(v=null===(T=I.game)||void 0===T?void 0:T.settings.classicLayoutBackgroundColors())&&void 0!==v?v:["174544","1D4D54","1D4D54","174544"]).map((I=>`#${I}`));if(void 0!==(null===(z=I.game)||void 0===z?void 0:z.balls.ui.lastMultiplier)){const T=I.game.balls.ui.lastMultiplier;return[r.d9[T][0],r.d9[T][1],K[2],K[3]]}return K}function n(I){const T=r.co[I];return{light:z.N9(T[1]),dark:z.N9(T[0])}}function l(I){return Array.from({length:r.Bo+1},((T,v)=>{switch(Math.floor((v-1)/10)){case 0:return I[0];case 1:return I[1];case 2:return I[2];case 3:return I[3];default:return I[4]}}))}},393799:(I,T,v)=>{v.d(T,{pW:()=>z}),v(335350);const z=I=>`${I}-${Math.floor(1e9*Math.random())}-${+new Date}`},8689:(I,T,v)=>{v.d(T,{S:()=>r});var z=v(377810);function r({platform:I,orientation:T,size:v,inline:r=!0,label:K}){const n=z.useRef(null);return z.useEffect((()=>{const I=n.current;if(!I)return;const T=I.parentElement;if(!T)return;I.style.fontSize="";const v=r?T:I,[z,K,l]=function(I){const T=getComputedStyle(I),v=parseFloat(T.paddingLeft),z=parseFloat(T.paddingRight),r=I.clientWidth-v-z;let K=0;for(const T of I.children){const I=getComputedStyle(T),v=parseFloat(I.marginLeft)||0,z=parseFloat(I.marginRight)||0;K+=T.clientWidth+v+z}return[K-r>0,K,r]}(v),a=r?K:I.scrollWidth;(v.scrollWidth>v.clientWidth||z)&&(I.style.fontSize=function(I,T,v){const z=getComputedStyle(I),r=parseFloat(z.marginLeft)+I.clientWidth+parseFloat(z.marginRight),K=(v-(T-r))/r;return`calc(${z.fontSize} * ${K})`}(I,a,l))}),[n,T,I,v,r,K]),n}},800821:(I,T,v)=>{v.d(T,{yi:()=>F,Dt:()=>f});var z=v(170877),r=v(297413);const K={...r.u,rimXPathLength:200};function n(I=K){const T=0?0:Math.random();return`<svg viewBox="0 0 ${I.rimXPathLength+54} 54" width="100%" height="100%">\n    <defs>\n        <linearGradient x1="50%" y1="100%" x2="50%" y2="0%" id="${I.ns}-rim-gradient-${T}">\n            <stop stop-color="${I.rimGradientColor1}" offset="0%"/>\n            <stop stop-color="${I.rimGradientColor2}" offset="29.99%"/>\n            <stop stop-color="${I.rimGradientColor3}" offset="46.19%"/>\n            <stop stop-color="${I.rimGradientColor4}" offset="63.9%"/>\n            <stop stop-color="${I.rimGradientColor5}" offset="87.03%"/>\n            <stop stop-color="${I.rimGradientColor6}" offset="100%"/>\n        </linearGradient>\n        <linearGradient x1="52.97%" y1="98.6%" x2="51.94%" y2="-1.87%" id="${I.ns}-gradient-d-${T}">\n            <stop stop-color="${I.innerRimGradientColor1}" offset="0%"/>\n            <stop stop-color="${I.innerRimGradientColor2}" offset="100%"/>\n        </linearGradient>\n        <linearGradient x1="52.31%" y1="100%" x2="48.44%" y2=".44%" id="${I.ns}-rim-flares-gradient-${T}">\n            <stop stop-color="${I.rimFlareGradientColor1}" offset="0%"/>\n            <stop stop-color="${I.rimFlareGradientColor2}" offset="25.79%"/>\n            <stop stop-color="${I.rimFlareGradientColor3}" offset="48.11%"/>\n            <stop stop-color="${I.rimFlareGradientColor4}" offset="72.17%"/>\n            <stop stop-color="${I.rimFlareGradientColor5}" offset="100%"/>\n        </linearGradient>\n        <filter x="-1.3%" y="-1.3%" width="102.5%" height="102.5%" filterUnits="objectBoundingBox" id="shadow-gradient-${T}">\n            <feGaussianBlur stdDeviation="1" in="SourceAlpha" result="shadowBlurInner1"/>\n            <feOffset in="shadowBlurInner1" result="shadowOffsetInner1"/>\n            <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n            <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0" in="shadowInnerInner1"/>\n        </filter>\n        <path d="M27,2 h${I.rimXPathLength} a25,25 0 0 1 25,25 v0 a25,25 0 0 1 -25,25 h-${I.rimXPathLength} a25,25 0 0 1 -25,-25 v-0 a25,25 0 0 1 25,-25 z" id="shape-c-${T}" />\n    </defs>\n    <g fill="none">\n        <path d="M27,2 h${I.rimXPathLength} a25,25 0 0 1 25,25 v0 a25,25 0 0 1 -25,25 h-${I.rimXPathLength} a25,25 0 0 1 -25,-25 v-0 a25,25 0 0 1 25,-25 z" fill="url(#${I.ns}-rim-gradient-${T})" />\n        <use fill="url(#${I.ns}-gradient-d-${T})" xlink:href="#shape-c-${T}"/>\n        <path stroke="url(#${I.ns}-rim-flares-gradient-${T})" stroke-width="4" d="M27,2 h${I.rimXPathLength} a25,25 0 0 1 25,25 v0 a25,25 0 0 1 -25,25 h-${I.rimXPathLength} a25,25 0 0 1 -25,-25 v-0 a25,25 0 0 1 25,-25 z"/>\n        <use fill="#000" filter="url(#shadow-gradient-${T})" xlink:href="#shape-c-${T}"/>\n    </g>\n</svg>`}var l=v(776326);const a={...v(379014).l2,rimXPathLength:200};function S(I=a){const T=0?0:Math.random();return`\n        <svg viewBox="0 0 ${I.rimXPathLength+54} 54" width="100%" height="100%">\n            <defs>\n                <radialGradient cx="50%" cy="50%" fx="50%" fy="50%" r="69.7%" gradientTransform="translate(0.5,0.5),scale(0.2,1),rotate(90),scale(1,3.7),translate(-0.5,-0.5)" id="${I.ns}-gradient-k-${T}">\n                    <stop stop-color="${I.movingPartHighlightColor}" offset="0%"/>\n                    <stop stop-color="${I.movingPartBaseColor}" offset="100%"/>\n                </radialGradient>\n                <linearGradient x1="50%" y1="0%" x2="50%" y2="50%" id="gradient-l-${T}">\n                    <stop stop-color="#FFF" stop-opacity=".7" offset="0%"></stop>\n                    <stop stop-color="#FFF" stop-opacity="0" offset="70%"></stop>\n                </linearGradient>\n                <linearGradient x1="-23.75%" y1="-19.59%" x2="135.61%" y2="83.68%" id="gradient-m-${T}">\n                    <stop stop-color="#FFF" offset="0%"/>\n                    <stop stop-color="#FFF" stop-opacity=".61" offset="10.1%"/>\n                    <stop stop-color="#FFF" stop-opacity=".73" offset="19.41%"/>\n                    <stop stop-color="#FFF" stop-opacity="0" offset="28.13%"/>\n                    <stop stop-color="#FFF" stop-opacity="0" offset="74.17%"/>\n                    <stop stop-color="#FFF" offset="100%"/>\n                </linearGradient>\n                <filter x="-2.1%" y="-2.1%" width="104.2%" height="104.2%" filterUnits="objectBoundingBox" id="gradient-n-${T}">\n                    <feGaussianBlur stdDeviation="1" in="SourceGraphic"/>\n                </filter>\n            </defs>\n            <path d="M29,7 h${I.rimXPathLength-4} a20,20 0 0 1 20,20 v0 a20,20 0 0 1 -20,20 h-${I.rimXPathLength-4} a20,20 0 0 1 -20,-20 v-0 a20,20 0 0 1 20,-20 z" id="shape-c-${T}"/>\n            <g fill="none">\n                <mask id="gradient-g-${T}" fill="#fff"><use xlink:href="#shape-c-${T}"/></mask>\n                <path d="M28,5 h${I.rimXPathLength-2} a22,22 0 0 1 22,22 v0 a22,22 0 0 1 -22,22 h-${I.rimXPathLength-2} a22,22 0 0 1 -22,-22 v-0 a22,22 0 0 1 22,-22 z" fill="url(#${I.ns}-gradient-k-${T})" />\n                <g fill-rule="nonzero" mask="url(#gradient-g-${T})">\n                    <use fill="#000" filter="url(#gradient-h-${T})" xlink:href="#shape-i-${T}"></use>\n                    <path stroke="url(#default-gradient-j-${T})" stroke-width="2.8" d="M150.85 239.04c60.21-11.51 99.7-69.66 88.19-129.87-11.51-60.21-69.66-99.7-129.87-88.2-60.21 11.52-99.7 69.66-88.2 129.88 11.52 60.21 69.66 99.7 129.88 88.19z" stroke-linejoin="square" fill="url(#default-gradient-k-${T})" fill-rule="evenodd"></path>\n                </g>\n                <path d="M28,6 h${I.rimXPathLength-4} a22,22 0 0 1 22,22 v0 a22,22 0 0 1 -22,22 h-${I.rimXPathLength-2} a22,22 0 0 1 -22,-22 v-0 a22,22 0 0 1 22,-22 z" fill="url(#gradient-l-${T})" opacity=".5" mask="url(#gradient-g-${T})"></path>\n                <path d="M28,6 h${I.rimXPathLength-4} a22,22 0 0 1 22,22 v0 a22,22 0 0 1 -22,22 h-${I.rimXPathLength-2} a22,22 0 0 1 -22,-22 v-0 a22,22 0 0 1 22,-22 z" stroke="url(#gradient-m-${T})" stroke-width="2" filter="url(#gradient-n-${T})" mask="url(#gradient-g-${T})" />\n            </g>\n        </svg>\n    `}var A=v(231369);const H=100,t=130,b=190;function R(I,T){return I===z.OD.Phone?T.getScreenSize().height<=320&&T.getScreenSize().width<=568||T.getScreenSize().height<=320&&T.IS_IN_IFRAME&&!T.IS_IPHONE10_OR_NEWER?H:t:I===z.OD.Tablet?t:b}function F(I){const{buttonMovingPartProps:T,buttonHoverMovingPartProps:v,platform:z,pulseColor:a,ds:t,useFlippedArrows:b=!1,useSparkles:F=!0}=I,f=R(z,t),x=n({...r.o4,rimXPathLength:f}),D=l.gO(x),q=n({...r.gR,rimXPathLength:f}),J=l.gO(q),y=S({...T,rimXPathLength:f}),V=l.gO(y),C=S({...v,rimXPathLength:f}),i=l.gO(C),c=n({...K,rimXPathLength:f}),E=l.gO(c),X=S({ns:"grey",movingPartHighlightColor:"#363636",movingPartBaseColor:"#363636",movingRimBottomColor:"#363636",movingRimTopColor:"#363636",rimXPathLength:f}),P=l.gO(X),G={base:D,moving:V,arrowsStyle:{gradient1Color1:"#FFF",gradient1Color2:"#FFF",gradient2Color1:"#FFF",gradient2Color2:"#FFF",opacity:1},pulseColor:a,labelAlpha:1,useSparkles:F&&f!==H&&!(t.IS_ANDROID&&!t.IS_ANDROID6_0_0_PLUS)&&!t.IS_IN_ANDROID_WEB_VIEW};return{[A._i.Default]:G,[A._i.Hovered]:{...G,base:J,moving:i,labelAlpha:1},[A._i.Disabled]:{...G,base:E,moving:P,labelAlpha:.3},useFlippedArrows:b}}function f(I,T){const v=R(I,T),{width:z,height:r}=T.getScreenSize();return z>r&&r/z<1/3.5||v===H}},234433:(I,T,v)=>{v.d(T,{F7:()=>r,Jq:()=>z});const z=new Map;function r(I){if("string"==typeof I){const T=z.get(I);if(T)return T;const v=function(I){const T=window.atob(I),v=[];for(let I=0;I<5;I++){const z=[];for(let v=0;v<5;v++){const r=2*(5*I+v),K=T.charCodeAt(r),n=T.charCodeAt(r+1),l=K>>1,a=l>0?{value:l.toString(),multiplier:n||null,drawn:Boolean(1&K)}:{value:null,drawn:Boolean(1&K)};z.push(a)}v.push(z)}return v}(I);return z.set(I,v),v}return I}},141737:(I,T,v)=>{v.d(T,{F:()=>r});const z=18;function r(I,T,v=0){const{left:r,top:K,width:n}=I.getBoundingClientRect();return{x:r+n/2,y:K+v+(T?z:0)}}},875269:(I,T,v)=>{var z=v(794140),r=v(886759),K=v(346160),n=v(809024),l=v(357947);window.EVO_LOADER.publishApplication("/frontend/evo/r2/","megaball.desktop",{initialize:async function(I){K.JL(I.i18nData,"megaball");const T=l.K({gameLoaderParams:I}),{abstractGameDispose:v,jsx:n,videoIsReady:a}=await r.n_(I,T),S=z.H(I.getRoot());return S.render(n),await a,{abstractGameDispose:v,root:S}},dispose:n.L,applicationType:"game"})},609463:(I,T,v)=>{var z=v(794140),r=v(886759),K=v(837557),n=v(346160),l=v(523219),a=v(809024),S=v(357947),A=v(441650),H=v(671837);window.EVO_LOADER.publishApplication("/frontend/evo/r2/","megaball.mobile",{initialize:async function(I){l.W0._init(I.setup,I.styles,I.tableConfig,K.DS),n.JL(I.i18nData,"megaball");const T=S.K({animation:A.hp.FromLeftToRight,backgroundGradientColor:H.n(I),gameLoaderParams:I}),{abstractGameDispose:v,jsx:a,videoIsReady:t}=await r.n_(I,T),b=z.H(I.getRoot());return b.render(a),await t,{abstractGameDispose:v,root:b}},dispose:a.L,applicationType:"game"})},840301:(I,T,v)=>{v.d(T,{D:()=>A});var z=v(64922),r=v(377810),K=v(170877),n=v(231369),l=v(800821),a=v(416127),S=v(133555);class A extends r.Component{constructor(){super(...arguments),this.onClick=()=>{const{sounds:I,state:T}=this.props;I.playSound(S.Fi.FpPlaySound),T.play()}}render(){const{state:{isPlayVisible:I},className:T,platform:v,settings:r,isPortraitMobile:S,gameInProgress:A}=this.props;if(S&&!I)return null;const H={buttonMovingPartProps:{ns:"green",movingPartHighlightColor:"#01D49F",movingPartBaseColor:"#009B61",movingRimTopColor:"#35A10F",movingRimBottomColor:"#6AC328"},buttonHoverMovingPartProps:{ns:"greenHover",movingPartHighlightColor:"#AFFFDE",movingPartBaseColor:"#009B61",movingRimBottomColor:"#84EF35",movingRimTopColor:"#3FAD19"},platform:v,pulseColor:"#009B61",ds:r.DeviceSupport,useFlippedArrows:!0};return z.jsx("div",{className:T,"data-role":"rng-play-button",children:z.jsx(n.KN,{isMobile:v===K.OD.Phone||v===K.OD.Tablet,isLowPerformanceDevice:!1,hasSmallAspectRatio:l.Dt(v,r.DeviceSupport),theme:l.yi(H),style:n.XQ.Oval,label:a.Y("button.play"),role:"multi-button",disabled:A||!I,onClick:this.onClick})})}}},750399:(I,T,v)=>{v.d(T,{s:()=>t});var z=v(64922),r=v(377810),K=v(170877),n=v(843717),l=v(231369),a=v(657765),S=v(800821),A=v(141737),H=v(416127);const t=({betting:I,betting:{repeatInfo:T},className:v,platform:t,settings:b,disabled:R=!1,sounds:F,autoplayApiEnabled:f,increaseRepeatBetCount:x})=>{const D={buttonMovingPartProps:{ns:"blue",movingPartHighlightColor:"#41A9FF",movingPartBaseColor:"#0E4B73",movingRimBottomColor:"#005986",movingRimTopColor:"#005986"},buttonHoverMovingPartProps:{ns:"blueHover",movingPartHighlightColor:"#88EFFF",movingPartBaseColor:"#0090D8",movingRimBottomColor:"#65B7FF",movingRimTopColor:"#2A8FC6"},platform:t,pulseColor:"#00C5FF",ds:b.DeviceSupport},q=r.useCallback((()=>{T.enabled&&(I.repeat(),F.playSound(n.Wo.ClickUIButton,!1),f&&x())}),[I,T.enabled,F,x,f]),J=r.useCallback((v=>{if(v.preventDefault(),!T.enabled&&T.disableReason===a.Kd.OutOfMoney){const{x:T,y:z}=A.F(v.currentTarget,t!==K.OD.Desktop);I.showBettingTooltip(T,z,H.Y("tooltip.balanceTooLow")),F.playSound(n.Wo.ClickingFail,!1)}}),[I,t,T.enabled,F]);return z.jsx("div",{className:v,"data-role":"rng-repeat-button",onClick:J,children:z.jsx(l.KN,{isMobile:t===K.OD.Phone||t===K.OD.Tablet,isLowPerformanceDevice:!1,showTooltipOnClickIfDisabled:!0,hasSmallAspectRatio:S.Dt(t,b.DeviceSupport),theme:S.yi(D),style:l.XQ.Oval,label:H.Y("repeat"),role:"multi-button",disabled:R||!T.enabled,onClick:q})})}},753573:(I,T,v)=>{v.d(T,{j:()=>f});var z=v(64922),r=v(236042),K=v(377810),n=v(170877),l=v(843717),a=v(338944),S=v(710928),A=v(231369),H=v(144099),t=v(652511),b=v(497091),R=v(800821),F=v(416127);class f extends K.Component{constructor(I){super(I),this.lastPressTimestamp=0,this.undoAllTimerId=0,this.onClick=r.A((()=>{const{isDisabled:I,sounds:T,betting:v}=this.props;I?T.playSound(l.Wo.ClickingFail,!1):(T.playSound(l.Wo.Undo,!1),v.undo(),this.checkPressState())}),b.sG),this.checkPressState=()=>{let{clicksCount:I}=this.state;const T=Date.now();T-this.lastPressTimestamp>a.O.timeBetweenClicks?I=1:I+=1,this.lastPressTimestamp=T;const v=I>=a.O.clicksCount;this.setState({clicksCount:I,showUndoAllTooltip:v},(()=>{v&&(this.undoAllTimerId=setTimeout((()=>{const{clicksCount:T,showUndoAllTooltip:v}=this.state;v&&T<=I&&this.resetTooltipState()}),S.p_))}))},this.resetTooltipState=()=>{this.lastPressTimestamp=0,this.setState({clicksCount:0,showUndoAllTooltip:!1})},this.state={clicksCount:0,showUndoAllTooltip:!1}}componentDidUpdate(I){const{isDisabled:T}=this.props,{showUndoAllTooltip:v}=this.state;v&&T&&!I.isDisabled&&this.resetTooltipState()}componentWillUnmount(){this.undoAllTimerId&&clearTimeout(this.undoAllTimerId)}render(){const{betting:I,className:T,platform:v,isDisabled:r=!1,settings:K}=this.props,{showUndoAllTooltip:l}=this.state,a={buttonMovingPartProps:{ns:"grey",movingPartHighlightColor:"#363636",movingPartBaseColor:"#363636",movingRimBottomColor:"#363636",movingRimTopColor:"#363636"},buttonHoverMovingPartProps:{ns:"greyHover",movingPartHighlightColor:"#7d7d7d",movingPartBaseColor:"#363636",movingRimBottomColor:"#363636",movingRimTopColor:"#7d7d7d"},platform:v,pulseColor:"#EFC558",ds:K.DeviceSupport,useSparkles:!1};return z.jsxs(t.s,{"data-role":"rng-undo-button",className:T,onLongTap:I.undoAll,onClickHold:I.undoAll,onClick:v===n.OD.Phone||v===n.OD.Tablet?this.onClick:void 0,longTapDuration:b.SJ,clickHoldTimeout:b.SJ,children:[!r&&z.jsx(S.m_,{isVisible:l,label:F.Y("tooltip.holdToUndoAll"),verticalPosition:S.Ne.Top,horizontalPosition:S.hV.Center,animateTooltip:!0,hasAnchor:!1}),z.jsx(A.KN,{isMobile:v===n.OD.Phone||v===n.OD.Tablet,isLowPerformanceDevice:!1,hasSmallAspectRatio:R.Dt(v,K.DeviceSupport),theme:R.yi(a),style:A.XQ.Oval,icon:z.jsx(H.V,{}),label:F.Y("undo"),role:"multi-button",disabled:r,onClick:this.onClick})]})}}},133555:(I,T,v)=>{v.d(T,{Fi:()=>z,hq:()=>n,xF:()=>l}),v(163456),v(13799);var z,r=v(764522),K=v(335350);(function(I){I["UndoSound"]="UndoSound",I["IncreaseBetSound"]="IncreaseBetSound",I["DecreaseBetSound"]="DecreaseBetSound",I["FirstLineHitSound"]="FirstLineHitSound",I["LinesHitSound"]="LinesHitSound",I["WinBigSound"]="WinBigSound",I["WinMediumSound"]="WinMediumSound",I["WinSmallSound"]="WinSmallSound",I["NoWinSound"]="NoWinSound",I["BallDrawnSound"]="BallDrawnSound",I["CardsSortingSound"]="CardsSortingSound",I["Bundle1CardSound"]="Bundle1CardSound",I["Bundle10CardSound"]="Bundle10CardSound",I["Bundle15CardSound"]="Bundle15CardSound",I["Bundle25CardSound"]="Bundle25CardSound",I["FinalBallShownSound"]="FinalBallShownSound",I["MultiplierLandHighValueSound"]="MultiplierLandHighValueSound",I["MultiplierLandLowValueSound"]="MultiplierLandLowValueSound",I["WheelLaunchSound"]="WheelLaunchSound",I["SecondPowerBallSound"]="SecondPowerBallSound",I["BetsOpenedBgmSound"]="BetsOpenedBgmSound",I["BallsDrawingBgmSound"]="BallsDrawingBgmSound",I["MultiplierBgmSound"]="MultiplierBgmSound",I["GameResolvedBgmSound"]="GameResolvedBgmSound",I["FpPlaySound"]="FpPlaySound"})(z||(z={})),K.Qc.BetsOpen,z.BetsOpenedBgmSound,K.Qc.BetsOpened,z.BetsOpenedBgmSound,K.Qc.BallDrawing,z.BallsDrawingBgmSound,K.Qc.PowerBallDrawing,z.MultiplierBgmSound,K.Qc.GameResolved,z.GameResolvedBgmSound;const n={[K.iJ.Single]:z.Bundle1CardSound,[K.iJ.Small]:z.Bundle10CardSound,[K.iJ.Medium]:z.Bundle15CardSound,[K.iJ.Large]:z.Bundle25CardSound};z.WinBigSound,z.WinMediumSound,z.WinSmallSound,z.NoWinSound;class l{playMusic(I){this.currentMusic!==I&&(this.stopMusic(),this.currentMusic=I,r.triggerEvent(I))}stopMusic(){void 0!==this.currentMusic&&(this.stopSound(this.currentMusic),this.currentMusic=void 0)}playSound(I,T=!0){T||this.stopSound(I),r.triggerEvent(I)}stopSound(I){r.stopAll(I)}}},554267:(I,T,v)=>{var z;v.d(T,{CX:()=>n,OZ:()=>r,Qz:()=>K,hR:()=>z}),function(I){I["Normal"]="normal",I["Fast"]="fast",I["Slow"]="slow"}(z||(z={}));const r={[z.Fast]:"fast",[z.Normal]:"normal",[z.Slow]:"relax"},K={[z.Fast]:"fastAllCaps",[z.Normal]:"normalAllCaps",[z.Slow]:"relaxAllCaps"},n=[z.Fast,z.Normal,z.Slow];z.Fast,z.Normal},231369:(I,T,v)=>{v.d(T,{KN:()=>q,XQ:()=>x,_i:()=>D});var z=v(64922),r=v(699695),K=v(263601),n=v(377810),l=v(762923),a=v(670723),S=v(462566),A=v(460791),H=v(776326),t=v(975507),b=v(851275),R=v(911495);const F=1e3,f=2e3;var x,D;H.oy,H.A5,A.F,function(I){I[I["Circle"]=0]="Circle",I[I["Oval"]=1]="Oval"}(x||(x={})),function(I){I[I["Default"]=0]="Default",I[I["Hovered"]=1]="Hovered",I[I["Disabled"]=2]="Disabled"}(D||(D={}));class q extends n.PureComponent{constructor(){super(...arguments),this.state={hovered:!1,spinning:!1,pulsing:!1},this.spaceButtonElement=n.createRef(),this.registerSpacebarEvents=()=>{const{spinOnSpacebarPress:I,isMobile:T}=this.props;I&&!T&&(this.debouncedKeyDownHandler=K.A(this.keyDownHandler,300,{leading:!0,trailing:!1}),document.addEventListener("keydown",this.debouncedKeyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},this.unregisterSpacebarEvents=()=>{const{spinOnSpacebarPress:I,isMobile:T}=this.props,v=this.debouncedKeyDownHandler;v&&I&&!T&&(document.removeEventListener("keydown",v),document.removeEventListener("keyup",this.keyUpHandler))},this.keyDownHandler=I=>{var T;if(!l.gN(I)||!a.lu())return;const{disabled:v}=this.props;v||null===(T=this.spaceButtonElement.current)||void 0===T||T.focus()},this.keyUpHandler=I=>{var T;l.gN(I)&&a.lu()&&(null===(T=this.spaceButtonElement.current)||void 0===T||T.blur(),this.triggerSpin(!0))},this.clickHandler=I=>{I.preventDefault(),I.currentTarget&&I.currentTarget.blur(),this.triggerSpin()},this.triggerSpin=I=>{if(this.spaceButtonElement.current){const{showTooltipOnClickIfDisabled:T,disabled:v,isMobile:z,showTooltip:r,onClick:K,onDisabledClick:n}=this.props;T&&v&&!z&&(null==r||r(!0)),v?null==n||n():K(I)}this.startPulseAnimationIfEnabled()},this.handlePointerDown=I=>{I.currentTarget&&I.currentTarget.blur()},this.handlePointerUp=I=>{I.preventDefault(),this.props.onPointerUp&&this.props.onPointerUp(I)},this.onPointerEnter=I=>{this.props.onPointerEnter&&this.props.onPointerEnter(I),this.props.disabled||(this.setState({hovered:!0}),this.props.playArrowsAnimationOnHover&&this.startSpinAnimationIfEnabled())},this.onPointerLeave=I=>{this.props.onPointerLeave&&this.props.onPointerLeave(I),this.setState({hovered:!1})}}componentDidMount(){this.props.skipInitialAnimation||this.startSpinAnimationIfEnabled(),this.registerSpacebarEvents()}componentDidUpdate(I){var T,v;this.props.skipArrowsAnimationOnButtonStateChange||this.props.disabled===I.disabled&&this.props.theme===I.theme||this.startSpinAnimationIfEnabled(),(null===(v=(T=this.props).forceHideTooltip)||void 0===v?void 0:v.call(T))&&this.forcedHideTooltip()}render(){const{isMobile:I,tooltipComponent:T=null,disabled:v=!1,style:K=x.Circle,theme:n,label:l,icon:a=null,IconComponent:S=null,useTimer:H=!1,useLabelCorrection:F=!0,hasSmallAspectRatio:f=!1,isLowPerformanceDevice:D,timerDuration:q,timerInitialProgress:J,role:y="button",scaleDisabled:V=!1,disablePulsing:C=!1,hideArrows:i=!1,activeArrowsRotateDisabled:c=!1,playArrowsAnimationOnHover:E=!1,calculateMultilineText:X=!1,syncDraw:P=!0}=this.props,G=this.getButtonThemeState(n,v,this.state.hovered),{base:h,moving:B,arrowsStyle:_,labelFillStyle:d,labelAlpha:w,pulseColor:$,useSparkles:p=!0}=G,Y=z.jsx("span",{className:r.A(R.A.pulse,this.state.pulsing&&R.A.pulsing),style:{backgroundColor:$}}),g=K===x.Oval;let L={};g&&(_.baseOpacity=1,L={canvasMinWidth:250,fontSize:45,textAlignX:0});const Z=l&&F&&this.getIsLabelCorrectionNeeded(l),m=l?z.jsx("div",{className:r.A(R.A.label,{[R.A.useLabelCorrection]:Z,[R.A.circle]:K===x.Circle}),children:z.jsx(t.M,{label:l,fillStyle:d,alpha:w,...L,...n.labelSettings,calculateMultilineText:X,syncDraw:P})}):null,W=p?z.jsx("div",{className:r.A(R.A.sparks,{[R.A.lowPerformanceDevice]:D,[R.A.isMobile]:I,[R.A.oval]:g})}):null,e=H?z.jsx(b.a,{animationDurationMs:q,animationInitialProgress:J,isAnimated:!0}):null,s=z.jsx("span",{className:R.A.arrowsContainer,children:z.jsx("span",{className:R.A.arrows,children:z.jsx(A.O,{..._})})}),M=!E&&this.state.hovered&&!this.state.spinning&&!v;return z.jsxs("button",{ref:this.spaceButtonElement,tabIndex:-1,"data-role":y,className:r.A(R.A.multiButton,{[R.A.flipArrows]:n.useFlippedArrows,[R.A.oval]:g,[R.A.smallRimXPathLength]:I,[R.A.smallAspectRatio]:f,[R.A.hovered]:M,[R.A.spinning]:this.state.spinning,[R.A.pressed]:v,[R.A.disabled]:v,[R.A.scaleDisabled]:V,[R.A.arrowsRotateDisabled]:c}),onPointerDown:this.handlePointerDown,onPointerUp:this.handlePointerUp,onClick:this.clickHandler,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,children:[!C&&Y,z.jsx(h,{}),!g&&z.jsx("span",{className:R.A.timer,children:e}),z.jsxs("span",{className:r.A(R.A.buttonInner,{[R.A.oval]:g,[R.A.smallRimXPathLength]:I,[R.A.smallAspectRatio]:f}),children:[B&&z.jsx(B,{}),W,g?z.jsxs("div",{className:R.A.contentContainer,children:[a&&!S?z.jsx("div",{className:R.A.icon,children:a}):s,z.jsx("div",{className:R.A.labelText,children:l})]}):z.jsxs(z.Fragment,{children:[!i&&s,i&&S&&z.jsx(S,{hovered:M}),m,!i&&!S&&a]})]}),T]})}componentWillUnmount(){window.clearInterval(this.pulseTimeoutId),window.clearInterval(this.spinTimeoutId),this.unregisterSpacebarEvents()}getButtonThemeState(I,T,v){const z=I[D.Hovered],r=I[D.Disabled];return T&&r?r:v&&z?z:I[D.Default]}startSpinAnimationIfEnabled(){this.props.disabled||this.state.spinning||(this.setState({spinning:!0}),this.spinTimeoutId=window.setTimeout((()=>{this.setState({spinning:!1}),this.spinTimeoutId=void 0}),f))}startPulseAnimationIfEnabled(){this.props.disabled||this.props.disablePulsing||this.state.pulsing||(this.setState({pulsing:!0}),this.pulseTimeoutId=window.setTimeout((()=>{this.setState({pulsing:!1}),this.pulseTimeoutId=void 0}),F))}getIsLabelCorrectionNeeded(I){for(const T of I)if(T===T.toUpperCase())return!0;return!1}forcedHideTooltip(){var I,T;null===(T=(I=this.props).hideTooltip)||void 0===T||T.call(I,!1)}}q.displayName="MultiButton",S.u(q).displayName="MultiButtonWithTooltip"},460791:(I,T,v)=>{v.d(T,{F:()=>n,O:()=>l});var z=v(64922),r=v(377810),K=v(148999);const n={gradient1Color1:"#FFF",gradient1Color2:"#FFF",gradient2Color1:"#FFF",gradient2Color2:"#FFF",baseOpacity:.45,opacity:1},l=r.memo((({ns:I=K.MZ(),gradient1Color1:T=n.gradient1Color1,gradient1Color2:v=n.gradient1Color2,gradient2Color1:r=n.gradient2Color1,gradient2Color2:l=n.gradient2Color2,baseOpacity:a=n.baseOpacity,opacity:S=n.opacity})=>z.jsxs("svg",{viewBox:"0 0 260 260",style:{width:"100%",height:"100%"},children:[z.jsxs("defs",{children:[z.jsxs("linearGradient",{x1:"103.37%",y1:"81%",x2:"42.16%",y2:"36%",id:`${I}-spinArrowsLinearGradient-1`,children:[z.jsx("stop",{stopColor:T,stopOpacity:"0",offset:"0%"}),z.jsx("stop",{stopColor:v,stopOpacity:a,offset:"99.97%"})]}),z.jsx("path",{d:"M50.42 18L18 61.1l50.87 12.33-4.7-13.67c13.78-2.93 31.7.29 53.76 9.66 22.06 9.37 34.2 30.33 36.44 62.86 7.55-31.23.08-57.82-22.42-79.78-18.54-18.09-44.5-25.07-77.87-20.95L50.42 18z",id:"spinArrowsPath-2"}),z.jsxs("filter",{x:"-1.4%",y:"-0.9%",width:"102.9%",height:"103.5%",filterUnits:"objectBoundingBox",id:"spinArrows-filter-3",children:[z.jsx("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.jsx("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.jsx("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),z.jsx("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0  0 0 0 0 0  0 0 0 0.0419 0",type:"matrix",in:"shadowBlurOuter1"})]}),z.jsxs("linearGradient",{x1:"103.38%",y1:"83.26%",x2:"42.1%",y2:"35.54%",id:`${I}-spinArrowsLinearGradient-2`,children:[z.jsx("stop",{stopColor:r,stopOpacity:"0",offset:"0%"}),z.jsx("stop",{stopColor:l,stopOpacity:a,offset:"100%"})]}),z.jsx("path",{d:"M47.73 107.62l-28.39 40.32 47.7 16.28-4.7-13.67c13.78-2.94 31.7.28 53.76 9.66 22.06 9.37 34.2 30.32 36.44 62.86 7.56-31.23.09-57.83-22.4-79.78-18.55-18.1-44.5-25.08-77.88-20.96l-4.53-14.7z",id:"spinArrows-path-5"}),z.jsxs("filter",{x:"-2.2%",y:"-1.7%",width:"102.9%",height:"103.5%",filterUnits:"objectBoundingBox",id:"spinArrows-path-5",children:[z.jsx("feOffset",{dx:"-1",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),z.jsx("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),z.jsx("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),z.jsx("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0  0 0 0 0 0  0 0 0 0.0413 0",type:"matrix",in:"shadowBlurOuter1"})]})]}),z.jsxs("g",{transform:"translate(42.36, 12.44)",opacity:S,children:[z.jsx("g",{transform:"translate(87.61, 75.14) rotate(-17) translate(-87.61, -75.14)",children:z.jsx("use",{fill:`url(#${I}-spinArrowsLinearGradient-1)`,fillRule:"evenodd",xlinkHref:"#spinArrowsPath-2"})}),z.jsx("g",{transform:"translate(87.37, 165.35) rotate(-206) translate(-87.37, -165.35)",children:z.jsx("use",{fill:`url(#${I}-spinArrowsLinearGradient-2)`,fillRule:"evenodd",xlinkHref:"#spinArrows-path-5"})})]})]})));l.displayName="MultiButtonArrows"},776326:(I,T,v)=>{v.d(T,{A5:()=>b,gO:()=>S,oy:()=>H});var z=v(64922),r=v(718284),K=v(377810),n=v(297413),l=v(379014);const a={width:"100%",height:"100%",position:"absolute",left:0,top:0},S=r.A((I=>K.memo((function(){return z.jsx("div",{style:a,dangerouslySetInnerHTML:{__html:I}})})))),A=n.C2(),H=S(A),t=l.Rt(),b=S(t)},975507:(I,T,v)=>{v.d(T,{M:()=>a});var z=v(64922),r=v(377810),K=v(775286),n=v(99369);function l(I){return I||"bold"}class a extends r.PureComponent{constructor(){super(...arguments),this.canvasElement=r.createRef(),this.ctx=null,this.wordWidths=[],this.hasFont=!1,this.updateCanvas=(I=!1)=>{const T=this.ctx;if(T){if(I){const I=this.props.label.split(" ");this.hasFont&&this.props.fontName===a.defaultProps.fontName||(T.font=`${l(this.props.fontWeight)} ${this.props.fontSize}px ${this.props.fontName}, Arial, sans-serif`,this.hasFont=!0),this.wordWidths=I.map((I=>T.measureText(I).width))}a.drawLabelForContext(T,this.props,this.wordWidths,this.previousProps)}}}static drawLabelForContext(I,T,v,z){const r={...a.defaultProps,...T},{label:K,fontSize:S,fontName:A,canvasMinWidth:H,alpha:t,fillStyle:b,textAlignX:R,calculateMultilineText:F,syncDraw:f=!0,lineHeight:x,fontWeight:D}=r,q=K.split(" "),J=`${l(D)} ${S}px/1 ${A}, Arial, sans-serif`;let y=v;y||(I.font=J,y=q.map((T=>I.measureText(T).width)));let V=I.canvas.height,C=I.canvas.width,i=!1;if(!z||z&&!a.hasChangedStyleProps(z,r)){if(C=Math.max(...y,H),V=2*S*x,a.hasChangedLabelProps(r,z,["calculateMultilineText","label"])&&F){const T=n.W(I,K,C,S,S*x);C=T.width,V=T.height}I.canvas.height===V&&I.canvas.width===C||(i=!0,I.canvas.height=V,I.canvas.width=C)}const{width:c,height:E}=I.canvas;(i||a.hasChangedLabelProps(r,z,["fontName","fontSize"]))&&(I.font=J),I.textBaseline="middle",I.fillStyle=b,I.globalAlpha=t,I.shadowBlur=4,I.shadowOffsetY=4,I.shadowColor="rgba(0, 0, 0, 0.4)";const X=S*q.length,P=(T=0)=>{if(T===q.length)return;const v=q[T];if(y){const z=y[T];I.fillText(v,null!==R?R:(C-z)/2,S*T+(S+V-X)/2),P(T+1)}},G=()=>I.clearRect(0,0,c,E);if(f)G(),P();else{const I=requestAnimationFrame((()=>(G(),P(),()=>cancelAnimationFrame(I))))}}static hasChangedStyleProps(I,T){return a.hasChangedLabelProps(T,I,["fillStyle","alpha"])&&I.label===T.label&&I.calculateMultilineText===T.calculateMultilineText&&I.fontSize===T.fontSize&&I.fontName===T.fontName&&I.canvasMinWidth===T.canvasMinWidth&&I.textAlignX===T.textAlignX}static hasChangedLabelProps(I,T,v){if(!T)return!0;for(const z of v){const v=T[z]!==I[z];if(v)return v}return!1}render(){return z.jsx("canvas",{ref:this.canvasElement,width:this.props.canvasMinWidth,height:this.props.fontSize/.375})}async componentDidMount(){this.storeContextLink(),this.updateCanvas(!0),this.loadFont()}componentDidUpdate(I){this.storeContextLink();const{label:T,fontName:v}=I;this.previousProps=I;const z=this.props.label!==T;this.updateCanvas(z),this.props.fontName!==v&&this.loadFont()}async loadFont(){try{await K.Al(this.props.fontName,l(this.props.fontWeight)),this.updateCanvas(!0)}catch(I){}}storeContextLink(){this.canvasElement.current&&(this.ctx=this.canvasElement.current.getContext("2d"))}}a.displayName="MultiButtonLabel",a.defaultProps={fontSize:110,fillStyle:"white",canvasMinWidth:300,alpha:1,textAlignX:null,fontName:"Inter",lineHeight:1}},851275:(I,T,v)=>{v.d(T,{a:()=>l});var z=v(64922),r=v(699695),K=v(451175);const n="toastProgressKeyframes",l=({isAnimated:I=!1,animationDurationMs:T=0,animationInitialProgress:v=0,rimShadowColor:l="rgba(19, 14, 2, 0.9)"})=>z.jsxs(z.Fragment,{children:[z.jsx("style",{children:S(a(v),n)}),z.jsxs("svg",{viewBox:"0 0 120 120",className:K.A.border,children:[z.jsxs("defs",{children:[z.jsxs("filter",{id:"inset-shadow",children:[z.jsx("feFlood",{floodColor:"black"}),z.jsx("feComposite",{operator:"out",in2:"SourceGraphic"}),z.jsx("feGaussianBlur",{stdDeviation:"2"}),z.jsx("feComposite",{operator:"atop",in2:"SourceGraphic"})]}),z.jsxs("linearGradient",{x1:"50%",y1:"0%",x2:"-9.99%",y2:"25.78%",id:"timerBorderBg1",children:[z.jsx("stop",{stopColor:"#7ED321",offset:"0%"}),z.jsx("stop",{stopColor:"#F8E71C",offset:"50%"}),z.jsx("stop",{stopColor:"#FF001F",offset:"100%"})]}),z.jsxs("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"timerBorderBg2",children:[z.jsx("stop",{stopColor:"#9F041B",offset:"0%"}),z.jsx("stop",{stopColor:"#F5515F",stopOpacity:"0",offset:"100%"})]})]}),z.jsxs("g",{fillRule:"nonzero",fill:"none",children:[z.jsx("path",{d:"M60 120A60 60 0 1 0 60 0a60 60 0 0 0 0 120zm0-10a50 50 0 1 1 0-100 50 50 0 0 1 0 100z",fill:"url(#timerBorderBg1)",filter:"url(#inset-shadow)"}),z.jsx("path",{d:"M60 0a60 60 0 1 0 0 120m0-10a50 50 0 1 1 0-100",fill:"url(#timerBorderBg2)",filter:"url(#inset-shadow)"}),z.jsx("circle",{className:r.A(K.A.progress),r:"45.8%",cy:"50%",cx:"50%",strokeWidth:"8.5%",fill:"none",transform:"rotate(-90 60 60)",stroke:l,style:I?{animationDuration:`${T}ms`,animationName:n,animationTimingFunction:"linear"}:{}})]})]})]});function a(I=0){return Math.min(Math.max(Number(I),0),100)}function S(I,T){const v=288,z=`\n        0% {\n            stroke-dashoffset: ${2*v-v*I/100}%;\n        }\n\n        100% {\n            stroke-dashoffset: ${v}%;\n        }\n    `;return`\n        @keyframes ${T} {${z}}\n        @-moz-keyframes ${T} {${z}}\n        @-o-keyframes ${T} {${z}}\n        @keyframes ${T} {${z}}\n    `}l.displayName="TimerBorder"},99369:(I,T,v)=>{function z(I,T,v,z,r){const K={width:0,height:r},n=" ",l=T.split(n),a=1===l.length&&1===l[0].length;let S="",A=0;for(let T=0;T<l.length;T++){const z=S+l[T]+(T+1===l.length?"":n),H=I.measureText(z).width;H>v?(K.width=v,K.height+=r,S=l[T]+n):(S=z,A=H),0!==T||a||(K.height*=1.5)}return a&&(A*=1.15),K.width=Math.max(A,K.width),K}v.d(T,{W:()=>z})},297413:(I,T,v)=>{v.d(T,{C2:()=>n,gR:()=>K,o4:()=>r,u:()=>z});const z={ns:"default",rimGradientColor1:"#525252",rimGradientColor2:"#6F6F6F",rimGradientColor3:"#D3D3D3",rimGradientColor4:"#7F7F7F",rimGradientColor5:"#9D9D9D",rimGradientColor6:"#8B8B8B",innerRimGradientColor1:"#9F9F9F",innerRimGradientColor2:"#787878",rimFlareGradientColor1:"#898989",rimFlareGradientColor2:"#737373",rimFlareGradientColor3:"#EEE",rimFlareGradientColor4:"#626262",rimFlareGradientColor5:"#5F5F5F"},r={ns:"goldenRim",rimGradientColor1:"#876A27",rimGradientColor2:"#EFC558",rimGradientColor3:"#F8E39B",rimGradientColor4:"#C49F44",rimGradientColor5:"#EFC759",rimGradientColor6:"#FFFCD5",innerRimGradientColor1:"#463508",innerRimGradientColor2:"#2F2304",rimFlareGradientColor1:"#D1B65F",rimFlareGradientColor2:"#DFB755",rimFlareGradientColor3:"#FFED8E",rimFlareGradientColor4:"#CFA043",rimFlareGradientColor5:"#9B7827"},K={...r,ns:"goldenRimHover",rimGradientColor3:"#FFF7D9",rimGradientColor6:"#FFFDE6",innerRimGradientColor1:"#8B6400",innerRimGradientColor2:"#6C4E00"};function n(I=z){const T=0?0:Math.random(),v="M152.53 247.86C87.44 260.3 24.6 217.62 12.16 152.53-.28 87.44 42.4 24.6 107.48 12.16c65.1-12.44 127.94 30.24 140.38 95.32 12.44 65.1-30.24 127.94-95.33 140.38z";return`<svg viewBox="0 0 260 260" width="100%" height="100%">\n    <defs>\n        <linearGradient x1="50%" y1="100%" x2="50%" y2="0%" id="${I.ns}-rim-gradient-${T}">\n            <stop stop-color="${I.rimGradientColor1}" offset="0%"/>\n            <stop stop-color="${I.rimGradientColor2}" offset="29.99%"/>\n            <stop stop-color="${I.rimGradientColor3}" offset="46.19%"/>\n            <stop stop-color="${I.rimGradientColor4}" offset="63.9%"/>\n            <stop stop-color="${I.rimGradientColor5}" offset="87.03%"/>\n            <stop stop-color="${I.rimGradientColor6}" offset="100%"/>\n        </linearGradient>\n        <linearGradient x1="52.97%" y1="98.6%" x2="51.94%" y2="-1.87%" id="${I.ns}-gradient-d-${T}">\n            <stop stop-color="${I.innerRimGradientColor1}" offset="0%"/>\n            <stop stop-color="${I.innerRimGradientColor2}" offset="100%"/>\n        </linearGradient>\n        <linearGradient x1="52.31%" y1="100%" x2="48.44%" y2=".44%" id="${I.ns}-rim-flares-gradient-${T}">\n            <stop stop-color="${I.rimFlareGradientColor1}" offset="0%"/>\n            <stop stop-color="${I.rimFlareGradientColor2}" offset="25.79%"/>\n            <stop stop-color="${I.rimFlareGradientColor3}" offset="48.11%"/>\n            <stop stop-color="${I.rimFlareGradientColor4}" offset="72.17%"/>\n            <stop stop-color="${I.rimFlareGradientColor5}" offset="100%"/>\n        </linearGradient>\n        <filter x="-1.3%" y="-1.3%" width="102.5%" height="102.5%" filterUnits="objectBoundingBox" id="shadow-gradient-${T}">\n            <feGaussianBlur stdDeviation="1" in="SourceAlpha" result="shadowBlurInner1"/>\n            <feOffset in="shadowBlurInner1" result="shadowOffsetInner1"/>\n            <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n            <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.6 0" in="shadowInnerInner1"/>\n        </filter>\n    </defs>\n    <g fill="none">\n        <circle r="50%" cy="50%" cx="50%" fill="url(#${I.ns}-rim-gradient-${T})" />\n        <path fill="url(#${I.ns}-gradient-d-${T})" d="${v}"/>\n        <path stroke="url(#${I.ns}-rim-flares-gradient-${T})" stroke-width="2" d="M152.72 248.84c-65.63 12.55-129-30.49-141.55-96.12-12.54-65.63 30.5-129 96.13-141.55 65.63-12.54 129 30.5 141.54 96.13 12.55 65.63-30.49 129-96.12 141.54z"/>\n        <path fill="#000" filter="url(#shadow-gradient-${T})" d="${v}"/>\n    </g>\n</svg>`}},379014:(I,T,v)=>{v.d(T,{Rt:()=>r,l2:()=>z});const z={ns:"default",movingPartHighlightColor:"#A2A2A2",movingPartBaseColor:"#525252",movingRimTopColor:"#4E4E4E",movingRimBottomColor:"#6B6B6B"};function r(I=z,T=!1){const v=0?0:Math.random();return`<svg viewBox="0 0 260 260" width="100%" height="100%">\n    <defs>\n        <radialGradient cy="32.06%" fx="50%" fy="32.06%" r="57.34%" id="${I.ns}-gradient-k-${v}">\n            <stop stop-color="${I.movingPartHighlightColor}" offset="0%"/>\n            <stop stop-color="${I.movingPartBaseColor}" offset="100%"/>\n        </radialGradient>\n        <linearGradient x1="50%" y1="100%" x2="50%" y2=".39%" id="${I.ns}-gradient-j-${v}">\n            <stop stop-color="${I.movingRimBottomColor}" offset="0%"/>\n            <stop stop-color="${I.movingRimTopColor}" offset="100%"/>\n        </linearGradient>\n        <path d="M152.53 247.86C87.44 260.3 24.6 217.62 12.16 152.53-.28 87.44 42.4 24.6 107.48 12.16c65.1-12.44 127.94 30.24 140.38 95.32 12.44 65.1-30.24 127.94-95.33 140.38z" id="shape-c-${v}"/>\n        <path d="M151.1 240.41c-60.97 11.66-119.84-28.33-131.5-89.3C7.95 90.13 47.93 31.26 108.9 19.6c60.98-11.66 119.86 28.32 131.51 89.3 11.66 60.97-28.33 119.85-89.3 131.5z" id="shape-i-${v}"/>\n        <linearGradient x1="50%" y1="0%" x2="50%" y2="56.26%" id="gradient-l-${v}">\n            <stop stop-color="#FFF" stop-opacity=".7" offset="0%"/>\n            <stop stop-color="#FFF" stop-opacity="0" offset="100%"/>\n        </linearGradient>\n        <linearGradient x1="-23.75%" y1="-19.59%" x2="135.61%" y2="83.68%" id="gradient-m-${v}">\n            <stop stop-color="#FFF" offset="0%"/>\n            <stop stop-color="#FFF" stop-opacity=".61" offset="10.1%"/>\n            <stop stop-color="#FFF" stop-opacity=".73" offset="19.41%"/>\n            <stop stop-color="#FFF" stop-opacity="0" offset="28.13%"/>\n            <stop stop-color="#FFF" stop-opacity="0" offset="74.17%"/>\n            <stop stop-color="#FFF" offset="100%"/>\n        </linearGradient>\n        <filter x="-2.1%" y="-2.1%" width="104.2%" height="104.2%" filterUnits="objectBoundingBox" id="gradient-n-${v}">\n            <feGaussianBlur stdDeviation="1" in="SourceGraphic"/>\n        </filter>\n    </defs>\n    <g fill="none" fill-rule="evenodd">\n        <mask id="gradient-g-${v}" fill="#fff"><use xlink:href="#shape-c-${v}"/></mask>\n        <path d="M230.26 129.77c0 55.5-45 100.49-100.49 100.49-55.5 0-100.49-45-100.49-100.49 0-55.5 45-100.49 100.49-100.49a100.49 100.49 0 0 1 100.49 100.49z" fill="url(#${I.ns}-gradient-b-${v})" mask="url(#gradient-g-${v})"/>\n        <g fill-rule="nonzero" mask="url(#gradient-g-${v})">\n            <path stroke="url(#${I.ns}-gradient-j-${v})" stroke-width="2.8" d="M150.85 239.04c60.21-11.51 99.7-69.66 88.19-129.87-11.51-60.21-69.66-99.7-129.87-88.2-60.21 11.52-99.7 69.66-88.2 129.88 11.52 60.21 69.66 99.7 129.88 88.19z" stroke-linejoin="square" fill="url(#${I.ns}-gradient-k-${v})" fill-rule="evenodd"/>\n        </g>\n        ${T?"":`<path d="M125.29 144.76c70.8-17.43 106.66 39.87 106.66-16.36S186.37 26.6 130.14 26.6C73.9 26.6 28.33 72.16 28.33 128.4s26.15 33.8 96.96 16.36z" fill="url(#gradient-l-${v})" opacity=".8" mask="url(#gradient-g-${v})"/>`}\n        ${T?"":`<circle stroke="url(#gradient-m-${v})" stroke-width="2" filter="url(#gradient-n-${v})" mask="url(#gradient-g-${v})" cx="130.5" cy="130.5" r="95.5"/>`}\n    </g>\n</svg>`}},235874:(I,T,v)=>{v.d(T,{Y:()=>n});var z=v(64922),r=v(532836),K=v(33597);const n=({children:I,...T})=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:K.A.icon,...T,children:z.jsx("path",{d:"m15.78 17.31-4.95-4.95 4.95-4.95L14.37 6 8 12.36l6.37 6.36 1.41-1.41Z"})}),l=r.m(n);n.displayName="LeftSVG",l.displayName="Left"},301654:I=>{I.exports=function(I){return I&&I.__esModule?I:{default:I}},I.exports.__esModule=!0,I.exports["default"]=I.exports},444792:(I,T,v)=>{v.d(T,{A:()=>n});var z=v(156568),r=v(258214),K="[object Boolean]";const n=function(I){return!0===I||!1===I||r.A(I)&&z.A(I)==K}}},a={};function S(I){var T=a[I];if(void 0!==T)return T.exports;var v=a[I]={id:I,loaded:!1,exports:{}};return l[I].call(v.exports,v,v.exports,S),v.loaded=!0,v.exports}S.m=l,I=[],S.O=(T,v,z,r)=>{if(!v){var K=1/0;for(A=0;A<I.length;A++){for(var[v,z,r]=I[A],n=!0,l=0;l<v.length;l++)(!1&r||K>=r)&&Object.keys(S.O).every((I=>S.O[I](v[l])))?v.splice(l--,1):(n=!1,r<K&&(K=r));if(n){I.splice(A--,1);var a=z();void 0!==a&&(T=a)}}return T}r=r||0;for(var A=I.length;A>0&&I[A-1][2]>r;A--)I[A]=I[A-1];I[A]=[v,z,r]},S.n=I=>{var T=I&&I.__esModule?()=>I["default"]:()=>I;return S.d(T,{a:T}),T},v=Object.getPrototypeOf?I=>Object.getPrototypeOf(I):I=>I.__proto__,S.t=function(I,z){if(1&z&&(I=this(I)),8&z)return I;if("object"==typeof I&&I){if(4&z&&I.__esModule)return I;if(16&z&&"function"==typeof I.then)return I}var r=Object.create(null);S.r(r);var K={};T=T||[null,v({}),v([]),v(v)];for(var n=2&z&&I;"object"==typeof n&&!~T.indexOf(n);n=v(n))Object.getOwnPropertyNames(n).forEach((T=>K[T]=()=>I[T]));return K["default"]=()=>I,S.d(r,K),r},S.d=(I,T)=>{for(var v in T)S.o(T,v)&&!S.o(I,v)&&Object.defineProperty(I,v,{enumerable:!0,get:T[v]})},S.f={},S.e=I=>Promise.all(Object.keys(S.f).reduce(((T,v)=>(S.f[v](I,T),T)),[])),S.u=I=>"js/"+({3474:"evo-promotions.SpinGiftsFrame",3863:"testTools",17474:"evo-game.mobileChat",22421:"testTools.PixiDevToolsPlugin",23713:"help.bingo",24622:"evo-promotions.SpinGiftsWheelAnimation",30164:"game-client-history-round-info",36302:"evo-promotions.SpinGiftsCampaignRules",39340:"history.roundView",44806:"gameTestToolsPlugins",47290:"evo-promotions.SpinGiftsTermsConditions",50967:"help.common",54504:"evo-promotions.cashGifts",59760:"evo-game.chat",66703:"gameTestToolsSafeAreaPlugin",66885:"native-utilities",73375:"evo-promotions.spinGifts",73460:"evo-promotions.giftsWheel",77821:"evo-game.emojiMenu",80616:"video-lib-local",85687:"testTools.why-did-you-render"}[I]||I)+"."+{3474:"1a89cdcf",3863:"c68406f1",10306:"a97cff13",14291:"2f77c6ae",17474:"36703dd7",22421:"0fea869a",23713:"b6de77d0",24622:"c19aa584",27672:"21b8bdb0",30164:"81c32c92",32184:"a21bca64",36302:"63c3f631",37927:"b03e4e3d",39340:"87393490",42447:"0fe47cec",44806:"0741de9d",45444:"ef538133",47290:"25d266d1",50967:"2b6414a9",54504:"de8d33cf",59760:"c5c3f75e",66703:"d22f8b42",66885:"cf7c7b01",73375:"74edf8f6",73460:"b312a388",77821:"cadc9005",80616:"10095eb7",85687:"8dab9d33"}[I]+".js",S.miniCssF=I=>3863===I?"styles/testtools.c68406f1.css":36302===I?"styles/evopromoti.spingiftsc.63c3f631.css":47290===I?"styles/evopromoti.spingiftst.25d266d1.css":50967===I?"styles/help.common.2b6414a9.css":30164===I?"styles/gameclient.81c32c92.css":39340===I?"styles/history.roundview.87393490.css":17474===I?"styles/evogame.mobilechat.36703dd7.css":59760===I?"styles/evogame.chat.c5c3f75e.css":54504===I?"styles/evopromoti.cashgifts.de8d33cf.css":73375===I?"styles/evopromoti.spingifts.74edf8f6.css":77821===I?"styles/evogame.emojimenu.cadc9005.css":44806===I?"styles/gametestto.0741de9d.css":23713===I?"styles/help.bingo.b6de77d0.css":73460===I?"styles/evopromoti.giftswheel.b312a388.css":24622===I?"styles/evopromoti.spingiftsw.c19aa584.css":3474===I?"styles/evopromoti.spingiftsf.1a89cdcf.css":22421===I?"styles/testtools.pixidevtoo.0fea869a.css":66703===I?"styles/gametestto.d22f8b42.css":void 0,S.hmd=I=>((I=Object.create(I)).children||(I.children=[]),Object.defineProperty(I,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+I.id)}}),I),S.o=(I,T)=>Object.prototype.hasOwnProperty.call(I,T),z={},r="/frontend/evo/r2/:",S.l=(I,T,v,K)=>{if(z[I])z[I].push(T);else{var n,l;if(void 0!==v)for(var a=document.getElementsByTagName("script"),A=0;A<a.length;A++){var H=a[A];if(H.getAttribute("src")==I||H.getAttribute("data-webpack")==r+v){n=H;break}}n||(l=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=NaN,S.nc&&n.setAttribute("nonce",S.nc),n.setAttribute("data-webpack",r+v),n.src=I),z[I]=[T];var t=(T,v)=>{n.onerror=n.onload=null,clearTimeout(b);var r=z[I];if(delete z[I],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((I=>I(v))),T)return T(v)},b=setTimeout(t.bind(null,void 0,{type:"timeout",target:n}),window.EVO_CDN?15e3:6e4);n.onerror=t.bind(null,n.onerror),n.onload=t.bind(null,n.onload),l&&document.head.appendChild(n)}},S.r=I=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},S.nmd=I=>(I.paths=[],I.children||(I.children=[]),I),S.j=20448,S.p=(globalThis.EVO_CDN||"")+"/frontend/evo/r2/",K=I=>new Promise(((T,v)=>{var z=S.miniCssF(I),r=S.p+z;if(((I,T)=>{for(var v=document.getElementsByTagName("link"),z=0;z<v.length;z++){var r=(n=v[z]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===I||r===T))return n}var K=document.getElementsByTagName("style");for(z=0;z<K.length;z++){var n;if((r=(n=K[z]).getAttribute("data-href"))===I||r===T)return n}})(z,r))return T();((I,T,v,z)=>{var r=document.createElement("link");r.setAttribute("data-sandbox","ignore"),r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=K=>{if(r.onerror=r.onload=null,"load"===K.type)v();else{var n=K&&("load"===K.type?"missing":K.type),l=K&&K.target&&K.target.href||T,a=new Error("Loading CSS chunk "+I+" failed.\n("+l+")");a.code="CSS_CHUNK_LOAD_FAILED",a.type=n,a.request=l,r.parentNode.removeChild(r),z(a)}},r.href=T,document.head.appendChild(r)})(I,r,T,v)})),n={20448:0},S.f.miniCss=(I,T)=>{n[I]?T.push(n[I]):0!==n[I]&&{3474:1,3863:1,17474:1,22421:1,23713:1,24622:1,30164:1,36302:1,39340:1,44806:1,47290:1,50967:1,54504:1,59760:1,66703:1,73375:1,73460:1,77821:1}[I]&&T.push(n[I]=K(I).then((()=>{n[I]=0}),(T=>{throw delete n[I],T})))},(()=>{var I={20448:0};S.f.j=(T,v)=>{var z=S.o(I,T)?I[T]:void 0;if(0!==z)if(z)v.push(z[2]);else if(1){var r=new Promise(((v,r)=>z=I[T]=[v,r]));v.push(z[2]=r);var K=S.p+S.u(T),n=new Error;S.l(K,(v=>{if(S.o(I,T)&&(0!==(z=I[T])&&(I[T]=void 0),z)){var r=v&&("load"===v.type?"missing":v.type),K=v&&v.target&&v.target.src;n.message="Loading chunk "+T+" failed.\n("+r+": "+K+")",n.name="ChunkLoadError",n.type=r,n.request=K,z[1](n)}}),"chunk-"+T,T)}},S.O.j=T=>0===I[T];var T=(T,v)=>{var z,r,[K,n,l]=v,a=0;if(K.some((T=>0!==I[T]))){for(z in n)S.o(n,z)&&(S.m[z]=n[z]);if(l)var A=l(S)}for(T&&T(v);a<K.length;a++)r=K[a],S.o(I,r)&&I[r]&&I[r][0](),I[r]=0;return S.O(A)},v=self["webpackChunk_frontend_evo_r2_"]=self["webpackChunk_frontend_evo_r2_"]||[];v.forEach(T.bind(null,0)),v.push=T.bind(null,v.push.bind(v))})(),S.O(void 0,[35375,79949],(()=>S(515924))),S.O(void 0,[35375,79949],(()=>S(875269)));var A=S.O(void 0,[35375,79949],(()=>S(609463)));A=S.O(A)})();
//# sourceMappingURL=https://sourcemaps.egcdn.com/frontend/evo/r2/js/megaball.6b98953c.js.map