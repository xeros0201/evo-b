"use strict";(()=>{var p,g,m,Z,H,t,h,k={690864:(p,g,m)=>{m.d(g,{A:()=>Z});const Z=`\n${m.p+"images/nearwin.8e72c38b.webp"}\n\tsize: 1916, 316\n\tfilter: MipMapLinearLinear, MipMapLinearLinear\n\tscale: 0.5\nballoon_loop/BALLOON_NearWin_loop000\n\tbounds: 453, 89, 88, 225\n\toffsets: 13, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop001\n\tbounds: 414, 2, 84, 223\n\toffsets: 17, 35, 118, 290\n\trotate: 90\nballoon_loop/BALLOON_NearWin_loop002\n\tbounds: 101, 84, 83, 230\n\toffsets: 18, 30, 118, 290\nballoon_loop/BALLOON_NearWin_loop003\n\tbounds: 1091, 5, 83, 224\n\toffsets: 18, 35, 118, 290\n\trotate: 90\nballoon_loop/BALLOON_NearWin_loop004\n\tbounds: 367, 88, 84, 226\n\toffsets: 18, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop005\n\tbounds: 639, 2, 85, 224\n\toffsets: 18, 35, 118, 290\n\trotate: 90\nballoon_loop/BALLOON_NearWin_loop006\n\tbounds: 1299, 90, 90, 224\n\toffsets: 18, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop007\n\tbounds: 1109, 90, 94, 224\n\toffsets: 18, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop008\n\tbounds: 1205, 90, 92, 224\n\toffsets: 18, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop009\n\tbounds: 712, 90, 98, 224\n\toffsets: 16, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop010\n\tbounds: 912, 90, 97, 224\n\toffsets: 15, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop011\n\tbounds: 1011, 90, 96, 224\n\toffsets: 11, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop012\n\tbounds: 271, 88, 94, 226\n\toffsets: 8, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop013\n\tbounds: 812, 90, 98, 224\n\toffsets: 3, 35, 118, 290\nballoon_loop/BALLOON_NearWin_loop014\n\tbounds: 2, 84, 97, 230\n\toffsets: 4, 30, 118, 290\nballoon_loop/BALLOON_NearWin_loop015\n\tbounds: 1643, 91, 93, 223\n\toffsets: 8, 35, 118, 290\nballoon_start/BALLOON_NearWin_start000\n\tbounds: 2, 12, 70, 1\n\toffsets: 25, 248, 118, 290\n\trotate: 90\nballoon_start/BALLOON_NearWin_start001\n\tbounds: 5, 41, 83, 41\n\toffsets: 18, 214, 118, 290\nballoon_start/BALLOON_NearWin_start002\n\tbounds: 1767, 6, 83, 144\n\toffsets: 18, 112, 118, 290\n\trotate: 90\nballoon_start/BALLOON_NearWin_start003\n\tbounds: 1822, 125, 83, 189\n\toffsets: 18, 68, 118, 290\nballoon_start/BALLOON_NearWin_start004\n\tbounds: 1317, 5, 83, 223\n\toffsets: 18, 34, 118, 290\n\trotate: 90\nballoon_start/BALLOON_NearWin_start005\n\tbounds: 1738, 91, 82, 223\n\toffsets: 18, 34, 118, 290\nballoon_start/BALLOON_NearWin_start006\n\tbounds: 1391, 90, 82, 224\n\toffsets: 18, 34, 118, 290\nballoon_start/BALLOON_NearWin_start007\n\tbounds: 1542, 5, 83, 223\n\toffsets: 18, 34, 118, 290\n\trotate: 90\nballoon_start/BALLOON_NearWin_start008\n\tbounds: 543, 89, 83, 225\n\toffsets: 18, 34, 118, 290\nballoon_start/BALLOON_NearWin_start009\n\tbounds: 186, 2, 82, 226\n\toffsets: 18, 34, 118, 290\n\trotate: 90\nballoon_start/BALLOON_NearWin_start010\n\tbounds: 628, 89, 82, 225\n\toffsets: 18, 34, 118, 290\nballoon_start/BALLOON_NearWin_start011\n\tbounds: 865, 3, 85, 224\n\toffsets: 15, 34, 118, 290\n\trotate: 90\nballoon_start/BALLOON_NearWin_start012\n\tbounds: 1475, 90, 82, 224\n\toffsets: 18, 34, 118, 290\nballoon_start/BALLOON_NearWin_start013\n\tbounds: 1559, 90, 82, 224\n\toffsets: 18, 34, 118, 290\nballoon_start/BALLOON_NearWin_start014\n\tbounds: 186, 86, 83, 228\n\toffsets: 18, 33, 118, 290\n\n`},693206:(p,g,m)=>{m.d(g,{A:()=>Z});const Z={unsafeSizeRef:"unsafeSizeRef--af0f1"}},267913:(p,g,m)=>{var Z=m(228651),H=m(926601),t=H(Z("String.prototype.indexOf"));p.exports=function(p,g){var m=Z(p,!!g);return"function"==typeof m&&t(p,".prototype.")>-1?H(m):m}},926601:(p,g,m)=>{var Z=m(605049),H=m(228651),t=m(486255),h=m(96785),k=H("%Function.prototype.apply%"),n=H("%Function.prototype.call%"),S=H("%Reflect.apply%",!0)||Z.call(n,k),q=m(956649),D=H("%Math.max%");p.exports=function(p){if("function"!=typeof p)throw new h("a function is required");var g=S(Z,n,arguments);return t(g,1+D(0,p.length-(arguments.length-1)),!0)};var I=function(){return S(Z,k,arguments)};q?q(p.exports,"apply",{value:I}):p.exports.apply=I},589295:(p,g,m)=>{var Z=m(956649),H=m(657770),t=m(96785),h=m(668109);p.exports=function(p,g,m){if(!p||"object"!=typeof p&&"function"!=typeof p)throw new t("`obj` must be an object or a function`");if("string"!=typeof g&&"symbol"!=typeof g)throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new t("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,q=arguments.length>6&&arguments[6],D=!!h&&h(p,g);if(Z)Z(p,g,{configurable:null===S&&D?D.configurable:!S,enumerable:null===k&&D?D.enumerable:!k,value:m,writable:null===n&&D?D.writable:!n});else{if(!q&&(k||n||S))throw new H("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");p[g]=m}}},65402:(p,g,m)=>{var Z=m(301654);g.__esModule=!0,g["default"]=void 0;var H=function(){};Z(m(450679)).default&&(H=document.addEventListener?function(p,g,m,Z){return p.removeEventListener(g,m,Z||!1)}:document.attachEvent?function(p,g,m){return p.detachEvent("on"+g,m)}:void 0);var t=H;g["default"]=t,p.exports=g["default"]},609622:(p,g,m)=>{var Z=m(301654);g.__esModule=!0,g["default"]=void 0;var H=function(){};Z(m(450679)).default&&(H=document.addEventListener?function(p,g,m,Z){return p.addEventListener(g,m,Z||!1)}:document.attachEvent?function(p,g,m){return p.attachEvent("on"+g,(function(g){(g=g||window.event).target=g.target||g.srcElement,g.currentTarget=p,m.call(p,g)}))}:void 0);var t=H;g["default"]=t,p.exports=g["default"]},427728:(p,g,m)=>{var Z=m(301654);g.__esModule=!0,g["default"]=g.animationEnd=g.animationDelay=g.animationTiming=g.animationDuration=g.animationName=g.transitionEnd=g.transitionDuration=g.transitionDelay=g.transitionTiming=g.transitionProperty=g.transform=void 0;var H,t,h,k,n,S,q,D,I,b,e,N=Z(m(450679)),d="transform";if(g.transform=d,g.animationEnd=h,g.transitionEnd=t,g.transitionDelay=q,g.transitionTiming=S,g.transitionDuration=n,g.transitionProperty=k,g.animationDelay=e,g.animationTiming=b,g.animationDuration=I,g.animationName=D,N.default){var Q=function(){for(var p,g,m=document.createElement("div").style,Z={O:function(p){return"o"+p.toLowerCase()},Moz:function(p){return p.toLowerCase()},Webkit:function(p){return"webkit"+p},ms:function(p){return"MS"+p}},H=Object.keys(Z),t="",h=0;h<H.length;h++){var k=H[h];if(k+"TransitionProperty"in m){t="-"+k.toLowerCase(),p=Z[k]("TransitionEnd"),g=Z[k]("AnimationEnd");break}}return!p&&"transitionProperty"in m&&(p="transitionend"),!g&&"animationName"in m&&(g="animationend"),m=null,{animationEnd:g,transitionEnd:p,prefix:t}}();H=Q.prefix,g.transitionEnd=t=Q.transitionEnd,g.animationEnd=h=Q.animationEnd,g.transform=d=H+"-"+d,g.transitionProperty=k=H+"-transition-property",g.transitionDuration=n=H+"-transition-duration",g.transitionDelay=q=H+"-transition-delay",g.transitionTiming=S=H+"-transition-timing-function",g.animationName=D=H+"-animation-name",g.animationDuration=I=H+"-animation-duration",g.animationTiming=b=H+"-animation-delay",g.animationDelay=e=H+"-animation-timing-function"}var $={transform:d,end:t,property:k,timing:S,delay:q,duration:n};g["default"]=$},450679:(p,g)=>{g.__esModule=!0,g["default"]=void 0;var m=!("undefined"==typeof window||!window.document||!window.document.createElement);g["default"]=m,p.exports=g["default"]},827700:p=>{function g(p,g,Z){Z=Z||2;var t,h,k,n,D,I,e,N=g&&g.length,d=N?g[0]*Z:p.length,Q=m(p,0,d,Z,!0),$=[];if(!Q||Q.next===Q.prev)return $;if(N&&(Q=function(p,g,Z,H){var t,h,k,n=[];for(t=0,h=g.length;t<h;t++)(k=m(p,g[t]*H,t<h-1?g[t+1]*H:p.length,H,!1))===k.next&&(k.steiner=!0),n.push(b(k));for(n.sort(S),t=0;t<n.length;t++)Z=q(n[t],Z);return Z}(p,g,Q,Z)),p.length>80*Z){t=k=p[0],h=n=p[1];for(var w=Z;w<d;w+=Z)(D=p[w])<t&&(t=D),(I=p[w+1])<h&&(h=I),D>k&&(k=D),I>n&&(n=I);e=0!==(e=Math.max(k-t,n-h))?32767/e:0}return H(Q,$,Z,t,h,e,0),$}function m(p,g,m,Z,H){var t,h;if(H===v(p,g,m,Z)>0)for(t=g;t<m;t+=Z)h=J(t,p[t],p[t+1],h);else for(t=m-Z;t>=g;t-=Z)h=J(t,p[t],p[t+1],h);return h&&Q(h,h.next)&&(y(h),h=h.next),h}function Z(p,g){if(!p)return p;g||(g=p);var m,Z=p;do{if(m=!1,Z.steiner||!Q(Z,Z.next)&&0!==d(Z.prev,Z,Z.next))Z=Z.next;else{if(y(Z),(Z=g=Z.prev)===Z.next)break;m=!0}}while(m||Z!==g);return g}function H(p,g,m,S,q,D,b){if(p){!b&&D&&function(p,g,m,Z){var H=p;do{0===H.z&&(H.z=I(H.x,H.y,g,m,Z)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next}while(H!==p);H.prevZ.nextZ=null,H.prevZ=null,function(p){var g,m,Z,H,t,h,k,n,S=1;do{for(m=p,p=null,t=null,h=0;m;){for(h++,Z=m,k=0,g=0;g<S&&(k++,Z=Z.nextZ);g++);for(n=S;k>0||n>0&&Z;)0!==k&&(0===n||!Z||m.z<=Z.z)?(H=m,m=m.nextZ,k--):(H=Z,Z=Z.nextZ,n--),t?t.nextZ=H:p=H,H.prevZ=t,t=H;m=Z}t.nextZ=null,S*=2}while(h>1)}(H)}(p,S,q,D);for(var e,N,d=p;p.prev!==p.next;)if(e=p.prev,N=p.next,D?h(p,S,q,D):t(p))g.push(e.i/m|0),g.push(p.i/m|0),g.push(N.i/m|0),y(p),p=N.next,d=N.next;else if((p=N)===d){b?1===b?H(p=k(Z(p),g,m),g,m,S,q,D,2):2===b&&n(p,g,m,S,q,D):H(Z(p),g,m,S,q,D,1);break}}}function t(p){var g=p.prev,m=p,Z=p.next;if(d(g,m,Z)>=0)return!1;for(var H=g.x,t=m.x,h=Z.x,k=g.y,n=m.y,S=Z.y,q=H<t?H<h?H:h:t<h?t:h,D=k<n?k<S?k:S:n<S?n:S,I=H>t?H>h?H:h:t>h?t:h,b=k>n?k>S?k:S:n>S?n:S,N=Z.next;N!==g;){if(N.x>=q&&N.x<=I&&N.y>=D&&N.y<=b&&e(H,k,t,n,h,S,N.x,N.y)&&d(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function h(p,g,m,Z){var H=p.prev,t=p,h=p.next;if(d(H,t,h)>=0)return!1;for(var k=H.x,n=t.x,S=h.x,q=H.y,D=t.y,b=h.y,N=k<n?k<S?k:S:n<S?n:S,Q=q<D?q<b?q:b:D<b?D:b,$=k>n?k>S?k:S:n>S?n:S,w=q>D?q>b?q:b:D>b?D:b,Y=I(N,Q,g,m,Z),i=I($,w,g,m,Z),P=p.prevZ,J=p.nextZ;P&&P.z>=Y&&J&&J.z<=i;){if(P.x>=N&&P.x<=$&&P.y>=Q&&P.y<=w&&P!==H&&P!==h&&e(k,q,n,D,S,b,P.x,P.y)&&d(P.prev,P,P.next)>=0)return!1;if(P=P.prevZ,J.x>=N&&J.x<=$&&J.y>=Q&&J.y<=w&&J!==H&&J!==h&&e(k,q,n,D,S,b,J.x,J.y)&&d(J.prev,J,J.next)>=0)return!1;J=J.nextZ}for(;P&&P.z>=Y;){if(P.x>=N&&P.x<=$&&P.y>=Q&&P.y<=w&&P!==H&&P!==h&&e(k,q,n,D,S,b,P.x,P.y)&&d(P.prev,P,P.next)>=0)return!1;P=P.prevZ}for(;J&&J.z<=i;){if(J.x>=N&&J.x<=$&&J.y>=Q&&J.y<=w&&J!==H&&J!==h&&e(k,q,n,D,S,b,J.x,J.y)&&d(J.prev,J,J.next)>=0)return!1;J=J.nextZ}return!0}function k(p,g,m){var H=p;do{var t=H.prev,h=H.next.next;!Q(t,h)&&$(t,H,H.next,h)&&i(t,h)&&i(h,t)&&(g.push(t.i/m|0),g.push(H.i/m|0),g.push(h.i/m|0),y(H),y(H.next),H=p=h),H=H.next}while(H!==p);return Z(H)}function n(p,g,m,t,h,k){var n=p;do{for(var S=n.next.next;S!==n.prev;){if(n.i!==S.i&&N(n,S)){var q=P(n,S);return n=Z(n,n.next),q=Z(q,q.next),H(n,g,m,t,h,k,0),void H(q,g,m,t,h,k,0)}S=S.next}n=n.next}while(n!==p)}function S(p,g){return p.x-g.x}function q(p,g){var m=function(p,g){var m,Z=g,H=p.x,t=p.y,h=-1/0;do{if(t<=Z.y&&t>=Z.next.y&&Z.next.y!==Z.y){var k=Z.x+(t-Z.y)*(Z.next.x-Z.x)/(Z.next.y-Z.y);if(k<=H&&k>h&&(h=k,m=Z.x<Z.next.x?Z:Z.next,k===H))return m}Z=Z.next}while(Z!==g);if(!m)return null;var n,S=m,q=m.x,I=m.y,b=1/0;Z=m;do{H>=Z.x&&Z.x>=q&&H!==Z.x&&e(t<I?H:h,t,q,I,t<I?h:H,t,Z.x,Z.y)&&(n=Math.abs(t-Z.y)/(H-Z.x),i(Z,p)&&(n<b||n===b&&(Z.x>m.x||Z.x===m.x&&D(m,Z)))&&(m=Z,b=n)),Z=Z.next}while(Z!==S);return m}(p,g);if(!m)return g;var H=P(m,p);return Z(H,H.next),Z(m,m.next)}function D(p,g){return d(p.prev,p,g.prev)<0&&d(g.next,p,p.next)<0}function I(p,g,m,Z,H){return(p=1431655765&((p=858993459&((p=252645135&((p=16711935&((p=(p-m)*H|0)|p<<8))|p<<4))|p<<2))|p<<1))|(g=1431655765&((g=858993459&((g=252645135&((g=16711935&((g=(g-Z)*H|0)|g<<8))|g<<4))|g<<2))|g<<1))<<1}function b(p){var g=p,m=p;do{(g.x<m.x||g.x===m.x&&g.y<m.y)&&(m=g),g=g.next}while(g!==p);return m}function e(p,g,m,Z,H,t,h,k){return(H-h)*(g-k)>=(p-h)*(t-k)&&(p-h)*(Z-k)>=(m-h)*(g-k)&&(m-h)*(t-k)>=(H-h)*(Z-k)}function N(p,g){return p.next.i!==g.i&&p.prev.i!==g.i&&!function(p,g){var m=p;do{if(m.i!==p.i&&m.next.i!==p.i&&m.i!==g.i&&m.next.i!==g.i&&$(m,m.next,p,g))return!0;m=m.next}while(m!==p);return!1}(p,g)&&(i(p,g)&&i(g,p)&&function(p,g){var m=p,Z=!1,H=(p.x+g.x)/2,t=(p.y+g.y)/2;do{m.y>t!=m.next.y>t&&m.next.y!==m.y&&H<(m.next.x-m.x)*(t-m.y)/(m.next.y-m.y)+m.x&&(Z=!Z),m=m.next}while(m!==p);return Z}(p,g)&&(d(p.prev,p,g.prev)||d(p,g.prev,g))||Q(p,g)&&d(p.prev,p,p.next)>0&&d(g.prev,g,g.next)>0)}function d(p,g,m){return(g.y-p.y)*(m.x-g.x)-(g.x-p.x)*(m.y-g.y)}function Q(p,g){return p.x===g.x&&p.y===g.y}function $(p,g,m,Z){var H=Y(d(p,g,m)),t=Y(d(p,g,Z)),h=Y(d(m,Z,p)),k=Y(d(m,Z,g));return H!==t&&h!==k||!(0!==H||!w(p,m,g))||!(0!==t||!w(p,Z,g))||!(0!==h||!w(m,p,Z))||!(0!==k||!w(m,g,Z))}function w(p,g,m){return g.x<=Math.max(p.x,m.x)&&g.x>=Math.min(p.x,m.x)&&g.y<=Math.max(p.y,m.y)&&g.y>=Math.min(p.y,m.y)}function Y(p){return p>0?1:p<0?-1:0}function i(p,g){return d(p.prev,p,p.next)<0?d(p,g,p.next)>=0&&d(p,p.prev,g)>=0:d(p,g,p.prev)<0||d(p,p.next,g)<0}function P(p,g){var m=new W(p.i,p.x,p.y),Z=new W(g.i,g.x,g.y),H=p.next,t=g.prev;return p.next=g,g.prev=p,m.next=H,H.prev=m,Z.next=m,m.prev=Z,t.next=Z,Z.prev=t,Z}function J(p,g,m,Z){var H=new W(p,g,m);return Z?(H.next=Z.next,H.prev=Z,Z.next.prev=H,Z.next=H):(H.prev=H,H.next=H),H}function y(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function W(p,g,m){this.i=p,this.x=g,this.y=m,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function v(p,g,m,Z){for(var H=0,t=g,h=m-Z;t<m;t+=Z)H+=(p[h]-p[t])*(p[t+1]+p[h+1]),h=t;return H}p.exports=g,p.exports["default"]=g,g.deviation=function(p,g,m,Z){var H=g&&g.length,t=H?g[0]*m:p.length,h=Math.abs(v(p,0,t,m));if(H)for(var k=0,n=g.length;k<n;k++){var S=g[k]*m,q=k<n-1?g[k+1]*m:p.length;h-=Math.abs(v(p,S,q,m))}var D=0;for(k=0;k<Z.length;k+=3){var I=Z[k]*m,b=Z[k+1]*m,e=Z[k+2]*m;D+=Math.abs((p[I]-p[e])*(p[b+1]-p[I+1])-(p[I]-p[b])*(p[e+1]-p[I+1]))}return 0===h&&0===D?0:Math.abs((D-h)/h)},g.flatten=function(p){for(var g=p[0][0].length,m={vertices:[],holes:[],dimensions:g},Z=0,H=0;H<p.length;H++){for(var t=0;t<p[H].length;t++)for(var h=0;h<g;h++)m.vertices.push(p[H][t][h]);H>0&&(Z+=p[H-1].length,m.holes.push(Z))}return m}},956649:(p,g,m)=>{var Z=m(228651)("%Object.defineProperty%",!0)||!1;if(Z)try{Z({},"a",{value:1})}catch(p){Z=!1}p.exports=Z},729055:p=>{p.exports=EvalError},515293:p=>{p.exports=Error},218888:p=>{p.exports=RangeError},447900:p=>{p.exports=ReferenceError},657770:p=>{p.exports=SyntaxError},96785:p=>{p.exports=TypeError},254055:p=>{p.exports=URIError},686418:p=>{var g=Object.prototype.hasOwnProperty,m="~";function Z(){}function H(p,g,m){this.fn=p,this.context=g,this.once=m||!1}function t(p,g,Z,t,h){if("function"!=typeof Z)throw new TypeError("The listener must be a function");var k=new H(Z,t||p,h),n=m?m+g:g;return p._events[n]?p._events[n].fn?p._events[n]=[p._events[n],k]:p._events[n].push(k):(p._events[n]=k,p._eventsCount++),p}function h(p,g){0==--p._eventsCount?p._events=new Z:delete p._events[g]}function k(){this._events=new Z,this._eventsCount=0}Object.create&&(Z.prototype=Object.create(null),(new Z).__proto__||(m=!1)),k.prototype.eventNames=function(){var p,Z,H=[];if(0===this._eventsCount)return H;for(Z in p=this._events)g.call(p,Z)&&H.push(m?Z.slice(1):Z);return Object.getOwnPropertySymbols?H.concat(Object.getOwnPropertySymbols(p)):H},k.prototype.listeners=function(p){var g=m?m+p:p,Z=this._events[g];if(!Z)return[];if(Z.fn)return[Z.fn];for(var H=0,t=Z.length,h=new Array(t);H<t;H++)h[H]=Z[H].fn;return h},k.prototype.listenerCount=function(p){var g=m?m+p:p,Z=this._events[g];return Z?Z.fn?1:Z.length:0},k.prototype.emit=function(p,g,Z,H,t,h){var k=m?m+p:p;if(!this._events[k])return!1;var n,S,q=this._events[k],D=arguments.length;if(q.fn){switch(q.once&&this.removeListener(p,q.fn,void 0,!0),D){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,g),!0;case 3:return q.fn.call(q.context,g,Z),!0;case 4:return q.fn.call(q.context,g,Z,H),!0;case 5:return q.fn.call(q.context,g,Z,H,t),!0;case 6:return q.fn.call(q.context,g,Z,H,t,h),!0}for(S=1,n=new Array(D-1);S<D;S++)n[S-1]=arguments[S];q.fn.apply(q.context,n)}else{var I,b=q.length;for(S=0;S<b;S++)switch(q[S].once&&this.removeListener(p,q[S].fn,void 0,!0),D){case 1:q[S].fn.call(q[S].context);break;case 2:q[S].fn.call(q[S].context,g);break;case 3:q[S].fn.call(q[S].context,g,Z);break;case 4:q[S].fn.call(q[S].context,g,Z,H);break;default:if(!n)for(I=1,n=new Array(D-1);I<D;I++)n[I-1]=arguments[I];q[S].fn.apply(q[S].context,n)}}return!0},k.prototype.on=function(p,g,m){return t(this,p,g,m,!1)},k.prototype.once=function(p,g,m){return t(this,p,g,m,!0)},k.prototype.removeListener=function(p,g,Z,H){var t=m?m+p:p;if(!this._events[t])return this;if(!g)return h(this,t),this;var k=this._events[t];if(k.fn)k.fn!==g||H&&!k.once||Z&&k.context!==Z||h(this,t);else{for(var n=0,S=[],q=k.length;n<q;n++)(k[n].fn!==g||H&&!k[n].once||Z&&k[n].context!==Z)&&S.push(k[n]);S.length?this._events[t]=1===S.length?S[0]:S:h(this,t)}return this},k.prototype.removeAllListeners=function(p){var g;return p?(g=m?m+p:p,this._events[g]&&h(this,g)):(this._events=new Z,this._eventsCount=0),this},k.prototype.off=k.prototype.removeListener,k.prototype.addListener=k.prototype.on,k.prefixed=m,k.EventEmitter=k,1&&(p.exports=k)},812719:p=>{var g="Function.prototype.bind called on incompatible ",m=Object.prototype.toString,Z=Math.max,H="[object Function]",t=function(p,g){for(var m=[],Z=0;Z<p.length;Z+=1)m[Z]=p[Z];for(var H=0;H<g.length;H+=1)m[H+p.length]=g[H];return m};p.exports=function(p){var h=this;if("function"!=typeof h||m.apply(h)!==H)throw new TypeError(g+h);for(var k,n=function(p){for(var g=[],m=1||0,Z=0;m<p.length;m+=1,Z+=1)g[Z]=p[m];return g}(arguments),S=Z(0,h.length-n.length),q=[],D=0;D<S;D++)q[D]="$"+D;if(k=Function("binder","return function ("+function(p,g){for(var m="",Z=0;Z<p.length;Z+=1)m+=p[Z],Z+1<p.length&&(m+=g);return m}(q,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof k){var g=h.apply(this,t(n,arguments));return Object(g)===g?g:this}return h.apply(p,t(n,arguments))})),h.prototype){var I=function(){};I.prototype=h.prototype,k.prototype=new I,I.prototype=null}return k}},605049:(p,g,m)=>{var Z=m(812719);p.exports=Function.prototype.bind||Z},228651:(p,g,m)=>{var Z,H=m(515293),t=m(729055),h=m(218888),k=m(447900),n=m(657770),S=m(96785),q=m(254055),D=Function,I=function(p){try{return D('"use strict"; return ('+p+").constructor;")()}catch(p){}},b=Object.getOwnPropertyDescriptor;if(b)try{b({},"")}catch(p){b=null}var e=function(){throw new S},N=b?function(){try{return e}catch(p){try{return b(arguments,"callee").get}catch(p){return e}}}():e,d=m(173257)(),Q=m(885726)(),$=Object.getPrototypeOf||(Q?function(p){return p.__proto__}:null),w={},Y="undefined"!=typeof Uint8Array&&$?$(Uint8Array):Z,i={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Z:ArrayBuffer,"%ArrayIteratorPrototype%":d&&$?$([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?Z:Atomics,"%BigInt%":"undefined"==typeof BigInt?Z:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Z:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":H,"%eval%":eval,"%EvalError%":t,"%Float32Array%":"undefined"==typeof Float32Array?Z:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Z:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Z:FinalizationRegistry,"%Function%":D,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?Z:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Z:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&$?$($([][Symbol.iterator]())):Z,"%JSON%":"object"==typeof JSON?JSON:Z,"%Map%":"undefined"==typeof Map?Z:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&$?$((new Map)[Symbol.iterator]()):Z,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Z:Promise,"%Proxy%":"undefined"==typeof Proxy?Z:Proxy,"%RangeError%":h,"%ReferenceError%":k,"%Reflect%":"undefined"==typeof Reflect?Z:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Z:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&$?$((new Set)[Symbol.iterator]()):Z,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&$?$(""[Symbol.iterator]()):Z,"%Symbol%":d?Symbol:Z,"%SyntaxError%":n,"%ThrowTypeError%":N,"%TypedArray%":Y,"%TypeError%":S,"%Uint8Array%":"undefined"==typeof Uint8Array?Z:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Z:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Z:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Z:Uint32Array,"%URIError%":q,"%WeakMap%":"undefined"==typeof WeakMap?Z:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Z:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Z:WeakSet};if($)try{null.error}catch(p){var P=$($(p));i["%Error.prototype%"]=P}var J=function p(g){var m;if("%AsyncFunction%"===g)m=I("async function () {}");else if("%GeneratorFunction%"===g)m=I("function* () {}");else if("%AsyncGeneratorFunction%"===g)m=I("async function* () {}");else if("%AsyncGenerator%"===g){var Z=p("%AsyncGeneratorFunction%");Z&&(m=Z.prototype)}else if("%AsyncIteratorPrototype%"===g){var H=p("%AsyncGenerator%");H&&$&&(m=$(H.prototype))}return i[g]=m,m},y={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=m(605049),v=m(255215),V=W.call(Function.call,Array.prototype.concat),z=W.call(Function.apply,Array.prototype.splice),B=W.call(Function.call,String.prototype.replace),u=W.call(Function.call,String.prototype.slice),a=W.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,K=function(p,g){var m,Z=p;if(v(y,Z)&&(Z="%"+(m=y[Z])[0]+"%"),v(i,Z)){var H=i[Z];if(H===w&&(H=J(Z)),void 0===H&&!g)throw new S("intrinsic "+p+" exists, but is not available. Please file an issue!");return{alias:m,name:Z,value:H}}throw new n("intrinsic "+p+" does not exist!")};p.exports=function(p,g){if("string"!=typeof p||0===p.length)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof g)throw new S('"allowMissing" argument must be a boolean');if(null===a(/^%?[^%]*%?$/,p))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var m=function(p){var g=u(p,0,1),m=u(p,-1);if("%"===g&&"%"!==m)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===m&&"%"!==g)throw new n("invalid intrinsic syntax, expected opening `%`");var Z=[];return B(p,F,(function(p,g,m,H){Z[Z.length]=m?B(H,X,"$1"):g||p})),Z}(p),Z=m.length>0?m[0]:"",H=K("%"+Z+"%",g),t=H.name,h=H.value,k=!1,q=H.alias;q&&(Z=q[0],z(m,V([0,1],q)));for(var D=1,I=!0;D<m.length;D+=1){var e=m[D],N=u(e,0,1),d=u(e,-1);if(('"'===N||"'"===N||"`"===N||'"'===d||"'"===d||"`"===d)&&N!==d)throw new n("property names with quotes must have matching quotes");if("constructor"!==e&&I||(k=!0),v(i,t="%"+(Z+="."+e)+"%"))h=i[t];else if(null!=h){if(!(e in h)){if(!g)throw new S("base intrinsic for "+p+" exists, but the property is not available.");return}if(b&&D+1>=m.length){var Q=b(h,e);h=(I=!!Q)&&"get"in Q&&!("originalValue"in Q.get)?Q.get:h[e]}else I=v(h,e),h=h[e];I&&!k&&(i[t]=h)}}return h}},668109:(p,g,m)=>{var Z=m(228651)("%Object.getOwnPropertyDescriptor%",!0);if(Z)try{Z([],"length")}catch(p){Z=null}p.exports=Z},118890:(p,g,m)=>{var Z=m(956649),H=function(){return!!Z};H.hasArrayLengthDefineBug=function(){if(!Z)return null;try{return 1!==Z([],"length",{value:1}).length}catch(p){return!0}},p.exports=H},885726:p=>{var g={__proto__:null,foo:{}},m=Object;p.exports=function(){return{__proto__:g}.foo===g.foo&&!(g instanceof m)}},173257:(p,g,m)=>{var Z="undefined"!=typeof Symbol&&Symbol,H=m(112843);p.exports=function(){return"function"==typeof Z&&"function"==typeof Symbol&&"symbol"==typeof Z("foo")&&"symbol"==typeof Symbol("bar")&&H()}},112843:p=>{p.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var p={},g=Symbol("test"),m=Object(g);if("string"==typeof g)return!1;if("[object Symbol]"!==Object.prototype.toString.call(g))return!1;if("[object Symbol]"!==Object.prototype.toString.call(m))return!1;var Z=42;for(g in p[g]=Z,p)return!1;if("function"==typeof Object.keys&&0!==Object.keys(p).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(p).length)return!1;var H=Object.getOwnPropertySymbols(p);if(1!==H.length||H[0]!==g)return!1;if(!Object.prototype.propertyIsEnumerable.call(p,g))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var t=Object.getOwnPropertyDescriptor(p,g);if(t.value!==Z||!0!==t.enumerable)return!1}return!0}},255215:(p,g,m)=>{var Z=Function.prototype.call,H=Object.prototype.hasOwnProperty,t=m(605049);p.exports=t.call(Z,H)},56761:(p,g,m)=>{m.d(g,{tB:()=>w});var Z=m(697971),H=function(){};function t(p,g){void 0===g&&(g="Illegal state"),p||function(p){throw new Error("[mobx-utils] "+p)}(g)}var h=function(p){return p&&p!==Object.prototype&&Object.getOwnPropertyNames(p).concat(h(Object.getPrototypeOf(p))||[])},k=function(p){return function(p){var g=h(p);return g.filter((function(p,m){return g.indexOf(p)===m}))}(p).filter((function(p){return"constructor"!==p&&!~p.indexOf("__")}))},n="pending",S="fulfilled",q="rejected";function D(p){switch(this.state){case n:return p.pending&&p.pending(this.value);case q:return p.rejected&&p.rejected(this.value);case S:return p.fulfilled?p.fulfilled(this.value):this.value}}function I(p,g){if(t(arguments.length<=2,"fromPromise expects up to two arguments"),t("function"==typeof p||"object"==typeof p&&p&&"function"==typeof p.then,"Please pass a promise or function to fromPromise"),!0===p.isPromiseBasedObservable)return p;"function"==typeof p&&(p=new Promise(p));var m=p;p.then(Z.XI("observableFromPromise-resolve",(function(p){m.value=p,m.state=S})),Z.XI("observableFromPromise-reject",(function(p){m.value=p,m.state=q}))),m.isPromiseBasedObservable=!0,m.case=D;var H=g&&g.state===S?g.value:void 0;return Z.kt(m,{value:H,state:n},{},{deep:!1}),m}function b(p,g,m){void 0===g&&(g=H),void 0===m&&(m=void 0);var h=!1,k=!1,n=m,S=function(){h&&(h=!1,g())},q=Z.MN("ResourceBasedObservable",(function(){t(!h&&!k),h=!0,p((function(p){Z.vx(!0,(function(){n=p,q.reportChanged()}))}))}),S);return{current:function(){return t(!k,"subscribingObservable has already been disposed"),q.reportObserved()||h||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),n},dispose:function(){k=!0,S()},isAlive:function(){return h}}}(function(p){p.reject=Z.XI("fromPromise.reject",(function(g){var m=p(Promise.reject(g));return m.state=q,m.value=g,m})),p.resolve=Z.XI("fromPromise.resolve",(function(g){void 0===g&&(g=void 0);var m=p(Promise.resolve(g));return m.state=S,m.value=g,m}))})(I||(I={}));var e=!1||function(p,g,m,Z){var H,t=arguments.length,h=t<3?g:null===Z?Z=Object.getOwnPropertyDescriptor(g,m):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(p,g,m,Z);else for(var k=p.length-1;k>=0;k--)(H=p[k])&&(h=(t<3?H(h):t>3?H(g,m,h):H(g,m))||h);return t>3&&h&&Object.defineProperty(g,m,h),h};(function(){function p(p,g){var m=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Z.Gn(this),Z.h5((function(){m.current=g,m.subscription=p.subscribe(m)}))}Object.defineProperty(p.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(p.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(p){this.current=p}}),Object.defineProperty(p.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(p.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(p){this.current=p,this.dispose()}}),e([Z.sH.ref],p.prototype,"current",void 0),e([Z.XI.bound],p.prototype,"next",null),e([Z.XI.bound],p.prototype,"complete",null),e([Z.XI.bound],p.prototype,"error",null)})();var N=!1||function(){return N=Object.assign||function(p){for(var g,m=1,Z=arguments.length;m<Z;m++)for(var H in g=arguments[m])Object.prototype.hasOwnProperty.call(g,H)&&(p[H]=g[H]);return p},N.apply(this,arguments)},d=!1||function(p,g,m,Z){var H,t=arguments.length,h=t<3?g:null===Z?Z=Object.getOwnPropertyDescriptor(g,m):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(p,g,m,Z);else for(var k=p.length-1;k>=0;k--)(H=p[k])&&(h=(t<3?H(h):t>3?H(g,m,h):H(g,m))||h);return t>3&&h&&Object.defineProperty(g,m,h),h},Q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function p(p){var g=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:p}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:Z.sH.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:Z.sH.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(p){return g.localValues.has(p)}}),Z.Gn(this),t(Z.OB(p),"createViewModel expects an observable object");var m=k(this);k(p).forEach((function(H){var h;if(!m.includes(H)&&H!==Z.BQ&&"__mobxDidRunLazyInitializers"!==H){if(t(-1===Q.indexOf(H),"The propertyname "+H+" is reserved and cannot be used with viewModels"),Z.H8(p,H)){var k=Z.Mr(p,H),n=k.derivation.bind(g),S=null===(h=k.setter_)||void 0===h?void 0:h.bind(g);g.localComputedValues.set(H,Z.EW(n,{set:S}))}var q=Object.getOwnPropertyDescriptor(p,H),D=q?{enumerable:q.enumerable}:{};Object.defineProperty(g,H,N(N({},D),{configurable:!0,get:function(){return Z.H8(p,H)?g.localComputedValues.get(H).get():g.isPropertyDirty(H)?g.localValues.get(H):g.model[H]},set:Z.XI((function(m){Z.H8(p,H)?g.localComputedValues.get(H).set(m):m!==g.model[H]?g.localValues.set(H,m):g.localValues.delete(H)}))}))}}))}Object.defineProperty(p.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var p=this;Z.HP(this.localValues).forEach((function(g){var m=p.localValues.get(g),H=p.model[g];Z.Fq(H)?H.replace(m):Z.uz(H)?(H.clear(),H.merge(m)):Z.YQ(m)||(p.model[g]=m)})),this.localValues.clear()}}),Object.defineProperty(p.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(p.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(p){this.localValues.delete(p)}}),d([Z.EW],p.prototype,"isDirty",null),d([Z.EW],p.prototype,"changedValues",null),d([Z.XI.bound],p.prototype,"submit",null),d([Z.XI.bound],p.prototype,"reset",null),d([Z.XI.bound],p.prototype,"resetProperty",null)})();var $={};function w(p){return void 0===p&&(p=1e3),Z.Tx()?($[p]||($[p]="number"==typeof p?function(p){var g;return b((function(m){m(Date.now()),g=setInterval((function(){return m(Date.now())}),p)}),(function(){clearInterval(g)}),Date.now())}(p):g=b((function(p){p(Date.now()),function m(){window.requestAnimationFrame((function(){p(Date.now()),g.isAlive()&&m()}))}()}),(function(){}),Date.now())),$[p].current()):Date.now();var g}var Y,i=!1||(Y=function(p,g){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(p[m]=g[m])},Y(p,g)},function(p,g){function m(){this.constructor=p}Y(p,g),p.prototype=null===g?Object.create(g):(m.prototype=g.prototype,new m)}),P=(function(p){function g(g,m,H){var t=void 0===H?{}:H,h=t.name,k=void 0===h?"ogm"+(1e3*Math.random()|0):h,n=t.keyToName,S=void 0===n?function(p){return""+p}:n,q=p.call(this)||this;Object.defineProperty(q,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(q,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(q,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(q,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(q,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),q._keyToName=S,q._groupBy=m,q._ogmInfoKey=Symbol("ogmInfo"+k),q._base=g;for(var D=0;D<g.length;D++)q._addItem(g[D]);return q._disposeBaseObserver=Z.lB(q._base,(function(p){if("splice"===p.type)Z.Rn((function(){for(var g=0,m=p.removed;g<m.length;g++){var Z=m[g];q._removeItem(Z)}for(var H=0,t=p.added;H<t.length;H++){var h=t[H];q._addItem(h)}}));else{if("update"!==p.type)throw new Error("illegal state");Z.Rn((function(){q._removeItem(p.oldValue),q._addItem(p.newValue)}))}})),q}i(g,p),Object.defineProperty(g.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(g.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(p){throw new Error("not supported")}}),Object.defineProperty(g.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(p,g){throw new Error("not supported")}}),Object.defineProperty(g.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var p=0;p<this._base.length;p++){var g=this._base[p];g[this._ogmInfoKey].reaction(),delete g[this._ogmInfoKey]}}}),Object.defineProperty(g.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(g){var m=p.prototype.get.call(this,g);return void 0===m&&(m=Z.sH([],{name:"GroupArray["+this._keyToName(g)+"]",deep:!1}),p.prototype.set.call(this,g,m)),m}}),Object.defineProperty(g.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(g,m){var Z=p.prototype.get.call(this,g);1===Z.length?p.prototype.delete.call(this,g):(m===Z.length-1||(Z[m]=Z[Z.length-1],Z[m][this._ogmInfoKey].groupArrIndex=m),Z.length--)}}),Object.defineProperty(g.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(p){var g=this,m=this._groupBy(p),H=this._getGroupArr(m),t={groupByValue:m,groupArrIndex:H.length,reaction:Z.mJ((function(){return g._groupBy(p)}),(function(m,Z){var H=p[g._ogmInfoKey];g._removeFromGroupArr(H.groupByValue,H.groupArrIndex);var t=g._getGroupArr(m),h=t.length;t.push(p),H.groupByValue=m,H.groupArrIndex=h}))};Object.defineProperty(p,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:t}),H.push(p)}}),Object.defineProperty(g.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(p){var g=p[this._ogmInfoKey];this._removeFromGroupArr(g.groupByValue,g.groupArrIndex),g.reaction(),delete p[this._ogmInfoKey]}})}(Z.Es),function(){function p(p,g){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:p}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:g}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var m=this.closest=this.root=p,Z=0;Z<this.args.length-1&&(m=m.get(g[Z]));Z++)this.closest=m;this.closestIdx=Z}return Object.defineProperty(p.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var p=this.args.length;return this.closestIdx>=p-1&&this.closest.has(this.args[p-1])}}),Object.defineProperty(p.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(p.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(p){this.assertNotDisposed();for(var g=this.args.length,m=this.closest,Z=this.closestIdx;Z<g-1;Z++){var H=new Map;m.set(this.args[Z],H),m=H}this.closestIdx=g-1,this.closest=m,m.set(this.args[g-1],p)}}),Object.defineProperty(p.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var p=this.args.length;this.closest.delete(this.args[p-1]);for(var g=this.root,m=[g],Z=0;Z<p-1;Z++)g=g.get(this.args[Z]),m.push(g);for(Z=m.length-1;Z>0;Z--)0===m[Z].size&&m[Z-1].delete(this.args[Z-1]);this.isDisposed=!0}}),Object.defineProperty(p.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),p}());Object.defineProperty(function(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(p){if(-1===this.argsLength)this.argsLength=p.length;else if(this.argsLength!==p.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+p.length);return this.last&&(this.last.isDisposed=!0),this.last=new P(this.store,p)}})},115937:(p,g,m)=>{var Z="function"==typeof Map&&Map.prototype,H=Object.getOwnPropertyDescriptor&&Z?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=Z&&H&&"function"==typeof H.get?H.get:null,h=Z&&Map.prototype.forEach,k="function"==typeof Set&&Set.prototype,n=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,S=k&&n&&"function"==typeof n.get?n.get:null,q=k&&Set.prototype.forEach,D="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,I="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,b="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,e=Boolean.prototype.valueOf,N=Object.prototype.toString,d=Function.prototype.toString,Q=String.prototype.match,$=String.prototype.slice,w=String.prototype.replace,Y=String.prototype.toUpperCase,i=String.prototype.toLowerCase,P=RegExp.prototype.test,J=Array.prototype.concat,y=Array.prototype.join,W=Array.prototype.slice,v=Math.floor,V="function"==typeof BigInt?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,u="function"==typeof Symbol&&"object"==typeof Symbol.iterator,a="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===u||"symbol")?Symbol.toStringTag:null,F=Object.prototype.propertyIsEnumerable,X=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(p){return p.__proto__}:null);function K(p,g){if(p===1/0||p===-1/0||p!=p||p&&p>-1e3&&p<1e3||P.call(/e/,g))return g;var m=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof p){var Z=p<0?-v(-p):v(p);if(Z!==p){var H=String(Z),t=$.call(g,H.length+1);return w.call(H,m,"$&_")+"."+w.call(w.call(t,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(g,m,"$&_")}var j=m(242634),r=j.custom,U=O(r)?r:null;function C(p,g,m){var Z="double"===(m.quoteStyle||g)?'"':"'";return Z+p+Z}function x(p){return w.call(String(p),/"/g,"&quot;")}function R(p){return!("[object Array]"!==E(p)||a&&"object"==typeof p&&a in p)}function c(p){return!("[object RegExp]"!==E(p)||a&&"object"==typeof p&&a in p)}function O(p){if(u)return p&&"object"==typeof p&&p instanceof Symbol;if("symbol"==typeof p)return!0;if(!p||"object"!=typeof p||!B)return!1;try{return B.call(p),!0}catch(p){}return!1}p.exports=function p(g,m,Z,H){var k=m||{};if(_(k,"quoteStyle")&&"single"!==k.quoteStyle&&"double"!==k.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_(k,"maxStringLength")&&("number"==typeof k.maxStringLength?k.maxStringLength<0&&k.maxStringLength!==1/0:null!==k.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var n=!_(k,"customInspect")||k.customInspect;if("boolean"!=typeof n&&"symbol"!==n)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_(k,"indent")&&null!==k.indent&&"\t"!==k.indent&&!(parseInt(k.indent,10)===k.indent&&k.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_(k,"numericSeparator")&&"boolean"!=typeof k.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var N=k.numericSeparator;if(void 0===g)return"undefined";if(null===g)return"null";if("boolean"==typeof g)return g?"true":"false";if("string"==typeof g)return M(g,k);if("number"==typeof g){if(0===g)return 1/0/g>0?"0":"-0";var Y=String(g);return N?K(g,Y):Y}if("bigint"==typeof g){var P=String(g)+"n";return N?K(g,P):P}var v=void 0===k.depth?5:k.depth;if(void 0===Z&&(Z=0),Z>=v&&v>0&&"object"==typeof g)return R(g)?"[Array]":"[Object]";var z,r=function(p,g){var m;if("\t"===p.indent)m="\t";else{if(!("number"==typeof p.indent&&p.indent>0))return null;m=y.call(Array(p.indent+1)," ")}return{base:m,prev:y.call(Array(g+1),m)}}(k,Z);if(void 0===H)H=[];else if(G(H,g)>=0)return"[Circular]";function f(g,m,t){if(m&&(H=W.call(H)).push(m),t){var h={depth:k.depth};return _(k,"quoteStyle")&&(h.quoteStyle=k.quoteStyle),p(g,h,Z+1,H)}return p(g,k,Z+1,H)}if("function"==typeof g&&!c(g)){var s=function(p){if(p.name)return p.name;var g=Q.call(d.call(p),/^function\s*([\w$]+)/);return g?g[1]:null}(g),pp=o(g,f);return"[Function"+(s?": "+s:" (anonymous)")+"]"+(pp.length>0?" { "+y.call(pp,", ")+" }":"")}if(O(g)){var gp=u?w.call(String(g),/^(Symbol\(.*\))_[^)]*$/,"$1"):B.call(g);return"object"!=typeof g||u?gp:T(gp)}if((z=g)&&"object"==typeof z&&("undefined"!=typeof HTMLElement&&z instanceof HTMLElement||"string"==typeof z.nodeName&&"function"==typeof z.getAttribute)){for(var mp="<"+i.call(String(g.nodeName)),Zp=g.attributes||[],Hp=0;Hp<Zp.length;Hp++)mp+=" "+Zp[Hp].name+"="+C(x(Zp[Hp].value),"double",k);return mp+=">",g.childNodes&&g.childNodes.length&&(mp+="..."),mp+"</"+i.call(String(g.nodeName))+">"}if(R(g)){if(0===g.length)return"[]";var tp=o(g,f);return r&&!function(p){for(var g=0;g<p.length;g++)if(G(p[g],"\n")>=0)return!1;return!0}(tp)?"["+L(tp,r)+"]":"[ "+y.call(tp,", ")+" ]"}if(function(p){return!("[object Error]"!==E(p)||a&&"object"==typeof p&&a in p)}(g)){var hp=o(g,f);return"cause"in Error.prototype||!("cause"in g)||F.call(g,"cause")?0===hp.length?"["+String(g)+"]":"{ ["+String(g)+"] "+y.call(hp,", ")+" }":"{ ["+String(g)+"] "+y.call(J.call("[cause]: "+f(g.cause),hp),", ")+" }"}if("object"==typeof g&&n){if(U&&"function"==typeof g[U]&&j)return j(g,{depth:v-Z});if("symbol"!==n&&"function"==typeof g.inspect)return g.inspect()}if(function(p){if(!t||!p||"object"!=typeof p)return!1;try{t.call(p);try{S.call(p)}catch(p){return!0}return p instanceof Map}catch(p){}return!1}(g)){var kp=[];return h&&h.call(g,(function(p,m){kp.push(f(m,g,!0)+" => "+f(p,g))})),A("Map",t.call(g),kp,r)}if(function(p){if(!S||!p||"object"!=typeof p)return!1;try{S.call(p);try{t.call(p)}catch(p){return!0}return p instanceof Set}catch(p){}return!1}(g)){var np=[];return q&&q.call(g,(function(p){np.push(f(p,g))})),A("Set",S.call(g),np,r)}if(function(p){if(!D||!p||"object"!=typeof p)return!1;try{D.call(p,D);try{I.call(p,I)}catch(p){return!0}return p instanceof WeakMap}catch(p){}return!1}(g))return l("WeakMap");if(function(p){if(!I||!p||"object"!=typeof p)return!1;try{I.call(p,I);try{D.call(p,D)}catch(p){return!0}return p instanceof WeakSet}catch(p){}return!1}(g))return l("WeakSet");if(function(p){if(!b||!p||"object"!=typeof p)return!1;try{return b.call(p),!0}catch(p){}return!1}(g))return l("WeakRef");if(function(p){return!("[object Number]"!==E(p)||a&&"object"==typeof p&&a in p)}(g))return T(f(Number(g)));if(function(p){if(!p||"object"!=typeof p||!V)return!1;try{return V.call(p),!0}catch(p){}return!1}(g))return T(f(V.call(g)));if(function(p){return!("[object Boolean]"!==E(p)||a&&"object"==typeof p&&a in p)}(g))return T(e.call(g));if(function(p){return!("[object String]"!==E(p)||a&&"object"==typeof p&&a in p)}(g))return T(f(String(g)));if("undefined"!=typeof window&&g===window)return"{ [object Window] }";if(g===window)return"{ [object globalThis] }";if(!function(p){return!("[object Date]"!==E(p)||a&&"object"==typeof p&&a in p)}(g)&&!c(g)){var Sp=o(g,f),qp=X?X(g)===Object.prototype:g instanceof Object||g.constructor===Object,Dp=g instanceof Object?"":"null prototype",Ip=!qp&&a&&Object(g)===g&&a in g?$.call(E(g),8,-1):Dp?"Object":"",bp=(qp||"function"!=typeof g.constructor?"":g.constructor.name?g.constructor.name+" ":"")+(Ip||Dp?"["+y.call(J.call([],Ip||[],Dp||[]),": ")+"] ":"");return 0===Sp.length?bp+"{}":r?bp+"{"+L(Sp,r)+"}":bp+"{ "+y.call(Sp,", ")+" }"}return String(g)};var f=Object.prototype.hasOwnProperty||function(p){return p in this};function _(p,g){return f.call(p,g)}function E(p){return N.call(p)}function G(p,g){if(p.indexOf)return p.indexOf(g);for(var m=0,Z=p.length;m<Z;m++)if(p[m]===g)return m;return-1}function M(p,g){if(p.length>g.maxStringLength){var m=p.length-g.maxStringLength,Z="... "+m+" more character"+(m>1?"s":"");return M($.call(p,0,g.maxStringLength),g)+Z}return C(w.call(w.call(p,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,s),"single",g)}function s(p){var g=p.charCodeAt(0),m={8:"b",9:"t",10:"n",12:"f",13:"r"}[g];return m?"\\"+m:"\\x"+(g<16?"0":"")+Y.call(g.toString(16))}function T(p){return"Object("+p+")"}function l(p){return p+" { ? }"}function A(p,g,m,Z){return p+" ("+g+") {"+(Z?L(m,Z):y.call(m,", "))+"}"}function L(p,g){if(0===p.length)return"";var m="\n"+g.prev+g.base;return m+y.call(p,","+m)+"\n"+g.prev}function o(p,g){var m=R(p),Z=[];if(m){Z.length=p.length;for(var H=0;H<p.length;H++)Z[H]=_(p,H)?g(p[H],p):""}var t,h="function"==typeof z?z(p):[];if(u){t={};for(var k=0;k<h.length;k++)t["$"+h[k]]=h[k]}for(var n in p)_(p,n)&&(m&&String(Number(n))===n&&n<p.length||u&&t["$"+n]instanceof Symbol||(P.call(/[^\w$]/,n)?Z.push(g(n,p)+": "+g(p[n],p)):Z.push(n+": "+g(p[n],p))));if("function"==typeof z)for(var S=0;S<h.length;S++)F.call(p,h[S])&&Z.push("["+g(h[S])+"]: "+g(p[h[S]],p));return Z}},504825:(p,g,m)=>{var Z=m(578278);Object.defineProperty(g,"__esModule",{value:!0}),g["default"]=void 0;var H=Z(m(377810)),t=(Z(m(746365)),function(p){p.index;var g=p.children;H.default.Children.count(g)});g["default"]=t},454767:(p,g,m)=>{var Z=m(578278);Object.defineProperty(g,"__esModule",{value:!0}),g["default"]=function(p){var g,m=p.children,Z=p.startIndex,h=p.startX,k=p.pageX,n=p.viewLength,S=p.resistance,q=H.default.Children.count(m)-1,D=Z+(h-k)/n;return S?D<0?D=Math.exp(D*t.default.RESISTANCE_COEF)-1:D>q&&(D=q+1-Math.exp((q-D)*t.default.RESISTANCE_COEF)):D<0?g=((D=0)-Z)*n+k:D>q&&(g=((D=q)-Z)*n+k),{index:D,startX:g}};var H=Z(m(377810)),t=Z(m(262164))},262164:(p,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g["default"]=void 0,g["default"]={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},813659:(p,g,m)=>{var Z=m(578278);Object.defineProperty(g,"__esModule",{value:!0}),g["default"]=void 0;var H=Z(m(377810));g["default"]=function(p,g){var m=!1,Z=function(p){return p?p.key:"empty"};if(p.children.length&&g.children.length){var t=H.default.Children.map(p.children,Z)[p.index];null!=t&&t===H.default.Children.map(g.children,Z)[g.index]&&(m=!0)}return m}},25706:(p,g,m)=>{var Z=m(578278);Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"checkIndexBounds",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(g,"computeIndex",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(g,"constant",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(g,"getDisplaySameSlide",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(g,"mod",{enumerable:!0,get:function(){return n.default}});var H=Z(m(504825)),t=Z(m(454767)),h=Z(m(262164)),k=Z(m(813659)),n=Z(m(981794))},981794:(p,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g["default"]=void 0;g["default"]=function(p,g){var m=p%g;return m<0?m+g:m}},578278:p=>{p.exports=function(p){return p&&p.__esModule?p:{default:p}}},717284:(p,g,m)=>{var Z=m(737202);Object.defineProperty(g,"__esModule",{value:!0}),g.getDomTreeShapes=y,g.findNativeHandler=v,g["default"]=void 0;var H=Z(m(609562)),t=Z(m(288215)),h=Z(m(678967)),k=Z(m(704643)),n=Z(m(22132)),S=Z(m(103088)),q=Z(m(7511)),D=Z(m(377810)),I=Z(m(575826)),b=(Z(m(746365)),Z(m(427728))),e=Z(m(609622)),N=Z(m(65402)),d=m(25706);function Q(p,g,m,Z){return(0,e.default)(p,g,m,Z),{remove:function(){(0,N.default)(p,g,m,Z)}}}var $={direction:"ltr",display:"flex",willChange:"transform"},w={width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"},Y={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(p){return"translate(".concat(-p,"%, 0)")},"x-reverse":function(p){return"translate(".concat(p,"%, 0)")},y:function(p){return"translate(0, ".concat(-p,"%)")},"y-reverse":function(p){return"translate(0, ".concat(p,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function i(p,g){var m=g.duration,Z=g.easeFunction,H=g.delay;return"".concat(p," ").concat(m," ").concat(Z," ").concat(H)}function P(p,g){var m=Y.rotationMatrix[g];return{pageX:m.x[0]*p.pageX+m.x[1]*p.pageY,pageY:m.y[0]*p.pageX+m.y[1]*p.pageY}}function J(p){return p.touches=[{pageX:p.pageX,pageY:p.pageY}],p}function y(p,g){for(var m=[];p&&p!==g&&!p.hasAttribute("data-swipeable");){var Z=window.getComputedStyle(p);"absolute"===Z.getPropertyValue("position")||"hidden"===Z.getPropertyValue("overflow-x")?m=[]:(p.clientWidth>0&&p.scrollWidth>p.clientWidth||p.clientHeight>0&&p.scrollHeight>p.clientHeight)&&m.push({element:p,scrollWidth:p.scrollWidth,scrollHeight:p.scrollHeight,clientWidth:p.clientWidth,clientHeight:p.clientHeight,scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}),p=p.parentNode}return m}var W=null;function v(p){var g=p.domTreeShapes,m=p.pageX,Z=p.startX,H=p.axis;return g.some((function(p){var g=m>=Z;"x"!==H&&"y"!==H||(g=!g);var t=p[Y.scrollPosition[H]],h=t>0,k=t+p[Y.clientLength[H]]<p[Y.scrollLength[H]];return!!(g&&k||!g&&h)&&(W=p.element,!0)}))}var V=function(p){function g(p){var m;return(0,h.default)(this,g),(m=(0,n.default)(this,(0,S.default)(g).call(this,p))).rootNode=null,m.containerNode=null,m.ignoreNextScrollEvents=!1,m.viewLength=0,m.startX=0,m.lastX=0,m.vx=0,m.startY=0,m.isSwiping=void 0,m.started=!1,m.startIndex=0,m.transitionListener=null,m.touchMoveListener=null,m.activeSlide=null,m.indexCurrent=null,m.firstRenderTimeout=null,m.setRootNode=function(p){m.rootNode=p},m.setContainerNode=function(p){m.containerNode=p},m.setActiveSlide=function(p){m.activeSlide=p,m.updateHeight()},m.handleSwipeStart=function(p){var g=m.props.axis,Z=P(p.touches[0],g);m.viewLength=m.rootNode.getBoundingClientRect()[Y.length[g]],m.startX=Z.pageX,m.lastX=Z.pageX,m.vx=0,m.startY=Z.pageY,m.isSwiping=void 0,m.started=!0;var H=window.getComputedStyle(m.containerNode),t=H.getPropertyValue("-webkit-transform")||H.getPropertyValue("transform");if(t&&"none"!==t){var h=t.split("(")[1].split(")")[0].split(","),k=window.getComputedStyle(m.rootNode),n=P({pageX:parseInt(h[4],10),pageY:parseInt(h[5],10)},g);m.startIndex=-n.pageX/(m.viewLength-parseInt(k.paddingLeft,10)-parseInt(k.paddingRight,10))||0}},m.handleSwipeMove=function(p){if(m.started){if(null===W||W===m.rootNode){var g=m.props,Z=g.axis,H=g.children,t=g.ignoreNativeScroll,h=g.onSwitching,k=g.resistance,n=P(p.touches[0],Z);if(void 0===m.isSwiping){var S=Math.abs(n.pageX-m.startX),q=Math.abs(n.pageY-m.startY),I=S>q&&S>d.constant.UNCERTAINTY_THRESHOLD;if(!k&&("y"===Z||"y-reverse"===Z)&&(0===m.indexCurrent&&m.startX<n.pageX||m.indexCurrent===D.default.Children.count(m.props.children)-1&&m.startX>n.pageX))return void(m.isSwiping=!1);if(S>q&&p.preventDefault(),!0===I||q>d.constant.UNCERTAINTY_THRESHOLD)return m.isSwiping=I,void(m.startX=n.pageX)}if(!0===m.isSwiping){p.preventDefault(),m.vx=.5*m.vx+.5*(n.pageX-m.lastX),m.lastX=n.pageX;var b=(0,d.computeIndex)({children:H,resistance:k,pageX:n.pageX,startIndex:m.startIndex,startX:m.startX,viewLength:m.viewLength}),e=b.index,N=b.startX;if(null===W&&!t&&v({domTreeShapes:y(p.target,m.rootNode),startX:m.startX,pageX:n.pageX,axis:Z}))return;N?m.startX=N:null===W&&(W=m.rootNode),m.setIndexCurrent(e);var Q=function(){h&&h(e,"move")};!m.state.displaySameSlide&&m.state.isDragging||m.setState({displaySameSlide:!1,isDragging:!0},Q),Q()}}}else m.handleTouchStart(p)},m.handleSwipeEnd=function(){if(W=null,m.started&&(m.started=!1,!0===m.isSwiping)){var p,g=m.state.indexLatest,Z=m.indexCurrent,H=g-Z;p=Math.abs(m.vx)>m.props.threshold?m.vx>0?Math.floor(Z):Math.ceil(Z):Math.abs(H)>m.props.hysteresis?H>0?Math.floor(Z):Math.ceil(Z):g;var t=D.default.Children.count(m.props.children)-1;p<0?p=0:p>t&&(p=t),m.setIndexCurrent(p),m.setState({indexLatest:p,isDragging:!1},(function(){m.props.onSwitching&&m.props.onSwitching(p,"end"),m.props.onChangeIndex&&p!==g&&m.props.onChangeIndex(p,g,{reason:"swipe"}),Z===g&&m.handleTransitionEnd()}))}},m.handleTouchStart=function(p){m.props.onTouchStart&&m.props.onTouchStart(p),m.handleSwipeStart(p)},m.handleTouchEnd=function(p){m.props.onTouchEnd&&m.props.onTouchEnd(p),m.handleSwipeEnd(p)},m.handleMouseDown=function(p){m.props.onMouseDown&&m.props.onMouseDown(p),p.persist(),m.handleSwipeStart(J(p))},m.handleMouseUp=function(p){m.props.onMouseUp&&m.props.onMouseUp(p),m.handleSwipeEnd(J(p))},m.handleMouseLeave=function(p){m.props.onMouseLeave&&m.props.onMouseLeave(p),m.started&&m.handleSwipeEnd(J(p))},m.handleMouseMove=function(p){m.props.onMouseMove&&m.props.onMouseMove(p),m.started&&m.handleSwipeMove(J(p))},m.handleScroll=function(p){if(m.props.onScroll&&m.props.onScroll(p),p.target===m.rootNode)if(m.ignoreNextScrollEvents)m.ignoreNextScrollEvents=!1;else{var g=m.state.indexLatest,Z=Math.ceil(p.target.scrollLeft/p.target.clientWidth)+g;m.ignoreNextScrollEvents=!0,p.target.scrollLeft=0,m.props.onChangeIndex&&Z!==g&&m.props.onChangeIndex(Z,g,{reason:"focus"})}},m.updateHeight=function(){if(null!==m.activeSlide){var p=m.activeSlide.children[0];void 0!==p&&void 0!==p.offsetHeight&&m.state.heightLatest!==p.offsetHeight&&m.setState({heightLatest:p.offsetHeight})}},m.state={indexLatest:p.index,isDragging:!1,renderOnlyActive:!p.disableLazyLoading,heightLatest:0,displaySameSlide:!0},m.setIndexCurrent(p.index),m}return(0,q.default)(g,p),(0,k.default)(g,[{key:"getChildContext",value:function(){var p=this;return{swipeableViews:{slideUpdateHeight:function(){p.updateHeight()}}}}},{key:"componentDidMount",value:function(){var p=this;this.transitionListener=Q(this.containerNode,b.default.end,(function(g){g.target===p.containerNode&&p.handleTransitionEnd()})),this.touchMoveListener=Q(this.rootNode,"touchmove",(function(g){p.props.disabled||p.handleSwipeMove(g)}),{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout((function(){p.setState({renderOnlyActive:!1})}),0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"componentWillReceiveProps",value:function(p){var g=p.index;"number"==typeof g&&g!==this.props.index&&(this.setIndexCurrent(g),this.setState({displaySameSlide:(0,d.getDisplaySameSlide)(this.props,p),indexLatest:g}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"setIndexCurrent",value:function(p){if(this.props.animateTransitions||this.indexCurrent===p||this.handleTransitionEnd(),this.indexCurrent=p,this.containerNode){var g=this.props.axis,m=Y.transform[g](100*p);this.containerNode.style.WebkitTransform=m,this.containerNode.style.transform=m}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var p,g,m=this,Z=this.props,h=(Z.action,Z.animateHeight),k=Z.animateTransitions,n=Z.axis,S=Z.children,q=Z.containerStyle,I=Z.disabled,b=(Z.disableLazyLoading,Z.enableMouseEvents),e=(Z.hysteresis,Z.ignoreNativeScroll,Z.index,Z.onChangeIndex,Z.onSwitching,Z.onTransitionEnd,Z.resistance,Z.slideStyle),N=Z.slideClassName,d=Z.springConfig,Q=Z.style,P=(Z.threshold,(0,t.default)(Z,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),J=this.state,y=J.displaySameSlide,W=J.heightLatest,v=J.indexLatest,V=J.isDragging,z=J.renderOnlyActive,B=I?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},u=!I&&b?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},a=(0,H.default)({},w,e);if(V||!k||y)p="all 0s ease 0s",g="all 0s ease 0s";else if(p=i("transform",d),g=i("-webkit-transform",d),0!==W){var F=", ".concat(i("height",d));p+=F,g+=F}var X={height:null,WebkitFlexDirection:Y.flexDirection[n],flexDirection:Y.flexDirection[n],WebkitTransition:g,transition:p};if(!z){var K=Y.transform[n](100*this.indexCurrent);X.WebkitTransform=K,X.transform=K}return h&&(X.height=W),D.default.createElement("div",(0,H.default)({ref:this.setRootNode,style:(0,H.default)({},Y.root[n],Q)},P,B,u,{onScroll:this.handleScroll}),D.default.createElement("div",{ref:this.setContainerNode,style:(0,H.default)({},X,$,q),className:"react-swipeable-view-container"},D.default.Children.map(S,(function(p,g){if(z&&g!==v)return null;var Z,H=!0;return g===v&&(H=!1,h&&(Z=m.setActiveSlide,a.overflowY="hidden")),D.default.createElement("div",{ref:Z,style:a,className:N,"aria-hidden":H,"data-swipeable":"true"},p)}))))}}]),g}(D.default.Component);V.displayName="ReactSwipableView",V.propTypes=0?0:{},V.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1},V.childContextTypes={swipeableViews:I.default.shape({slideUpdateHeight:I.default.func})};var z=V;g["default"]=z},866302:(p,g,m)=>{var Z=m(737202);g.A=void 0;var H=Z(m(717284)).default;g.A=H},915755:p=>{p.exports=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}},678967:p=>{p.exports=function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}},704643:p=>{function g(p,g){for(var m=0;m<g.length;m++){var Z=g[m];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(p,Z.key,Z)}}p.exports=function(p,m,Z){return m&&g(p.prototype,m),Z&&g(p,Z),p}},609562:p=>{function g(){return p.exports=g=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var Z in m)Object.prototype.hasOwnProperty.call(m,Z)&&(p[Z]=m[Z])}return p},g.apply(this,arguments)}p.exports=g},103088:p=>{function g(m){return p.exports=g=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},g(m)}p.exports=g},7511:(p,g,m)=>{var Z=m(308964);p.exports=function(p,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),g&&Z(p,g)}},737202:p=>{p.exports=function(p){return p&&p.__esModule?p:{default:p}}},288215:(p,g,m)=>{var Z=m(326973);p.exports=function(p,g){if(null==p)return{};var m,H,t=Z(p,g);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(p);for(H=0;H<h.length;H++)m=h[H],g.indexOf(m)>=0||Object.prototype.propertyIsEnumerable.call(p,m)&&(t[m]=p[m])}return t}},326973:p=>{p.exports=function(p,g){if(null==p)return{};var m,Z,H={},t=Object.keys(p);for(Z=0;Z<t.length;Z++)m=t[Z],g.indexOf(m)>=0||(H[m]=p[m]);return H}},22132:(p,g,m)=>{var Z=m(544634),H=m(915755);p.exports=function(p,g){return!g||"object"!==Z(g)&&"function"!=typeof g?H(p):g}},308964:p=>{function g(m,Z){return p.exports=g=Object.setPrototypeOf||function(p,g){return p.__proto__=g,p},g(m,Z)}p.exports=g},544634:p=>{function g(p){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},g(p)}function m(Z){return"function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?p.exports=m=function(p){return g(p)}:p.exports=m=function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":g(p)},m(Z)}p.exports=m},486255:(p,g,m)=>{var Z=m(228651),H=m(589295),t=m(118890)(),h=m(668109),k=m(96785),n=Z("%Math.floor%");p.exports=function(p,g){if("function"!=typeof p)throw new k("`fn` is not a function");if("number"!=typeof g||g<0||g>4294967295||n(g)!==g)throw new k("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],Z=!0,S=!0;if("length"in p&&h){var q=h(p,"length");q&&!q.configurable&&(Z=!1),q&&!q.writable&&(S=!1)}return(Z||S||!m)&&(t?H(p,"length",g,!0,!0):H(p,"length",g)),p}},338402:(p,g,m)=>{var Z=m(228651),H=m(267913),t=m(115937),h=m(96785),k=Z("%WeakMap%",!0),n=Z("%Map%",!0),S=H("WeakMap.prototype.get",!0),q=H("WeakMap.prototype.set",!0),D=H("WeakMap.prototype.has",!0),I=H("Map.prototype.get",!0),b=H("Map.prototype.set",!0),e=H("Map.prototype.has",!0),N=function(p,g){for(var m,Z=p;null!==(m=Z.next);Z=m)if(m.key===g)return Z.next=m.next,m.next=p.next,p.next=m,m};p.exports=function(){var p,g,m,Z={assert:function(p){if(!Z.has(p))throw new h("Side channel does not contain "+t(p))},get:function(Z){if(k&&Z&&("object"==typeof Z||"function"==typeof Z)){if(p)return S(p,Z)}else if(n){if(g)return I(g,Z)}else if(m)return function(p,g){var m=N(p,g);return m&&m.value}(m,Z)},has:function(Z){if(k&&Z&&("object"==typeof Z||"function"==typeof Z)){if(p)return D(p,Z)}else if(n){if(g)return e(g,Z)}else if(m)return function(p,g){return!!N(p,g)}(m,Z);return!1},set:function(Z,H){k&&Z&&("object"==typeof Z||"function"==typeof Z)?(p||(p=new k),q(p,Z,H)):n?(g||(g=new n),b(g,Z,H)):(m||(m={key:{},next:null}),function(p,g,m){var Z=N(p,g);Z?Z.value=m:p.next={key:g,next:p.next,value:m}}(m,Z,H))}};return Z}},746365:p=>{var g=function(){};if("production"!="production"){var m=function(p,g){var m=arguments.length;g=new Array(m>1?m-1:0);for(var Z=1;Z<m;Z++)g[Z-1]=arguments[Z];var H=0,t="Warning: "+p.replace(/%s/g,(function(){return g[H++]}));"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(p){}};g=function(p,g,Z){var H=arguments.length;Z=new Array(H>2?H-2:0);for(var t=2;t<H;t++)Z[t-2]=arguments[t];if(void 0===g)throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument");p||m.apply(null,[g].concat(Z))}}p.exports=g},258055:p=>{var g=Object.prototype.hasOwnProperty,m="~";function Z(){}function H(p,g,m){this.fn=p,this.context=g,this.once=m||!1}function t(p,g,Z,t,h){if("function"!=typeof Z)throw new TypeError("The listener must be a function");var k=new H(Z,t||p,h),n=m?m+g:g;return p._events[n]?p._events[n].fn?p._events[n]=[p._events[n],k]:p._events[n].push(k):(p._events[n]=k,p._eventsCount++),p}function h(p,g){0==--p._eventsCount?p._events=new Z:delete p._events[g]}function k(){this._events=new Z,this._eventsCount=0}Object.create&&(Z.prototype=Object.create(null),(new Z).__proto__||(m=!1)),k.prototype.eventNames=function(){var p,Z,H=[];if(0===this._eventsCount)return H;for(Z in p=this._events)g.call(p,Z)&&H.push(m?Z.slice(1):Z);return Object.getOwnPropertySymbols?H.concat(Object.getOwnPropertySymbols(p)):H},k.prototype.listeners=function(p){var g=m?m+p:p,Z=this._events[g];if(!Z)return[];if(Z.fn)return[Z.fn];for(var H=0,t=Z.length,h=new Array(t);H<t;H++)h[H]=Z[H].fn;return h},k.prototype.listenerCount=function(p){var g=m?m+p:p,Z=this._events[g];return Z?Z.fn?1:Z.length:0},k.prototype.emit=function(p,g,Z,H,t,h){var k=m?m+p:p;if(!this._events[k])return!1;var n,S,q=this._events[k],D=arguments.length;if(q.fn){switch(q.once&&this.removeListener(p,q.fn,void 0,!0),D){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,g),!0;case 3:return q.fn.call(q.context,g,Z),!0;case 4:return q.fn.call(q.context,g,Z,H),!0;case 5:return q.fn.call(q.context,g,Z,H,t),!0;case 6:return q.fn.call(q.context,g,Z,H,t,h),!0}for(S=1,n=new Array(D-1);S<D;S++)n[S-1]=arguments[S];q.fn.apply(q.context,n)}else{var I,b=q.length;for(S=0;S<b;S++)switch(q[S].once&&this.removeListener(p,q[S].fn,void 0,!0),D){case 1:q[S].fn.call(q[S].context);break;case 2:q[S].fn.call(q[S].context,g);break;case 3:q[S].fn.call(q[S].context,g,Z);break;case 4:q[S].fn.call(q[S].context,g,Z,H);break;default:if(!n)for(I=1,n=new Array(D-1);I<D;I++)n[I-1]=arguments[I];q[S].fn.apply(q[S].context,n)}}return!0},k.prototype.on=function(p,g,m){return t(this,p,g,m,!1)},k.prototype.once=function(p,g,m){return t(this,p,g,m,!0)},k.prototype.removeListener=function(p,g,Z,H){var t=m?m+p:p;if(!this._events[t])return this;if(!g)return h(this,t),this;var k=this._events[t];if(k.fn)k.fn!==g||H&&!k.once||Z&&k.context!==Z||h(this,t);else{for(var n=0,S=[],q=k.length;n<q;n++)(k[n].fn!==g||H&&!k[n].once||Z&&k[n].context!==Z)&&S.push(k[n]);S.length?this._events[t]=1===S.length?S[0]:S:h(this,t)}return this},k.prototype.removeAllListeners=function(p){var g;return p?(g=m?m+p:p,this._events[g]&&h(this,g)):(this._events=new Z,this._eventsCount=0),this},k.prototype.off=k.prototype.removeListener,k.prototype.addListener=k.prototype.on,k.prefixed=m,k.EventEmitter=k,1&&(p.exports=k)},893776:function(p,g,m){var Z;p=m.nmd(p),function(){!0&&g&&g.nodeType,!0&&p&&p.nodeType;var H="object"==typeof window&&window;H.global!==H&&H.window!==H&&H.self;var t,h=2147483647,k=36,n=1,S=26,q=38,D=700,I=72,b=128,e="-",N=/^xn--/,d=/[^\x20-\x7E]/,Q=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=k-n,Y=Math.floor,i=String.fromCharCode;function P(p){throw new RangeError($[p])}function J(p,g){for(var m=p.length,Z=[];m--;)Z[m]=g(p[m]);return Z}function y(p,g){var m=p.split("@"),Z="";return m.length>1&&(Z=m[0]+"@",p=m[1]),Z+J((p=p.replace(Q,".")).split("."),g).join(".")}function W(p){for(var g,m,Z=[],H=0,t=p.length;H<t;)(g=p.charCodeAt(H++))>=55296&&g<=56319&&H<t?56320==(64512&(m=p.charCodeAt(H++)))?Z.push(((1023&g)<<10)+(1023&m)+65536):(Z.push(g),H--):Z.push(g);return Z}function v(p){return J(p,(function(p){var g="";return p>65535&&(g+=i((p-=65536)>>>10&1023|55296),p=56320|1023&p),g+i(p)})).join("")}function V(p,g){return p+22+75*(p<26)-((0!=g)<<5)}function z(p,g,m){var Z=0;for(p=m?Y(p/D):p>>1,p+=Y(p/g);p>w*S>>1;Z+=k)p=Y(p/w);return Y(Z+(w+1)*p/(p+q))}function B(p){var g,m,Z,H,t,q,D,N,d,Q,$,w=[],i=p.length,J=0,y=b,W=I;for((m=p.lastIndexOf(e))<0&&(m=0),Z=0;Z<m;++Z)p.charCodeAt(Z)>=128&&P("not-basic"),w.push(p.charCodeAt(Z));for(H=m>0?m+1:0;H<i;){for(t=J,q=1,D=k;H>=i&&P("invalid-input"),((N=($=p.charCodeAt(H++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:k)>=k||N>Y((h-J)/q))&&P("overflow"),J+=N*q,!(N<(d=D<=W?n:D>=W+S?S:D-W));D+=k)q>Y(h/(Q=k-d))&&P("overflow"),q*=Q;W=z(J-t,g=w.length+1,0==t),Y(J/g)>h-y&&P("overflow"),y+=Y(J/g),J%=g,w.splice(J++,0,y)}return v(w)}function u(p){var g,m,Z,H,t,q,D,N,d,Q,$,w,J,y,v,B=[];for(w=(p=W(p)).length,g=b,m=0,t=I,q=0;q<w;++q)($=p[q])<128&&B.push(i($));for(Z=H=B.length,H&&B.push(e);Z<w;){for(D=h,q=0;q<w;++q)($=p[q])>=g&&$<D&&(D=$);for(D-g>Y((h-m)/(J=Z+1))&&P("overflow"),m+=(D-g)*J,g=D,q=0;q<w;++q)if(($=p[q])<g&&++m>h&&P("overflow"),$==g){for(N=m,d=k;!(N<(Q=d<=t?n:d>=t+S?S:d-t));d+=k)v=N-Q,y=k-Q,B.push(i(V(Q+v%y,0))),N=Y(v/y);B.push(i(V(N,0))),t=z(m,J,Z==H),m=0,++Z}++m,++g}return B.join("")}t={version:"1.4.1",ucs2:{decode:W,encode:v},decode:B,encode:u,toASCII:function(p){return y(p,(function(p){return d.test(p)?"xn--"+u(p):p}))},toUnicode:function(p){return y(p,(function(p){return N.test(p)?B(p.slice(4).toLowerCase()):p}))}},1&&(void 0===(Z=function(){return t}.call(g,m,g,p))||(p.exports=Z))}()},815304:p=>{var g=String.prototype.replace,m=/%20/g,Z="RFC3986";p.exports={default:Z,formatters:{RFC1738:function(p){return g.call(p,m,"+")},RFC3986:function(p){return String(p)}},RFC1738:"RFC1738",RFC3986:Z}},97976:(p,g,m)=>{var Z=m(511125),H=m(346731),t=m(815304);p.exports={formats:t,parse:H,stringify:Z}},346731:(p,g,m)=>{var Z=m(648193),H=Object.prototype.hasOwnProperty,t=Array.isArray,h={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Z.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},k=function(p){return p.replace(/&#(\d+);/g,(function(p,g){return String.fromCharCode(parseInt(g,10))}))},n=function(p,g){return p&&"string"==typeof p&&g.comma&&p.indexOf(",")>-1?p.split(","):p},S="utf8=%26%2310003%3B",q="utf8=%E2%9C%93",D=function(p,g,m,Z){if(p){var t=m.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,h=/(\[[^[\]]*])/g,k=m.depth>0&&/(\[[^[\]]*])/.exec(t),S=k?t.slice(0,k.index):t,q=[];if(S){if(!m.plainObjects&&H.call(Object.prototype,S)&&!m.allowPrototypes)return;q.push(S)}for(var D=0;m.depth>0&&null!==(k=h.exec(t))&&D<m.depth;){if(D+=1,!m.plainObjects&&H.call(Object.prototype,k[1].slice(1,-1))&&!m.allowPrototypes)return;q.push(k[1])}if(k){if(!0===m.strictDepth)throw new RangeError("Input depth exceeded depth option of "+m.depth+" and strictDepth is true");q.push("["+t.slice(k.index)+"]")}return function(p,g,m,Z){for(var H=Z?g:n(g,m),t=p.length-1;t>=0;--t){var h,k=p[t];if("[]"===k&&m.parseArrays)h=m.allowEmptyArrays&&(""===H||m.strictNullHandling&&null===H)?[]:[].concat(H);else{h=m.plainObjects?Object.create(null):{};var S="["===k.charAt(0)&&"]"===k.charAt(k.length-1)?k.slice(1,-1):k,q=m.decodeDotInKeys?S.replace(/%2E/g,"."):S,D=parseInt(q,10);m.parseArrays||""!==q?!isNaN(D)&&k!==q&&String(D)===q&&D>=0&&m.parseArrays&&D<=m.arrayLimit?(h=[])[D]=H:"__proto__"!==q&&(h[q]=H):h={0:H}}H=h}return H}(q,g,m,Z)}};p.exports=function(p,g){var m=function(p){if(!p)return h;if(void 0!==p.allowEmptyArrays&&"boolean"!=typeof p.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==p.decodeDotInKeys&&"boolean"!=typeof p.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==p.decoder&&void 0!==p.decoder&&"function"!=typeof p.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==p.charset&&"utf-8"!==p.charset&&"iso-8859-1"!==p.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=void 0===p.charset?h.charset:p.charset,m=void 0===p.duplicates?h.duplicates:p.duplicates;if("combine"!==m&&"first"!==m&&"last"!==m)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===p.allowDots?!0===p.decodeDotInKeys||h.allowDots:!!p.allowDots,allowEmptyArrays:"boolean"==typeof p.allowEmptyArrays?!!p.allowEmptyArrays:h.allowEmptyArrays,allowPrototypes:"boolean"==typeof p.allowPrototypes?p.allowPrototypes:h.allowPrototypes,allowSparse:"boolean"==typeof p.allowSparse?p.allowSparse:h.allowSparse,arrayLimit:"number"==typeof p.arrayLimit?p.arrayLimit:h.arrayLimit,charset:g,charsetSentinel:"boolean"==typeof p.charsetSentinel?p.charsetSentinel:h.charsetSentinel,comma:"boolean"==typeof p.comma?p.comma:h.comma,decodeDotInKeys:"boolean"==typeof p.decodeDotInKeys?p.decodeDotInKeys:h.decodeDotInKeys,decoder:"function"==typeof p.decoder?p.decoder:h.decoder,delimiter:"string"==typeof p.delimiter||Z.isRegExp(p.delimiter)?p.delimiter:h.delimiter,depth:"number"==typeof p.depth||!1===p.depth?+p.depth:h.depth,duplicates:m,ignoreQueryPrefix:!0===p.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof p.interpretNumericEntities?p.interpretNumericEntities:h.interpretNumericEntities,parameterLimit:"number"==typeof p.parameterLimit?p.parameterLimit:h.parameterLimit,parseArrays:!1!==p.parseArrays,plainObjects:"boolean"==typeof p.plainObjects?p.plainObjects:h.plainObjects,strictDepth:"boolean"==typeof p.strictDepth?!!p.strictDepth:h.strictDepth,strictNullHandling:"boolean"==typeof p.strictNullHandling?p.strictNullHandling:h.strictNullHandling}}(g);if(""===p||null==p)return m.plainObjects?Object.create(null):{};for(var I="string"==typeof p?function(p,g){var m={__proto__:null},D=g.ignoreQueryPrefix?p.replace(/^\?/,""):p;D=D.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var I,b=g.parameterLimit===1/0?void 0:g.parameterLimit,e=D.split(g.delimiter,b),N=-1,d=g.charset;if(g.charsetSentinel)for(I=0;I<e.length;++I)0===e[I].indexOf("utf8=")&&(e[I]===q?d="utf-8":e[I]===S&&(d="iso-8859-1"),N=I,I=e.length);for(I=0;I<e.length;++I)if(I!==N){var Q,$,w=e[I],Y=w.indexOf("]="),i=-1===Y?w.indexOf("="):Y+1;-1===i?(Q=g.decoder(w,h.decoder,d,"key"),$=g.strictNullHandling?null:""):(Q=g.decoder(w.slice(0,i),h.decoder,d,"key"),$=Z.maybeMap(n(w.slice(i+1),g),(function(p){return g.decoder(p,h.decoder,d,"value")}))),$&&g.interpretNumericEntities&&"iso-8859-1"===d&&($=k($)),w.indexOf("[]=")>-1&&($=t($)?[$]:$);var P=H.call(m,Q);P&&"combine"===g.duplicates?m[Q]=Z.combine(m[Q],$):P&&"last"!==g.duplicates||(m[Q]=$)}return m}(p,m):p,b=m.plainObjects?Object.create(null):{},e=Object.keys(I),N=0;N<e.length;++N){var d=e[N],Q=D(d,I[d],m,"string"==typeof p);b=Z.merge(b,Q,m)}return!0===m.allowSparse?b:Z.compact(b)}},511125:(p,g,m)=>{var Z=m(338402),H=m(648193),t=m(815304),h=Object.prototype.hasOwnProperty,k={brackets:function(p){return p+"[]"},comma:"comma",indices:function(p,g){return p+"["+g+"]"},repeat:function(p){return p}},n=Array.isArray,S=Array.prototype.push,q=function(p,g){S.apply(p,n(g)?g:[g])},D=Date.prototype.toISOString,I=t["default"],b={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:H.encode,encodeValuesOnly:!1,format:I,formatter:t.formatters[I],indices:!1,serializeDate:function(p){return D.call(p)},skipNulls:!1,strictNullHandling:!1},e={},N=function p(g,m,t,h,k,S,D,I,N,d,Q,$,w,Y,i,P,J,y){for(var W,v=g,V=y,z=0,B=!1;void 0!==(V=V.get(e))&&!B;){var u=V.get(g);if(z+=1,void 0!==u){if(u===z)throw new RangeError("Cyclic object value");B=!0}void 0===V.get(e)&&(z=0)}if("function"==typeof d?v=d(m,v):v instanceof Date?v=w(v):"comma"===t&&n(v)&&(v=H.maybeMap(v,(function(p){return p instanceof Date?w(p):p}))),null===v){if(S)return N&&!P?N(m,b.encoder,J,"key",Y):m;v=""}if("string"==typeof(W=v)||"number"==typeof W||"boolean"==typeof W||"symbol"==typeof W||"bigint"==typeof W||H.isBuffer(v))return N?[i(P?m:N(m,b.encoder,J,"key",Y))+"="+i(N(v,b.encoder,J,"value",Y))]:[i(m)+"="+i(String(v))];var a,F=[];if(void 0===v)return F;if("comma"===t&&n(v))P&&N&&(v=H.maybeMap(v,N)),a=[{value:v.length>0?v.join(",")||null:void 0}];else if(n(d))a=d;else{var X=Object.keys(v);a=Q?X.sort(Q):X}var K=I?m.replace(/\./g,"%2E"):m,j=h&&n(v)&&1===v.length?K+"[]":K;if(k&&n(v)&&0===v.length)return j+"[]";for(var r=0;r<a.length;++r){var U=a[r],C="object"==typeof U&&void 0!==U.value?U.value:v[U];if(!D||null!==C){var x=$&&I?U.replace(/\./g,"%2E"):U,R=n(v)?"function"==typeof t?t(j,x):j:j+($?"."+x:"["+x+"]");y.set(g,z);var c=Z();c.set(e,y),q(F,p(C,R,t,h,k,S,D,I,"comma"===t&&P&&n(v)?null:N,d,Q,$,w,Y,i,P,J,c))}}return F};p.exports=function(p,g){var m,H=p,S=function(p){if(!p)return b;if(void 0!==p.allowEmptyArrays&&"boolean"!=typeof p.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==p.encodeDotInKeys&&"boolean"!=typeof p.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==p.encoder&&void 0!==p.encoder&&"function"!=typeof p.encoder)throw new TypeError("Encoder has to be a function.");var g=p.charset||b.charset;if(void 0!==p.charset&&"utf-8"!==p.charset&&"iso-8859-1"!==p.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=t["default"];if(void 0!==p.format){if(!h.call(t.formatters,p.format))throw new TypeError("Unknown format option provided.");m=p.format}var Z,H=t.formatters[m],S=b.filter;if(("function"==typeof p.filter||n(p.filter))&&(S=p.filter),Z=p.arrayFormat in k?p.arrayFormat:"indices"in p?p.indices?"indices":"repeat":b.arrayFormat,"commaRoundTrip"in p&&"boolean"!=typeof p.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var q=void 0===p.allowDots?!0===p.encodeDotInKeys||b.allowDots:!!p.allowDots;return{addQueryPrefix:"boolean"==typeof p.addQueryPrefix?p.addQueryPrefix:b.addQueryPrefix,allowDots:q,allowEmptyArrays:"boolean"==typeof p.allowEmptyArrays?!!p.allowEmptyArrays:b.allowEmptyArrays,arrayFormat:Z,charset:g,charsetSentinel:"boolean"==typeof p.charsetSentinel?p.charsetSentinel:b.charsetSentinel,commaRoundTrip:p.commaRoundTrip,delimiter:void 0===p.delimiter?b.delimiter:p.delimiter,encode:"boolean"==typeof p.encode?p.encode:b.encode,encodeDotInKeys:"boolean"==typeof p.encodeDotInKeys?p.encodeDotInKeys:b.encodeDotInKeys,encoder:"function"==typeof p.encoder?p.encoder:b.encoder,encodeValuesOnly:"boolean"==typeof p.encodeValuesOnly?p.encodeValuesOnly:b.encodeValuesOnly,filter:S,format:m,formatter:H,serializeDate:"function"==typeof p.serializeDate?p.serializeDate:b.serializeDate,skipNulls:"boolean"==typeof p.skipNulls?p.skipNulls:b.skipNulls,sort:"function"==typeof p.sort?p.sort:null,strictNullHandling:"boolean"==typeof p.strictNullHandling?p.strictNullHandling:b.strictNullHandling}}(g);"function"==typeof S.filter?H=(0,S.filter)("",H):n(S.filter)&&(m=S.filter);var D=[];if("object"!=typeof H||null===H)return"";var I=k[S.arrayFormat],e="comma"===I&&S.commaRoundTrip;m||(m=Object.keys(H)),S.sort&&m.sort(S.sort);for(var d=Z(),Q=0;Q<m.length;++Q){var $=m[Q];S.skipNulls&&null===H[$]||q(D,N(H[$],$,I,e,S.allowEmptyArrays,S.strictNullHandling,S.skipNulls,S.encodeDotInKeys,S.encode?S.encoder:null,S.filter,S.sort,S.allowDots,S.serializeDate,S.format,S.formatter,S.encodeValuesOnly,S.charset,d))}var w=D.join(S.delimiter),Y=!0===S.addQueryPrefix?"?":"";return S.charsetSentinel&&("iso-8859-1"===S.charset?Y+="utf8=%26%2310003%3B&":Y+="utf8=%E2%9C%93&"),w.length>0?Y+w:""}},648193:(p,g,m)=>{var Z=m(815304),H=Object.prototype.hasOwnProperty,t=Array.isArray,h=function(){for(var p=[],g=0;g<256;++g)p.push("%"+((g<16?"0":"")+g.toString(16)).toUpperCase());return p}(),k=function(p,g){for(var m=g&&g.plainObjects?Object.create(null):{},Z=0;Z<p.length;++Z)void 0!==p[Z]&&(m[Z]=p[Z]);return m},n=1024;p.exports={arrayToObject:k,assign:function(p,g){return Object.keys(g).reduce((function(p,m){return p[m]=g[m],p}),p)},combine:function(p,g){return[].concat(p,g)},compact:function(p){for(var g=[{obj:{o:p},prop:"o"}],m=[],Z=0;Z<g.length;++Z)for(var H=g[Z],h=H.obj[H.prop],k=Object.keys(h),n=0;n<k.length;++n){var S=k[n],q=h[S];"object"==typeof q&&null!==q&&-1===m.indexOf(q)&&(g.push({obj:h,prop:S}),m.push(q))}return function(p){for(;p.length>1;){var g=p.pop(),m=g.obj[g.prop];if(t(m)){for(var Z=[],H=0;H<m.length;++H)void 0!==m[H]&&Z.push(m[H]);g.obj[g.prop]=Z}}}(g),p},decode:function(p,g,m){var Z=p.replace(/\+/g," ");if("iso-8859-1"===m)return Z.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Z)}catch(p){return Z}},encode:function(p,g,m,H,t){if(0===p.length)return p;var k=p;if("symbol"==typeof p?k=Symbol.prototype.toString.call(p):"string"!=typeof p&&(k=String(p)),"iso-8859-1"===m)return escape(k).replace(/%u[0-9a-f]{4}/gi,(function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"}));for(var S="",q=0;q<k.length;q+=n){for(var D=k.length>=n?k.slice(q,q+n):k,I=[],b=0;b<D.length;++b){var e=D.charCodeAt(b);45===e||46===e||95===e||126===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||t===Z.RFC1738&&(40===e||41===e)?I[I.length]=D.charAt(b):e<128?I[I.length]=h[e]:e<2048?I[I.length]=h[192|e>>6]+h[128|63&e]:e<55296||e>=57344?I[I.length]=h[224|e>>12]+h[128|e>>6&63]+h[128|63&e]:(b+=1,e=65536+((1023&e)<<10|1023&D.charCodeAt(b)),I[I.length]=h[240|e>>18]+h[128|e>>12&63]+h[128|e>>6&63]+h[128|63&e])}S+=I.join("")}return S},isBuffer:function(p){return!(!p||"object"!=typeof p||!(p.constructor&&p.constructor.isBuffer&&p.constructor.isBuffer(p)))},isRegExp:function(p){return"[object RegExp]"===Object.prototype.toString.call(p)},maybeMap:function(p,g){if(t(p)){for(var m=[],Z=0;Z<p.length;Z+=1)m.push(g(p[Z]));return m}return g(p)},merge:function p(g,m,Z){if(!m)return g;if("object"!=typeof m){if(t(g))g.push(m);else{if(!g||"object"!=typeof g)return[g,m];(Z&&(Z.plainObjects||Z.allowPrototypes)||!H.call(Object.prototype,m))&&(g[m]=!0)}return g}if(!g||"object"!=typeof g)return[g].concat(m);var h=g;return t(g)&&!t(m)&&(h=k(g,Z)),t(g)&&t(m)?(m.forEach((function(m,t){if(H.call(g,t)){var h=g[t];h&&"object"==typeof h&&m&&"object"==typeof m?g[t]=p(h,m,Z):g.push(m)}else g[t]=m})),g):Object.keys(m).reduce((function(g,t){var h=m[t];return H.call(g,t)?g[t]=p(g[t],h,Z):g[t]=h,g}),h)}}},517116:(p,g,m)=>{var Z=m(893776);function H(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,k=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,n=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),S=["'"].concat(n),q=["%","/","?",";","#"].concat(S),D=["/","?","#"],I=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},Q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$=m(97976);function w(p,g,m){if(p&&"object"==typeof p&&p instanceof H)return p;var Z=new H;return Z.parse(p,g,m),Z}H.prototype.parse=function(p,g,m){if("string"!=typeof p)throw new TypeError("Parameter 'url' must be a string, not "+typeof p);var H=p.indexOf("?"),h=-1!==H&&H<p.indexOf("#")?"?":"#",n=p.split(h);n[0]=n[0].replace(/\\/g,"/");var w=p=n.join(h);if(w=w.trim(),!m&&1===p.split("#").length){var Y=k.exec(w);if(Y)return this.path=w,this.href=w,this.pathname=Y[1],Y[2]?(this.search=Y[2],this.query=g?$.parse(this.search.substr(1)):this.search.substr(1)):g&&(this.search="",this.query={}),this}var i=t.exec(w);if(i){var P=(i=i[0]).toLowerCase();this.protocol=P,w=w.substr(i.length)}if(m||i||w.match(/^\/\/[^@/]+@[^@/]+/)){var J="//"===w.substr(0,2);!J||i&&d[i]||(w=w.substr(2),this.slashes=!0)}if(!d[i]&&(J||i&&!Q[i])){for(var y,W,v=-1,V=0;V<D.length;V++)-1!==(z=w.indexOf(D[V]))&&(-1===v||z<v)&&(v=z);for(-1!==(W=-1===v?w.lastIndexOf("@"):w.lastIndexOf("@",v))&&(y=w.slice(0,W),w=w.slice(W+1),this.auth=decodeURIComponent(y)),v=-1,V=0;V<q.length;V++){var z;-1!==(z=w.indexOf(q[V]))&&(-1===v||z<v)&&(v=z)}-1===v&&(v=w.length),this.host=w.slice(0,v),w=w.slice(v),this.parseHost(),this.hostname=this.hostname||"";var B="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!B)for(var u=this.hostname.split(/\./),a=(V=0,u.length);V<a;V++){var F=u[V];if(F&&!F.match(b)){for(var X="",K=0,j=F.length;K<j;K++)F.charCodeAt(K)>127?X+="x":X+=F[K];if(!X.match(b)){var r=u.slice(0,V),U=u.slice(V+1),C=F.match(e);C&&(r.push(C[1]),U.unshift(C[2])),U.length&&(w="/"+U.join(".")+w),this.hostname=r.join(".");break}}}this.hostname.length>I?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=Z.toASCII(this.hostname));var x=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+x,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!N[P])for(V=0,a=S.length;V<a;V++){var c=S[V];if(-1!==w.indexOf(c)){var O=encodeURIComponent(c);O===c&&(O=escape(c)),w=w.split(c).join(O)}}var f=w.indexOf("#");-1!==f&&(this.hash=w.substr(f),w=w.slice(0,f));var _=w.indexOf("?");if(-1!==_?(this.search=w.substr(_),this.query=w.substr(_+1),g&&(this.query=$.parse(this.query)),w=w.slice(0,_)):g&&(this.search="",this.query={}),w&&(this.pathname=w),Q[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){x=this.pathname||"";var E=this.search||"";this.path=x+E}return this.href=this.format(),this},H.prototype.format=function(){var p=this.auth||"";p&&(p=(p=encodeURIComponent(p)).replace(/%3A/i,":"),p+="@");var g=this.protocol||"",m=this.pathname||"",Z=this.hash||"",H=!1,t="";this.host?H=p+this.host:this.hostname&&(H=p+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(H+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(t=$.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var h=this.search||t&&"?"+t||"";return g&&":"!==g.substr(-1)&&(g+=":"),this.slashes||(!g||Q[g])&&!1!==H?(H="//"+(H||""),m&&"/"!==m.charAt(0)&&(m="/"+m)):H||(H=""),Z&&"#"!==Z.charAt(0)&&(Z="#"+Z),h&&"?"!==h.charAt(0)&&(h="?"+h),g+H+(m=m.replace(/[?#]/g,(function(p){return encodeURIComponent(p)})))+(h=h.replace("#","%23"))+Z},H.prototype.resolve=function(p){return this.resolveObject(w(p,!1,!0)).format()},H.prototype.resolveObject=function(p){if("string"==typeof p){var g=new H;g.parse(p,!1,!0),p=g}for(var m=new H,Z=Object.keys(this),t=0;t<Z.length;t++){var h=Z[t];m[h]=this[h]}if(m.hash=p.hash,""===p.href)return m.href=m.format(),m;if(p.slashes&&!p.protocol){for(var k=Object.keys(p),n=0;n<k.length;n++){var S=k[n];"protocol"!==S&&(m[S]=p[S])}return Q[m.protocol]&&m.hostname&&!m.pathname&&(m.pathname="/",m.path=m.pathname),m.href=m.format(),m}if(p.protocol&&p.protocol!==m.protocol){if(!Q[p.protocol]){for(var q=Object.keys(p),D=0;D<q.length;D++){var I=q[D];m[I]=p[I]}return m.href=m.format(),m}if(m.protocol=p.protocol,p.host||d[p.protocol])m.pathname=p.pathname;else{for(var b=(p.pathname||"").split("/");b.length&&!(p.host=b.shift()););p.host||(p.host=""),p.hostname||(p.hostname=""),""!==b[0]&&b.unshift(""),b.length<2&&b.unshift(""),m.pathname=b.join("/")}if(m.search=p.search,m.query=p.query,m.host=p.host||"",m.auth=p.auth,m.hostname=p.hostname||p.host,m.port=p.port,m.pathname||m.search){var e=m.pathname||"",N=m.search||"";m.path=e+N}return m.slashes=m.slashes||p.slashes,m.href=m.format(),m}var $=m.pathname&&"/"===m.pathname.charAt(0),w=p.host||p.pathname&&"/"===p.pathname.charAt(0),Y=w||$||m.host&&p.pathname,i=Y,P=m.pathname&&m.pathname.split("/")||[],J=(b=p.pathname&&p.pathname.split("/")||[],m.protocol&&!Q[m.protocol]);if(J&&(m.hostname="",m.port=null,m.host&&(""===P[0]?P[0]=m.host:P.unshift(m.host)),m.host="",p.protocol&&(p.hostname=null,p.port=null,p.host&&(""===b[0]?b[0]=p.host:b.unshift(p.host)),p.host=null),Y=Y&&(""===b[0]||""===P[0])),w)m.host=p.host||""===p.host?p.host:m.host,m.hostname=p.hostname||""===p.hostname?p.hostname:m.hostname,m.search=p.search,m.query=p.query,P=b;else if(b.length)P||(P=[]),P.pop(),P=P.concat(b),m.search=p.search,m.query=p.query;else if(null!=p.search)return J&&(m.host=P.shift(),m.hostname=m.host,(z=!!(m.host&&m.host.indexOf("@")>0)&&m.host.split("@"))&&(m.auth=z.shift(),m.hostname=z.shift(),m.host=m.hostname)),m.search=p.search,m.query=p.query,null===m.pathname&&null===m.search||(m.path=(m.pathname?m.pathname:"")+(m.search?m.search:"")),m.href=m.format(),m;if(!P.length)return m.pathname=null,m.search?m.path="/"+m.search:m.path=null,m.href=m.format(),m;for(var y=P.slice(-1)[0],W=(m.host||p.host||P.length>1)&&("."===y||".."===y)||""===y,v=0,V=P.length;V>=0;V--)"."===(y=P[V])?P.splice(V,1):".."===y?(P.splice(V,1),v++):v&&(P.splice(V,1),v--);if(!Y&&!i)for(;v--;v)P.unshift("..");!Y||""===P[0]||P[0]&&"/"===P[0].charAt(0)||P.unshift(""),W&&"/"!==P.join("/").substr(-1)&&P.push("");var z,B=""===P[0]||P[0]&&"/"===P[0].charAt(0);return J&&(m.hostname=B?"":P.length?P.shift():"",m.host=m.hostname,(z=!!(m.host&&m.host.indexOf("@")>0)&&m.host.split("@"))&&(m.auth=z.shift(),m.hostname=z.shift(),m.host=m.hostname)),(Y=Y||m.host&&P.length)&&!B&&P.unshift(""),P.length>0?m.pathname=P.join("/"):(m.pathname=null,m.path=null),null===m.pathname&&null===m.search||(m.path=(m.pathname?m.pathname:"")+(m.search?m.search:"")),m.auth=p.auth||m.auth,m.slashes=m.slashes||p.slashes,m.href=m.format(),m},H.prototype.parseHost=function(){var p=this.host,g=h.exec(p);g&&(":"!==(g=g[0])&&(this.port=g.substr(1)),p=p.substr(0,p.length-g.length)),p&&(this.hostname=p)},g.qg=w,g.hd=function(p,g){return w(p,!1,!0).resolve(g)},g.GP=function(p){return"string"==typeof p&&(p=w(p)),p instanceof H?p.format():H.prototype.format.call(p)}},643852:(p,g,m)=>{m.d(g,{H:()=>D,S:()=>q});var Z=m(64922),H=m(377810),t=m(111565),h=m(973214),k=m(836202),n=m(715907),S=m(704169);function q({onClick:p,isDesktop:g}){const m=g?h.R1.Info:void 0,k=g?"secondaryGold":"customizable",q=H.useCallback((()=>p()),[p]);return Z.jsx(n.g,{type:k,onClick:q,iconComponent:Z.jsx(S.R,{},"info-icon"),layerStyles:t.Eh.customizableButton,tooltip:m,size:"S"})}const D=k.S((p=>Z.jsx(q,{onClick:p.ui.featureScreen.open,isDesktop:p.device.isDesktop})))},382348:(p,g,m)=>{m.d(g,{O:()=>Bp,D:()=>zp});var Z=m(64922),H=m(377810),t=m(699695),h=m(34561);const k=m.p+"images/disabled.313435f7.webp",n=m.p+"images/normalspin.93300be7.webp",S=m.p+"images/topup.f1ee89a4.webp",q=m.p+"images/xxxtremesp.ba78c2b1.webp",D="container--c95e7",I="Mobile--c8c40",b="backplate--4110e",e=H.memo((({buttonVersion:p,isDesktop:g,disabled:m})=>Z.jsx("div",{className:t.A(D,{[I]:!g}),children:Z.jsx("img",{className:b,src:m?k:N[p]})}))),N={[h.U.NormalSpin]:n,[h.U.XXXtremeSpin]:q,[h.U.TopUp]:S};var d=m(876759);const Q="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2025%2022%22%3E%3Cpath%20fill%3D%22url%28%23a%29%22%20fill-rule%3D%22evenodd%22%20d%3D%22M1.203%2021.575c1.589-.118%205.473-2.366%205.473-10.416H.496L12.503.919v20.656h-11.3Zm22.598%200c-1.59-.118-5.473-2.366-5.473-10.416h6.179L12.502.919v20.656H23.8Z%22%20clip-rule%3D%22evenodd%22%20opacity%3D%22.7%22%2F%3E%3Cdefs%3E%3ClinearGradient%20id%3D%22a%22%20x1%3D%2212.507%22%20x2%3D%2212.506%22%20y1%3D%225.906%22%20y2%3D%2221.492%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%22.04%22%20stop-color%3D%22%23fff%22%2F%3E%3Cstop%20offset%3D%22.62%22%20stop-color%3D%22%23FFE6E0%22%20stop-opacity%3D%22.7%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23FFD8C1%22%20stop-opacity%3D%220%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3C%2Fsvg%3E%0A",$="arrow--89058",w=1800,Y=[{transform:"translateY(0)",opacity:0,offset:.11},{transform:"translateY(150%)",opacity:0,offset:.17},{transform:"translateY(0)",opacity:1}],i=({spinButtonState:p,animationType:g})=>{const m=H.useRef(null),t=H.useRef(),h="hover"===g;return H.useEffect((()=>()=>{var p;return null===(p=t.current)||void 0===p?void 0:p.cancel()}),[]),H.useEffect((()=>{var g,Z;const H=m.current;if(H&&H.animate&&!d.I())if("Disabled"!==p)if(h)"running"===(null===(Z=t.current)||void 0===Z?void 0:Z.playState)&&(t.current.onfinish=t.current.cancel);else{const p=()=>{var g;"running"!==(null===(g=t.current)||void 0===g?void 0:g.playState)&&(t.current=H.animate(Y,{duration:w,easing:"ease-in-out",iterations:1})),t.current&&(t.current.onfinish=p)};p()}else null===(g=t.current)||void 0===g||g.cancel()}),[p,h]),Z.jsx("img",{ref:m,src:Q,className:$,alt:"Top up button arrow"})};var P=m(417674),J=m(417064),y=m(973214),W=m(836202),v=m(170877),V=m(346160),z=m(762923),B=m(453045),u=m(827424),a=m(48415),F=m(212429);const X=H.createContext(null);function K(){const p=H.useContext(X);if(!p)throw new F.U8("SpinButton Context must be provided through SpinButtonContext.Provider");return p}const j="glowAnimation--c2202",r="animating--d6ed2",U=H.memo((()=>{const{state:p}=K(),[g,m]=H.useState(!1);return H.useEffect((()=>()=>{"Activated"===p&&m(!0)}),[p]),Z.jsx("div",{"data-role":"spin-button-glow-animation",className:t.A(j,{[r]:g}),onAnimationEnd:()=>{m(!1)}})}));U.displayName="SpinButtonHighlightAnimation";var C=m(447539),x=m(5519);const R="backPlateContainer--57638",c="inner--f24a2",O=H.memo((({children:p})=>{const{state:g}=K();return Z.jsx("div",{className:R,children:Z.jsx("div",{className:c,children:p({buttonState:g})})})}));O.displayName="BackPlateContainer";const f=({props:p,children:g})=>{const{state:m,disableInteractionAnimation:t,timerDuration:h,disableCtaAnimation:k}=p,[n,S]=H.useState(m),[q,D]=H.useState(void 0);H.useEffect((()=>{S(m)}),[m]);const I=H.useMemo((()=>({state:n,setState:S,disableInteractionAnimation:t,timerDuration:h,animationType:q,setAnimationType:D,disableCtaAnimation:k})),[n,t,h,q,k]);return Z.jsx(X.Provider,{value:I,children:g})};f.displayName="SpinButtonContextProvider";var _=m(168855);const E={baseRim:"baseRim--951f1",xxl:"xxl--a3ec2",xl:"xl--5466f",lg:"lg--ac7e0",md:"md--6a510",sm:"sm--954ab",xs:"xs--d5cd6",xxs:"xxs--f663e",xxxs:"xxxs--2f758",spinButton:"spinButton--27e1e",badge:"badge--4cbda",icon:"icon--45c2f",baseStroke:"baseStroke--5710f",baseFill:"baseFill--99827",reactiveWrapper:"reactiveWrapper--0d7c0",reactiveBaseStroke:"reactiveBaseStroke--461c9",reactiveBaseFill:"reactiveBaseFill--ca703",label:"label--fb43f",disabled:"disabled--1bfb6",labelContainer:"labelContainer--555b6",smokePattern:"smokePattern--32576",activated:"activated--c69d3"},G=({layerStyles:p,children:g})=>{const{state:m}=K(),h=_.F(["spinButton"],{spinButton:p}),{handlePointerUp:k,handlePointerLeave:n,handlePointerEnter:S,handlePointerDown:q,handleContextMenu:D}=function(){const{state:p,setState:g,setAnimationType:m,disableInteractionAnimation:Z,disableCtaAnimation:t}=K(),h="Disabled"===p,k=t||h?void 0:"cta",n=Z||h?void 0:"hover";H.useEffect((()=>{m(k)}),[k,m]);const S=H.useCallback((()=>{h||m(n)}),[n,h,m]),q=H.useCallback((()=>{h||m(k)}),[h,m,k]),D=H.useCallback((p=>{h||(g("Default"),window.removeEventListener("pointerup",D),"touch"===p.pointerType&&m(k))}),[h,g,m,k]),I=H.useCallback((p=>{h||(g("Activated"),window.addEventListener("pointerup",D),"touch"===p.pointerType&&m(n))}),[h,g,D,m,n]),b=H.useCallback((p=>{p.preventDefault()}),[]);return{handlePointerDown:I,handlePointerEnter:S,handlePointerLeave:q,handlePointerUp:D,handleContextMenu:b}}();return Z.jsx("div",{className:t.A(E.spinButton,{[E.disabled]:"Disabled"===m,[E.activated]:"Activated"===m}),"data-role":"spin-button",onPointerUp:k,onPointerLeave:n,onPointerEnter:S,onPointerDown:q,onContextMenu:D,style:h,children:g})},M="arrows--d98eb",s="disabled--21197",T="spinning--9cdac",l="spinning2--8641f",A=5e3;const L=H.memo((({animationType:p,spinButtonState:g})=>{const m=H.useRef(null),h=H.useId(),k=`top-arrow-${h}`,n=`bottom-arrow-${h}`,{onAnimationEnd:S,animationClass:q}=function({animationType:p,spinButtonState:g}){const m=H.useRef(null),[Z,t]=H.useState(!1),{disableInteractionAnimation:h,disableCtaAnimation:k}=K(),n=H.useCallback((()=>{null!==m.current&&clearInterval(m.current)}),[]),{resetAnimation:S,animationClass:q}=function(){const[p,g]=H.useState(T);return{animationClass:p,resetAnimation:()=>{g((p=>p===T?l:T))}}}();return H.useEffect((()=>{"hover"!==p||h||(S(),t(!0),n()),"cta"!==p||k||(m.current=setInterval((()=>{t(!0),S()}),A)),(k&&"cta"===p||"Disabled"===g)&&(n(),t(!1))}),[p,h]),H.useEffect((()=>()=>{n()}),[n]),{onAnimationEnd:()=>{t(!1)},animationClass:Z?q:void 0}}({animationType:p,spinButtonState:g});return Z.jsx("div",{ref:m,className:t.A(M,q,{[s]:"Disabled"===g}),"data-role":"spin-button-arrows",onAnimationEnd:S,children:Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 109 109",fill:"none",children:[Z.jsxs("g",{opacity:".7",children:[Z.jsx("path",{fill:`url(#${k})`,d:"m79.91 12.303 9.04 24.674-25.55-1.545 4.145-5.681c-6.032-3.335-14.873-4.402-26.524-3.2-11.65 1.202-20.31 9.206-25.98 24.01.904-15.598 8.178-26.892 21.823-33.88 11.244-5.758 24.38-5.293 39.408 1.397l3.637-5.775Z"}),Z.jsx("path",{fill:`url(#${n})`,d:"m24.758 93.185-3.875-23.693 24.45 3.103-4.987 4.965c5.435 4.233 14.002 6.663 25.702 7.29 11.7.629 21.514-5.926 29.44-19.663-3.343 15.264-12.304 25.282-26.883 30.058-12.015 3.935-24.92 1.43-38.716-7.517l-5.13 5.457Z"})]}),Z.jsxs("defs",{children:[Z.jsxs("linearGradient",{id:k,x1:"14.575",x2:"57.743",y1:"39.457",y2:"19.526",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"white",stopOpacity:"0"}),Z.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:".599"})]}),Z.jsxs("linearGradient",{id:n,x1:"94.636",x2:"48.513",y1:"75.224",y2:"89.069",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"white",stopOpacity:"0"}),Z.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:".604"})]})]})]})})}));L.displayName="SpinButtonArrows";const o="card--8675e",pp="left--a19c5",gp="hover--abba8",mp="cta--156da",Zp="right--5e6d3",Hp="#BEBEBE",tp="#ffffff",hp=5800,kp=H.memo((({spinButtonState:p,animationType:g,suitColor:m=Hp,backgroundColor:h=tp})=>{const k=H.useId(),n=`left-filter-${k}`,S=`right-filter-${k}`,q="Disabled"===p?"0.1":"0.25",{onAnimationEnd:D,internalAnimation:I}=function({animationType:p}){const[g,m]=H.useState(void 0),Z=H.useCallback((()=>{m(void 0)}),[m]);return H.useEffect((()=>{let g;return"cta"===p?g=window.setInterval((()=>{m("cta")}),hp):m(p),()=>{m(void 0),window.clearInterval(g)}}),[p]),H.useMemo((()=>({onAnimationEnd:Z,internalAnimation:g})),[g,Z])}({animationType:g});return Z.jsx("div",{"data-role":"spin-button-cards",className:t.A({[gp]:"hover"===I,[mp]:"cta"===I}),onAnimationEnd:D,children:Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 108 108",children:[Z.jsxs("g",{opacity:q,children:[Z.jsxs("g",{className:t.A(o,Zp),children:[Z.jsx("g",{filter:`url(#${S})`,children:Z.jsx("path",{fill:h,d:"M53.431 23.511c1.353-2.343 4.302-3.172 6.587-1.853L88.982 38.38c2.285 1.32 3.041 4.288 1.689 6.631L65.567 88.489c-1.352 2.343-4.301 3.172-6.586 1.853L30.018 73.62c-2.285-1.32-3.041-4.288-1.689-6.63L53.431 23.51Z"})}),Z.jsx("path",{fill:m,d:"M86.337 40.318c-1.091-.63-2.664-.086-3.76.703.136-1.341-.177-2.977-1.27-3.607-1.575-.91-3.395-.305-4.468 1.553a4.394 4.394 0 0 0-.582 2.48c-.007.425.015.849.066 1.269l1.002 7.41 6.918-2.838a9.026 9.026 0 0 0 1.13-.577 4.404 4.404 0 0 0 1.859-1.744c1.07-1.866.679-3.74-.895-4.65ZM44.187 63.325c-1.092-.63-2.664-.086-3.76.703.136-1.34-.178-2.977-1.27-3.607-1.575-.91-3.395-.305-4.468 1.553a4.393 4.393 0 0 0-.583 2.48 9.21 9.21 0 0 0 .067 1.269l1.002 7.41 6.918-2.837a9.04 9.04 0 0 0 1.13-.578 4.404 4.404 0 0 0 1.858-1.744c1.07-1.866.68-3.74-.894-4.65Z"})]}),Z.jsxs("g",{className:t.A(o,pp),children:[Z.jsx("g",{filter:`url(#${n})`,children:Z.jsx("path",{fill:h,d:"M23 30.816C23 28.156 25.14 26 27.778 26h33.444C63.861 26 66 28.156 66 30.816v49.368C66 82.844 63.86 85 61.222 85H27.778C25.139 85 23 82.844 23 80.184V30.816Z"})}),Z.jsx("path",{fill:m,d:"M60.122 33.732a2.92 2.92 0 0 0-1.3.302 2.83 2.83 0 0 0 1.081-2.203 2.849 2.849 0 0 0-.862-2.015A2.88 2.88 0 0 0 56.997 29a2.864 2.864 0 0 0-2.894 2.831 2.83 2.83 0 0 0 1.081 2.203 2.94 2.94 0 0 0-1.3-.303 2.837 2.837 0 0 0-2.874 2.593 2.83 2.83 0 0 0 2.403 3.03c.216.048.437.072.659.073a2.827 2.827 0 0 0 2.644-1.742l-.043.256a8.331 8.331 0 0 1-.286 1.503l-.074.232c-.496 1.41-1.513 1.86-1.513 1.86V42h4.394v-.465s-1.017-.448-1.513-1.86a6.387 6.387 0 0 1-.12-.385 9.326 9.326 0 0 1-.24-1.349c-.014-.085-.027-.17-.043-.258a2.835 2.835 0 0 0 2.65 1.742c.222 0 .443-.025.66-.073a2.83 2.83 0 0 0 2.402-3.03 2.837 2.837 0 0 0-2.874-2.592l.006.002ZM28.878 77.268a2.92 2.92 0 0 0 1.3-.302 2.83 2.83 0 0 0-1.081 2.203c.006.759.317 1.484.862 2.015a2.88 2.88 0 0 0 2.044.816 2.864 2.864 0 0 0 2.894-2.831 2.83 2.83 0 0 0-1.081-2.203 2.94 2.94 0 0 0 1.3.303 2.837 2.837 0 0 0 2.874-2.593 2.83 2.83 0 0 0-2.403-3.03 3.078 3.078 0 0 0-.659-.073 2.827 2.827 0 0 0-2.644 1.742l.043-.256c.049-.509.145-1.012.286-1.503l.074-.232c.496-1.41 1.513-1.86 1.513-1.86V69h-4.394v.465s1.017.448 1.513 1.86c.048.14.087.265.12.385.113.443.194.894.24 1.349.014.085.027.17.043.258a2.835 2.835 0 0 0-2.65-1.742c-.222 0-.443.025-.66.073a2.83 2.83 0 0 0-2.402 3.03 2.837 2.837 0 0 0 2.874 2.592l-.006-.002Z"})]})]}),Z.jsxs("defs",{children:[Z.jsxs("filter",{id:S,width:"71.684",height:"77.938",x:"23.658",y:"17.031",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[Z.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Z.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Z.jsx("feOffset",{}),Z.jsx("feGaussianBlur",{stdDeviation:"2"}),Z.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),Z.jsx("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_26376_152228"}),Z.jsx("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_26376_152228",result:"shape"})]}),Z.jsxs("filter",{id:n,width:"51",height:"67",x:"19",y:"22",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[Z.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Z.jsx("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),Z.jsx("feOffset",{}),Z.jsx("feGaussianBlur",{stdDeviation:"2"}),Z.jsx("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),Z.jsx("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_26376_152228"}),Z.jsx("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_26376_152228",result:"shape"})]})]})]})})}));kp.displayName="Cards";const np="animatedIconContainer--ef6d6",Sp=H.memo((({AnimatedElement:p})=>{const{state:g,animationType:m}=K(),t=H.useMemo((()=>"arrows"===p?Z.jsx(L,{spinButtonState:g,animationType:m}):"cards"===p?Z.jsx(kp,{spinButtonState:g,animationType:m}):Z.jsx(p,{spinButtonState:g,animationType:m})),[p,m,g]);return Z.jsx("div",{"data-role":"animated-element-container",className:np,children:t})}));Sp.displayName="SpinButtonAnimatedElement";const qp="background--132f2",Dp=({element:p})=>Z.jsx("div",{className:qp,"data-role":"custom-background",children:p}),Ip=H.memo((({iconComponent:p})=>Z.jsx("div",{className:E.icon,children:p})));Ip.displayName="SpinButtonIcon";var bp=m(297318),ep=m(228174),Np=m(124315);const dp=.295,Qp=({spinButtonSize:p,labelText:g})=>{const{labelRef:m,labelContainerRef:t,resize:h}=function(p){const g=H.useRef(null),m=H.useRef(null),Z=Np.i(),t=H.useCallback((()=>{const p=g.current,Z=m.current;if(!p||!(null==Z?void 0:Z.parentElement))return;p.style.width="",p.style.fontSize="";const H=parseFloat(window.getComputedStyle(p).fontSize),t=Z.parentElement.getBoundingClientRect(),h=new bp.I(t.left+t.width/2,t.top+t.height/2),k=t.width*dp,n=Math.max(t.width,t.height)/2,S=p.getBoundingClientRect(),q=parseFloat(window.getComputedStyle(Z).marginTop),D=parseFloat(window.getComputedStyle(Z).marginLeft),I=q/2,b=[new bp.I(S.left,S.top-I),new bp.I(S.right,S.top-I),new bp.I(S.right,S.bottom-I),new bp.I(S.left,S.bottom-I)],e=b.reduce(((p,g)=>h.distanceTo(p)>h.distanceTo(g)?p:g),b[0]),N=(n-D+1)/h.distanceTo(e),d=ep.GB(H*N,3);p.style.fontSize=`${Math.min(d,k)}px`,p.style.width="100%"}),[]);return H.useEffect((()=>{Z&&t()}),[Z,t,p]),{labelRef:g,resize:t,labelContainerRef:m}}(p);H.useLayoutEffect((()=>{h()}),[h,g]),H.useEffect((()=>(window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)})),[]);const{spinButtonLabelRepositioned:k}=V.vL();return Z.jsx("div",{className:E.labelContainer,ref:t,children:Z.jsx("span",{className:E.label,"data-role":"spin-button-label",style:{whiteSpace:k?"nowrap":"normal",marginBottom:k?"8%":"1%"},ref:m,children:g})})},$p="glare--6265d",wp=H.memo((()=>{const p=H.useId(),g=`glare-gradient-${p}`,m=`glare-c-${p}`,t=`glare-d-${p}`,h=`glare-e-${p}`,k=`glare-f-${p}`;return Z.jsx("div",{className:$p,children:Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 122 122",children:[Z.jsx("path",{fill:`url(#${g})`,fillRule:"evenodd",d:"M58 70c43-10 64 24 64-9 0-34-27-61-61-61S0 27 0 61c0 33 16 20 58 9Z",clipRule:"evenodd",opacity:".8"}),Z.jsx("g",{filter:`url(#${m})`,children:Z.jsx("path",{stroke:`url(#${t})`,d:"M61 117A56 56 0 1 0 61 5a56 56 0 0 0 0 112Z"})}),Z.jsx("g",{filter:`url(#${h})`,children:Z.jsx("path",{fill:`url(#${k})`,fillRule:"evenodd",d:"M60 0C27 0 0 27 0 60L60 0Z",clipRule:"evenodd"})}),Z.jsxs("defs",{children:[Z.jsxs("linearGradient",{id:g,x1:"61",x2:"61",y1:"0",y2:"46.1",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#fff",stopOpacity:".7"}),Z.jsx("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),Z.jsxs("linearGradient",{id:t,x1:"-21.6",x2:"156.9",y1:"-16.9",y2:"98.7",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#fff"}),Z.jsx("stop",{offset:".1",stopColor:"#fff",stopOpacity:".6"}),Z.jsx("stop",{offset:".2",stopColor:"#fff",stopOpacity:".7"}),Z.jsx("stop",{offset:".3",stopColor:"#fff",stopOpacity:"0"}),Z.jsx("stop",{offset:".7",stopColor:"#fff",stopOpacity:"0"}),Z.jsx("stop",{offset:"1",stopColor:"#fff"})]}),Z.jsxs("linearGradient",{id:k,x1:"18.1",x2:"20.8",y1:"17",y2:"19.7",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#FBFFEA",stopOpacity:".8"}),Z.jsx("stop",{offset:"1",stopColor:"#F2FFB5",stopOpacity:"0"})]}),Z.jsxs("filter",{id:m,width:"114.2",height:"114.2",x:"4",y:"4",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[Z.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Z.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),Z.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_21872_12807",stdDeviation:".3"})]}),Z.jsxs("filter",{id:h,width:"61.2",height:"61.2",x:"-1",y:"-1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[Z.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Z.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),Z.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_21872_12807",stdDeviation:".3"})]})]})]})})}));wp.displayName="Glare";const Yp=({children:p})=>Z.jsxs("div",{className:E.reactiveWrapper,"data-role":"spin-button-reactive-wrapper",children:[Z.jsx("div",{className:E.reactiveBaseStroke}),Z.jsx("div",{className:E.reactiveBaseFill}),p]}),ip="timerContainer--5b6ef",Pp="gradientFill--060dc",Jp="gradientMask--9f64f",yp=({timerDuration:p})=>Z.jsx("div",{className:ip,"data-role":"spin-disabled-timer",style:{animationDuration:`${p}ms`},children:Z.jsxs("svg",{viewBox:"0 0 100 100",children:[Z.jsx("foreignObject",{x:"0",y:"0",width:"100",height:"100",children:Z.jsx("div",{className:Pp})}),Z.jsxs("g",{className:Jp,children:[Z.jsx("rect",{x:"0",y:"0",width:"100",height:"100"}),Z.jsx("path",{d:"M 50 96 a 46 46 0 0 1 0 -92 46 46 0 0 1 0 92",style:{animationDuration:`${p}ms`}})]})]})}),Wp=({size:p,labelText:g,displaySmokePattern:m,icon:H,background:h,AnimatedElement:k})=>{const{state:n,timerDuration:S}=K();return Z.jsx("div",{className:t.A(E.baseRim,E[p]),"data-role":"spin-button-rim",children:Z.jsx("div",{className:E.baseStroke,"data-role":"spin-button-stroke",children:Z.jsxs("div",{className:E.baseFill,children:[S&&Z.jsx(yp,{timerDuration:S}),Z.jsxs(Yp,{children:[h&&Z.jsx(Dp,{element:h}),m&&Z.jsx("div",{className:E.smokePattern}),"Disabled"!==n&&Z.jsx(wp,{}),!H&&k&&Z.jsx(Sp,{AnimatedElement:k}),H?Z.jsx(Ip,{iconComponent:H}):Z.jsx(Qp,{labelText:g,spinButtonSize:p})]})]})})})},vp=H.memo((({size:p,labelText:g=V.Tl("spin.uppercase"),onClick:m,onDisabledClick:H,displaySmokePattern:t,disableInteractionAnimation:h=!1,state:k="Default",layerStyles:n,badgeValue:S=0,icon:q,timerDuration:D,tooltipTranslationKey:I,soundToPlay:b,background:e,AnimatedElement:N="arrows",BackPlate:d,disableGlowAnimation:Q=!1,disableCtaAnimation:$=!1})=>{const w={state:k,disableInteractionAnimation:h,timerDuration:D,disableCtaAnimation:$},{isSmallScreen:Y,isMediumScreen:i}=u.Qo(a.Q.size.value);return Z.jsx(f,{props:w,children:Z.jsxs(G,{layerStyles:n,children:[!!d&&Z.jsx(O,{children:({buttonState:p})=>Z.jsx(d,{buttonState:p})}),!Q&&Z.jsx(U,{}),Z.jsx(x.N,{isPhone:Y,isTablet:i,state:k,onClick:m,onDisabledClick:H,tooltip:I,soundToPlay:b,hideTooltipAfterClick:"Disabled"!==k,buttonContent:Z.jsx(Wp,{labelText:g,displaySmokePattern:t,icon:q,size:p,background:e,AnimatedElement:N}),size:"adjusting"}),S>0&&Z.jsx("div",{className:E.badge,children:Z.jsx(C.Ex,{value:S,theme:"goldenGradient",scale:Vp[p]})})]})})}));vp.displayName="SpinButton";const Vp={xxl:2.5,xl:2.4,lg:2.1,md:1.9,sm:1.7,xs:1.5,xxs:1.4,xxxs:1.25};function zp({buttonVersion:p,platform:g,isDisabled:m=!1,onClick:t,currentPopup:k,xxxtremeDrawerVisible:n,minBetStakeDisabledReason:S,scale:q}){const D=g===v.OD.Desktop,I=p!==h.U.TopUp,b=m?"Disabled":"Default",N=function(p,g){return p===v.OD.Desktop?"xl":p===v.OD.Tablet?"md":g>P.vQ?"xs":"xxxs"}(g,q),d=I?V.Tl(y.R1.SpinUppercase):V.Tl(y.R1.TopUpUppercase),Q=Xp[p],$=H.useMemo((()=>()=>Z.jsx(e,{buttonVersion:p,isDesktop:D,disabled:m})),[p,m,D]),w=S&&y.$T[S],Y=H.useCallback((p=>{p.preventDefault();const g=document.activeElement;null==g||g.blur(),t()}),[t]),J=H.useCallback((p=>{if(p.repeat)return;p.preventDefault();const g=document.activeElement;null==g||g.blur(),m||t()}),[m,t]),W=!!k&&k.isBlocking;return B.f({shortcutValidator:z.gN,isEnabled:D&&!W&&!n,onKeyDown:J}),Z.jsx(vp,{size:N,labelText:d,onClick:Y,state:b,AnimatedElement:I?"arrows":i,layerStyles:Q,BackPlate:$,tooltipTranslationKey:w})}const Bp=W.S((p=>{const g=H.useCallback((g=>{g&&p.ui.mainButton.setRef(g)}),[p.ui]),m=p.ui.mainButton.isDisabled,t=H.useCallback((()=>{p.slamStop.canSlotBeSlamStopped||m||(p.ui.uiState.isQualifyingPhase&&p.soundStore.triggerEvent(J.m.ButtonSpin,"press"),p.ui.uiState.isTopUpGame&&p.soundStore.triggerEvent(J.m.ButtonSpinTopUp,"press"))}),[p.soundStore,p.ui.uiState,p.slamStop,m]);return Z.jsx("div",{ref:g,onPointerDown:t,children:Z.jsx(zp,{isDisabled:m,buttonVersion:p.ui.mainButton.buttonVersion,onClick:p.ui.mainButton.onClick,platform:p.device.platform,currentPopup:p.abstractGame.agApi.popups.current.value,xxxtremeDrawerVisible:p.ui.xxxtremeDrawer.isVisible,minBetStakeDisabledReason:p.bettingStore.minStakeDisabledReason,scale:p.ui.ctaButtonScaleFactor})})})),up=(p,g)=>`linear-gradient(to top, ${p}, ${g})`,ap="linear-gradient(180deg, #4A4A4A 2.73%, #6D6D6D 97.83%)",Fp="linear-gradient(180deg, #685017 0%, #82621F 100%)",Xp={"MainButtonVersion.NormalSpin":{stroke:{default:up("#38DBFF","#008FBC")},fill:{default:"radial-gradient(57% 57% at 50% 32%, #35DBFF 0%, #015584 100%)",hover:"radial-gradient(57% 57% at 50% 32%, #A1EEFF 0%, #006BA8 100%)",disabled:ap},underlayer:{activated:Fp}},"MainButtonVersion.XXXtremeSpin":{stroke:{default:up("#B5981F","#E1C037")},fill:{default:"radial-gradient(57.4% 57% at 50% 32%, #FFD600 0%, #DB4400 50%, #8E0100 100%)",hover:"radial-gradient(57% 57% at 50% 32%, #FFD600 5%, #F9BE00 20%, #DB4400 73%, #8E0100 100%)",disabled:ap},underlayer:{activated:Fp}},"MainButtonVersion.TopUp":{stroke:{default:up("#DB5061","#FF9595")},fill:{default:"radial-gradient(57% 57% at 50% 32%, #FFB09E 13%, #B72E3E 100%)",hover:"radial-gradient(57% 57% at 50% 32%, #FFD3C9 13%, #B72E3E 100%)",disabled:ap},underlayer:{activated:Fp},labelMarginTop:2}}},542040:(p,g,m)=>{m.d(g,{Q:()=>q,v:()=>D});var Z=m(64922),H=m(111565),t=m(973214),h=m(836202),k=m(715907),n=m(767140),S=m(554267);function q({onClick:p,isPhone:g,isInTurboMode:m}){return Z.jsx(k.g,{state:m?"Activated":void 0,onClick:p,iconComponent:Z.jsx(n.Q,{speed:m?S.hR.Fast:S.hR.Normal,speedModeCount:2},"turbo-icon"),layerStyles:H.Eh.customizableButton,tooltip:t.R1.TurboMode,size:g?"S":"M"})}const D=h.S((p=>p.settings.isTurboSpinEnabled?Z.jsx(q,{isInTurboMode:p.ui.isInTurboMode,onClick:p.ui.toggleTurboMode,isPhone:p.device.isPhone}):null))},111565:(p,g,m)=>{m.d(g,{Ah:()=>h,Eh:()=>H,Ib:()=>t});var Z=m(214382);const H={customizableButton:{customizable:{mainLight:{gradientDisabled:"linear-gradient(rgb(249, 162, 114) 0%, rgba(139, 63, 58) 100%)"},midBody:{strokeColor:"linear-gradient(rgb(253, 213, 191) 0%, rgba(157, 93, 88) 100%)",strokeColorActivated:"rgb(130, 53, 33)",gradient:"linear-gradient(rgb(249, 162, 114) 0%, rgba(139, 63, 58) 100%)",gradientActivated:"#CA6044",gradientDisabled:"linear-gradient(rgb(249, 162, 114) 0%, rgba(139, 63, 58) 100%)"},border:{baseBorderGradient:"linear-gradient(rgb(248, 227, 155) 0%, rgb(239, 197, 88) 25%, rgb(248, 227, 155) 50%, rgb(239, 197, 88) 75%, rgb(135, 106, 39) 100%"}},secondary:{background:{default:"rgba(82, 116, 130, 0.6)",disabled:"rgba(82, 116, 130, 0.6)"}},secondaryGold:{background:{default:"rgba(82, 116, 130, 0.6)",disabled:"rgba(82, 116, 130, 0.6)"}},secondaryPromotions:{background:{default:"rgba(82, 116, 130, 0.6)",disabled:"rgba(82, 116, 130, 0.6)"}}},secondaryButton:{backgroundColor:{default:"rgba(82, 116, 130, 0.6)",disabled:"rgba(82, 116, 130, 0.6)",promo:"rgba(82, 116, 130, 0.6)"}}};var t;(function(p){p["XXXtremeDialog"]="XXXtremeDialog"})(t||(t={}));const h={[Z._e.King]:-1,[Z._e.Jack]:-3,[Z._e.Ten]:1}},457946:(p,g,m)=>{m.d(g,{X:()=>t});var Z=m(377810);const H=.1;function t(p,g,m,t,h=1,k=H){const[n,S]=Z.useState(p);return Z.useEffect((()=>{const p=null==g?void 0:g.current,Z=m.current;if(!p||!Z)return;const H=Z.scrollWidth/p.clientWidth;if(H>1&&H!==Number.POSITIVE_INFINITY){const p=Number((n/H).toFixed(h))-k;p>0&&S(p)}}),[]),{styleToFitTextInOneLine:{fontSize:`${t?Math.min(p,n):n}em`}}}},104411:(p,g,m)=>{m.d(g,{A:()=>C});var Z=m(64922),H=m(699695),t=m(377810),h=m(457946);const k="bonusList--fd98e",n="Phone--8c049",S="bonusHeader--e08a9",q="superxxxtreme--ef2d1",D="bonusItem--8fbc0",I="bonusTitle--b3c19",b="shadow--c36fc",e="fill--3da17",N="bonusDescription--b34c2",d=p=>{const{className:g,children:m}=p;return Z.jsx("div",{className:H.A(g,k),children:m})};var Q=m(973214),$=m(693206);const w=m.p+"images/superxxxtr.86b9ef73.webp",Y=m.p+"images/superxxxtr.c76b3f5c.webp",i=t.memo((({isPhone:p,isSuperXXXtreme:g})=>{const m=Q.Tl(Q.R1.SuperXXXtremeSpins),k=Q.Tl(Q.R1.SuperXXXtremeSpinsDescriptionP1),i=Q.Tl(Q.R1.SuperXXXtremeSpinsDescriptionP2),P=t.useRef(null),J=t.useRef(null),{styleToFitTextInOneLine:y}=h.X(2.4,P,J,!0);return Z.jsxs(d,{className:H.A({[n]:p,[q]:g}),children:[Z.jsxs("div",{ref:P,className:I,style:y,children:[Z.jsx("span",{ref:J,className:$.A.unsafeSizeRef,children:m}),Z.jsxs("span",{className:b,children:[" ",m," "]}),Z.jsxs("span",{className:e,children:[" ",m," "]})]}),!p&&Z.jsx("img",{src:w,className:S}),Z.jsxs("div",{className:D,children:[p&&Z.jsx("img",{src:Y,className:S}),Z.jsxs("div",{className:N,children:[" ",k," "]}),Z.jsxs("div",{className:N,children:[" ",i," "]})]})]})})),P=m.p+"images/xxxtreme.b92dc267.webp",J=m.p+"images/xxxtremeph.5ef5f220.webp",y=t.memo((({isPhone:p})=>{const g=Q.Tl(Q.R1.XXXtremeSpins),m=Q.Tl(Q.R1.XXXtremeSpinsDescriptionP1),k=Q.Tl(Q.R1.XXXtremeSpinsDescriptionP2),q=t.useRef(null),w=t.useRef(null),{styleToFitTextInOneLine:Y}=h.X(2.4,q,w,!0);return Z.jsxs(d,{className:H.A({[n]:p}),children:[Z.jsxs("div",{className:I,ref:q,style:Y,children:[Z.jsx("span",{className:$.A.unsafeSizeRef,ref:w,children:g}),Z.jsxs("span",{className:b,children:[" ",g," "]}),Z.jsxs("span",{className:e,children:[" ",g," "]})]}),!p&&Z.jsx("img",{src:P,className:S}),Z.jsxs("div",{className:D,children:[p&&Z.jsx("img",{src:J,className:S}),Z.jsxs("div",{className:N,children:[" ",m," "]}),Z.jsxs("div",{className:N,children:[" ",k," "]})]})]})}));var W=m(417674);const v=m.p+"images/glass.57f8ac35.webp",V=m.p+"images/glassphone.f4f04c26.webp",z=m.p+"images/stars.9a9b1d23.webp",B=m.p+"images/starsphone.e227f65b.webp",u="xxxtremeSelectionMode--36878",a="Phone--3c5ec",F="background--9f5b1",X="innerBorder--92db3",K="glass--eb082",j="stars--564e8",r={[W.ow.XXXtremeSpin]:"xxxtreme--8a880",[W.ow.SuperXXXtremeSpin]:"superxxxtreme--95e2a"},U={[W.ow.XXXtremeSpin]:y,[W.ow.SuperXXXtremeSpin]:i},C=({children:p,isPhone:g,mode:m})=>{const t=U[m],h=m===W.ow.SuperXXXtremeSpin;return Z.jsx("div",{className:H.A(u,{[a]:g}),"data-role":m,children:Z.jsx("div",{className:X,children:Z.jsxs("div",{className:H.A(F,r[m]),children:[h&&Z.jsx("img",{src:g?B:z,className:j}),Z.jsx("img",{src:g?V:v,className:K}),Z.jsx(t,{isPhone:g,isSuperXXXtreme:h}),p]})})})}},816531:(p,g,m)=>{m.d(g,{D:()=>G,_:()=>M});var Z=m(64922),H=m(699695),t=m(377810);const h=t.memo((({text:p,maxFontSize:g=1,initialFontSize:m=1,horizontalAlignment:H="middle",width:h="100%"})=>{const k=t.useRef(null),n=t.useRef(null),[S,q]=t.useState(m),[D,I]=t.useState(!1),b=function(p){const g={x:"50%",textAnchor:"middle"};return"left"===p?(g.x="2%",g.textAnchor="start"):"right"===p&&(g.x="98%",g.textAnchor="end"),g}(H),e=t.useCallback((p=>{if(k.current=p,k.current&&n.current){const p=k.current.getBoundingClientRect(),Z=n.current.getBoundingClientRect(),H=m/S,t=p.width/(1.04*Z.width*H),h=p.height/(.82*Z.height*H),D=Math.min(t,h,g);q(D),I(!0)}}),[g,p]);return Z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:h,height:"100%",fill:"none",style:{visibility:D?"visible":"hidden"},ref:e,"data-role":"text-svg",children:[Z.jsxs("g",{ref:n,style:{fontSize:`${S}em`},children:[Z.jsx("text",{dy:"0.08em",fontFamily:"Inter",fontWeight:"800",letterSpacing:"-0.02em",stroke:"#793300",strokeLinejoin:"round",strokeWidth:"0.1em",fill:"#793300",style:{whiteSpace:"pre"},x:b.x,y:"50%",textAnchor:b.textAnchor,dominantBaseline:"central",children:p}),Z.jsx("text",{stroke:"url(#text-brown-gradient-stroke)",strokeWidth:"0.1em",strokeLinejoin:"round",fontFamily:"Inter",fontWeight:"800",letterSpacing:"-0.02em",style:{whiteSpace:"pre"},x:b.x,y:"50%",textAnchor:b.textAnchor,dominantBaseline:"central",children:p}),Z.jsx("text",{stroke:"url(#text-gold-gradient-stroke)",strokeWidth:"0.05em",strokeLinejoin:"round",fontFamily:"Inter",fontWeight:"800",letterSpacing:"-0.02em",style:{whiteSpace:"pre"},x:b.x,y:"50%",textAnchor:b.textAnchor,dominantBaseline:"central",children:p}),Z.jsx("text",{fill:"url(#text-fill-gradient)",fontFamily:"Inter",fontWeight:"800",letterSpacing:"-0.02em",style:{whiteSpace:"pre"},x:b.x,y:"50%",textAnchor:b.textAnchor,dominantBaseline:"central",children:p})]}),Z.jsxs("defs",{children:[Z.jsxs("linearGradient",{id:"text-brown-gradient-stroke",gradientTransform:"rotate(90)",x1:"5%",x2:"95%",children:[Z.jsx("stop",{stopColor:"#985b00"}),Z.jsx("stop",{offset:"0.5",stopColor:"#da8d1a"}),Z.jsx("stop",{offset:"1",stopColor:"#9d4d03"})]}),Z.jsxs("linearGradient",{id:"text-fill-gradient",gradientTransform:"rotate(90)",x1:"25%",x2:"85%",children:[Z.jsx("stop",{stopColor:"#ffdf6f"}),Z.jsx("stop",{offset:"0.08",stopColor:"#ffdf6f"}),Z.jsx("stop",{offset:"0.18",stopColor:"#fff8e5"}),Z.jsx("stop",{offset:"0.44",stopColor:"#ffdf6f"}),Z.jsx("stop",{offset:"0.73",stopColor:"#e49805"}),Z.jsx("stop",{offset:"1",stopColor:"#ffcd44"})]}),Z.jsxs("linearGradient",{id:"text-gold-gradient-stroke",gradientTransform:"rotate(90)",x1:"5%",x2:"95%",children:[Z.jsx("stop",{stopColor:"#87550a"}),Z.jsx("stop",{offset:"0.5",stopColor:"#cb7e2c"}),Z.jsx("stop",{offset:"1",stopColor:"#763200"})]})]})]})}));var k=m(462566);const n={triangleButton:"triangleButton--93f4d",isPhone:"isPhone--70af9",iconPlus:"iconPlus--0bbd9",iconMinus:"iconMinus--90b23",increment:"increment--c37d2",decrement:"decrement--5fb41",fillDefault:"fillDefault--8dff0",fillActive:"fillActive--69563",fillHover:"fillHover--da127",fillDisabled:"fillDisabled--d520a",disabled:"disabled--6a652",modeDisabled:"modeDisabled--6ff20",enabled:"enabled--97f0d",hoverable:"hoverable--75b3e"},S="M6.1094 2.20442C4.78029 1.31834 3 2.27113 3 3.86852V44.1315C3 45.7289 4.7803 46.6817 6.1094 45.7956L36.3066 25.6641C37.4941 24.8725 37.4941 23.1275 36.3066 22.3359L6.1094 2.20442Z",q="M5.83205 2.62044C4.83522 1.95589 3.5 2.67048 3.5 3.86852V44.1315C3.5 45.3295 4.83522 46.0441 5.83205 45.3796L36.0293 25.2481C36.9199 24.6543 36.9199 23.3457 36.0293 22.7519L5.83205 2.62044Z",D="M4 3.86863C4 3.06993 4.89015 2.59354 5.5547 3.03657L35.7519 23.1681C36.3457 23.5639 36.3457 24.4363 35.7519 24.8322L5.5547 44.9636C4.89015 45.4067 4 44.9303 4 44.1316V3.86863Z",I="M4.5 3.86852C4.5 3.46917 4.94507 3.23097 5.27735 3.45249L35.4746 23.584C35.7714 23.7819 35.7714 24.2181 35.4746 24.416L5.27735 44.5475C4.94507 44.769 4.5 44.5308 4.5 44.1315V3.86852Z",b=k.u((({type:p,onClick:g,disabled:m,isModeDisabled:h,isPhone:k,tooltipComponent:b,showTooltip:e})=>{const N=t.useCallback((()=>{m?null==e||e():g()}),[m,g,e]);return Z.jsxs(Z.Fragment,{children:[b,Z.jsxs("svg",{className:H.A(n.triangleButton,n[p],m&&n.disabled,!m&&n.enabled,h&&n.modeDisabled,k&&n.isPhone),onClick:N,"data-role":"increment"===p?"bet-increment":"bet-decrement",width:"40",height:"48",viewBox:"0 0 40 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Z.jsx("path",{fill:"url(#gradient1)",stroke:"url(#gradient1)",strokeWidth:"2",d:S}),Z.jsx("path",{stroke:"url(#gradient2)",d:q}),Z.jsx("g",{className:n.fillDefault,children:Z.jsx("path",{fill:"url(#gradient3Default)",d:D})}),Z.jsx("g",{className:n.fillHover,children:Z.jsx("path",{fill:"url(#gradient3Hover)",d:D})}),Z.jsx("g",{className:n.fillDisabled,children:Z.jsx("path",{fill:"url(#gradient3Disabled)",d:D})}),Z.jsxs("g",{className:n.fillActive,children:[Z.jsx("g",{filter:"url(#filterShadow)",children:Z.jsx("path",{fill:"#ca6044",d:D})}),Z.jsx("path",{stroke:"#3F1C02",d:I})]}),Z.jsxs("g",{fill:"#FEF0CC",fillRule:"evenodd",clipRule:"evenodd",children:[Z.jsx("path",{className:n.iconPlus,d:"M17.8162 30V25.8162H22V22.1838H17.8162V18H14.1838V22.1838H10V25.8162H14.1838V30H17.8162Z"}),Z.jsx("path",{className:n.iconMinus,d:"M 22 25.8162 V 22.1838 H 10 V 25.8162 Z"})]}),Z.jsxs("defs",{children:[Z.jsxs("filter",{id:"filterShadow",x:"3.25",y:"2",width:"34",height:"44",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Z.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Z.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),Z.jsx("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Z.jsx("feOffset",{dx:"1",dy:"1"}),Z.jsx("feGaussianBlur",{stdDeviation:"2"}),Z.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),Z.jsx("feColorMatrix",{values:"0 0 0 0 0.0833333 0 0 0 0 0.0362153 0 0 0 0 0.00138889 0 0 0 0.7 0"}),Z.jsx("feBlend",{in2:"shape",result:"innerShadow1"}),Z.jsx("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Z.jsx("feOffset",{dx:"-0.5",dy:"-0.5"}),Z.jsx("feGaussianBlur",{stdDeviation:"1.75"}),Z.jsx("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),Z.jsx("feColorMatrix",{values:"0 0 0 0 0.0823529 0 0 0 0 0.0352941 0 0 0 0 0 0 0 0 0.7 0"}),Z.jsx("feBlend",{in2:"innerShadow1",result:"innerShadow2"})]}),Z.jsxs("linearGradient",{id:"gradient1",x1:"16",y1:"49",x2:"15.4244",y2:"-10.9945",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#AA5D0B"}),Z.jsx("stop",{offset:"0.161945",stopColor:"#EBC573"}),Z.jsx("stop",{offset:"0.266017",stopColor:"#D3923F"}),Z.jsx("stop",{offset:"0.361014",stopColor:"#D69847"}),Z.jsx("stop",{offset:"0.492138",stopColor:"#E3B866"}),Z.jsx("stop",{offset:"0.670549",stopColor:"#E09D1C"}),Z.jsx("stop",{offset:"1",stopColor:"#F0ECBA"})]}),Z.jsxs("linearGradient",{id:"gradient2",x1:"6.59286",y1:"29.7705",x2:"40.0643",y2:"29.7705",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#F8E39B"}),Z.jsx("stop",{offset:"0.267728",stopColor:"#EFC558"}),Z.jsx("stop",{offset:"0.5",stopColor:"#F8E39B"}),Z.jsx("stop",{offset:"0.75",stopColor:"#EFC558"}),Z.jsx("stop",{offset:"1",stopColor:"#876A27"})]}),Z.jsxs("linearGradient",{id:"gradient3Default",x1:"20.0986",y1:"2.86694",x2:"20.0986",y2:"45.1333",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#ff876c"}),Z.jsx("stop",{offset:"1",stopColor:"#662229"})]}),Z.jsxs("linearGradient",{id:"gradient3Hover",x1:"4",y1:"2",x2:"4",y2:"46",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#ffb48b"}),Z.jsx("stop",{offset:"1",stopColor:"#ac5c57"})]}),Z.jsxs("linearGradient",{id:"gradient3Disabled",x1:"51.3873",y1:"2",x2:"51.3872",y2:"45.9409",gradientUnits:"userSpaceOnUse",children:[Z.jsx("stop",{stopColor:"#f9a272"}),Z.jsx("stop",{offset:"1",stopColor:"#8b3f3a"})]})]})]})]})}),{persistAfterClick:!0,shouldShowImmediately:!0,hasAnchor:!1});var e=m(973214),N=m(683935);const d="xxxtremeBetStake--22a3d",Q="Phone--287ac",$="betStakeRow--9781f",w="Tablet--a0a07",Y="betStakeInfo--32a94",i="betPerSpinText--3106f",P="triangleButton--e603a",J="left--f26bb",y="right--2a407",W="baseBet--72574",v="baseBetValue--8a0a8",V=({currencySymbol:p,isPhone:g,isTablet:m,betPerSpin:t,baseBet:k,isIncreaseEnabled:S,increaseTooltip:q,increase:D,isDecreaseEnabled:I,decreaseTooltip:V,decrease:z,isModeDisabled:B})=>{const u=!S,a=!I;return Z.jsxs("div",{className:H.A(d,{[Q]:g,[w]:m}),children:[Z.jsx("div",{className:i,children:e.Tl(e.R1.BetPerSpin)}),Z.jsxs("div",{className:$,children:[Z.jsx("div",{className:H.A(P,J,{[n.hoverable]:!g&&I}),children:Z.jsx(b,{onClick:z,type:"decrement",disabled:a,isPhone:g,tooltip:V,isModeDisabled:B})}),Z.jsx("div",{className:Y,children:Z.jsx(h,{text:N.A(t,p)})}),Z.jsx("div",{className:H.A(P,y,{[n.hoverable]:!g&&S}),children:Z.jsx(b,{onClick:D,type:"increment",disabled:u,isPhone:g,tooltip:q,isModeDisabled:B})})]}),Z.jsxs("div",{className:W,children:[e.Tl(e.R1.BaseBet),":",Z.jsx("span",{className:v,children:N.A(k,p)})]})]})};var z=m(104411),B=m(653677),u=m(346838),a=m(843717);const F="activateButton--ae4e0",X="Phone--09dfa",K="innerBorder--428ec",j="body--e56f2",r="enabled--11947",U="hoverable--4182c",C="label--50a02",x="mainLight--00627",R="active-button";function c(p){const{onClick:g,enabled:m,buttonRef:h,isPhone:k}=p,n=u.D(),S=t.useCallback((()=>{m&&g(),n.playSound(a.Wo.ClickUIButton)}),[m,g,n]);return Z.jsx("div",{ref:h,className:H.A(F,{[U]:!k&&m,[X]:k,[r]:m}),"data-role":R,onClick:S,children:Z.jsx("div",{className:K,children:Z.jsxs("div",{className:j,children:[Z.jsx("div",{className:x}),Z.jsx("div",{className:C,children:Z.jsx(B.q,{children:e.R1.Activate})})]})})})}const O=t.forwardRef(((p,g)=>Z.jsx(c,{...p,buttonRef:g}))),f="xxxtremeSelectionModeContainer--23ea1",_="activateButtonContainer--5b5e5",E="disabled--64e21",G=t.memo((({isPhone:p,isTablet:g,mode:m,betPerSpin:h,baseBet:k,currencySymbol:n,isIncreaseEnabled:S,onIncrease:q,isDecreaseEnabled:D,onDecrease:I,isSelectionEnabled:b,onSelect:e,tooltipComponent:N,showTooltip:d,getDisabledBetSelectorTooltip:Q})=>{const $=t.useCallback((()=>{b&&e(m)}),[e,m,b]),w=!b,Y=Q&&Q({operation:"increase",spinMode:m}),i=Q&&Q({operation:"decrease",spinMode:m}),P=t.useCallback((()=>null==d?void 0:d()),[d]);return Z.jsxs("div",{className:f,onClick:P,children:[N,Z.jsxs("div",{className:H.A({[E]:w}),children:[Z.jsx(z.A,{isPhone:p,mode:m,children:Z.jsx(V,{currencySymbol:n,isPhone:p,isTablet:g,betPerSpin:h,baseBet:k,isIncreaseEnabled:S,increaseTooltip:Y,increase:q,isDecreaseEnabled:D,decreaseTooltip:i,decrease:I,isModeDisabled:w})}),Z.jsx("div",{className:_,children:Z.jsx(O,{onClick:$,enabled:b,isPhone:p})})]})]})})),M=k.u(G,{persistAfterClick:!0,shouldShowImmediately:!0,hasAnchor:!1})},417674:(p,g,m)=>{m.d(g,{Ad:()=>c,Am:()=>Y,Bh:()=>i,CZ:()=>x,G6:()=>U,LF:()=>t,ND:()=>e,NS:()=>P,NW:()=>Q,O6:()=>n,OK:()=>K,Pd:()=>E,Q0:()=>S,Q6:()=>G,R9:()=>l,S5:()=>B,Sr:()=>V,TK:()=>r,UQ:()=>A,Uo:()=>u,VD:()=>D,X4:()=>J,_X:()=>v,ac:()=>F,ah:()=>s,dC:()=>I,fO:()=>z,gv:()=>w,hg:()=>X,hm:()=>N,il:()=>h,k7:()=>f,kN:()=>d,kz:()=>_,nR:()=>a,ni:()=>$,o5:()=>q,ow:()=>y,sd:()=>W,t:()=>k,tX:()=>M,up:()=>j,vQ:()=>T,yz:()=>b});var Z=m(214382),H=m(981298);const t={resolution:2,spinConfig:Z.vI,enableFrontendBalloonRace:!1,showPopZones:!1},h=3,k=17e3,n=1e3,S=500,q=1e3,D=500,I=[0,1,2],b=[0,1,2,3,4],e=2,N=2,d=[2,3,5,10],Q=.1,$=50,w=Number.MAX_SAFE_INTEGER,Y=Number.MAX_SAFE_INTEGER,i=1e3,P=9.2;var J,y;(function(p){p["SouthAfrica"]="southAfrica",p["Romania"]="romania",p["Georgia"]="georgia"})(J||(J={})),function(p){p["NormalSpin"]="Normal",p["XXXtremeSpin"]="XXXtreme",p["SuperXXXtremeSpin"]="SuperXXXtreme"}(y||(y={}));const W=[y.XXXtremeSpin,y.SuperXXXtremeSpin],v=[y.NormalSpin,y.XXXtremeSpin,y.SuperXXXtremeSpin];var V;(function(p){p["Qualification"]="BetLimitGroup.Qualification",p["NormalSpin"]="BetLimitGroup.NormalSpin",p["XXXtremeSpin"]="BetLimitGroup.XXXtremeSpin",p["SuperXXXtremeSpin"]="BetLimitGroup.SuperXXXtremeSpin",p["TopUp"]="BetLimitGroup.TopUp"})(V||(V={}));const z=50,B={[y.NormalSpin]:1,[y.XXXtremeSpin]:5,[y.SuperXXXtremeSpin]:z},u=[H.R.None,H.R.Small,H.R.Medium,H.R.Big],a={[Z._e.SilverRibbon]:[4,7.5,15],[Z._e.BronzeRibbon]:[1.5,5,10],[Z._e.Ace]:[.5,1.5,3],[Z._e.King]:[.4,1,2],[Z._e.Queen]:[.3,.8,1.5],[Z._e.Jack]:[.2,.5,1.3],[Z._e.Ten]:[.1,.3,1]},F=Z.mZ.BasicSymbols.map((p=>({symbol:p,payouts:a[p]}))),X=2,K=60,j=160,r=["normal","fast"],U=r.reduce(((p,g,m)=>(p[g]=m,p)),{}),C={qualifiedScatterAnimationDurationSec:1,qualifiedScatterMidAnimationDelaySec:.8,qualifiedScatterBeforeAnimationDelaySec:1,emptyScatterSymbolFadeOutDelay:2,slotFadeinDurationSec:1.2,slotFadeoutDurationSec:1.2,bonusGameMultipliersRevealDelay:11.2,bonusGameMultipliersScaleTime:.25,bonusGameMultipliersFlyTime:.3,bonusGameMultiplierAppearanceInterval:.5,bonusGameMultiplierAppearancePhoneDelay:1,bonusGameMultiplierAppearanceDesktopTabletDelay:0,bonusGameMultiplierFadeInTime:.5,bonusGameMultiplierFadeOutTime:.1,topUpMultiplierIncreaseAnimationDurationSec:.8,bonusGameTopMultiplierIncreaseAnimationDurationSec:.5,winLineFadeDuration:.1,winLineFadeDelay:1,winLineIntroFadeDelay:1,cloudAppearAnimationDuration:2,cloudFloatAnimationDuration:9,qualifiedCloudScatterAnimationDurationSec:2,qualifiedCloudFadeOutDurationSec:1,bonusRoundCloudScatterAnimationDurationSec:1,bonusRoundCloudFadeOutDurationSec:1,youQualifiedFadeDuration:.2,youQualifiedFadeOutDelay:2.2,flagFadeInDuration:1,bonusRoundEndFadeOutDurationSec:.2,slotWinningResultFadeIn:.3,slotWinningResultFadeOut:.2,nearWinAnimationFadeOut:.5,ueBalloonAppearanceDelay:2700,gameResultMultiplierDimDelay:1.9,gameResultMultiplierDimDuration:.5,gameResultPauseBeforeWinningResultShow:.5,bonusGameScatterFlightToCenterTimeSec:.67,bonusGameScatterScaleTimeSec:.2,bonusGameScatterRadialLightScaleUpTimeSec:.2,bonusGameScatterRadialLightScaleDownTimeSec:.1,bonusGameScatterGlowAnimationTimeSec:1,bonusGameScatterBeamAnimationStartDelaySec:2.466,bonusGameScatterBeamTimeForTopToReachBonusMultipliersSec:.367,bonusGameScatterBeamTimeForBottomToReachBonusMultipliersSec:.567,bonusGameMultipliersScaleUpTimeSec:.25,bonusGameScatterBackgroundFadeInDurationSec:.2,bonusGameScatterBackgroundFadeOutDelaySec:4.666,bonusGameScatterBackgroundFadeOutDurationSec:.167,bonusGameTopMultiplierShineAnimationDelaySec:1,bonusGameTopMultiplierShineAnimationDurationSec:1.5,bonusGameTopMultiplierGlowFadeAnimationDurationSec:1,maxDelayBeforeQualifyingSec:15,bonusRoundEndVideoSwitchDelay:.5,ballRiseDuration:.2128,ballScaleInDuration:.532,ballHoldDelay:.44,ballScaleOutDuration:.388,ballTrailFadeOutDelay:.4,ballTrailFadeOutDuration:.25},x={normal:C,fast:{...C,slotWinningResultFadeIn:.2,slotWinningResultFadeOut:.1,nearWinAnimationFadeOut:.25}},R=.5,c={sparkleParticleAnimationDuration:R,...Object.entries({sparkleParticleAlphaUpDuration:.15,sparkleParticleAlphaFixedDuration:.7,sparkleParticleAlphaDownDuration:.15,sparkleParticleScaleStart:.15,sparkleParticleScaleDuration:.5,sparkleParticleStart:.15}).reduce(((p,[g,m])=>(p[g]=m*R,p)),{})},O=1.15,f={mainAnimationDuration:O,...Object.entries({wildWithGlowScaleStart:.12,wildWithGlowScaleUpDuration:.08,wildWithGlowScaleDownDuration:.15,wildWithGlowAlphaUpDuration:.12,wildWithGlowAlphaDownDuration:.23,radialLightScaleStart:.12,radialLightScaleUpDuration:.18,radialLightScaleFixedDuration:.05,radialLightScaleDownDuration:.2,radialLightRotationDuration:.55,letterAlphaStart:.29,letterAlphaDuration:.05,letterScaleStart:.35,letterScaleUpToBaseDuration:.16,letterScaleUpDuration:.04,letterScaleDownToBaseDuration:.1,letterPositionStart:.35,letterPositionDuration:.15,letterAnchorStart:.33,letterAnchorDuration:.17,hideOtherSymbolsStart:.47,hideOtherSymbolsDuration:.03}).reduce(((p,[g,m])=>(p[g]=m*O,p)),{}),...c},_={scaleUpAnimationDurationSec:.4*C.topUpMultiplierIncreaseAnimationDurationSec,scaleDownAnimationDurationSec:.6*C.topUpMultiplierIncreaseAnimationDurationSec,baseLetterSpacing:-3,appearance:{startLetterSpacing:-17,middleLetterSpacing:-10,relStartTextScale:0,relMiddleTextScale:1.2,relEndTextScale:1,relStartRibbonScale:1,relMiddleRibbonScale:1.2,relEndRibbonScale:1},increase:{middleLetterSpacing:-10,relStartTextScale:1,relMiddleTextScale:1.5,relEndTextScale:1,relStartRibbonScale:1,relMiddleRibbonScale:1.2,relEndRibbonScale:1}},E={bonusGameScatterMidScale:1.2,bonusGameScatterEndScale:1,bonusGameScatterRadialLightStartScale:0,bonusGameScatterGradientBackgroundStartScale:0,bonusGameScatterGradientBackgroundEndScaleRatio:1,bonusGameScatterRadialLightMidScaleRatio:1.7,bonusGameScatterRadialLightEndScaleRatio:1.5,bonusGameMultiplierEndScaleRatio:1.1,bonusGameMultiplierEndOuterGlowStrength:1.2,bonusGameMultiplierTeaseValues:48,bonusGameMultiplierCountUpGlowScaleRatio:1.15,scatterMidRelPosition:{x:.5,y:.4}},G=5,M=1,s={featureScreenShowCount:{storageKey:`${"balloonrace.common."}featureScreenShowCount`,isValidValue:p=>!Number.isNaN(Number(p)),getDefaultValue:()=>0}},T=.7,l="xxxtreme-drawer",A=[0]},504098:(p,g,m)=>{m.d(g,{y7:()=>K,U3:()=>u,Tx:()=>X,wE:()=>a});var Z=m(478128);const H=`info face="cloudMultiplierFont" size=110 bold=0 italic=0 charset="" unicode=1 stretchH=100 smooth=1 aa=1 padding=1,1,1,1 spacing=1,1\ncommon lineHeight=110 base=85 scaleW=312 scaleH=327 pages=1 packed=0\npage id=0 file="Unnamed.png"\nchars count=13\nchar id=32 x=0 y=0 width=0 height=0 xoffset=0 yoffset=0 xadvance=31 page=0 chnl=15\nchar id=43 x=154 y=221 width=62 height=63 xoffset=-1 yoffset=23 xadvance=60 page=0 chnl=15\nchar id=48 x=82 y=111 width=76 height=107 xoffset=-1 yoffset=0 xadvance=74 page=0 chnl=15\nchar id=49 x=249 y=0 width=54 height=108 xoffset=-1 yoffset=-1 xadvance=52 page=0 chnl=15\nchar id=50 x=159 y=111 width=73 height=107 xoffset=-1 yoffset=0 xadvance=71 page=0 chnl=15\nchar id=51 x=77 y=221 width=76 height=105 xoffset=-1 yoffset=0 xadvance=74 page=0 chnl=15\nchar id=52 x=160 y=0 width=88 height=109 xoffset=-1 yoffset=-1 xadvance=86 page=0 chnl=15\nchar id=53 x=0 y=111 width=81 height=109 xoffset=-1 yoffset=-1 xadvance=79 page=0 chnl=15\nchar id=54 x=0 y=221 width=76 height=106 xoffset=-1 yoffset=-1 xadvance=74 page=0 chnl=15\nchar id=55 x=0 y=0 width=76 height=110 xoffset=-1 yoffset=-1 xadvance=68 page=0 chnl=15\nchar id=56 x=77 y=0 width=82 height=110 xoffset=0 yoffset=-1 xadvance=83 page=0 chnl=15\nchar id=57 x=233 y=111 width=79 height=107 xoffset=-1 yoffset=0 xadvance=77 page=0 chnl=15\nchar id=120 x=217 y=221 width=58 height=62 xoffset=-1 yoffset=42 xadvance=56 page=0 chnl=15`,t=`info face="highMultiplierFont" size=110 bold=0 italic=0 charset="" unicode=1 stretchH=100 smooth=1 aa=1 padding=1,1,1,1 spacing=1,1\ncommon lineHeight=110 base=85 scaleW=307 scaleH=328 pages=1 packed=0\npage id=0 file="Unnamed.png"\nchars count=13\nchar id=32 x=0 y=0 width=0 height=0 xoffset=0 yoffset=0 xadvance=31 page=0 chnl=15\nchar id=43 x=243 y=111 width=64 height=64 xoffset=-1 yoffset=23 xadvance=62 page=0 chnl=15\nchar id=48 x=215 y=0 width=78 height=108 xoffset=-1 yoffset=-1 xadvance=76 page=0 chnl=15\nchar id=49 x=0 y=0 width=55 height=110 xoffset=-1 yoffset=-1 xadvance=53 page=0 chnl=15\nchar id=50 x=0 y=111 width=75 height=108 xoffset=-1 yoffset=-1 xadvance=73 page=0 chnl=15\nchar id=51 x=0 y=220 width=76 height=108 xoffset=-1 yoffset=-1 xadvance=74 page=0 chnl=15\nchar id=52 x=76 y=111 width=87 height=108 xoffset=-1 yoffset=-1 xadvance=85 page=0 chnl=15\nchar id=53 x=77 y=220 width=80 height=108 xoffset=-1 yoffset=-1 xadvance=78 page=0 chnl=15\nchar id=54 x=164 y=111 width=78 height=108 xoffset=-1 yoffset=-1 xadvance=76 page=0 chnl=15\nchar id=55 x=56 y=0 width=76 height=110 xoffset=-1 yoffset=-1 xadvance=68 page=0 chnl=15\nchar id=56 x=133 y=0 width=81 height=110 xoffset=-1 yoffset=-1 xadvance=79 page=0 chnl=15\nchar id=57 x=158 y=220 width=78 height=108 xoffset=-1 yoffset=-1 xadvance=76 page=0 chnl=15\nchar id=120 x=237 y=220 width=58 height=64 xoffset=-1 yoffset=42 xadvance=57 page=0 chnl=15`,h=`info face="multiplierFont" size=110 bold=0 italic=0 charset="" unicode=1 stretchH=100 smooth=1 aa=1 padding=1,1,1,1 spacing=1,1\ncommon lineHeight=110 base=85 scaleW=318 scaleH=329 pages=1 packed=0\npage id=0 file="Unnamed.png"\nchars count=13\nchar id=32 x=0 y=0 width=0 height=0 xoffset=0 yoffset=0 xadvance=31 page=0 chnl=15\nchar id=43 x=215 y=221 width=64 height=64 xoffset=-1 yoffset=23 xadvance=62 page=0 chnl=15\nchar id=48 x=0 y=111 width=77 height=109 xoffset=-1 yoffset=-1 xadvance=75 page=0 chnl=15\nchar id=49 x=0 y=0 width=56 height=110 xoffset=-1 yoffset=-1 xadvance=54 page=0 chnl=15\nchar id=50 x=57 y=0 width=74 height=110 xoffset=-1 yoffset=-1 xadvance=72 page=0 chnl=15\nchar id=51 x=78 y=111 width=76 height=109 xoffset=-1 yoffset=-1 xadvance=74 page=0 chnl=15\nchar id=52 x=132 y=0 width=89 height=110 xoffset=-1 yoffset=-1 xadvance=87 page=0 chnl=15\nchar id=53 x=155 y=111 width=80 height=109 xoffset=-1 yoffset=0 xadvance=78 page=0 chnl=15\nchar id=54 x=222 y=0 width=80 height=110 xoffset=-1 yoffset=-1 xadvance=78 page=0 chnl=15\nchar id=55 x=0 y=221 width=76 height=108 xoffset=-1 yoffset=-1 xadvance=68 page=0 chnl=15\nchar id=56 x=236 y=111 width=82 height=109 xoffset=-1 yoffset=0 xadvance=80 page=0 chnl=15\nchar id=57 x=77 y=221 width=77 height=107 xoffset=-1 yoffset=-1 xadvance=75 page=0 chnl=15\nchar id=120 x=155 y=221 width=59 height=64 xoffset=-1 yoffset=42 xadvance=57 page=0 chnl=15`;var k=m(798678);const n="main",S={main:{reelExcitement:{type:k.x.Spine,url:m(803756),atlasRawData:m(690864).A},bonusSparkleParticleSystemConfig:{type:k.x.ParticleSystemConfig,url:m(79641)},bonusSparkle:{type:k.x.Texture,url:m(845102)}}};var q,D=m(837557),I=m(170877),b=m(59181),e=m(487606),N=m(974486);(function(p){p["AssetReloaded"]="AssetReloaded"})(q||(q={}));class d{constructor(p,{screenScale:g}){this.webGLAssets=p,this.eventEmitter=new N.A,this.allLoadedAssets={[k.x.Texture]:{},[k.x.Spine]:{},[k.x.Bitmap]:{},[k.x.Emitter]:{},[k.x.ParticleSystemConfig]:{},[k.x.SpriteSheet]:{}},this.fixImports(p),this.screenScale=g,b.y.instance.eventEmitter.on(b.l.ConsumersShouldReloadAssets,(()=>{this.reload()})),this.primaryLoader=this.createLoader(),this.addExtension()}async load(p){var g;const m={},Z={};for(const H of p){const p=this.webGLAssets[H];for(const H of Object.keys(p)){const t=p[H];if(t.type===k.x.SpriteSheet){const p={};if(t.branding)for(const g of Object.keys(t.branding))p[g]=t.branding[g].textureUrl;const h=null===(g=t.lowQualityConfig)||void 0===g?void 0:g.textureUrl;m[`${H}_image`]={...t,type:k.x.Texture,url:t.textureUrl,lowQualityUrl:h,branding:p},Z[H]={...t}}else t.type===k.x.Texture?m[H]=t:Z[H]=t}}return await this._load(this.primaryLoader,m),await this._load(this.primaryLoader,Z),this.primaryLoader.reset(),this.allLoadedAssets}dispose(){this.primaryLoader.dispose(),this.eventEmitter.removeAllListeners()}fixImports(p){for(const m of Object.values(p))for(const p of Object.values(m))if(g(p),"branding"in p&&p.branding)for(const m of Object.values(p.branding))g(m);function g(p){var g,m,Z;(null===(g=p.url)||void 0===g?void 0:g.__esModule)&&(p.url=p.url.default),(null===(m=p.textureUrl)||void 0===m?void 0:m.__esModule)&&(p.textureUrl=p.textureUrl.default),(null===(Z=p.atlasRawData)||void 0===Z?void 0:Z.__esModule)&&(p.atlasRawData=p.atlasRawData.default)}}amendSpineConfig(p,g,m){return this.preParser({...g,name:p,atlasRawData:m.value.atlasRawData,url:m.value.url})}amendTextureConfig(p,g,m){return this.preParser({...g,name:p,url:m.value})}amendSpriteSheetConfig(p,g,m){return this.preParser({...g,name:p,url:m.value.url,textureUrl:m.value.textureUrl})}amendBitmapConfig(p,g,m){return this.preParser({...g,name:p,url:m.value})}amendEmitterConfig(p,g,m){return this.preParser({...g,name:p,url:m.value})}registerAndPrepareAsset(p,g){switch(g.type){case k.x.Spine:const m=b.y.instance.registerPixiSpine(p,g,g.lowQualityConfig,g.branding);return m.subscribe((()=>{const Z=this.amendSpineConfig(p,g,m);for(const p of Z)this.primaryLoader.add(k.x.Spine,p)}),!1),this.amendSpineConfig(p,g,m);case k.x.Texture:const Z=b.y.instance.registerPixiTexture(p,g.url,g.lowQualityUrl,g.branding);return Z.subscribe((()=>{this.primaryLoader.add(k.x.Texture,this.amendTextureConfig(p,g,Z)[0])}),!1),this.amendTextureConfig(p,g,Z);case k.x.SpriteSheet:const H=b.y.instance.registerPixiSpriteSheet(p,g,g.lowQualityConfig,g.branding);return H.subscribe((()=>{this.primaryLoader.add(k.x.SpriteSheet,this.amendSpriteSheetConfig(p,g,H)[0])}),!1),this.amendSpriteSheetConfig(p,g,H);case k.x.Bitmap:const t=b.y.instance.registerPixiBitmap(p,g.url);return t.subscribe((()=>{this.primaryLoader.add(k.x.Bitmap,this.amendBitmapConfig(p,g,t)[0])}),!1),this.amendBitmapConfig(p,g,t);case k.x.Emitter:const h=b.y.instance.registerPixiEmitter(p,g.url);return h.subscribe((()=>{this.primaryLoader.add(k.x.Emitter,this.amendEmitterConfig(p,g,h)[0])}),!1),this.amendEmitterConfig(p,g,h);default:return this.preParser({...g,name:p})}}async reload(){await this._loadResources(this.primaryLoader,this.primaryLoader.addedAssetsKeysList,!0)&&this.primaryLoader.reset()}async _load(p,g){const m=[];for(const Z of Object.keys(g)){const H=g[Z],t=this.registerAndPrepareAsset(Z,H);for(const g of t)m.push(g.name),p.add(H.type,g)}await this._loadResources(p,m)}async _loadResources(p,g,m=!1){if(p.loading)return!1;try{p.loading=!0;const Z=(await p.load(g)).reduce(((p,g)=>{var m;if(void 0!==g.group){const Z=null!==(m=p[g.group])&&void 0!==m?m:{type:g.type,resource:[]};Z.resource.push(g.resource),p[g.group]=Z}else p[g.name]={type:g.type,resource:g.resource};return p}),{}),H=await Promise.all(Object.keys(Z).map((p=>{const g=Z[p];return this.postParser(g.type,p,g.resource,this.screenScale)})));for(const p of H){const{type:g,name:Z,content:H}=p;this.allLoadedAssets[g][Z]=H,m&&this.eventEmitter.emit(q.AssetReloaded,p)}return p.loading=!1,p.hasDelayedAssets&&(p.addDelayedAssets(),await this._loadResources(p,p.addedAssetsKeysList,m)),!0}finally{p.loading=!1}}}const Q={extension:Z.AgS.LoadParser,name:"customJsonParser",test:p=>p.includes(".json"),async load(p,g){const m=await Z.W0u.ADAPTER.fetch(p);return{spriteSheetJson:await m.json()}}};var $,w=m(557108),Y=m(578351);class i{constructor(){this.loading=!1,this.assetsData={},this.addedAssetsKeys=new Set,this.addedWhenLoaderWasLoading=[],this.initAssets()}get hasDelayedAssets(){return this.addedWhenLoaderWasLoading.length>0}addDelayedAssets(){if(this.loading)throw new Error("Before adding delayed assets, loading flag must be set to false!");for(const{type:p,asset:g}of this.addedWhenLoaderWasLoading)this.add(p,g);this.addedWhenLoaderWasLoading=[]}reset(){this.resetAssets(),this.addedAssetsKeys=new Set,this.assetsData={},this.addedWhenLoaderWasLoading=[]}dispose(){this.reset(),this.disposeAssets()}get addedAssetsKeysList(){return[...this.addedAssetsKeys]}add(p,g){this.loading?this.addedWhenLoaderWasLoading.push({type:p,asset:g}):(this.registerAsset(p,g),this.addCommonAsset(g),this.addedAssetsKeys.has(g.name)||this.addedAssetsKeys.add(g.name))}async load(p){const g=await this.loadAssets(p).catch((p=>{console.error(`[GAME_ASSETS_LOAD] Failed to load: ${p}.`)}));return Object.keys(g).reduce(((p,m)=>{const Z=g[m],H=this.assetsData[m];if(void 0===H)return p;const t={name:m,resource:Z,type:H.type,group:H.group};return p.push(t),p}),[])}registerAsset(p,g){this.assetsData[g.name]={type:p,group:g.group}}}class P extends i{initAssets(){w.sP.init({preferences:{preferCreateImageBitmap:!1}})}addCommonAsset(p){w.sP.add({alias:p.name,src:p.url,data:p.data,loadParser:p.loadParser})}loadAssets(p){return w.sP.load(p)}resetAssets(){w.sP.resolver.reset(),w.sP.loader.reset()}disposeAssets(){w.sP.reset(),w.l2.reset();for(const p of Object.keys(Y.BaseTextureCache))delete Y.BaseTextureCache[p];for(const p of Object.keys(Y.TextureCache))delete Y.TextureCache[p]}}(function(p){p["AssetReloaded"]="AssetReloaded"})($||($={}));const J={};class y extends d{static async parseSpritesheetAndUpdateCachedTextures(p){var g;const m=await p.parse();for(const[p,Z]of Object.entries(m)){J[p]=null!==(g=J[p])&&void 0!==g?g:[];for(const g of J[p])e.th(g,Z);J[p].push(Z)}}dispose(){super.dispose();for(const p of Object.keys(J))J[p]=[];Z.XOh.remove(Q)}preParser({name:p,...g}){switch(g.type){case k.x.Spine:return[{name:p,url:g.url,data:{atlasRawData:g.atlasRawData,imageNamePrefix:g.imageNamePrefix}}];case k.x.Bitmap:return[{name:p,url:g.url,loadParser:"loadTxt"}];case k.x.SpriteSheet:return[{name:p,url:g.url,loadParser:"customJsonParser"}];case k.x.Texture:return[{name:p,url:g.url,data:g.data}];default:return[{name:p,url:g.url}]}}async postParser(p,g,m,H){switch(p){case k.x.Spine:return b.y.instance.reportPixiSpineLoaded(g),{type:p,name:g,content:m.spineData};case k.x.Texture:{b.y.instance.reportPixiTextureLoaded(g);const Z=function(p,g){const m=/@(.+)x/.exec(p);return m?{name:p.slice(0,m.index),scale:parseFloat(m[1])}:{name:p,scale:g}}(g,H);return{type:p,name:Z.name,content:m}}case k.x.Bitmap:return b.y.instance.reportPixiBitmapLoaded(g),{type:p,name:g,content:m};case k.x.SpriteSheet:b.y.instance.reportPixiSpriteSheetLoaded(g);const t=new Z.zo6(Z.sP.get(`${g}_image`),m.spriteSheetJson);return await y.parseSpritesheetAndUpdateCachedTextures(t),{type:p,name:g,content:t};default:return{type:p,name:g,content:m}}}addExtension(){Z.XOh.add(Q)}createLoader(){return new P}}const W=JSON.parse('{"meta":{"image":"fontSprites.webp","size":{"w":512,"h":2048},"scale":"1"},"frames":{"winAmountFont":{"frame":{"x":2,"y":2,"w":381,"h":361},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":381,"h":361},"sourceSize":{"w":381,"h":361}},"multiplierFont":{"frame":{"x":2,"y":367,"w":318,"h":329},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":318,"h":329},"sourceSize":{"w":318,"h":329}},"highMultiplierFont":{"frame":{"x":2,"y":700,"w":307,"h":328},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":307,"h":328},"sourceSize":{"w":307,"h":328}},"cloudMultiplierFont":{"frame":{"x":2,"y":1032,"w":312,"h":327},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":312,"h":327},"sourceSize":{"w":312,"h":327}}}}'),v=m.p+"images/fontsprite.1d183ce2.webp",V=JSON.parse('{"meta":{"image":"sprites.webp","size":{"w":4096,"h":2048},"scale":"1"},"frames":{"top_up_banner":{"frame":{"x":2,"y":2,"w":856,"h":820},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":856,"h":820},"sourceSize":{"w":856,"h":820}},"logo":{"frame":{"x":2,"y":826,"w":1042,"h":496},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":1042,"h":496},"sourceSize":{"w":1042,"h":496}},"winMessageShadow":{"frame":{"x":2,"y":1326,"w":652,"h":378},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":652,"h":378},"sourceSize":{"w":652,"h":378}},"radialLightOval":{"frame":{"x":2,"y":1708,"w":559,"h":324},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":559,"h":324},"sourceSize":{"w":559,"h":324}},"radialLight":{"frame":{"x":565,"y":1708,"w":284,"h":284},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":284,"h":284},"sourceSize":{"w":284,"h":284}},"finishRibbonG":{"frame":{"x":565,"y":1996,"w":220,"h":42},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":220,"h":42},"sourceSize":{"w":220,"h":42}},"finishRibbonP":{"frame":{"x":789,"y":1996,"w":220,"h":42},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":220,"h":42},"sourceSize":{"w":220,"h":42}},"ball_trail":{"frame":{"x":658,"y":1326,"w":207,"h":365},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":207,"h":365},"sourceSize":{"w":207,"h":365}},"ace":{"frame":{"x":853,"y":1695,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"xxxtremeLogo":{"frame":{"x":1013,"y":1975,"w":317,"h":70},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":317,"h":70},"sourceSize":{"w":317,"h":70}},"bronze":{"frame":{"x":869,"y":1326,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"WinRibbon_Green":{"frame":{"x":869,"y":1606,"w":501,"h":83},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":501,"h":83},"sourceSize":{"w":501,"h":83}},"jack":{"frame":{"x":1134,"y":1693,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"ParticleSparkle":{"frame":{"x":1334,"y":1973,"w":136,"h":56},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":136,"h":56},"sourceSize":{"w":136,"h":56}},"king":{"frame":{"x":862,"y":2,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"queen":{"frame":{"x":862,"y":282,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"Cloud03":{"frame":{"x":862,"y":562,"w":373,"h":246},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":373,"h":246},"sourceSize":{"w":373,"h":246}},"scatter":{"frame":{"x":1048,"y":812,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"BalloonPop_01":{"frame":{"x":1048,"y":1092,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"silver":{"frame":{"x":1150,"y":1315,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"BalloonPop_02":{"frame":{"x":1177,"y":1092,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_03":{"frame":{"x":1306,"y":1092,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_04":{"frame":{"x":1435,"y":1092,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_05":{"frame":{"x":1564,"y":1092,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"superXXXtremeLogo":{"frame":{"x":1374,"y":1595,"w":317,"h":91},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":317,"h":91},"sourceSize":{"w":317,"h":91}},"ten":{"frame":{"x":1431,"y":1315,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"wild":{"frame":{"x":1415,"y":1690,"w":277,"h":276},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":277,"h":276},"sourceSize":{"w":277,"h":276}},"WinRibbon_Purple":{"frame":{"x":1695,"y":1595,"w":501,"h":83},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":501,"h":83},"sourceSize":{"w":501,"h":83}},"finishRibbonR":{"frame":{"x":1474,"y":1970,"w":220,"h":42},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":220,"h":42},"sourceSize":{"w":220,"h":42}},"winMessageBalloonGradient":{"frame":{"x":1696,"y":2016,"w":39,"h":25},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":39,"h":25},"sourceSize":{"w":39,"h":25}},"WildSprites06":{"frame":{"x":1696,"y":1682,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"finishRibbonY":{"frame":{"x":1696,"y":1923,"w":220,"h":42},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":220,"h":42},"sourceSize":{"w":220,"h":42}},"WildSprites07":{"frame":{"x":1797,"y":1682,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"WildSprites08":{"frame":{"x":1898,"y":1682,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"letterD":{"frame":{"x":1920,"y":1923,"w":101,"h":101},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":101,"h":101},"sourceSize":{"w":101,"h":101}},"WildSprites09":{"frame":{"x":1999,"y":1682,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"letterI":{"frame":{"x":2025,"y":1923,"w":101,"h":101},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":101,"h":101},"sourceSize":{"w":101,"h":101}},"WildSprites10":{"frame":{"x":2100,"y":1682,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"letterL":{"frame":{"x":2130,"y":1923,"w":101,"h":101},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":101,"h":101},"sourceSize":{"w":101,"h":101}},"WildSprites16":{"frame":{"x":2235,"y":1682,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"scatterBeam":{"frame":{"x":2201,"y":2,"w":22,"h":201},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":22,"h":201},"sourceSize":{"w":22,"h":201}},"WinRibbon_Red":{"frame":{"x":1693,"y":2,"w":501,"h":83},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":501,"h":83},"sourceSize":{"w":501,"h":83}},"WinRibbon_Yellow":{"frame":{"x":1693,"y":89,"w":500,"h":82},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":500,"h":82},"sourceSize":{"w":500,"h":82}},"WinBg":{"frame":{"x":1712,"y":175,"w":469,"h":200},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":469,"h":200},"sourceSize":{"w":469,"h":200}},"letterW":{"frame":{"x":2235,"y":1923,"w":101,"h":101},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":101,"h":101},"sourceSize":{"w":101,"h":101}},"BalloonGreen":{"frame":{"x":1143,"y":379,"w":106,"h":157},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":106,"h":157},"sourceSize":{"w":106,"h":157}},"Cloud01":{"frame":{"x":1143,"y":175,"w":283,"h":186},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":283,"h":186},"sourceSize":{"w":283,"h":186}},"Cloud02":{"frame":{"x":1253,"y":365,"w":283,"h":186},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":283,"h":186},"sourceSize":{"w":283,"h":186}},"wildWithGlow":{"frame":{"x":1540,"y":365,"w":168,"h":156},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":168,"h":156},"sourceSize":{"w":168,"h":156}},"BalloonPurple":{"frame":{"x":1143,"y":2,"w":106,"h":157},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":106,"h":157},"sourceSize":{"w":106,"h":157}},"BalloonRed":{"frame":{"x":1253,"y":2,"w":106,"h":157},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":106,"h":157},"sourceSize":{"w":106,"h":157}},"BalloonYellow":{"frame":{"x":1363,"y":2,"w":106,"h":157},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":106,"h":157},"sourceSize":{"w":106,"h":157}},"WildSprites17":{"frame":{"x":1239,"y":555,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"ScatterSpin_01":{"frame":{"x":1430,"y":175,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ball":{"frame":{"x":1573,"y":2,"w":101,"h":100},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":101,"h":100},"sourceSize":{"w":101,"h":100}},"WildSprites18":{"frame":{"x":1573,"y":106,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"WildSprites19":{"frame":{"x":1329,"y":796,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"WildSprites20":{"frame":{"x":1340,"y":555,"w":97,"h":237},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":237},"sourceSize":{"w":97,"h":237}},"WildSprites01":{"frame":{"x":1430,"y":796,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites02":{"frame":{"x":1441,"y":555,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites03":{"frame":{"x":1531,"y":795,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites04":{"frame":{"x":1542,"y":525,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites05":{"frame":{"x":1632,"y":765,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites11":{"frame":{"x":1643,"y":525,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"ScatterSpin_02":{"frame":{"x":1712,"y":379,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"WildSprites12":{"frame":{"x":1693,"y":1005,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites13":{"frame":{"x":1733,"y":765,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites14":{"frame":{"x":1794,"y":522,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"ScatterSpin_03":{"frame":{"x":1855,"y":379,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_04":{"frame":{"x":1998,"y":379,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"WildSprites15":{"frame":{"x":1712,"y":1245,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites21":{"frame":{"x":1794,"y":1005,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"WildSprites22":{"frame":{"x":1895,"y":1005,"w":97,"h":236},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":97,"h":236},"sourceSize":{"w":97,"h":236}},"BalloonPop_06":{"frame":{"x":1834,"y":762,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_07":{"frame":{"x":1895,"y":522,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_08":{"frame":{"x":1963,"y":745,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_09":{"frame":{"x":2024,"y":522,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"ScatterSpin_05":{"frame":{"x":2141,"y":379,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_06":{"frame":{"x":2200,"y":207,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_07":{"frame":{"x":2227,"y":2,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"BalloonPop_10":{"frame":{"x":1813,"y":1245,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_11":{"frame":{"x":1942,"y":1245,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_12":{"frame":{"x":1996,"y":968,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_13":{"frame":{"x":2092,"y":745,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_14":{"frame":{"x":2221,"y":745,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_15":{"frame":{"x":2350,"y":745,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_16":{"frame":{"x":2479,"y":745,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_17":{"frame":{"x":2153,"y":522,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_18":{"frame":{"x":2282,"y":522,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"ScatterSpin_08":{"frame":{"x":2284,"y":350,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"BalloonPop_19":{"frame":{"x":2411,"y":493,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"ScatterSpin_09":{"frame":{"x":2343,"y":145,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_10":{"frame":{"x":2427,"y":2,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_11":{"frame":{"x":2570,"y":2,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_12":{"frame":{"x":2713,"y":2,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_13":{"frame":{"x":2427,"y":288,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_14":{"frame":{"x":2540,"y":145,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"BalloonPop_20":{"frame":{"x":2540,"y":431,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"ScatterSpin_15":{"frame":{"x":2608,"y":288,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_16":{"frame":{"x":2683,"y":145,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"BalloonPop_21":{"frame":{"x":2071,"y":1191,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"BalloonPop_22":{"frame":{"x":2125,"y":968,"w":125,"h":219},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":219},"sourceSize":{"w":125,"h":219}},"ScatterSpin_17":{"frame":{"x":2071,"y":1414,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"BalloonPopHighMulti_01":{"frame":{"x":2200,"y":1191,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_02":{"frame":{"x":2254,"y":968,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_03":{"frame":{"x":2214,"y":1413,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_04":{"frame":{"x":2330,"y":1190,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_05":{"frame":{"x":2384,"y":968,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_07":{"frame":{"x":2336,"y":1635,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_08":{"frame":{"x":2344,"y":1412,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonSparkle_2":{"frame":{"x":2466,"y":1190,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonSparkle_3":{"frame":{"x":2596,"y":1190,"w":126,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":126,"h":218},"sourceSize":{"w":126,"h":218}},"BalloonPopHighMulti_06":{"frame":{"x":2726,"y":1190,"w":125,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":218},"sourceSize":{"w":125,"h":218}},"BalloonSparkle_0":{"frame":{"x":2855,"y":1190,"w":125,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":218},"sourceSize":{"w":125,"h":218}},"BalloonSparkle_1":{"frame":{"x":2984,"y":1190,"w":125,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":218},"sourceSize":{"w":125,"h":218}},"BalloonSparkle_4":{"frame":{"x":2514,"y":968,"w":125,"h":218},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":125,"h":218},"sourceSize":{"w":125,"h":218}},"ScatterSpin_18":{"frame":{"x":2340,"y":1857,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"balloonHighMulti":{"frame":{"x":2466,"y":1634,"w":155,"h":209},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":155,"h":209},"sourceSize":{"w":155,"h":209}},"balloon":{"frame":{"x":2483,"y":1412,"w":150,"h":203},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":150,"h":203},"sourceSize":{"w":150,"h":203}},"ScatterSpin_19":{"frame":{"x":2483,"y":1847,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_20":{"frame":{"x":2625,"y":1619,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_21":{"frame":{"x":2637,"y":1412,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_22":{"frame":{"x":2626,"y":1762,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_23":{"frame":{"x":2768,"y":1905,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_24":{"frame":{"x":2911,"y":1905,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}},"ScatterSpin_25":{"frame":{"x":2768,"y":1555,"w":139,"h":139},"rotated":false,"trimmed":false,"spriteSourceSize":{"x":0,"y":0,"w":139,"h":139},"sourceSize":{"w":139,"h":139}}},"animations":{"scatterSpin":["ScatterSpin_01","ScatterSpin_02","ScatterSpin_03","ScatterSpin_04","ScatterSpin_05","ScatterSpin_06","ScatterSpin_07","ScatterSpin_08","ScatterSpin_09","ScatterSpin_10","ScatterSpin_11","ScatterSpin_12","ScatterSpin_13","ScatterSpin_14","ScatterSpin_15","ScatterSpin_16","ScatterSpin_17","ScatterSpin_18","ScatterSpin_19","ScatterSpin_20","ScatterSpin_21","ScatterSpin_22","ScatterSpin_23","ScatterSpin_24","ScatterSpin_25"],"balloonPop":["BalloonPop_01","BalloonPop_02","BalloonPop_03","BalloonPop_04","BalloonPop_05","BalloonPop_06","BalloonPop_07","BalloonPop_08","BalloonPop_09","BalloonPop_10","BalloonPop_11","BalloonPop_12","BalloonPop_13","BalloonPop_14","BalloonPop_15","BalloonPop_16","BalloonPop_17","BalloonPop_18","BalloonPop_19","BalloonPop_20","BalloonPop_21","BalloonPop_22"],"balloonPopHighMulti":["BalloonPopHighMulti_01","BalloonPopHighMulti_02","BalloonPopHighMulti_03","BalloonPopHighMulti_04","BalloonPopHighMulti_05","BalloonPopHighMulti_06","BalloonPopHighMulti_07","BalloonPopHighMulti_08"],"balloonSparkle":["BalloonSparkle_0","BalloonSparkle_1","BalloonSparkle_2","BalloonSparkle_3","BalloonSparkle_4"],"wildSprites":["WildSprites01","WildSprites02","WildSprites03","WildSprites04","WildSprites05","WildSprites06","WildSprites07","WildSprites08","WildSprites09","WildSprites10","WildSprites11","WildSprites12","WildSprites13","WildSprites14","WildSprites15","WildSprites16","WildSprites17","WildSprites18","WildSprites19","WildSprites20","WildSprites21","WildSprites22"]}}'),z=m.p+"images/sprites.00d6adbb.webp",B=V;var u;(function(p){p["SymbolA"]="ace",p["SymbolK"]="king",p["SymbolQ"]="queen",p["SymbolJ"]="jack",p["Symbol10"]="ten",p["SymbolScatter"]="scatter",p["SymbolWild"]="wild",p["SymbolW"]="w",p["SymbolI"]="i",p["SymbolL"]="l",p["SymbolD"]="d",p["SymbolSilverRibbon"]="silver",p["SymbolBronzeRibbon"]="bronze",p["TopUpBalloon"]="balloon",p["HighMultiplierBalloon"]="balloonHighMulti",p["MultiplierFont"]="multiplierFont",p["CloudMultiplierFont"]="cloudMultiplierFont",p["HighMultiplierFont"]="highMultiplierFont",p["RadialLight"]="radialLight",p["WildWithGlow"]="wildWithGlow",p["ParticleSparkle"]="particleSparkle",p["WildBackgroundParticles"]="wildBackgroundParticles",p["ScatterSpinTextures"]="scatterSpinTextures",p["Cloud1"]="Cloud01",p["Cloud2"]="Cloud02",p["Cloud3"]="Cloud03",p["FinishRibbonY"]="finishRibbonY",p["FinishRibbonP"]="finishRibbonP",p["FinishRibbonG"]="finishRibbonG",p["FinishRibbonR"]="finishRibbonR",p["BalloonPopTextures"]="balloonPopTextures",p["BalloonPopHighMultiplierTextures"]="balloonPopHighMultiTextures",p["BalloonSparkle"]="balloonSparkle",p["RadialLightOval"]="radialLightOval",p["WinBg"]="WinBg",p["WinMessageShadow"]="winMessageShadow",p["WinRibbonY"]="WinRibbon_Yellow",p["WinRibbonG"]="WinRibbon_Green",p["WinRibbonR"]="WinRibbon_Red",p["WinRibbonP"]="WinRibbon_Purple",p["BalloonY"]="BalloonYellow",p["BalloonG"]="BalloonGreen",p["BalloonR"]="BalloonRed",p["BalloonP"]="BalloonPurple",p["WinMessageBalloonGradient"]="winMessageBalloonGradient",p["WinAmountFont"]="winAmountFont",p["XXXtremeLogo"]="xxxtremeLogo",p["SuperXXXtremeLogo"]="superXXXtremeLogo",p["Logo"]="logo",p["TopUpBanner"]="top_up_banner",p["ScatterBeam"]="scatterBeam",p["Ball"]="ball",p["BallTrail"]="ball_trail"})(u||(u={}));const a=[u.SymbolW,u.SymbolI,u.SymbolL,u.SymbolD];async function F(p="high"){const g="low"===p,k={sprites:z,fontSprites:v},n=m(669316),S=g?B:V;for(const p of Object.keys(k))Z.sP.add({src:k[p]});Z.sP.add({src:n});const[q,D]=await Promise.all([Z.sP.load(Object.values(k)),Z.sP.load(n)]),[I,b,e]=await async function(p,g){const m=new Z.zo6(p,g);return await m.parse(),[m.textures,m.animations,()=>m.destroy(!0)]}(q[k.sprites],S),N=new Z.zo6(q[k.fontSprites],W);await N.parse();const d=Z.BxG.install(h,N.textures["multiplierFont"]),Q=Z.BxG.install(H,N.textures["cloudMultiplierFont"]),$=Z.BxG.install(t,N.textures["highMultiplierFont"]);return{[u.SymbolA]:I["ace"],[u.SymbolK]:I["king"],[u.SymbolQ]:I["queen"],[u.SymbolJ]:I["jack"],[u.Symbol10]:I["ten"],[u.SymbolScatter]:I["scatter"],[u.SymbolWild]:I["wild"],[u.SymbolSilverRibbon]:I["silver"],[u.SymbolBronzeRibbon]:I["bronze"],[u.TopUpBalloon]:I["balloon"],[u.Ball]:I["ball"],[u.BallTrail]:I["ball_trail"],[u.HighMultiplierBalloon]:I["balloonHighMulti"],[u.MultiplierFont]:d,[u.CloudMultiplierFont]:Q,[u.HighMultiplierFont]:$,[u.RadialLight]:I["radialLight"],[u.RadialLightOval]:I["radialLightOval"],[u.WildWithGlow]:I["wildWithGlow"],[u.SymbolW]:I["letterW"],[u.SymbolI]:I["letterI"],[u.SymbolL]:I["letterL"],[u.SymbolD]:I["letterD"],[u.ParticleSparkle]:I["ParticleSparkle"],[u.WildBackgroundParticles]:b.wildSprites,[u.ScatterSpinTextures]:b.scatterSpin,[u.Cloud1]:I["Cloud01"],[u.Cloud2]:I["Cloud02"],[u.Cloud3]:I["Cloud03"],[u.FinishRibbonY]:I["finishRibbonY"],[u.FinishRibbonP]:I["finishRibbonP"],[u.FinishRibbonG]:I["finishRibbonG"],[u.FinishRibbonR]:I["finishRibbonR"],[u.BalloonPopTextures]:b.balloonPop,[u.BalloonPopHighMultiplierTextures]:[...b.balloonPopHighMulti,...b.balloonPop.slice(b.balloonPopHighMulti.length)],[u.BalloonSparkle]:b.balloonSparkle,[u.WinBg]:I["WinBg"],[u.WinMessageShadow]:I["winMessageShadow"],[u.WinRibbonY]:I["WinRibbon_Yellow"],[u.WinRibbonG]:I["WinRibbon_Green"],[u.WinRibbonR]:I["WinRibbon_Red"],[u.WinRibbonP]:I["WinRibbon_Purple"],[u.BalloonY]:I["BalloonYellow"],[u.BalloonG]:I["BalloonGreen"],[u.BalloonR]:I["BalloonRed"],[u.BalloonP]:I["BalloonPurple"],[u.WinMessageBalloonGradient]:I["winMessageBalloonGradient"],[u.WinAmountFont]:D,[u.XXXtremeLogo]:I["xxxtremeLogo"],[u.SuperXXXtremeLogo]:I["superXXXtremeLogo"],[u.Logo]:I["logo"],[u.TopUpBanner]:I["top_up_banner"],[u.ScatterBeam]:I["scatterBeam"],dispose:()=>{Z.sP.unload(Object.values(k)),e(),N.destroy(!0),d.destroy(),Q.destroy(),$.destroy()},areLqAssetsUsed:g,config:{MULTIPLIER_FONT_LETTER_SPACING:-3,CLOUD_MULTIPLIER_FONT_SIZE:110,CLOUD_MULTIPLIER_LETTER_SPACING:-3,HIGH_MULTIPLIER_FONT_SIZE:110,HIGH_MULTIPLIER_LETTER_SPACING:-3,YOU_WIN_FONT_SIZE:26}}}function X(p){return`"\\"${p.family.split('"').join("")}\\"`}const K=function(){let p;const g=[n],m=function(p=D.DS.PLATFORM){return p===I.OD.Desktop?"high":"low"}(D.DS.PLATFORM),Z=new y(S,{screenScale:1});return{load:()=>{if(p)return p;p=Promise.all([Z.load(g),F(m)])},dispose:()=>{p=void 0}}}()},214382:(p,g,m)=>{m.d(g,{$h:()=>w,Jq:()=>t,QR:()=>b,RN:()=>e,XN:()=>h,_e:()=>Z,an:()=>S,dP:()=>d,hc:()=>n,mZ:()=>N,rJ:()=>q,vI:()=>$,z:()=>k,zy:()=>Q});var Z,H=m(504098);(function(p){p[p["Scatter"]=0]="Scatter",p[p["Wild"]=1]="Wild",p[p["SilverRibbon"]=3]="SilverRibbon",p[p["BronzeRibbon"]=4]="BronzeRibbon",p[p["Ace"]=5]="Ace",p[p["King"]=6]="King",p[p["Queen"]=7]="Queen",p[p["Jack"]=8]="Jack",p[p["Ten"]=9]="Ten"})(Z||(Z={}));const t=10,h=5,k=3,n=30,S=2,q=h-1,D=1,I=1,b=D+I,e=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,0,0],[2,2,1,2,2],[1,2,2,2,1],[1,0,0,0,1],[1,0,1,0,1]],N={ScatterSymbols:[Z.Scatter],WildSymbols:[Z.Wild],QualificationSymbols:[Z.Scatter,Z.Wild],HighWinSymbols:[Z.SilverRibbon,Z.BronzeRibbon],LowWinSymbols:[Z.Ace,Z.King,Z.Queen,Z.Jack,Z.Ten],BasicSymbols:[Z.SilverRibbon,Z.BronzeRibbon,Z.Ace,Z.King,Z.Queen,Z.Jack,Z.Ten],AllSymbols:[Z.Scatter,Z.Wild,Z.SilverRibbon,Z.BronzeRibbon,Z.Ace,Z.King,Z.Queen,Z.Jack,Z.Ten],NonWildSymbols:[Z.Scatter,Z.SilverRibbon,Z.BronzeRibbon,Z.Ace,Z.King,Z.Queen,Z.Jack,Z.Ten]},d={[Z.Scatter]:{line:15653852,glow:0},[Z.Wild]:{line:0,glow:0},[Z.SilverRibbon]:{line:15790320,glow:9802404},[Z.BronzeRibbon]:{line:15653852,glow:15371879},[Z.Ace]:{line:15653852,glow:16477806},[Z.King]:{line:15653852,glow:13678909},[Z.Queen]:{line:15653852,glow:11298517},[Z.Jack]:{line:15653852,glow:2670174},[Z.Ten]:{line:15653852,glow:2208439}},Q={[Z.Scatter]:H.U3.SymbolScatter,[Z.Wild]:H.U3.SymbolWild,[Z.SilverRibbon]:H.U3.SymbolSilverRibbon,[Z.BronzeRibbon]:H.U3.SymbolBronzeRibbon,[Z.Ace]:H.U3.SymbolA,[Z.King]:H.U3.SymbolK,[Z.Queen]:H.U3.SymbolQ,[Z.Jack]:H.U3.SymbolJ,[Z.Ten]:H.U3.Symbol10},$={reelsetName:"main",mode:{normal:{spinVelocity:17e3,startBounceFactor:.2,startBounceDuration:400,stopBounceFactor:.2,stopBounceDuration:400,bounceType:1,spinEndTotalTime:2600},fast:{spinVelocity:21e3,startBounceFactor:.2,startBounceDuration:100,stopBounceFactor:.2,stopBounceDuration:100,bounceType:1,spinEndTotalTime:340}},nearWinStopDelays:{normal:800,fast:900},reelStartDelay:150,reelStopDelay:400,reelIterationStopDelay:400,reelStartDelayTurbo:0,reelStopDelayTurbo:0},w={preBufferSize:D,postBufferSize:I}},220454:(p,g,m)=>{m.d(g,{u:()=>Z,z:()=>H});const Z="BalloonRaceSkipBonusRoundDecision";var H;(function(p){p[p["TopUp"]=1]="TopUp",p[p["Bonus"]=2]="Bonus"})(H||(H={}))},892053:(p,g,m)=>{m.d(g,{DT:()=>q,QY:()=>n,TW:()=>e,Ud:()=>k,Zl:()=>S,bY:()=>d,bv:()=>I,bw:()=>N,dS:()=>D,l6:()=>b});var Z=m(697971),H=m(417674),t=m(220454),h=m(332635);function k(p){return{type:"CLIENT_BR_POPUP_DISPLAYED",payload:{roundId:p.gameStore.bonusRoundId||"",playerGameId:p.gameStore.playerGameId||""}}}function n(p){return{type:"CLIENT_BR_DECISION_MADE",payload:{popupId:t.u,decisionType:p}}}function S(p){return{type:"CLIENT_BR_PRESSED_TURBO_BUTTON",payload:{gamePhase:p.phase.currentPhase,speedFrom:p.ui.isInTurboMode?"normal":"turbo",speedTo:p.ui.isInTurboMode?"turbo":"normal",playerGameId:p.gameStore.playerGameId||"",device:p.device.platform},enhancers:["channel","gameDimensions"]}}function q(p){return{type:"CLIENT_BR_PRESSED_SPIN_STOP",payload:{baseBet:p.bettingStore.qualifyingBaseBetAmount,spinMode:p.ui.isInTurboMode?"turbo":"normal",gamePhase:p.phase.currentPhase,playerGameId:p.gameStore.playerGameId||""},enhancers:["balance","channel","currency"]}}function D(p){return{type:"CLIENT_BR_PRESSED_SPIN_STOP",payload:{baseBet:p.gameStore.baseBetAmount||0,playerGameId:p.gameStore.playerGameId||"",spinMode:p.ui.isInTurboMode?"turbo":"normal",gamePhase:p.phase.currentPhase},enhancers:["balance","channel","currency"]}}function I(p,g,m,Z){return{type:"CLIENT_BR_PRESSED_BETSELECTOR",payload:{gamePhase:p.phase.currentPhase,betFrom:m,betTo:g,status:Z},enhancers:["channel","currency"]}}function b(p,g,m,Z){return{type:"CLIENT_BR_PRESSED_INFO_SCREEN",payload:{gamePhase:p.phase.currentPhase,closedBy:Z,screenFrom:m,screenTo:g},enhancers:["channel","currency"]}}function e(p){const g=p.bettingStore.qualifyingBaseBetAmount;return{type:"CLIENT_BET_REJECTED",payload:{gamePhase:p.phase.currentPhase,originalBet:g,confirmed:0,rejected:g},enhancers:["channel","currency"]}}function N(p){const g=p.bettingStore.totalBet,m=p.bettingStore.betAmount;return{type:"CLIENT_BET_REJECTED",payload:{gamePhase:p.phase.currentPhase,originalBet:g+m,confirmed:g,rejected:m},enhancers:["channel","currency"]}}class d{constructor({store:p}){this.disposableBag=new h.C,this.disposableBag.addDisposables([Z.mJ((()=>p.spinModeStore.spinMode),((g,m)=>{p.abstractGame.log(function(p,g,m){return{type:"CLIENT_BR_XXX_SPINS_CLOSED",payload:{playerGameId:p.gameStore.playerGameId||"",spinModeFrom:g,spinModeTo:p.spinModeStore.spinMode,baseBet:p.bettingStore.qualifyingBaseBetAmount,totalBet:p.bettingStore.totalBet,status:m},enhancers:["channel","currency"]}}(p,m,g===H.ow.NormalSpin?"deactivated":"activated"))})),Z.mJ((()=>p.ui.xxxtremeDrawer.isVisible),(g=>{g&&p.abstractGame.log({type:"CLIENT_BR_XXX_SPINS_OPEN",enhancers:["channel","currency"]})}))])}dispose(){this.disposableBag.dispose()}}},417064:(p,g,m)=>{var Z;m.d(g,{m:()=>Z}),function(p){p["WinSlotMedium"]="winSlotMedium",p["WinSlotLarge"]="winSlotLarge",p["WinSlotSmall"]="winSlotSmall",p["GameInitSlot"]="gameInitSlot",p["GameInitXxxtremeSpinsActivated"]="gameInitXxxtremeSpinsActivated",p["ButtonSpin"]="buttonSpin",p["ButtonActivateXtreme"]="buttonActivateXtreme",p["ButtonActivateXtremeClose"]="buttonActivateXtremeClose",p["ButtonXxxtremeSpinsIncrease"]="buttonXxxtremeSpinsIncrease",p["ButtonXxxtremeSpinsDecrease"]="buttonXxxtremeSpinsDecrease",p["ButtonXxxtremeSpinsActivate"]="buttonXxxtremeSpinsActivate",p["ButtonSuperXxxtremeSpinsIncrease"]="buttonFeatureBuyIncrease",p["ButtonSuperXxxtremeSpinsDecrease"]="buttonFeatureBuyDecrease",p["ButtonSuperXxxtremeSpinsActivate"]="buttonFeatureBuyBuy",p["XxxtremeMenuOpened"]="xxxtremeMenuOpened",p["XxxtremeSpinsActivated"]="xxxtremeSpinsActivated",p["XxxtremeSpinsDeactivated"]="xxxtremeSpinsDeactivated",p["GameSpeedSlow"]="gameSpeedSlow",p["GameSpeedFast"]="gameSpeedFast",p["SpinStart"]="spinStart",p["SpinComplete"]="spinComplete",p["ReelBounce"]="reelBounce",p["ReelBounceQuickStop"]="reelBounceQuickStop",p["QuickStop"]="quickStop",p["ScatterLand"]="scatterLand",p["ScatterSpin"]="scatterSpin",p["ScatterSpinStop"]="scatterSpinStop",p["WildLand"]="wildLand",p["WildExpand"]="wildExpand",p["NearWin"]="nearWin",p["NextBall"]="nextBall",p["Qualified"]="qualified",p["GameInitTopUp"]="gameInitTopUp",p["BonusRoundBeginsMessage"]="bonusRoundBeginsMessage",p["TopUpChosen"]="topUpChosen",p["BonusChosen"]="bonusChosen",p["BonusTimeOut"]="bonusTimeOut",p["GameAborted"]="gameAborted",p["TopUpEnter"]="topUpEnter",p["ButtonSpinTopUp"]="buttonSpinTopUp",p["YellowPop"]="yellowPop",p["PurplePop"]="purplePop",p["GreenPop"]="greenPop",p["RedPop"]="redPop",p["YellowWin"]="yellowWin",p["PurpleWin"]="purpleWin",p["GreenWin"]="greenWin",p["RedWin"]="redWin",p["TopUpCountDown"]="topUpCountDown",p["TopUpCountDownReset"]="topUpCountDownReset",p["TopUpEnd"]="topUpEnd",p["TopUpStop"]="topUpStop",p["TopUpBadgeMove"]="topUpBadgeMove",p["TopUpCloudsDisappear"]="topUpCloudsDisappear",p["GameInitBalloon"]="gameInitBalloon",p["GameInitBalloonRaceProgress"]="gameInitBalloonRaceProgress",p["BalloonEnter"]="balloonEnter",p["BalloonRaceWinLow"]="balloonRaceWinLow",p["BalloonRaceWinMedium"]="balloonRaceWinMedium",p["BalloonRaceWinHigh"]="balloonRaceWinHigh",p["QualificationMultiplierFly"]="qualificationMultiplierFly",p["CommonMultiplied"]="commonMultiplied",p["MultiplierSum"]="multiplierSum",p["BalloonRaceStart"]="balloonRaceStart",p["BalloonRaceProgress"]="balloonRaceProgress",p["LeadingBalloon"]="leadingBalloon",p["WinningBalloonAnticipationSecondLast"]="winningBalloonAnticipationSecondLast",p["WinningBalloonAnticipationFinal"]="winningBalloonAnticipationFinal",p["WinningBalloonFinish"]="winningBalloonFinish",p["BalloonExit"]="balloonExit"}(Z||(Z={}))},840486:(p,g,m)=>{m.d(g,{Qc:()=>H,TU:()=>t,lm:()=>Z});const Z=["Y","P","G","R"];var H,t;(function(p){p["Qualifying"]="Qualifying",p["Qualified"]="Qualified",p["BonusRound"]="BonusRound",p["Resolved"]="Resolved",p["Cancelled"]="Cancelled"})(H||(H={})),function(p){p["Resolved"]="Resolved",p["Cancelled"]="Cancelled",p["BallDrawing"]="BallDrawing",p["Qualification"]="Qualification"}(t||(t={}))},34561:(p,g,m)=>{m.d(g,{D:()=>S,U:()=>Z});var Z,H=m(697971),t=m(56761),h=m(892053),k=m(332635),n=m(993738);(function(p){p["TopUp"]="MainButtonVersion.TopUp",p["XXXtremeSpin"]="MainButtonVersion.XXXtremeSpin",p["NormalSpin"]="MainButtonVersion.NormalSpin"})(Z||(Z={}));class S{get isDisabled(){return this.uiStore.isBettingDisabled||this.isDisabledByTimeout||(this.uiState.isTopUpGame||this.uiState.isMovingToBonusGamePhase)&&!this.uiState.isTopUpGameActive||this.store.autoplayStore.isAutoplayRunning||!this.store.settings.isSlamStopEnabled&&this.uiStore.slotUIStore.isSlotSpinning}get isTopUpButton(){return this.uiState.isTopUpGame||this.uiState.isMovingToBonusGamePhase}get isExtremeSpinsButton(){return this.spinModeStore.areXXXtremeSpinsActivated}get buttonVersion(){return this.isTopUpButton?Z.TopUp:this.isExtremeSpinsButton?Z.XXXtremeSpin:Z.NormalSpin}get rect(){if(!this._domRect||!this.store.gameView)return;const p=this.store.gameView.appRect,{resolution:g}=this.store.gameConfig;return{y:this._domRect.y*g-p.y,x:this._domRect.x*g-p.x}}constructor(p,g,m,Z,t){this.uiState=p,this.spinModeStore=g,this.store=m,this.uiStore=Z,this.abstractGame=t,this.disposeBag=new k.C,this.lastButtonClickTime=0,this._domRect=void 0,this.ref=void 0,this.rafId=void 0,H.l_(this,{},{autoBind:!0}),document.addEventListener(n.Dd,this.updateRect),this.disposeBag.addDisposables([()=>document.removeEventListener(n.Dd,this.updateRect),H.mJ((()=>this.abstractGame.gameDimensions),(()=>{this.updateRect()})),H.mJ((()=>this.abstractGame.isFullscreen),(()=>{this.rafId&&window.cancelAnimationFrame(this.rafId),this.rafId=window.requestAnimationFrame((()=>{this.updateRect()}))}))])}dispose(){this.disposeBag.dispose()}setRef(p){this.ref=p,this.updateRect()}onClick(){const{slamStop:p,gameView:g,settings:m}=this.store;return(null==p?void 0:p.canSlotBeSlamStopped)?(null==p||p.requestFor("slot"),null==g||g.slot.slamStop(),void this.abstractGame.log(h.DT(this.store))):this.uiState.isQualifyingPhase?void(null==g||g.spinSlot()):(null==p?void 0:p.canTopUpBeSlamStopped)?(null==p||p.requestFor("topUp"),null==g||g.topUpBalloonsContainer.speedUpExistingBalloons(),void this.abstractGame.log(h.dS(this.store))):void(this.uiState.isTopUpGameActive&&(null==g||g.setIsBalloonReceivalPending(!0),null==g||g.topUp(),m.topUpSlotSpinDuration&&(this.lastButtonClickTime=Date.now())))}updateRect(){this.ref&&(this._domRect=this.ref.getBoundingClientRect())}get isDisabledByTimeout(){if(!this.store.settings.topUpSlotSpinDuration||!this.lastButtonClickTime)return!1;const p=this.store.settings.topUpSlotSpinDuration,g=t.tB("frame")-this.lastButtonClickTime<p;return this.lastButtonClickTime&&!g&&(this.lastButtonClickTime=0),g}}},973214:(p,g,m)=>{m.d(g,{$T:()=>n,DX:()=>k,R1:()=>Z,Tl:()=>q,ZZ:()=>h,sI:()=>S});var Z,H=m(417674),t=m(346160);(function(p){p["MaxPayout"]="limitPlate.payoutLimit",p["BetChangedUppercase"]="BetChangedTitle",p["BalanceTooLowTooltip"]="tooltip.balanceTooLow",p["MinBetReachedTooltip"]="tooltip.minBetReached",p["MaxBetReachedTooltip"]="tooltip.maxBetReached",p["MaxPayoutReachedTooltip"]="tooltip.maxPayoutReached",p["TableBetMaxLimitReachedTooltip"]="tooltip.tableBetMaxLimitReached",p["YouWin"]="youWin",p["BetLabel"]="betlabel",p["TotalBetUpper"]="bet",p["TotalBet"]="betV2",p["TotalBetUppercase"]="betV2.uppercase",p["BonusBet"]="bonusBet.TitleCase",p["BonusBetUppercase"]="bonusBet",p["SpinUppercase"]="spin.uppercase",p["InfoWinLinesTitle"]="info.winlines.title",p["InfoWinLinesText"]="info.winlines.text",p["WaitBonusRoundBegins"]="waitBonusRoundBegins.uppercase",p["Qualified"]="qualified",p["HighVolatility"]="help.volatilityHigh",p["BetPerSpin"]="bet.perSpin.uppercase",p["BaseBet"]="bet.base",p["YouQualified"]="youQualified",p["NextRaceIn"]="nextRaceIn.uppercase",p["Qualification"]="qualification",p["NormalSpin"]="limitPlate.normalSpin",p["XXXtremeSpin"]="limitPlate.xxxtremeSpin",p["SuperXXXtremeSpin"]="limitPlate.superxxxtremeSpin",p["TopUp"]="limitPlate.topup",p["TopUpLimitBasedOnBaseBet"]="limitPlate.topUpBasedOnBaseBet",p["TurboMode"]="tooltip.turboMode",p["LowBalance"]="tooltip.lowBalance",p["LowBalanceToast"]="toast.betamount.decreased.lowBalance",p["MaxPayoutReachedToast"]="toast.betamount.decreased.payoutLimit",p["MaxTableLimitReachedToast"]="toast.betamount.decreased.tableLimit",p["XXXtremeModeDeactivated"]="toast.xxxtreme.deactivated",p["NoMoreTopUpsToast"]="toast.spin.disabled.noMoreTopUps",p["XXXtremeSpins"]="drawer.xxxtreme.title.uppercase",p["XXXtremeSpinsDescriptionP1"]="drawer.xxxtreme.description.p1.uppercase",p["XXXtremeSpinsDescriptionP2"]="drawer.xxxtreme.description.p2.uppercase",p["SuperXXXtremeSpins"]="drawer.superxxxtreme.title.uppercase",p["SuperXXXtremeSpinsDescriptionP1"]="drawer.superxxxtreme.description.p1.uppercase",p["SuperXXXtremeSpinsDescriptionP2"]="drawer.superxxxtreme.description.p2.uppercase",p["Activate"]="drawer.activate.uppercase",p["Deactivate"]="drawer.deactivate.uppercase",p["QualifyFasterWith"]="drawer.qualifyFaster.uppercase",p["SymbolPayoutsTitle"]="symbolPayouts.title",p["SymbolPayoutsScatters"]="symbolPayouts.scatters",p["AndOr"]="andOr.uppercase",p["DecisionPopupTitle"]="decisionPopup.title",p["DecisionPopupDescription"]="decisionPopup.description",p["BonusUppercase"]="bonus.uppercase",p["TopUpUppercase"]="topUp.uppercase",p["QualificationUppercase"]="qualification.uppercase",p["CatchAnyToQualify"]="catchAnyToQualify",p["WelcomeTitle"]="featureScreen.welcome.uppercase",p["SymbolWinsTitle"]="featureScreen.symbolWins.uppercase",p["WildSymbolDescription"]="featureScreen.wildSymbol",p["EnjoyThreeGames"]="featureScreen.enjoyThreeGames.uppercase",p["QualificationDescription"]="featureScreen.qualificationDescription",p["TopUpDescription"]="featureScreen.topUpDescription",p["BalloonRaceLive"]="featureScreen.balloonRaceLive.uppercase",p["BalloonRaceLiveDescription"]="featureScreen.balloonRaceLiveDescription",p["Info"]="Info",p["TopUpTimeUppercase"]="topUpTime.uppercase"})(Z||(Z={}));const h={[H.Sr.Qualification]:Z.Qualification,[H.Sr.NormalSpin]:Z.NormalSpin,[H.Sr.XXXtremeSpin]:Z.XXXtremeSpin,[H.Sr.SuperXXXtremeSpin]:Z.SuperXXXtremeSpin,[H.Sr.TopUp]:Z.TopUp},k={lowBalance:Z.LowBalanceToast,maxPayoutReached:Z.MaxPayoutReachedToast,tableBetMaxReached:Z.MaxTableLimitReachedToast},n={lowBalance:Z.BalanceTooLowTooltip,maxPayoutReached:Z.MaxPayoutReachedTooltip,tableBetMaxReached:Z.TableBetMaxLimitReachedTooltip},S={lowBalance:Z.BalanceTooLowTooltip,minBetReached:Z.MinBetReachedTooltip,maxBetReached:Z.MaxBetReachedTooltip};function q(p){return t.Tl(p)}},683935:(p,g,m)=>{m.d(g,{Nt:()=>K,IU:()=>v,Hq:()=>V,Y4:()=>W,gl:()=>Y,iU:()=>i,A:()=>j,bG:()=>J,_t:()=>z,Nr:()=>y,DG:()=>r,Cz:()=>b,aG:()=>I,IF:()=>D,Oi:()=>F,NL:()=>C,S5:()=>X,xQ:()=>d,P4:()=>$,Pj:()=>Q,pq:()=>N,Ej:()=>B,ui:()=>a,RM:()=>P,eS:()=>U,fm:()=>u});var Z=m(70193),H=(m(765198),m(417674));const t=[[[5,3,6],[6,8,9],[9,3,6],[9,4,8],[9,6,8]],[[6,7,4],[5,6,9],[6,5,7],[6,7,8],[4,7,6]],[[8,5,7],[9,3,5],[5,7,9],[8,5,3],[5,7,8]],[[9,8,6],[9,8,6],[6,4,9],[8,3,9],[8,9,7]],[[6,4,7],[5,6,4],[6,7,9],[7,4,6],[6,4,7]],[[7,8,9],[9,8,4],[4,9,5],[7,5,9],[3,5,9]],[[6,7,9],[5,4,8],[4,8,7],[9,4,5],[8,9,3]],[[7,9,8],[6,7,8],[8,6,5],[7,5,8],[8,7,6]],[[5,8,9],[8,5,6],[5,9,8],[8,9,5],[5,3,9]],[[6,8,9],[8,4,6],[5,4,8],[8,6,3],[8,6,3]],[[7,8,9],[5,8,4],[9,5,3],[6,9,5],[9,8,5]],[[9,7,5],[8,4,7],[7,8,4],[8,6,7],[8,7,5]],[[8,4,6],[7,5,4],[8,9,6],[3,8,6],[6,5,7]],[[3,5,9],[9,4,5],[5,8,3],[6,5,8],[8,5,9]],[[3,5,8],[8,4,5],[5,8,6],[5,6,8],[6,8,5]],[[6,5,7],[5,6,3],[6,7,9],[6,7,4],[5,6,7]],[[7,6,8],[8,7,9],[9,3,6],[7,3,6],[7,3,9]],[[8,9,6],[6,3,7],[4,6,8],[8,9,6],[3,4,9]],[[6,9,5],[3,5,8],[8,6,7],[3,5,9],[5,7,9]],[[5,9,6],[5,7,6],[9,4,5],[9,6,5],[9,4,6]],[[5,9,8],[3,9,5],[9,5,8],[9,7,5],[9,8,5]],[[7,6,3],[6,7,8],[7,9,8],[4,6,7],[5,8,6]],[[3,8,9],[6,9,5],[7,3,6],[9,8,6],[6,7,8]],[[8,6,3],[3,7,8],[3,9,5],[9,4,8],[7,9,8]],[[6,5,8],[6,7,8],[8,5,6],[9,8,6],[9,4,6]],[[6,5,9],[6,3,5],[5,8,9],[9,5,4],[8,9,3]],[[9,3,7],[9,4,5],[5,7,9],[9,7,5],[5,8,3]],[[8,5,7],[6,5,8],[6,8,5],[9,6,7],[6,3,8]],[[9,4,7],[3,6,9],[5,6,8],[7,3,8],[7,5,8]],[[9,6,5],[6,3,8],[7,4,6],[5,8,9],[7,9,6]],[[8,4,5],[9,3,8],[8,5,7],[7,8,5],[5,8,7]],[[5,4,8],[6,4,9],[4,9,8],[9,4,8],[9,5,8]],[[8,5,3],[8,7,4],[5,3,8],[1,1,1],[8,6,5]],[[5,7,8],[5,6,4],[3,9,8],[7,3,8],[9,6,8]],[[8,5,9],[9,8,6],[9,8,5],[3,4,5],[3,8,9]],[[7,9,3],[5,8,6],[8,5,9],[4,5,9],[7,9,6]],[[6,3,9],[6,5,7],[9,3,6],[6,5,7],[7,6,5]],[[7,4,6],[6,9,7],[9,7,6],[3,8,9],[6,9,7]],[[7,9,8],[8,9,6],[8,6,4],[8,6,9],[8,9,6]],[[3,8,9],[9,5,7],[6,9,5],[6,5,9],[8,7,6]],[[4,9,8],[5,8,9],[3,9,5],[7,9,5],[5,3,9]],[[6,5,7],[7,6,9],[9,6,7],[9,7,8],[9,6,8]],[[3,9,5],[4,8,5],[5,9,6],[5,9,8],[5,9,7]],[[9,5,7],[9,5,7],[5,4,9],[5,8,3],[5,9,6]],[[4,8,6],[8,3,9],[6,9,8],[8,9,7],[5,6,8]],[[9,5,8],[7,5,8],[9,4,5],[9,8,5],[8,5,9]],[[6,5,9],[9,5,6],[7,9,4],[6,9,8],[6,9,5]],[[7,5,6],[6,7,5],[7,9,4],[4,9,5],[3,9,5]],[[6,5,9],[9,8,5],[3,8,9],[8,6,9],[9,6,8]],[[8,3,7],[7,8,9],[7,9,3],[7,9,8],[7,6,8]],[[8,6,9],[8,9,5],[5,9,6],[6,9,8],[4,9,8]],[[7,6,3],[7,8,4],[4,8,7],[8,6,5],[5,7,8]],[[6,9,4],[3,6,9],[6,3,8],[4,9,6],[4,6,5]],[[5,8,9],[9,6,4],[6,9,8],[8,6,9],[9,7,6]],[[6,8,5],[8,7,3],[3,4,5],[5,8,6],[6,5,8]],[[8,4,5],[9,5,6],[9,3,5],[5,8,9],[9,8,5]],[[9,7,8],[4,8,9],[9,3,8],[6,3,4],[4,3,8]],[[8,6,9],[5,6,4],[8,9,6],[6,5,8],[7,9,6]],[[5,9,6],[6,4,9],[6,9,4],[6,5,9],[8,6,3]],[[5,9,7],[5,6,4],[6,4,7],[8,3,5],[6,7,5]],[[8,5,4],[7,5,8],[9,8,7],[9,8,7],[6,7,8]],[[7,9,8],[6,8,3],[6,7,9],[4,7,9],[8,3,7]],[[9,5,7],[6,7,9],[6,3,9],[4,9,7],[9,7,6]],[[9,8,4],[7,9,3],[4,3,8],[7,4,8],[8,4,6]],[[8,6,9],[8,7,9],[9,6,8],[3,6,8],[6,9,3]],[[8,9,3],[4,5,8],[8,7,4],[4,6,8],[8,7,6]],[[8,9,3],[7,8,9],[9,8,6],[6,8,9],[7,9,6]],[[7,8,9],[9,8,7],[8,6,9],[8,4,9],[7,6,9]],[[7,5,6],[5,8,7],[7,6,4],[9,7,6],[6,7,9]],[[4,9,6],[5,6,9],[7,8,6],[1,1,1],[9,3,6]],[[5,3,8],[8,9,6],[8,4,5],[6,4,5],[9,8,3]],[[8,6,7],[7,4,5],[8,3,6],[8,6,5],[8,5,6]],[[8,6,4],[5,7,6],[6,9,5],[9,7,5],[8,5,7]],[[8,5,7],[7,8,6],[5,3,7],[8,7,4],[8,7,9]],[[5,9,8],[8,5,9],[9,5,8],[8,9,5],[9,8,5]],[[5,8,6],[6,5,8],[8,5,7],[6,8,7],[6,4,5]],[[6,5,7],[7,5,9],[8,6,7],[8,7,6],[6,7,9]],[[7,5,9],[4,7,6],[3,7,9],[7,8,9],[7,5,4]],[[9,7,8],[8,9,5],[8,6,7],[9,8,3],[8,7,3]],[[7,8,5],[5,8,7],[7,5,8],[5,8,4],[3,4,8]],[[7,5,9],[4,5,9],[9,7,5],[9,7,5],[5,7,3]],[[8,4,7],[7,9,8],[4,7,8],[7,8,9],[8,7,9]],[[9,4,8],[7,6,9],[7,3,8],[7,9,8],[6,7,8]],[[8,6,9],[6,4,8],[3,8,9],[8,9,6],[6,9,8]],[[8,6,3],[7,4,9],[3,8,9],[7,9,8],[4,3,8]],[[7,6,9],[9,8,6],[6,8,9],[6,9,8],[9,5,6]],[[5,3,6],[1,1,1],[9,7,8],[6,7,5],[3,6,5]],[[9,7,5],[9,7,8],[7,3,9],[8,3,4],[5,4,8]],[[7,8,6],[4,6,8],[4,3,6],[6,8,4],[7,5,4]],[[8,4,3],[8,7,4],[9,4,3],[4,5,8],[4,8,7]],[[9,6,7],[9,7,6],[4,6,7],[9,7,6],[6,7,9]],[[5,9,8],[6,5,8],[5,7,6],[5,6,7],[3,5,6]],[[3,6,5],[9,7,5],[5,7,6],[6,7,8],[6,9,5]],[[9,8,7],[7,9,8],[8,9,7],[9,7,8],[3,9,8]],[[3,6,8],[5,6,3],[8,3,6],[3,4,8],[3,6,8]],[[9,6,8],[9,4,7],[4,8,7],[7,8,5],[7,8,9]],[[4,8,6],[9,8,4],[9,6,8],[7,6,9],[5,3,6]],[[7,9,5],[9,8,6],[7,8,6],[6,8,7],[5,6,8]],[[9,8,6],[5,6,7],[5,9,6],[4,9,6],[9,3,8]],[[8,5,4],[7,5,8],[5,4,8],[8,9,4],[9,4,3]],[[9,8,5],[5,4,8],[9,5,3],[6,9,5],[8,5,9]],[[5,9,6],[8,9,7],[6,5,9],[9,5,6],[3,5,9]],[[8,7,9],[9,4,3],[8,9,7],[7,9,3],[9,8,6]],[[9,7,3],[7,5,4],[6,3,9],[7,9,5],[8,7,9]],[[6,7,9],[7,6,4],[9,6,5],[7,6,9],[5,6,7]],[[8,9,4],[8,9,6],[5,3,6],[6,9,8],[9,8,6]],[[7,5,9],[7,8,3],[8,9,4],[8,5,6],[7,8,9]],[[5,7,6],[8,6,9],[4,8,6],[6,9,4],[7,6,9]],[[4,7,6],[9,6,7],[7,9,6],[3,9,7],[4,6,7]],[[8,5,4],[5,9,8],[8,9,5],[9,5,6],[5,8,9]],[[8,4,6],[5,4,8],[8,7,9],[9,3,4],[4,8,9]],[[3,6,9],[6,5,9],[5,8,6],[6,8,9],[8,6,3]],[[5,8,9],[7,6,3],[5,6,9],[7,9,8],[7,8,9]],[[9,6,8],[7,9,6],[9,7,8],[9,5,3],[8,6,9]],[[9,4,6],[7,6,9],[7,3,9],[6,3,4],[7,9,5]],[[4,7,9],[9,6,4],[5,7,3],[4,9,7],[9,5,7]],[[5,3,4],[5,4,3],[6,8,7],[5,8,6],[8,9,5]],[[7,5,9],[7,9,8],[3,9,7],[9,6,7],[7,8,9]],[[6,8,9],[6,8,4],[8,4,6],[6,5,9],[6,7,8]],[[6,5,3],[7,8,6],[8,9,4],[3,4,9],[6,4,9]],[[5,9,6],[5,8,3],[4,6,5],[5,8,6],[6,8,3]],[[8,6,5],[4,5,8],[8,9,7],[8,3,9],[5,8,6]],[[8,5,6],[8,9,7],[3,9,8],[7,8,9],[3,6,9]],[[8,7,6],[6,5,8],[6,7,5],[3,4,7],[4,7,8]],[[3,8,6],[6,9,7],[5,7,6],[6,9,5],[4,7,6]],[[9,6,8],[8,4,9],[5,9,7],[9,5,3],[7,9,8]],[[9,7,4],[4,9,3],[9,4,6],[9,7,5],[7,9,3]],[[6,5,4],[8,4,6],[5,4,6],[5,6,4],[4,5,9]],[[8,4,9],[4,8,7],[8,7,9],[3,6,7],[7,9,4]],[[9,6,8],[5,8,6],[7,6,3],[7,3,4],[6,8,9]],[[6,5,7],[7,6,9],[5,7,9],[5,9,3],[9,6,3]],[[3,9,7],[6,8,5],[8,5,9],[9,8,5],[8,5,3]],[[3,6,9],[9,6,7],[6,9,7],[1,1,1],[5,6,7]],[[3,6,8],[6,8,5],[9,3,8],[5,8,9],[6,8,9]],[[8,9,3],[9,4,7],[8,5,7],[9,8,7],[8,7,3]],[[4,8,5],[5,8,9],[9,5,7],[5,9,4],[5,9,8]],[[7,3,8],[8,9,4],[8,9,3],[8,7,9],[4,9,8]],[[6,9,5],[4,9,6],[9,6,5],[6,7,5],[9,6,5]],[[3,7,8],[8,7,5],[9,8,7],[8,7,6],[6,8,9]],[[3,9,8],[9,3,8],[8,7,4],[6,7,8],[7,8,9]],[[4,6,8],[8,9,6],[8,6,9],[8,6,5],[3,9,6]],[[7,8,6],[7,6,8],[4,8,6],[7,5,6],[4,6,8]],[[5,6,4],[6,4,7],[5,9,6],[6,4,9],[4,9,6]],[[8,9,6],[8,9,5],[9,6,3],[8,6,9],[9,6,4]],[[9,6,8],[5,8,6],[6,7,8],[4,8,6],[7,6,8]],[[9,8,7],[7,9,6],[5,7,4],[8,7,4],[8,9,5]],[[9,5,3],[7,8,9],[9,8,7],[4,9,7],[9,6,5]],[[5,8,7],[6,7,8],[8,9,7],[4,9,8],[8,9,7]],[[8,6,4],[6,3,9],[8,7,6],[7,6,9],[9,6,7]],[[8,6,9],[9,6,8],[9,7,6],[6,5,9],[9,5,6]],[[5,6,9],[9,6,8],[5,8,7],[6,7,9],[8,3,5]],[[7,8,5],[5,6,8],[8,7,3],[7,5,8],[5,8,7]],[[8,5,9],[9,3,8],[7,8,9],[9,3,7],[8,7,5]],[[8,9,7],[6,9,8],[9,6,7],[8,7,9],[9,6,3]],[[3,5,8],[9,3,5],[5,9,6],[5,4,8],[8,5,6]],[[6,3,4],[3,7,8],[8,7,6],[8,6,7],[7,8,6]],[[5,7,8],[7,8,5],[6,9,8],[8,9,7],[8,5,7]],[[8,5,3],[7,5,6],[8,7,3],[7,8,9],[5,7,9]],[[3,7,8],[8,7,9],[7,3,9],[7,9,8],[6,3,9]],[[7,9,6],[6,4,3],[7,6,9],[9,5,4],[6,9,7]],[[6,7,5],[6,7,9],[7,9,6],[9,5,6],[6,9,5]],[[7,9,5],[9,6,8],[8,5,9],[3,5,9],[3,9,5]],[[3,4,6],[3,9,8],[5,9,8],[9,7,8],[6,8,9]],[[4,8,3],[6,3,8],[8,3,6],[1,1,1],[5,6,3]],[[6,3,9],[5,9,6],[7,5,4],[5,6,7],[5,9,6]],[[9,6,3],[7,6,9],[9,5,7],[7,4,6],[4,7,6]],[[9,8,7],[7,9,8],[7,6,3],[3,9,7],[7,3,8]],[[9,5,3],[7,5,9],[5,8,9],[3,9,5],[5,9,8]],[[5,3,9],[4,6,9],[9,6,4],[8,5,9],[9,6,5]],[[7,9,4],[8,4,7],[7,8,9],[8,5,9],[7,8,9]],[[5,8,6],[7,5,6],[4,3,8],[8,6,7],[6,8,7]],[[9,7,4],[4,5,9],[6,4,5],[5,4,7],[7,4,9]],[[9,6,4],[4,6,8],[4,9,6],[6,8,4],[8,4,6]],[[7,5,6],[6,7,8],[6,3,5],[5,6,7],[6,5,9]],[[6,4,9],[9,6,5],[9,5,8],[8,6,9],[6,9,8]],[[6,9,5],[4,9,8],[8,5,4],[3,9,8],[9,7,5]],[[8,4,7],[7,5,8],[8,9,5],[6,8,7],[9,7,5]],[[7,5,8],[3,9,7],[5,6,9],[9,5,4],[4,7,9]],[[7,6,3],[7,4,9],[8,4,9],[3,9,7],[8,9,5]],[[3,8,6],[7,8,6],[9,5,4],[6,4,9],[6,4,7]],[[8,9,6],[8,6,9],[3,9,6],[3,9,6],[8,6,9]],[[5,7,9],[7,5,9],[9,5,7],[5,7,8],[7,5,6]],[[9,6,8],[5,6,9],[8,4,9],[8,6,9],[9,8,6]],[[7,8,5],[5,9,8],[8,9,7],[3,5,8],[9,8,5]],[[9,4,8],[9,4,5],[8,7,4],[9,6,4],[8,5,4]],[[9,4,8],[3,5,9],[5,9,3],[5,3,9],[9,5,3]],[[9,7,5],[9,5,6],[6,3,4],[9,7,3],[6,5,3]],[[6,8,9],[5,6,8],[6,9,3],[9,5,6],[6,5,8]],[[4,5,7],[7,9,5],[5,6,7],[8,7,5],[9,5,7]],[[6,5,8],[9,4,8],[8,4,6],[6,8,9],[3,7,9]],[[5,6,8],[6,3,5],[4,5,8],[7,8,5],[4,6,8]],[[5,9,8],[7,6,8],[9,7,3],[8,7,9],[7,8,9]],[[9,7,8],[3,8,9],[7,9,6],[8,9,7],[5,8,7]],[[8,3,7],[6,8,7],[8,5,4],[4,6,5],[6,5,4]],[[3,9,5],[5,6,4],[5,8,9],[8,9,7],[6,5,9]],[[6,4,7],[5,8,7],[5,6,8],[5,7,8],[6,5,8]],[[6,5,9],[9,5,3],[5,4,3],[1,1,1],[3,6,9]],[[8,3,7],[7,6,9],[8,5,4],[8,5,7],[7,5,8]],[[3,4,7],[8,9,5],[7,9,8],[9,4,8],[5,9,8]],[[3,5,9],[6,5,3],[6,9,5],[6,9,5],[9,6,4]],[[9,7,6],[5,7,6],[7,9,5],[4,7,6],[7,6,4]],[[5,3,6],[9,3,7],[8,5,3],[9,5,8],[9,8,5]],[[4,3,8],[8,4,9],[4,8,9],[7,9,8],[7,5,8]],[[9,4,7],[7,4,9],[6,8,4],[9,7,4],[6,4,9]],[[9,6,7],[5,9,7],[7,5,4],[8,9,5],[9,6,5]],[[3,9,8],[4,5,7],[5,3,7],[7,9,4],[5,7,9]],[[6,4,7],[5,7,8],[6,5,7],[8,7,6],[6,3,5]],[[9,6,4],[9,8,5],[5,8,9],[8,9,5],[9,4,8]],[[7,8,9],[9,7,3],[8,9,5],[8,5,9],[6,8,9]],[[7,9,8],[5,7,9],[9,5,8],[7,6,8],[7,4,9]],[[9,6,7],[7,9,8],[8,9,7],[7,8,9],[5,6,9]],[[3,8,9],[3,9,4],[8,5,3],[9,5,3],[8,3,4]],[[3,9,8],[5,9,4],[7,5,9],[3,8,9],[8,7,9]],[[7,6,8],[7,5,8],[9,3,7],[9,8,7],[9,8,3]],[[8,7,6],[5,7,8],[4,8,7],[5,3,7],[8,6,7]],[[7,8,3],[3,7,5],[6,3,5],[8,3,6],[5,8,6]],[[5,7,9],[8,9,5],[8,5,3],[9,5,8],[5,8,9]],[[9,4,6],[8,6,9],[5,6,9],[6,5,9],[5,9,3]],[[7,3,5],[3,6,5],[9,6,7],[6,5,8],[8,5,6]],[[5,7,4],[4,7,5],[9,3,5],[5,7,9],[5,9,7]],[[6,8,9],[3,5,6],[9,4,5],[6,5,7],[4,9,6]],[[3,8,6],[9,8,7],[3,6,8],[8,9,6],[8,6,4]],[[8,6,7],[6,8,7],[8,5,6],[7,4,6],[7,5,8]],[[6,8,7],[3,7,6],[9,6,7],[7,9,6],[7,9,6]],[[6,4,5],[6,5,8],[8,7,5],[8,6,3],[6,8,3]],[[8,7,5],[3,4,6],[8,6,5],[3,5,8],[6,3,8]],[[6,5,4],[3,6,9],[6,9,5],[9,6,5],[9,6,7]],[[6,9,5],[3,9,8],[8,5,9],[9,8,6],[5,8,9]],[[9,7,8],[6,7,8],[9,6,7],[9,8,5],[8,7,3]],[[7,3,9],[8,7,4],[9,6,8],[8,7,4],[4,7,9]],[[8,9,5],[5,6,8],[7,5,6],[5,9,3],[5,8,4]],[[6,8,9],[8,7,4],[9,6,7],[6,9,8],[8,7,5]],[[9,3,7],[5,6,8],[8,5,7],[6,7,8],[8,7,6]],[[6,7,5],[6,8,3],[8,9,7],[4,8,7],[5,3,8]],[[8,6,9],[9,4,8],[5,8,6],[8,9,6],[8,3,9]],[[7,5,6],[8,4,7],[9,8,5],[6,7,8],[6,8,7]],[[4,6,8],[8,7,9],[8,9,6],[4,8,9],[4,6,8]],[[6,8,9],[9,8,3],[6,9,3],[6,8,9],[6,9,8]],[[8,9,7],[8,5,9],[7,9,8],[7,8,9],[7,5,9]],[[7,9,8],[6,8,5],[5,7,8],[1,1,1],[8,3,7]],[[9,5,7],[6,9,7],[7,9,6],[4,7,9],[7,4,9]],[[8,4,6],[6,9,7],[4,8,9],[7,6,9],[5,7,6]],[[5,9,7],[7,9,8],[3,8,9],[7,9,8],[5,8,7]],[[5,4,9],[9,7,8],[8,9,4],[7,3,6],[5,9,4]],[[6,5,9],[6,9,5],[3,5,9],[7,3,9],[8,5,7]],[[6,8,9],[9,6,8],[6,9,5],[4,9,8],[9,3,8]],[[5,9,3],[5,6,9],[9,4,3],[9,4,5],[5,3,6]],[[5,9,8],[8,7,5],[5,6,7],[5,8,6],[4,5,6]],[[7,9,8],[5,4,8],[9,4,5],[4,8,5],[5,3,7]],[[9,7,4],[9,4,7],[7,3,4],[7,4,9],[9,7,8]],[[7,8,9],[4,8,6],[6,9,8],[6,8,5],[4,9,8]],[[6,9,8],[8,4,6],[8,6,7],[8,3,7],[9,6,8]],[[4,3,7],[9,7,8],[9,7,8],[9,8,7],[7,8,9]],[[9,7,8],[8,5,3],[6,8,5],[7,8,9],[9,3,8]],[[4,7,8],[8,6,5],[4,6,8],[9,8,6],[3,8,6]],[[3,9,5],[9,6,7],[7,5,9],[9,5,7],[9,4,5]],[[6,7,9],[5,8,4],[8,6,9],[9,6,8],[4,3,8]],[[8,5,6],[8,3,5],[9,5,3],[5,8,3],[8,5,3]],[[9,7,6],[4,3,9],[6,9,8],[3,9,7],[8,9,6]],[[9,8,7],[5,8,7],[8,9,5],[7,8,4],[8,9,7]],[[9,6,3],[3,6,9],[9,7,6],[6,5,9],[6,7,3]],[[3,9,5],[8,7,9],[9,5,8],[5,8,7],[8,5,9]],[[7,9,8],[3,7,6],[5,9,4],[1,1,1],[8,7,9]],[[5,4,7],[8,5,3],[3,9,7],[9,5,8],[6,8,7]],[[5,3,6],[9,6,8],[7,4,8],[8,6,7],[6,8,7]],[[9,5,8],[9,7,5],[8,7,9],[6,9,5],[9,5,4]],[[6,4,9],[9,5,7],[6,5,4],[3,6,9],[6,9,5]],[[3,5,8],[8,6,5],[7,5,8],[5,9,3],[8,5,4]],[[6,7,8],[8,5,3],[9,7,8],[6,8,5],[4,9,7]],[[6,3,9],[6,8,9],[5,4,6],[6,9,3],[8,6,9]],[[9,3,7],[8,4,9],[7,8,9],[5,8,4],[9,7,8]],[[9,5,6],[6,9,7],[4,8,6],[6,9,8],[9,6,3]],[[4,3,7],[8,7,6],[9,5,6],[9,5,8],[5,3,7]],[[8,5,4],[9,8,6],[9,8,7],[5,6,8],[9,5,8]],[[5,8,4],[5,6,9],[8,9,6],[8,9,6],[5,9,8]],[[5,7,6],[6,7,8],[5,8,7],[7,6,5],[3,7,5]],[[3,4,6],[3,8,9],[8,7,3],[8,5,9],[9,6,4]],[[6,9,7],[4,5,3],[4,9,6],[4,6,9],[9,6,4]],[[5,6,9],[9,6,4],[6,9,8],[8,5,3],[9,6,3]],[[9,8,7],[7,5,6],[7,4,6],[3,6,7],[6,7,9]],[[7,6,8],[8,4,3],[3,6,7],[8,7,9],[7,9,8]],[[9,8,3],[8,9,5],[4,9,8],[3,7,9],[8,4,3]],[[4,6,8],[3,4,8],[9,4,7],[4,9,8],[8,4,9]],[[9,7,5],[7,6,9],[8,3,7],[9,7,3],[8,7,9]],[[5,9,7],[3,9,5],[7,5,9],[7,9,5],[6,9,7]],[[3,4,5],[1,1,1],[9,7,8],[7,8,9],[7,9,5]],[[6,8,9],[9,5,3],[9,6,8],[7,9,6],[3,8,6]],[[6,5,7],[9,7,6],[9,7,3],[6,4,3],[4,7,9]],[[8,9,6],[9,4,8],[6,4,5],[8,9,5],[9,5,8]],[[8,9,4],[6,8,9],[9,8,6],[4,6,9],[8,7,6]],[[9,3,8],[8,9,3],[5,9,8],[9,3,5],[6,3,8]],[[5,4,9],[5,3,6],[9,3,8],[4,5,9],[6,5,9]],[[5,8,4],[6,8,7],[8,6,9],[3,6,8],[6,8,3]],[[7,9,8],[8,3,9],[7,9,8],[8,7,9],[9,7,8]],[[8,4,6],[9,8,3],[4,9,6],[8,4,6],[6,5,9]],[[9,8,3],[7,8,9],[9,5,4],[9,8,7],[9,8,7]],[[9,7,8],[8,9,7],[7,9,4],[1,1,1],[9,8,5]],[[7,8,9],[9,7,8],[9,8,4],[8,9,4],[8,6,3]],[[7,6,8],[5,6,4],[6,9,4],[7,6,9],[6,7,5]],[[8,4,5],[5,8,7],[7,8,5],[7,5,8],[8,7,5]],[[5,6,8],[8,7,9],[7,6,8],[6,9,5],[8,6,7]],[[3,6,5],[9,8,3],[9,6,5],[6,8,5],[5,8,6]],[[8,6,9],[5,9,8],[5,8,7],[6,7,9],[8,9,7]],[[8,3,9],[9,5,8],[8,9,5],[5,3,8],[9,8,5]],[[9,5,6],[6,7,9],[9,8,3],[9,7,6],[8,6,5]],[[5,6,8],[5,9,7],[7,4,3],[9,3,5],[8,6,7]],[[7,4,8],[6,9,8],[9,4,7],[8,7,6],[9,8,7]],[[8,4,6],[7,8,3],[8,4,6],[9,7,6],[8,3,9]],[[7,4,5],[5,3,8],[4,5,7],[8,5,7],[9,5,7]],[[8,6,9],[3,5,6],[6,8,5],[7,8,5],[6,5,8]],[[6,5,3],[7,9,6],[4,5,7],[8,9,7],[7,5,6]],[[6,7,9],[8,9,7],[7,9,6],[6,4,7],[9,5,7]],[[7,5,9],[9,6,7],[6,9,7],[6,7,9],[6,9,5]],[[7,3,5],[5,8,6],[7,5,8],[6,5,8],[6,8,5]],[[6,3,9],[8,7,6],[9,8,6],[4,9,8],[9,8,6]],[[7,6,4],[4,8,3],[8,9,6],[3,9,6],[4,7,8]],[[8,4,9],[3,9,7],[7,9,3],[9,8,7],[8,9,7]],[[6,9,4],[3,7,8],[6,9,8],[9,6,8],[8,5,3]],[[9,8,5],[3,8,9],[5,4,8],[5,4,9],[9,5,8]],[[6,3,7],[9,6,8],[6,4,9],[6,4,9],[6,8,9]],[[8,9,6],[5,6,8],[8,5,4],[9,8,5],[3,8,9]],[[5,9,7],[3,7,9],[9,5,8],[9,5,3],[9,8,7]],[[9,8,6],[6,4,9],[7,8,3],[1,1,1],[9,5,6]],[[9,4,8],[5,8,3],[5,9,8],[9,5,4],[8,9,5]],[[3,7,9],[3,7,9],[9,4,7],[9,3,5],[3,6,4]],[[5,4,9],[6,9,5],[5,9,6],[1,1,1],[9,4,6]],[[5,7,9],[9,4,6],[3,6,7],[7,9,6],[4,6,9]],[[4,3,7],[6,8,5],[8,7,5],[6,5,4],[5,8,7]],[[6,9,4],[5,6,3],[5,6,9],[6,5,7],[6,9,5]],[[9,8,4],[7,9,4],[8,9,7],[6,7,9],[5,3,7]],[[8,4,7],[7,3,8],[8,4,3],[7,8,4],[8,9,7]],[[9,7,8],[5,3,9],[7,9,8],[6,8,9],[6,9,7]],[[3,8,6],[8,3,6],[5,7,4],[6,3,7],[7,8,6]],[[9,8,6],[6,8,7],[6,3,9],[6,9,8],[6,9,8]],[[7,9,8],[7,8,3],[5,8,4],[7,5,9],[7,9,3]],[[4,5,9],[5,7,4],[9,4,5],[1,1,1],[8,9,7]],[[9,7,6],[5,9,6],[6,5,4],[9,5,7],[6,9,5]],[[6,5,3],[6,9,5],[5,3,6],[6,5,9],[6,9,5]],[[6,8,7],[5,8,6],[9,5,7],[8,6,5],[6,8,5]],[[8,7,9],[9,8,5],[9,7,3],[8,6,7],[8,9,7]],[[9,7,3],[5,8,6],[4,6,9],[9,8,6],[6,9,4]],[[5,8,9],[9,7,5],[5,7,9],[7,9,5],[9,7,4]],[[7,9,6],[3,8,9],[7,6,4],[8,9,7],[9,7,6]],[[5,6,7],[7,6,9],[5,4,7],[6,3,9],[8,9,7]],[[8,7,9],[3,9,7],[7,8,9],[8,4,7],[9,7,4]],[[3,6,7],[7,6,8],[6,7,8],[8,6,3],[8,6,7]],[[9,7,6],[8,4,3],[4,9,7],[9,8,3],[8,9,6]],[[4,8,6],[4,6,8],[8,6,9],[8,7,6],[6,8,3]],[[6,3,9],[4,8,6],[6,8,9],[8,6,5],[9,3,7]],[[5,8,7],[8,6,7],[7,5,8],[8,4,7],[5,7,6]],[[8,9,5],[5,8,9],[5,9,6],[9,8,4],[5,6,9]],[[7,5,8],[9,5,6],[5,3,7],[7,4,5],[8,6,4]],[[9,5,7],[7,3,6],[7,6,8],[8,3,4],[8,7,9]],[[7,9,6],[6,3,7],[9,6,4],[1,1,1],[5,9,6]],[[8,7,6],[7,8,6],[3,8,7],[7,8,4],[6,7,8]],[[7,5,4],[8,9,4],[7,9,8],[6,7,9],[8,9,7]],[[7,3,5],[8,7,6],[6,7,5],[9,5,8],[6,5,4]],[[9,5,6],[5,9,6],[6,9,5],[6,9,4],[8,9,7]],[[3,9,6],[5,3,6],[3,9,5],[9,5,6],[3,9,6]],[[8,6,5],[9,6,8],[7,9,6],[9,3,8],[6,8,7]],[[4,6,5],[4,8,5],[5,6,8],[3,9,5],[3,5,8]],[[5,7,9],[8,5,7],[7,9,6],[1,1,1],[9,7,5]],[[8,9,5],[8,6,3],[6,7,4],[6,5,4],[6,8,5]],[[8,9,5],[5,9,6],[5,8,4],[9,6,5],[3,5,9]],[[5,3,4],[9,8,7],[8,7,9],[1,1,1],[5,6,8]],[[7,8,6],[5,9,8],[5,9,7],[5,9,6],[5,8,9]],[[8,4,9],[4,8,6],[3,9,6],[6,9,8],[8,6,9]],[[7,8,9],[8,9,7],[7,5,9],[9,8,3],[9,8,7]],[[9,6,8],[5,8,9],[9,6,8],[3,9,6],[9,6,8]],[[6,9,8],[4,3,6],[9,8,6],[6,8,9],[8,6,9]],[[5,7,6],[6,7,3],[7,5,6],[7,3,6],[6,7,8]],[[3,7,4],[7,4,3],[9,5,3],[4,7,3],[5,3,7]],[[8,7,9],[6,5,8],[5,8,6],[8,5,6],[8,6,5]],[[4,7,5],[4,3,7],[7,5,8],[5,4,6],[5,7,4]],[[3,6,8],[8,6,3],[6,7,8],[1,1,1],[6,5,7]],[[8,7,9],[8,9,6],[7,4,3],[6,3,9],[7,8,9]],[[7,4,9],[9,7,6],[3,8,9],[7,9,3],[4,9,6]],[[3,6,7],[6,3,5],[4,3,9],[8,6,7],[8,3,6]],[[8,7,9],[7,5,9],[5,8,4],[9,6,8],[9,8,4]],[[7,6,5],[5,4,7],[6,7,5],[5,7,6],[7,6,5]],[[3,9,7],[9,6,4],[8,7,9],[7,9,6],[4,7,6]],[[4,7,8],[4,9,8],[8,7,4],[1,1,1],[6,5,4]],[[6,8,3],[9,6,8],[6,8,4],[4,8,6],[9,8,6]],[[9,5,7],[9,5,7],[7,4,9],[3,9,5],[5,7,9]],[[9,5,3],[5,8,9],[8,9,5],[9,8,5],[3,9,7]],[[3,7,9],[5,7,8],[7,9,5],[9,5,7],[6,7,5]],[[8,3,9],[4,9,6],[6,9,3],[9,6,8],[3,9,6]],[[5,9,8],[9,4,5],[3,5,8],[9,5,8],[5,8,9]],[[6,9,3],[3,7,8],[7,8,9],[7,6,3],[7,3,6]],[[8,9,6],[9,8,6],[7,8,9],[8,3,6],[9,6,3]],[[9,8,7],[9,4,3],[4,8,7],[4,8,9],[4,7,9]],[[6,8,7],[8,9,7],[7,9,4],[7,9,8],[9,7,5]],[[8,9,5],[5,3,4],[6,8,5],[3,9,7],[8,9,7]],[[5,6,9],[8,3,9],[7,8,4],[7,9,6],[3,7,9]],[[6,7,5],[4,7,6],[8,6,5],[3,7,6],[7,8,6]],[[5,4,6],[6,5,8],[5,8,6],[3,6,8],[6,8,5]],[[9,5,6],[6,5,9],[5,6,9],[1,1,1],[5,4,3]],[[6,8,4],[9,6,3],[6,3,9],[8,4,9],[8,6,9]],[[5,7,6],[6,8,7],[4,7,5],[6,5,4],[9,7,5]],[[7,8,9],[9,6,7],[7,9,8],[9,8,3],[8,5,9]],[[7,9,3],[3,7,8],[7,8,3],[3,7,9],[8,9,5]],[[8,7,6],[5,6,7],[7,9,8],[7,8,6],[4,6,7]],[[8,5,7],[7,8,6],[3,6,7],[8,4,6],[4,7,6]],[[4,9,7],[5,8,4],[7,9,6],[9,7,5],[9,5,7]],[[6,5,7],[4,7,6],[8,7,5],[6,5,7],[7,8,6]],[[8,9,3],[9,8,6],[8,6,9],[8,6,3],[8,9,6]],[[8,5,6],[5,6,8],[3,8,9],[5,8,6],[8,6,5]],[[9,6,7],[8,5,6],[8,3,5],[8,3,6],[6,7,5]],[[5,8,9],[9,6,3],[9,5,4],[5,7,9],[5,8,9]],[[5,7,9],[6,4,8],[6,9,5],[9,3,7],[4,8,9]],[[3,8,7],[6,7,5],[5,7,6],[7,6,4],[8,7,3]],[[5,8,9],[8,3,5],[7,9,6],[3,7,8],[4,9,8]],[[5,6,8],[6,9,5],[5,9,6],[5,3,6],[9,7,6]],[[4,7,9],[5,4,7],[6,9,8],[3,9,8],[7,8,4]],[[4,3,8],[7,5,8],[8,5,7],[8,7,5],[5,3,4]],[[4,3,8],[6,5,4],[8,5,7],[3,8,7],[7,8,5]],[[6,9,8],[9,8,4],[6,8,9],[7,9,8],[9,7,6]],[[6,9,7],[8,6,7],[4,3,8],[4,8,6],[7,6,8]],[[6,9,4],[9,6,5],[6,8,5],[6,8,9],[9,6,8]],[[8,9,5],[6,8,4],[8,7,3],[8,6,9],[9,6,3]],[[5,6,8],[6,9,3],[9,7,3],[7,6,8],[6,9,7]],[[3,6,7],[7,6,5],[7,8,6],[6,9,7],[8,7,6]],[[6,8,9],[8,6,9],[9,5,3],[6,8,9],[7,8,9]],[[5,7,8],[6,3,5],[7,5,8],[8,3,4],[5,6,9]],[[8,5,9],[9,5,8],[5,8,9],[7,8,5],[4,5,8]],[[8,6,5],[5,8,9],[9,8,7],[6,8,9],[7,3,5]],[[6,7,9],[8,6,7],[6,7,5],[3,7,6],[6,5,4]],[[8,6,9],[9,8,5],[8,5,9],[8,5,7],[8,4,9]],[[6,3,9],[9,7,5],[3,7,6],[8,5,7],[4,6,7]],[[7,8,9],[4,9,6],[3,9,6],[6,9,5],[6,5,3]],[[5,6,8],[5,8,3],[7,6,5],[8,7,6],[8,7,5]],[[7,6,8],[7,9,5],[6,9,5],[7,5,4],[7,3,9]],[[8,9,6],[9,8,3],[4,6,9],[8,3,9],[9,3,7]],[[6,8,5],[5,6,7],[4,6,5],[5,7,4],[5,7,6]],[[6,8,9],[8,6,4],[9,6,8],[6,8,4],[6,9,8]],[[7,3,9],[5,9,8],[5,6,4],[4,3,9],[9,7,5]],[[3,7,5],[3,8,9],[5,9,8],[7,9,5],[6,7,5]],[[7,3,8],[3,7,8],[4,9,6],[8,7,9],[6,9,3]],[[8,9,6],[6,8,5],[9,8,7],[5,6,8],[9,5,7]],[[5,6,7],[8,7,9],[8,9,7],[7,8,5],[9,3,4]],[[8,5,6],[3,6,5],[9,5,8],[8,6,7],[9,5,6]],[[8,4,7],[4,3,9],[7,9,8],[4,9,3],[4,9,7]],[[3,5,8],[9,4,5],[3,5,9],[8,4,5],[5,8,3]],[[5,3,8],[9,8,7],[9,3,6],[9,4,7],[7,5,9]],[[7,6,5],[5,9,7],[9,5,7],[5,9,7],[9,7,5]],[[6,5,7],[5,8,4],[6,7,5],[1,1,1],[6,8,4]],[[5,6,4],[8,7,9],[6,4,9],[7,6,9],[4,9,6]],[[8,9,7],[7,4,9],[4,7,8],[5,8,7],[7,8,5]],[[7,8,3],[7,9,8],[9,5,7],[8,7,9],[8,5,7]],[[5,8,9],[4,8,9],[9,7,8],[9,7,5],[3,8,9]],[[8,6,9],[6,9,4],[8,5,6],[6,8,9],[6,8,9]],[[6,8,7],[9,5,3],[5,4,7],[7,9,8],[4,8,9]],[[9,7,8],[8,6,9],[5,8,6],[6,9,8],[9,7,6]],[[5,9,3],[7,4,5],[7,5,6],[5,6,7],[7,9,5]],[[9,4,8],[7,8,9],[7,5,9],[7,9,8],[6,9,5]],[[9,7,6],[7,5,9],[6,9,7],[9,8,6],[7,6,9]],[[9,7,5],[8,7,5],[9,8,4],[8,7,9],[9,8,7]],[[7,9,8],[6,9,5],[9,8,4],[9,8,6],[6,4,8]],[[4,3,8],[5,7,8],[8,5,4],[8,9,5],[4,8,7]],[[8,9,3],[5,9,6],[3,8,9],[6,3,8],[9,5,4]],[[9,3,8],[7,8,9],[7,8,9],[7,8,9],[9,8,7]],[[5,8,6],[6,8,5],[8,6,4],[9,5,6],[5,8,4]],[[9,6,7],[5,6,8],[6,9,7],[9,7,8],[4,6,7]],[[3,9,6],[4,9,7],[9,6,7],[7,6,9],[7,4,9]],[[5,7,4],[9,5,8],[5,8,7],[5,7,8],[3,8,5]],[[5,9,6],[5,7,6],[6,3,9],[9,7,4],[6,7,9]],[[8,7,6],[9,3,8],[8,7,6],[5,6,7],[9,6,8]],[[7,8,5],[9,8,5],[9,4,3],[9,8,5],[5,8,9]],[[3,4,7],[7,6,8],[6,5,8],[7,9,8],[7,8,4]],[[8,9,4],[8,4,6],[6,9,5],[8,6,7],[9,8,6]],[[8,5,4],[9,8,5],[6,5,9],[8,5,9],[5,9,8]],[[5,8,6],[5,8,4],[8,6,4],[6,8,9],[4,6,9]],[[9,7,3],[7,9,6],[9,6,8],[7,9,6],[9,7,3]],[[8,6,7],[7,5,6],[6,7,9],[7,8,6],[9,4,7]],[[4,8,5],[6,5,8],[9,5,7],[6,8,5],[4,5,8]],[[7,8,4],[6,4,3],[6,8,3],[6,4,8],[8,3,4]],[[4,5,7],[3,6,7],[5,6,3],[3,5,7],[3,9,6]],[[6,8,5],[8,9,5],[6,9,8],[6,5,8],[6,8,9]],[[4,7,8],[8,9,7],[5,8,4],[6,8,7],[7,9,3]],[[8,9,5],[6,5,8],[9,5,8],[8,9,5],[6,8,5]],[[8,9,7],[7,3,8],[9,8,7],[8,9,3],[9,8,5]],[[9,5,8],[7,8,5],[5,9,8],[8,5,9],[8,9,7]],[[5,7,9],[5,4,9],[3,8,7],[3,7,8],[7,8,9]],[[7,3,8],[9,7,4],[8,7,4],[4,7,8],[6,9,8]],[[3,9,8],[5,9,6],[9,6,8],[8,5,7],[8,3,9]],[[9,8,4],[7,3,5],[4,8,9],[6,7,9],[9,7,5]],[[9,8,5],[4,8,7],[8,6,7],[9,8,7],[8,9,3]],[[4,8,5],[9,8,5],[5,6,9],[6,5,8],[5,6,3]],[[6,7,9],[9,3,6],[8,7,9],[8,9,4],[3,7,9]],[[9,7,5],[5,4,8],[9,8,4],[1,1,1],[9,8,7]],[[4,5,8],[5,6,4],[4,9,5],[9,4,3],[4,5,8]],[[8,9,5],[9,5,3],[4,8,9],[6,5,8],[8,5,4]],[[9,7,5],[6,9,7],[9,6,5],[5,7,3],[5,9,7]],[[8,4,7],[7,9,8],[8,9,6],[9,7,5],[7,8,6]],[[9,4,8],[7,8,5],[6,8,3],[6,5,8],[8,9,6]],[[3,9,6],[4,9,7],[9,7,5],[4,3,7],[7,6,9]],[[6,3,8],[9,8,6],[5,9,6],[8,5,6],[8,9,3]],[[9,7,8],[6,5,7],[6,5,8],[8,6,7],[8,9,6]],[[6,8,5],[5,3,6],[8,6,5],[7,6,5],[5,6,8]],[[4,9,6],[6,9,8],[6,7,8],[9,6,5],[6,8,9]],[[4,6,7],[8,3,6],[7,8,5],[5,7,6],[4,7,8]],[[5,3,6],[6,4,7],[6,5,7],[6,7,5],[5,6,7]],[[9,5,8],[6,8,4],[6,9,8],[9,5,7],[8,9,6]],[[6,9,4],[7,8,9],[3,6,8],[4,8,6],[8,6,3]],[[7,6,9],[8,5,3],[7,8,4],[9,8,6],[6,7,3]],[[8,7,9],[3,7,9],[9,6,8],[9,7,3],[3,8,6]],[[5,6,9],[5,9,8],[6,8,4],[7,8,6],[9,5,3]],[[6,7,4],[4,5,9],[9,5,6],[7,9,4],[7,5,9]],[[5,8,4],[7,6,8],[4,9,6],[5,9,6],[6,3,8]],[[3,4,9],[9,8,6],[1,1,1],[8,6,9],[8,6,9]],[[6,9,7],[8,7,6],[8,4,7],[4,7,6],[7,6,3]],[[4,9,6],[4,7,6],[6,7,4],[9,6,7],[5,9,4]],[[5,9,8],[7,6,5],[9,8,6],[8,9,6],[6,9,8]],[[5,7,9],[9,8,7],[7,5,8],[7,4,8],[8,6,7]],[[8,6,7],[7,6,5],[8,3,6],[4,3,7],[7,8,6]],[[7,8,5],[7,4,8],[4,8,6],[7,8,4],[9,4,8]],[[8,9,3],[7,6,9],[8,9,7],[5,7,8],[8,7,6]],[[4,8,5],[8,5,6],[7,4,5],[9,7,5],[7,8,4]],[[4,6,7],[9,7,4],[8,6,7],[7,6,3],[3,6,9]],[[6,8,7],[6,9,5],[3,4,9],[4,7,8],[7,9,8]],[[9,7,4],[9,7,4],[6,8,9],[6,9,8],[6,7,4]],[[5,6,9],[8,5,6],[6,8,7],[9,3,6],[7,8,6]],[[3,5,6],[6,5,8],[6,9,5],[5,6,8],[5,7,8]],[[8,9,7],[7,8,4],[8,7,9],[7,9,6],[7,9,8]],[[6,8,3],[8,9,6],[3,6,9],[8,9,3],[8,9,6]],[[5,6,7],[3,6,5],[3,7,5],[6,8,7],[8,5,7]],[[9,3,8],[8,6,4],[6,3,7],[7,8,3],[6,7,8]],[[7,5,6],[9,6,8],[3,4,9],[4,8,5],[9,5,7]],[[8,3,9],[4,8,5],[5,8,4],[4,6,9],[8,4,9]],[[8,7,6],[6,7,9],[9,6,7],[6,7,9],[9,7,6]],[[6,8,3],[9,3,7],[9,6,3],[1,1,1],[8,6,9]],[[3,4,8],[3,9,6],[4,6,9],[8,4,3],[8,9,7]],[[7,4,6],[4,6,5],[5,6,3],[6,8,9],[9,5,8]],[[7,8,9],[8,9,7],[4,9,8],[7,3,4],[9,8,7]],[[6,8,7],[8,7,6],[6,9,8],[6,8,9],[6,9,3]],[[8,4,9],[9,4,8],[9,8,4],[4,8,9],[8,5,4]],[[4,9,5],[7,8,5],[5,8,3],[5,8,9],[3,8,5]],[[7,3,8],[9,6,3],[7,3,8],[8,6,4],[8,6,7]],[[4,7,6],[4,8,9],[7,8,6],[7,3,4],[4,6,7]],[[7,9,4],[3,7,8],[9,6,8],[8,9,5],[9,5,8]],[[4,3,8],[6,8,9],[9,6,5],[9,3,8],[6,9,3]],[[8,6,9],[4,9,8],[6,8,7],[8,6,9],[5,7,8]],[[5,8,6],[6,3,4],[8,6,5],[5,7,8],[5,7,6]],[[8,9,6],[7,8,9],[9,5,7],[4,9,8],[5,4,6]],[[3,9,8],[8,9,5],[8,5,9],[8,6,9],[7,9,8]],[[8,7,9],[7,9,8],[8,9,7],[8,9,7],[8,6,3]],[[6,5,3],[9,7,6],[3,9,6],[4,9,6],[5,4,9]],[[8,7,9],[5,7,8],[7,8,9],[8,5,9],[5,8,7]],[[5,7,8],[8,4,5],[5,8,4],[5,8,4],[8,5,4]],[[5,7,9],[7,5,9],[8,6,3],[8,9,7],[4,9,7]],[[8,9,6],[8,5,9],[6,9,8],[7,6,9],[9,8,7]],[[8,6,7],[8,5,7],[6,9,8],[3,6,8],[9,8,6]],[[8,9,3],[8,9,6],[9,6,8],[9,7,3],[9,6,4]],[[6,4,5],[3,6,7],[6,7,5],[6,5,7],[5,6,4]],[[7,9,6],[6,3,9],[9,7,5],[8,9,5],[6,3,5]],[[9,7,5],[9,6,8],[7,4,9],[7,9,4],[4,5,7]],[[8,9,3],[6,7,8],[6,8,7],[5,6,7],[6,8,3]],[[7,9,5],[9,5,7],[8,3,5],[4,5,9],[5,8,9]],[[6,7,8],[8,5,4],[7,4,8],[6,4,7],[7,8,6]],[[3,8,9],[7,9,8],[7,5,3],[5,4,8],[8,5,9]],[[8,6,9],[7,6,9],[6,8,5],[9,4,8],[9,6,5]],[[5,9,8],[7,5,9],[9,5,3],[4,8,9],[4,8,9]],[[9,6,8],[8,3,4],[6,9,8],[6,9,8],[6,9,7]],[[5,4,3],[5,4,9],[9,6,3],[9,3,8],[7,9,5]],[[3,5,9],[7,4,9],[4,5,7],[9,7,5],[9,5,6]],[[8,6,7],[7,4,3],[5,8,4],[8,7,4],[6,8,7]],[[7,6,8],[7,9,3],[9,6,7],[3,7,6],[4,6,7]],[[7,8,5],[8,7,5],[5,7,8],[5,7,4],[5,8,7]],[[8,9,5],[7,8,9],[9,4,5],[8,9,7],[8,9,3]],[[5,3,6],[6,8,9],[4,8,6],[9,6,8],[7,6,9]],[[4,8,9],[6,7,8],[8,9,5],[7,8,9],[7,3,8]]];var h=m(214382),k=m(840486),n=m(199002),S=m(587698),q=m(981298);function D(p,g=Z.A){return g(0,p-1)}function I(p,g){const m=Math.floor(g()*p.length);return p[m===p.length?p.length-1:m]}const b=p=>I(h.mZ.BasicSymbols,p),e=p=>I(H.dC,p),N=p=>p===h._e.Wild,d=p=>p===h._e.Scatter;function Q(p){return H.dC.includes(p)}function $(p){return H.yz.includes(p)}function w(p){return p.every(N)}function Y(p){return p.includes(h._e.Wild)}function i(p){return p.findIndex(d)}function P(p){return p.includes(h._e.Scatter)||p.includes(h._e.Wild)}function J(p){let g=0;for(let m=0;m<p.length;m++){if(g===H.hm)return m;P(p[m])&&g++}throw new Error(`Failed to find an index of first near win reel, grid: ${p.toString()}`)}function y(p){let g=0;for(let m=0;m<p.length;m++)if(P(p[m])&&(g++,g===H.il))return m;return h.rJ}function W(p){return p.filter((p=>P(p))).length}function v(p,g){const m=p.map((p=>w(p)?function(p,g){if(!w(p))throw new Error("Can't enhance a reel not fully consisting of wilds");const m=e(g);return H.dC.map((p=>p===m?h._e.Wild:b(g)))}(p,g):p));return m}const V=(p,g)=>({...p,grid:v(p.grid,g)});function z(p){let g=0;return Array.from({length:h.XN},((m,Z)=>p.grid[Z].includes(h._e.Scatter)?p.scatterMultipliers[g++]:0))}function B(){const p=Promise.resolve();return p.cancel=()=>{},p}function u(p){const g=new n.h,m=g.unwrap();let Z=window.setTimeout((()=>g.resolve()),p);return m.cancel=()=>{Z&&(window.clearTimeout(Z),g.reject("Timer disposed"),Z=void 0)},m}function a(p,g,m){return Math.floor(p+m()*(g-p))}function F(p,g){return a(0,p.length-1,g)}function X(p){return k.lm.includes(p)}function K(p,g,m){return p>=g&&p<=m}function j(p,g){return S.ej(p,{currencySymbol:g})}function r(p){return I(t,p)}function U(p,g=2){const m=10**g;return Math.round(p*m)/m}function C(p,g){return 0===p?q.R.None:p>=g*H.Q6?q.R.Big:p>g*H.tX?q.R.Medium:q.R.Small}},836202:(p,g,m)=>{m.d(g,{S:()=>t});var Z=m(143160),H=m(638356);function t(p,g=null){return Z.PA((m=>{const Z=H.g();return Z?p(Z,m):g}))}},638356:(p,g,m)=>{m.d(g,{P:()=>H,g:()=>t});var Z=m(377810);const H=Z.createContext(null);function t(p=H){const g=Z.useContext(p);if(!g)throw new Error("Game UI store should be provided into UIContext");return g.store}},300754:(p,g,m)=>{m.d(g,{K:()=>X,v:()=>K});var Z=m(64922),H=m(377810),t=m(417674),h=m(973214),k=m(836202),n=m(699695),S=m(457946),q=m(693206),D=m(322517);const I="xxxtremeSelectionHeader--a4436",b="title--0d782",e="fill--1d207",N="stroke--560d4",d="logo--6f746",Q=H.memo((()=>{const p=h.Tl(h.R1.QualifyFasterWith),g=H.useRef(null),m=H.useRef(null),{styleToFitTextInOneLine:t}=S.X(2.2,g,m);return Z.jsxs("div",{className:I,children:[Z.jsxs("span",{className:b,ref:g,"data-text":p,style:t,children:[Z.jsx("span",{className:q.A.unsafeSizeRef,ref:m,children:p}),Z.jsxs("span",{className:N,children:[" ",p," "]}),Z.jsxs("span",{className:e,children:[" ",p," "]})]}),Z.jsx("img",{className:d,src:D})]})}));var $=m(664887),w=m(715907),Y=m(491317);const i=m.p+"images/drawerstar.cf9e2258.webp",P="drawerContainer--a5331",J="drawer--c4ee3",y="open--4cbed",W="background--fc158",v="closeButton--22ffa",V="drawerStars--a626b",z=p=>{const{isOpen:g,onClose:m,children:t}=p,h=H.useRef(null),k=function(p,g){const[m,Z]=H.useState(!1);return H.useEffect((()=>{if(!p){const p=window.setTimeout((()=>{Z(!1)}),g);return()=>window.clearTimeout(p)}Z(!0)}),[p,g]),m}(g,300);return $.L(h,g,m,{capture:!0}),k?Z.jsx("div",{ref:h,className:P,children:Z.jsx("div",{className:n.A(J,{[y]:g}),children:Z.jsxs("div",{className:W,children:[Z.jsx(w.$,{className:v,type:"borderless",size:"XXS",role:"close",onClick:m,iconComponent:Z.jsx(Y.b,{})}),Z.jsx("img",{className:V,src:i}),Z.jsx(Q,{}),t]})})}):null};var B=m(816531);const u="selectionContainer--efa39",a=({currencySymbol:p,isTablet:g,xxxtremeBetPerSpin:m,xxxtremeBaseBet:H,isXXXtremeBetIncreaseEnabled:k,increaseXXXtremeBet:n,isXXXtremeDecreaseEnabled:S,decreaseXXXtremeBet:q,isXXXtremeSelectionAvailable:D,superxxxtremeBetPerSpin:I,superxxxtremeBaseBet:b,isSuperXXXtremeBetIncreaseEnabled:e,increaseSuperXXXtremeBet:N,isSuperXXXtremeBetDecreaseEnabled:d,decreaseSuperXXXtremeBet:Q,isSuperXXXtremeSelectionAvailable:$,setSpinMode:w,getDisabledBetSelectorTooltip:Y})=>Z.jsxs("div",{className:u,children:[Z.jsx(B._,{isPhone:!1,isTablet:g,mode:t.ow.XXXtremeSpin,betPerSpin:m,baseBet:H,currencySymbol:p,isIncreaseEnabled:k,onIncrease:n,isDecreaseEnabled:S,onDecrease:q,isSelectionEnabled:D,onSelect:w,getDisabledBetSelectorTooltip:Y,tooltip:D?void 0:h.R1.BalanceTooLowTooltip}),Z.jsx(B._,{isPhone:!1,isTablet:g,mode:t.ow.SuperXXXtremeSpin,betPerSpin:I,baseBet:b,currencySymbol:p,isIncreaseEnabled:e,onIncrease:N,isDecreaseEnabled:d,onDecrease:Q,isSelectionEnabled:$,onSelect:w,getDisabledBetSelectorTooltip:Y,tooltip:$?void 0:h.R1.BalanceTooLowTooltip})]}),F="xxxtremeSelectionContainer--af77c",X=p=>{const{isOpen:g,onClose:m}=p;return Z.jsx("div",{className:F,children:Z.jsx(z,{isOpen:g,onClose:m,children:Z.jsx(a,{...p})})})},K=k.S((p=>{const g=H.useCallback((({spinMode:g,operation:m})=>{const Z=p.spinModeStore.disabledReasonAtXXXtremeBetStakeButtons[g][m];if(Z)return h.sI[Z]}),[p.spinModeStore.disabledReasonAtXXXtremeBetStakeButtons]),m=j(t.ow.XXXtremeSpin,p.spinModeStore),k=j(t.ow.SuperXXXtremeSpin,p.spinModeStore),n={currencySymbol:p.abstractGame.currencySymbol,isOpen:p.ui.xxxtremeDrawer.isVisible,isPhone:p.device.isPhone,isTablet:p.device.isTablet,xxxtremeBetPerSpin:m.betPerSpin,xxxtremeBaseBet:m.baseBet,isXXXtremeBetIncreaseEnabled:m.isBetIncreaseEnabled,increaseXXXtremeBet:m.increaseBet,isXXXtremeDecreaseEnabled:m.isDecreaseEnabled,decreaseXXXtremeBet:m.decreaseBet,isXXXtremeSelectionAvailable:m.isSelectionAvailable,superxxxtremeBetPerSpin:k.betPerSpin,superxxxtremeBaseBet:k.baseBet,isSuperXXXtremeBetIncreaseEnabled:k.isBetIncreaseEnabled,increaseSuperXXXtremeBet:k.increaseBet,isSuperXXXtremeBetDecreaseEnabled:k.isDecreaseEnabled,decreaseSuperXXXtremeBet:k.decreaseBet,isSuperXXXtremeSelectionAvailable:k.isSelectionAvailable,setSpinMode:p.ui.xxxtremeDrawer.setSpinMode,getDisabledBetSelectorTooltip:g,onClose:p.ui.xxxtremeDrawer.close};return Z.jsx(X,{...n})}));function j(p,g){const m=p===t.ow.SuperXXXtremeSpin;return{betPerSpin:g.betAmountAtXXXtremeSpinMode[p],baseBet:g.baseBetAmountAtXXXtremeSpinMode[p],isBetIncreaseEnabled:g.isBetActionAvailableAtMode[p].increase,increaseTooltip:g.disabledReasonAtXXXtremeBetStakeButtons[p].increase,increaseBet:m?g.increaseSuperXXXtremeBet:g.increaseXXXtremeBet,isDecreaseEnabled:g.isBetActionAvailableAtMode[p].decrease,decreaseTooltip:g.disabledReasonAtXXXtremeBetStakeButtons[p].decrease,decreaseBet:m?g.decreaseSuperXXXtremeBet:g.decreaseXXXtremeBet,isSelectionAvailable:g.isSelectionAvailableAtXXXtremeSpinMode[p]}}},104631:(p,g,m)=>{var Z=m(377810),H=m(794140),t=m(417674),h=m(64922),k=m(697971),n=m(111565),S=m(504098),q=m(523737);function D(p){const g=!("enable_XXXtreme_spins"in p.rawConfig)||"true"===p.rawConfig.enable_XXXtreme_spins,m=(g,m)=>function(p,g,m){const Z=parseFloat(m.rawConfig[p]);return{value:Z||g,usesTableSettingValue:!Number.isNaN(Z)}}(g,m,p),Z=m("main_bet_min_limit",t.NW).value,H=m("main_bet_max_limit",t.ni).value,{value:h,usesTableSettingValue:k}=m("table_bet_max_limit",t.gv),{value:n,usesTableSettingValue:S}=m("spin_bet_max_limit",t.Am);if(k&&S)throw new Error("Table config error: both table and spin bet max limits are provided.");const D=m("top_up_bet_min_limit",Z).value,{value:I,usesTableSettingValue:b}=m("top_up_bet_max_limit",t.Bh);if(S&&b&&n!==I)throw new Error("Table config error: spin bet max limit must equal to top up bet max limit if both are provided.");const e={baseBetMinLimit:Z,baseBetMaxLimit:H,tableBetMaxLimit:h,tableBetMaxLimitIsUsed:k,spinBetMaxLimit:n,spinBetMaxLimitIsUsed:S,topUpBetMinLimit:D,topUpBetMaxLimit:I,topUpBetMaxLimitIsUsed:b},N=function(p){const{baseBetMinLimit:g,baseBetMaxLimit:m,tableBetMaxLimit:Z,tableBetMaxLimitIsUsed:H,spinBetMaxLimit:h,spinBetMaxLimitIsUsed:k}=p,n={[t.ow.NormalSpin]:[],[t.ow.XXXtremeSpin]:[],[t.ow.SuperXXXtremeSpin]:[]};return t._X.forEach((p=>{const S=t.S5[p],D=q.J0.multiply(g,S),I=H?Z:k?h:q.J0.multiply(m,S),b=p===t.ow.NormalSpin?Math.min(I,m):I;n[p]=[D,b]})),n}(e),d=function(p){const{baseBetMinLimit:g,tableBetMaxLimit:m,tableBetMaxLimitIsUsed:Z,spinBetMaxLimit:H,spinBetMaxLimitIsUsed:t,topUpBetMinLimit:h,topUpBetMaxLimit:k}=p;return Z?[h,m-g]:t?[h,H]:[h,k]}(e),Q=function(p,g){const{baseBetMaxLimit:m,topUpBetMaxLimit:Z,tableBetMaxLimit:H,tableBetMaxLimitIsUsed:h,spinBetMaxLimit:k,spinBetMaxLimitIsUsed:n}=p;return h?H:n?k:g?Math.max(m*t.fO,Z):Math.max(m,Z)}(e,g),$=[Z,Q],w=p.getChipAmounts(),Y=w.length?w:t.UQ,i=Y[0];return{XXXtremeSpinsEnabled:g,titleTableBetLimits:$,slotPhaseValidationBetLimitsAtSpinModes:N,topUpPhaseValidationBetLimits:d,tableBetMaxLimit:h,tableBetMaxLimitIsUsed:k,spinBetMaxLimit:n,spinBetMaxLimitIsUsed:S,baseBetMinLimit:Z,baseBetMaxLimit:H,baseBetAmounts:Y,baseBetDefaultAmount:Y[p.getDefaultChip()-1]||i,baseBetMinAmount:i,topUpBetMinLimit:D,topUpBetMaxLimit:I,topUpBetMaxLimitIsUsed:b,isVideoPlaceholderUsed:"true"===p.rawConfig["use_video_placeholder"],gameSubTranslationKey:p.rawConfig.game_sub_translation_key,turboSpinEnabled:"true"===p.rawConfig.turbo_spin_enabled,infoButtonEnabled:"true"===p.rawConfig.info_button_enabled,callToActionEnabled:"true"===p.rawConfig.enable_call_to_action,showVolatilityIndex:"true"===p.rawConfig["regulatory.volatility_index_in_help_required"]}}var I=m(478128),b=m(170877);const e={[b.OD.Desktop]:1920,[b.OD.Tablet]:1024,[b.OD.Phone]:375},N={Medium:872,Big:671},d=0,Q=.5,$=1,w=.07,Y=1.35,i=.9,P=.25,J=.4,y=2/3,W=.072,v=.9,V=Q,z=5,B={[b.OD.Desktop]:{max:30,min:20},[b.OD.Tablet]:{max:20,min:16},[b.OD.Phone]:{max:14,min:12}},u={blur:13.4,width:188,height:188,ellipse:{translate:{x:94,y:94},scale:{x:98,y:98}}},a="#ff0000",F="#000000",X={width:45,height:45,ellipse:{translate:{x:22.5,y:22.5},scale:{x:27.5,y:27.5}}},K={width:672,height:83,ellipse:{translate:{x:336,y:81},scale:{x:80,y:358}}},j={[b.OD.Desktop]:{blur:41,width:487,height:126,ellipse:{translate:{x:243,y:167},scale:{x:133,y:243}}},[b.OD.Phone]:{blur:30,width:357,height:102,ellipse:{translate:{x:178,y:110},scale:{x:97,y:177}}},[b.OD.Tablet]:{blur:41,width:487,height:126,ellipse:{translate:{x:243,y:157},scale:{x:133,y:243}}}},r={[b.OD.Desktop]:{width:842,height:455,slot:{width:680,height:440},ellipse:{translate:{x:421,y:455},scale:{x:425,y:345}}},[b.OD.Phone]:{width:375,height:455,slot:{width:345,height:239},ellipse:{translate:{x:187,y:455},scale:{x:345,y:425}}},[b.OD.Tablet]:{width:730,height:387,slot:{width:464,height:310},ellipse:{translate:{x:421,y:454},scale:{x:345,y:425}}}},U=(new I.Q1f(16777215).toArray(),new I.Q1f(16514885).toArray(),{[b.OD.Phone]:.4,[b.OD.Tablet]:.43,[b.OD.Desktop]:.43}),C=.3;var x;(function(p){p["X"]="X",p["Y"]="Y",p["XY"]="XY",p["None"]="None"})(x||(x={}));class R extends I.mcf{constructor(p,g=""){super(),this.application=p,this.scaleMode=x.XY,this.onRelativePositionUpdate=(p=!1)=>{p&&this.onRelativeScaleUpdate(!p),super.position.x=this.relativePosition.x*this.application.view.width-this.anchor.x*this.width,super.position.y=this.relativePosition.y*this.application.view.height-this.anchor.y*this.height},this.onRelativeScaleUpdate=(p=!1)=>{const g=this.application.view.width/this.defaultResolution.width,m=this.application.view.height/this.defaultResolution.height,Z=this.relativeScale;switch(this.scaleMode){case x.X:super.scale.x=Z.x*g,super.scale.y=Z.y*g;break;case x.Y:super.scale.x=Z.x*m,super.scale.y=Z.y*m;break;case x.XY:super.scale.x=Z.x*g,super.scale.y=Z.y*m;break;default:super.scale.x=Z.x,super.scale.y=Z.y}p&&this.onRelativePositionUpdate(!p)},this.onAnchorUpdate=()=>{this.onRelativePositionUpdate()},g&&(this.name=g),this.defaultResolution={width:p.view.width,height:p.view.height},this.relativePosition=new I.oA$(this.onRelativePositionUpdate,this,0,0),this.relativeScale=new I.oA$(this.onRelativeScaleUpdate,this,1,1),this.anchor=new I.oA$(this.onAnchorUpdate,this,0,0)}onResize(){this.onRelativePositionUpdate(!0)}updateSettings({resolution:p,scaleMode:g}){const{width:m,height:Z}=this.application.view;this.defaultResolution=null!=p?p:{width:m,height:Z},this.scaleMode=null!=g?g:this.scaleMode}setScaleMode(p){this.scaleMode=p}setDefaultResolution(p){this.defaultResolution=p}}var c=m(214382),O=m(199002),f=m(837557),_=m(276111),E=m(769413),G=m(234341),M=m(315049);function s(p){const{application:g,anim:m,repeat:Z,dispose:H}=p;return M.l({ticker:p=>{const m=()=>{p(g.ticker.deltaMS)};return g.ticker.add(m),()=>g.ticker.remove(m)},anim:m,repeat:Z,dispose:H})}m(297462),m(937044);const T="precision mediump float;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform vec4 uColor;void main(void){vec4 baseTextureColorWithAlpha=texture2D(uSampler,vTextureCoord);vec3 baseTextureColor=baseTextureColorWithAlpha.rgb;vec3 overlayColor=uColor.rgb;vec3 overlayResult=1.-2.*(1.-baseTextureColor)*(1.-overlayColor);vec3 multiplyResult=2.*baseTextureColor*overlayColor;vec3 threshold=step(baseTextureColor,vec3(0.5));gl_FragColor=vec4(mix(overlayResult,multiplyResult,threshold),baseTextureColorWithAlpha.a);}";function l(p,g,m,Z=_.dV){return E.M(p).animateTo({alpha:g},m,Z)}function A(p,g){const m=new O.h,Z=m.unwrap();p.callback((()=>m.resolve()));const H=s({anim:p,application:g});return Z.cancel=()=>{m.reject(`Animation cancelled`),H()},Z}function L(p){return c.RN[p.payLine][c.an]}function o(p,g){return p|1<<g}function pp(p){return p.width/p.height}function gp(p,g,m=""){const Z=new R(g,m);return Z.addChild(p),Z}function mp(p,g){return g.columnMarginWidth*p+g.columnWidth*(p+1)-g.columnWidth/2}function Zp(p){return p*P}function Hp(...[p,g]){if(g.platform!==b.OD.Phone)return p*w;const{gameDimensions:m,videoAspectRatio:Z,videoTopOverflow:H}=g,{width:t,height:h}=m;return p*((.15*(t/Z)-H)/h)}function tp(p){return"fontSize"in p?p.fontSize*Y:tp({fontSize:Zp(p.columnWidth)})}function hp(p,g,m){return Hp(g,m)+tp({columnWidth:p})}function kp(p){return p.isDesktop?.718:p.isTablet?.7:.5}function np(p,g){return p.isDesktop?.425:g}function Sp(p,g){return{relX:kp(p),relY:np(p,g)}}function qp(p,g){return p*(g.height/g.width)}function Dp(p,g){return{translate:{x:p.ellipse.translate.x*(g.width/p.width),y:p.ellipse.translate.y*(g.height/p.height)},scale:{x:p.ellipse.scale.x*(g.width/p.width),y:p.ellipse.scale.y*(g.height/p.height)}}}function Ip(p,g){return{x:p.x*g.width,y:p.y*g.height}}function bp(p,g,m){const Z={index:0};return E.M(Z).animateTo({index:p.length-1},g,_.sn,(()=>{const g=Math.floor(Z.index),H=p[g];m(H)}))}function ep({x:p,y:g},m){return{x:m.x-p,y:m.y-g,width:m.width,height:m.height}}var Np=m(417064),dp=m(764522);function Qp(p,g){dp.triggerEvent(p,g)}class $p{triggerEvent(p,g){Qp(p,g)}}var wp=m(840486);function Yp(p){const{bonusGameMultipliersRevealDelay:g,bonusGameMultiplierAppearancePhoneDelay:m,bonusGameMultiplierAppearanceDesktopTabletDelay:Z}=p,H=4*(t=p).bonusGameMultiplierAppearanceInterval+2*t.bonusGameMultipliersScaleTime+t.bonusGameMultiplierFadeInTime;var t;return(f.DS.IS_PHONE?m:Z)+g+H}function ip(p){return Yp(p)+p.bonusGameScatterFlightToCenterTimeSec+p.bonusGameScatterScaleTimeSec}function Pp(p){return Yp(p)+p.bonusGameScatterBeamAnimationStartDelaySec}function Jp(p){return Yp(p)+p.bonusGameScatterBackgroundFadeOutDelaySec}var yp=m(876759),Wp=m(157757),vp=m(879333),Vp=m(352427),zp=m(974486),Bp=m(893015),up=m(472542);class ap{constructor(p){this.stage=p,this.eventEmitter=new zp.b,this.blendMode=Bp.V.Default,this.blendModeValue=I.B9A.NORMAL}init(p){this.system=p,this.updateSystemScale(p.systemScale)}updateSystemScale(p){this.stage.scale={x:p,y:p}}dispose(){this.eventEmitter.removeAllListeners()}render(p){this.eventEmitter.emit(up.o.BeforeRender);for(const{particles:g,graphics:m}of p)if(m.visible)for(const p of g)m.updateParticle(this.blendModeValue,p);this.eventEmitter.emit(up.o.AfterRender)}getBlendMode(){return this.blendMode}setBlendMode(p){if(this.blendMode!==p)switch(this.blendMode=p,p){case Bp.V.Default:this.blendModeValue=I.B9A.NORMAL;break;case Bp.V.Xor:this.blendModeValue=I.B9A.XOR;break;case Bp.V.Multiply:this.blendModeValue=I.B9A.MULTIPLY;break;case Bp.V.Screen:this.blendModeValue=I.B9A.SCREEN;break;case Bp.V.Add:this.blendModeValue=I.B9A.ADD;break;default:throw new Error(`No blendMode support for ${p} type!`)}}}class Fp{constructor(){this._visible=!0}set visible(p){this._visible=p}get visible(){return this._visible}init(p,g){if(!(p instanceof ap))throw new Error("Pixi graphics only works with PixiRenderer")}dispose(){}}class Xp{constructor(){this.sprite=new I.kxk,this.onStage=!1}dispose(){this.onStage&&this.stage&&(this.stage.removeChild(this.sprite),this.stage=void 0,this.onStage=!1),this.sprite.destroy()}update(){}addOnStage(p){this.onStage||(this.stage=p,p.addChild(this.sprite),this.onStage=!0)}removeFromStage(p){this.onStage&&(p.removeChild(this.sprite),this.stage=void 0,this.onStage=!1)}}Xp.propertyId=Symbol("ParticleSprite");class Kp extends Fp{constructor(p){var g,m,Z;super(),this.framesTextures=[],this.removeFromStage=!1,this.tint=!1,this.removeFromStage=null!==(g=p.removeFromStage)&&void 0!==g&&g,this.tint=null!==(m=p.tint)&&void 0!==m&&m,this.setTextureAndFrames(p.texture,p.textureConfig),this.container=new I.mcf,this.visible=null===(Z=p.visible)||void 0===Z||Z}set visible(p){this._visible=p,this.container.visible!==p&&(this.container.visible=p)}get visible(){return this._visible}init(p,g){super.init(p,g),this.renderer=p,this.random=g.system.random,this.renderer.stage.addChild(this.container)}dispose(){super.dispose(),this.renderer.stage.removeChild(this.container)}setTextureAndFrames(p,g){if(!p)return;p instanceof HTMLImageElement||p instanceof HTMLCanvasElement?this.texture=I.gPd.from(p):this.texture=p,this.textureConfig=g;const m=null==g?void 0:g.frames;if(this.framesTextures=[],m&&m.length>0)for(const p of m){const g=this.texture.clone();g.frame=new I.M_G(p.x,p.y,p.w,p.h),g.updateUvs(),this.framesTextures.push(g)}else this.framesTextures=[this.texture]}updateParticle(p,g){const m=this.container;let Z=g.customProperties.get(Vp.p.propertyId);Z&&Z.texture===this.texture&&Z.config===this.textureConfig||(Z=new Vp.p(this.random),Z.init(this.texture,this.textureConfig),g.customProperties.set(Vp.p.propertyId,Z));let H=g.customProperties.get(Xp.propertyId);(!H||H.stage&&H.stage!==m)&&(H=new Xp,H.sprite.anchor.set(.5),g.customProperties.set(Xp.propertyId,H)),g.isAlive?(H.onStage||H.addOnStage(m),H.sprite._texture!==this.framesTextures[Z.frameId]&&(H.sprite.texture=this.framesTextures[Z.frameId],H.sprite.width=this.framesTextures[Z.frameId].width,H.sprite.height=this.framesTextures[Z.frameId].height),this.tint&&(H.sprite.tint=g.color),H.sprite.alpha=g.opacity,H.sprite.setTransform(g.transform.position[0],g.transform.position[1],g.transform.scale[0],g.transform.scale[1],g.transform.rotation),H.sprite.alpha=g.opacity,H.sprite.blendMode=p):this.removeFromStage?H.removeFromStage(m):H.sprite.alpha=0}clone(){return new Kp({texture:this.texture,textureConfig:this.textureConfig,removeFromStage:this.removeFromStage,tint:this.tint})}toJson(p){var g,m,Z;let H=null;return this.texture&&(H=vp.A(),p[H]={type:Wp.b.Texture,value:this.texture.baseTexture.resource.source}),{textureId:H,fps:(null===(g=this.textureConfig)||void 0===g?void 0:g.fps)||0,randomFrameStart:(null===(m=this.textureConfig)||void 0===m?void 0:m.randomFrameStart)||!1,frames:(null===(Z=this.textureConfig)||void 0===Z?void 0:Z.frames)||[]}}onActivate(){this.container.visible=!0}onDeactivate(){this.container.visible=!1}}var jp=m(434098);class rp extends jp.C{static spawnSystem(p){return super.spawnSystemInternal(p,{container:p.container})}static spawnRenderer(p,g){if(!g.container)throw new Error("Cannot create renderer. Container is missing");return new ap(g.container)}static spawnGraphics(p,g){var m;let Z;if((null==p?void 0:p.textureId)&&(null===(m=g[p.textureId])||void 0===m?void 0:m.value)){const m=g[p.textureId];m.type===Wp.b.Texture&&(Z=I.gPd.from(m.value)),m.type===Wp.b.PixiTexture&&(Z=m.value)}if(!Z)throw new Error(`Texture for spawn graphics wasn't found (id: ${null==p?void 0:p.textureId})`);return new Kp({texture:Z,frames:p.frames,removeFromStage:!1,textureConfig:{fps:p.fps,frames:p.frames,randomFrameStart:p.randomFrameStart},tint:!1})}}const Up="PIXI_PARTICLES",Cp="PIXI_PARTICLES_TEXTURE";class xp extends I.mcf{constructor(p){super(),this.props=p,this.rotateRadialLight=p=>{this.radialLight.rotation+=p/60},this.name="BonusGameAnimation",this.radialContainer=new R(p.app),this.radialContainer.name="BonusGameAnimationRadialLightRelContainer",this.addChild(this.radialContainer),this.radialLight=I.kxk.from(p.assets.radialLight),this.radialLight.name="BonusGameAnimationRadialLight",this.radialLight.anchor.set(Q),this.radialContainer.addChild(this.radialLight),this.scatterGlow=function(p){const g=u,m=document.createElement("canvas");m.width=p,m.height=qp(p,g);const Z=Dp(g,m),H=m.getContext("2d");H.translate(Z.translate.x,Z.translate.y),H.scale(Z.scale.y/Z.scale.x,1);const t=H.createRadialGradient(0,0,0,0,0,Z.scale.x);return t.addColorStop(0,"rgba(245, 249, 251, 0.96)"),t.addColorStop(.54,"rgba(245, 249, 251, 0.96)"),t.addColorStop(.86,"rgba(245, 249, 251, 0.02)"),H.fillStyle=t,H.filter=`blur(${g.blur}px)`,H.beginPath(),H.arc(0,0,Z.scale.x,0,2*Math.PI),H.fill(),new I.kxk(I.gPd.from(m))}(p.gameView.slot.symbolSize),this.scatterGlow.name="BonusGameAnimationScatterGlow",this.scatterGlow.anchor.set(Q),this.radialContainer.addChild(this.scatterGlow);const{texture:g,particleSystemConfig:m}=this.props._loadedAssets;this.sparkleParticleEmitterConfig=m.bonusSparkleParticleSystemConfig,this.sparkleParticleTexture=g["bonusSparkle"],this.sparkleParticleContainer=new I.mcf,this.sparkleParticleContainer.name="BonusGameAnimationSparkleEmitterContainer";const Z={x:Q*this.sparkleParticleEmitterConfig.systemSize.width,y:Q*this.sparkleParticleEmitterConfig.systemSize.height};this.sparkleParticleContainer.pivot.copyFrom(Z),this.addChild(this.sparkleParticleContainer),this.scatterBeamsAnimationContainer=new R(p.app),this.scatterBeamsAnimationContainer.name="ScatterBeamsAnimationContainer",this.scatterBeamsAnimationContainer.anchor.set(d),this.scatterBeamsAnimationContainer.setScaleMode(x.None),this.scatterBeamsAnimationContainer.relativePosition.copyFrom(t.Pd.scatterMidRelPosition),this.addChild(this.scatterBeamsAnimationContainer),this.scatterBeamsContainer=new I.mcf,this.scatterBeamsContainer.name="ScatterBeamsContainer",this.scatterBeamsAnimationContainer.addChild(this.scatterBeamsContainer),this.scatterBeamMasksContainer=new I.mcf,this.scatterBeamMasksContainer.name="ScatterBeamMasksContainer",this.scatterBeamsAnimationContainer.addChild(this.scatterBeamMasksContainer),wp.lm.forEach(((p,g)=>{const m=I.kxk.from(this.props.assets.scatterBeam);m.name=`ScatterBeam_${g}`,this.scatterBeamsContainer.addChild(m);const Z=function(p){const g=X,m=document.createElement("canvas");m.width=p,m.height=qp(p,g);const Z=Dp(g,m),H=m.getContext("2d");H.translate(Z.translate.x,Z.translate.y),H.scale(Z.scale.y/Z.scale.x,1);const t=H.createRadialGradient(0,0,0,0,0,Z.scale.x);return t.addColorStop(0,a),t.addColorStop(.3,a),t.addColorStop(.8,F),t.addColorStop(1,F),H.fillStyle=t,H.beginPath(),H.arc(0,0,1*Z.scale.x,0,2*Math.PI),H.fill(),new I.kxk(I.gPd.from(m))}(m.width);Z.name=`ScatterBeamMask_${g}`,this.scatterBeamMasksContainer.addChild(Z)})),this.reset()}toQualifyingInit(){this.reset()}toQualifying(){return G.M().callback(this.toQualifyingInit)}toQualifiedInit(){this.toQualifyingInit()}toQualified(){return G.M().callback(this.toQualifyingInit)}toBonusRoundInit(){this.toQualifyingInit()}toBonusRound(){if(this.toQualifyingInit(),yp.I()||this.props.gameStore.totalScatterMultiplierOrZero<=1)return G.M();const p=this.props.gameView.animationTimings,{bonusGameScatterRadialLightScaleUpTimeSec:g,bonusGameScatterRadialLightScaleDownTimeSec:m,bonusGameScatterBackgroundFadeOutDurationSec:Z,bonusGameScatterGlowAnimationTimeSec:H,bonusGameScatterBackgroundFadeInDurationSec:h}=p,{bonusGameScatterRadialLightStartScale:k,bonusGameScatterRadialLightMidScaleRatio:n,bonusGameScatterRadialLightEndScaleRatio:S,bonusGameScatterGradientBackgroundStartScale:q,bonusGameScatterGradientBackgroundEndScaleRatio:D}=t.Pd,I=G.M().delay(ip(p)).sequence(E.M(this).animateTo({alpha:1},h)),{symbolSize:b}=this.props.gameView.slot;this.radialLight.width=b;const e=this.radialLight.scale._x,N=n*e,d=S*e,Q=G.M().callback((()=>{this.radialLight.scale.set(k),this.radialLight.rotation=0,this.radialContainer.setScaleMode(x.X),this.radialContainer.relativePosition.copyFrom(t.Pd.scatterMidRelPosition)})).delay(ip(p)).sequence(E.M(this.radialLight.scale).animateTo({x:N,y:N},g).callback((()=>{Qp(Np.m.CommonMultiplied),this.props.app.ticker.add(this.rotateRadialLight)})).animateTo({x:d,y:d},m));this.scatterGlow.width=1.2*b;const $=D*this.scatterGlow.scale._x,w=G.M().callback((()=>{this.scatterGlow.scale.set(q),this.scatterGlow.alpha=0})).delay(ip(p)).parallel([E.M(this.scatterGlow.scale).animateTo({x:$,y:$},H),E.M(this.scatterGlow).animateTo({alpha:.9},H)]),Y=G.M().callback((()=>{this.sparkleParticleEmitter=this.createSparkleEmitter(this.sparkleParticleEmitterConfig,this.sparkleParticleTexture)})).delay(function(p){return ip(p)+p.bonusGameScatterScaleTimeSec}(p)).callback((()=>{var p;null===(p=this.sparkleParticleEmitter)||void 0===p||p.start()})),i=this.createScatterBeamToBonusMultipliersAnimation(),P=G.M().delay(Pp(p)).sequence(i),J=G.M().delay(Jp(p)).sequence(E.M(this).animateTo({alpha:0},Z).delay(Z).callback((()=>{this.reset()})));return G.M().callback((()=>{this.alpha=0,this.visible=!0,this.scatterBeamsAnimationContainer.visible=!1})).parallel([I,Q,w,Y,P,J])}onResize(){this.radialContainer.onResize(),this.scatterBeamsAnimationContainer.onResize();const p=Ip(t.Pd.scatterMidRelPosition,this.props.app.view);this.sparkleParticleContainer.position.copyFrom(p)}reset(){var p;this.visible=!1,this.props.app.ticker.remove(this.rotateRadialLight),null===(p=this.sparkleParticleEmitter)||void 0===p||p.dispose(),this.sparkleParticleEmitter=void 0,this.sparkleParticleContainer.removeChildren().forEach((p=>p.destroy())),this.scatterBeamsAnimationContainer.setScaleMode(x.None)}dispose(){this.reset()}createSparkleEmitter(p,g){const m=rp.spawnSystem({container:this.sparkleParticleContainer,config:p,systemScale:1,assets:{[Cp]:{type:Wp.b.PixiTexture,value:g}},ticker:this.props._ticker,autoStart:!1});return m.getControllerOrThrow(Up).graphics.setTextureAndFrames(g),m}createScatterBeamToBonusMultipliersAnimation(){const{bonusGameScatterBeamTimeForTopToReachBonusMultipliersSec:p,bonusGameScatterBeamTimeForBottomToReachBonusMultipliersSec:g}=this.props.gameView.animationTimings,m=Ip(this.scatterBeamsAnimationContainer.relativePosition,this.props.app.view),Z=this.props.bonusGameMultipliers.getY(),H=this.scatterBeamsContainer.children,t=this.scatterBeamMasksContainer.children,h=[];return wp.lm.forEach(((k,n)=>{if(!H[n].isSprite||!t[n].isSprite)return;const S=H[n],q=t[n],D=this.props.gameView.leftMostColumnX+mp(n,this.props.gameView),I=m.x,b=m.y,e=Z-b,N=D-I,d=Math.atan(N/e),w=pp(S.texture),Y=Math.sqrt(N**2+e**2);S.height=Y,S.anchor.set(Q,$),S.width=Y*w,S.rotation=d,this.scatterBeamsAnimationContainer.setDefaultResolution({width:this.props.app.view.width,height:this.props.app.view.height}),this.scatterBeamsAnimationContainer.setScaleMode(x.XY);const i=G.M().callback((()=>{q.width=3*S.width,q.anchor.set(Q,$),q.rotation=d,q.height=S.height,q.x=N,q.y=-e,S.mask=q,this.scatterBeamsAnimationContainer.visible=!0})).sequence(E.M(q).animateTo({x:0,y:0},p)).sequence(E.M(q).animateTo({x:-N,y:e},g));h.push(i)})),G.M().parallel(h)}}var Rp;(function(p){p["Qualifying"]="Qualifying",p["SlotSpin"]="SlotSpin",p["MovingToTopUpRound"]="MovingToTopUpRound",p["TopUpRound"]="TopUpRound",p["MovingToBonusRound"]="MovingToBonusRound",p["BonusRound"]="BonusRound",p["Resolved"]="Resolved"})(Rp||(Rp={}));var cp=m(683935),Op=m(332635);const fp=3e3;var _p;(function(p){p["AppearingAnimation"]="AppearingAnimation",p["AppearedAnimation"]="AppearedAnimation",p["ScatterAnimation"]="ScatterAnimation",p["Hidden"]="Hidden"})(_p||(_p={}));const Ep={[Rp.Qualifying]:[Rp.SlotSpin],[Rp.SlotSpin]:[Rp.Qualifying,Rp.MovingToTopUpRound],[Rp.MovingToTopUpRound]:[Rp.TopUpRound,Rp.MovingToBonusRound],[Rp.TopUpRound]:[Rp.MovingToBonusRound],[Rp.MovingToBonusRound]:[Rp.BonusRound],[Rp.BonusRound]:[Rp.Resolved,Rp.Qualifying],[Rp.Resolved]:[Rp.Qualifying]},Gp={[wp.Qc.Qualifying]:Rp.Qualifying,[wp.Qc.Qualified]:Rp.TopUpRound,[wp.Qc.Cancelled]:Rp.Qualifying,[wp.Qc.Resolved]:Rp.Resolved,[wp.Qc.BonusRound]:Rp.BonusRound},Mp={[wp.Qc.Qualifying]:Rp.Qualifying,[wp.Qc.Qualified]:Rp.MovingToTopUpRound};class sp{constructor({uiStore:p,gameStore:g,abstractGameStore:m,store:Z}){this.cloudState=_p.Hidden,this._state=Rp.Qualifying,this._invalidTransition=!1,this._isWaitingForQualifyingStream=!1,this.isYouQualifiedAnimationRunning=!1,this.waitForBonusRoundTransition=void 0,this.disposableBag=new Op.C,this.uiStore=p,this.abstractGameStore=m,this.gameStore=g,this._state=Gp[g.game.state],this.abstractGameStore.updateLifecycle(this._state),this.disposableBag.addDisposables([k.mJ((()=>g.resolvedGame),(async g=>{(null==g?void 0:g.winAmount)&&(this.updateUiState(Rp.Resolved),p.setWinningResult(g.winAmount))}),{fireImmediately:!0}),k.mJ((()=>p.slotUIStore.isSlotSpinning),(p=>{var m;const H=p?Rp.SlotSpin:Mp[g.game.state];this.updateUiState(H),p||null===(m=Z.slamStop)||void 0===m||m.resetFor("slot")})),k.mJ((()=>g.game.state),(async g=>{var m;if(g===wp.Qc.BonusRound&&(this.updateUiState(Rp.MovingToBonusRound),null===(m=this.waitForBonusRoundTransition)||void 0===m||m.cancel(),this.waitForBonusRoundTransition=cp.fm(fp),await this.waitForBonusRoundTransition,this.updateUiState(Rp.BonusRound)),g===wp.Qc.Qualified){if(this.state===Rp.SlotSpin||this.state===Rp.MovingToTopUpRound){const p=async()=>{this.isYouQualifiedAnimationRunning||await k.z7((()=>this.isYouQualifiedAnimationRunning)),await k.z7((()=>!this.isYouQualifiedAnimationRunning))};await Promise.race([p(),cp.fm(t.t)])}this.updateUiState(Rp.TopUpRound)}g!==wp.Qc.Qualifying||p.slotUIStore.isSlotSpinning||(this.isWaitingForQualifyingStream&&await k.z7((()=>!this.isWaitingForQualifyingStream)),this.updateUiState(Rp.Qualifying))}),{fireImmediately:!0})]),k.l_(this)}updateUiState(p,g=!1){var m;return!(!p||!Ep[this._state].includes(p)&&!g||(this._invalidTransition=g,this._state=p,this.abstractGameStore.updateLifecycle(p,{isAutoplayRunning:null===(m=this.abstractGameStore.agApi.autoplay)||void 0===m?void 0:m.isRunning.value,isInTurboMode:this.uiStore.isInTurboMode}),0))}updateCloudState(p){this.cloudState=p}setIsWaitingForQualifyingStream(p){this._isWaitingForQualifyingStream=p}setIsYouQualifiedAnimationRunning(p){this.isYouQualifiedAnimationRunning=p}get invalidTransition(){return this._invalidTransition}get isWaitingForQualifyingStream(){return this._isWaitingForQualifyingStream}get isQualifyingPhase(){return this._state===Rp.Qualifying}get isSlotSpinPhase(){return this._state===Rp.SlotSpin}get isMovingToTopUpPhase(){return this._state===Rp.MovingToTopUpRound}get isTopUpGame(){return this._state===Rp.TopUpRound}get isTopUpGameActive(){return this.isTopUpGame&&!this.gameStore.noMoreTopUps}get isMovingToBonusGamePhase(){return this._state===Rp.MovingToBonusRound}get isBonusRound(){return this._state===Rp.BonusRound}get isInSlotPhase(){return[Rp.Qualifying,Rp.SlotSpin].includes(this._state)}get state(){return this._state}dispose(){this.disposableBag.dispose()}}const Tp=[S.U3.Cloud1,S.U3.Cloud2,S.U3.Cloud3,S.U3.Cloud1,S.U3.Cloud2],lp=2*Math.PI/Tp.length,Ap=Tp.map(((p,g)=>({x:cp.eS(Math.cos(lp*g)),y:cp.eS(Math.sin(lp*g))}))),Lp=20;class op extends R{constructor(p,g,m,Z){super(p),this.app=p,this.assets=g,this.store=m,this.gameView=Z,this.particleClouds=[],this.name="Clouds",this.particleContainer=new I.wSt,this.particleContainer.setProperties({scale:!0,tint:!0}),this.setScaleMode(x.Y),this.addChild(this.particleContainer),Tp.forEach((p=>{this.particleClouds.push(this.createCloudSprite(this.assets[p]))}))}reset(){var p;null===(p=this.cloudAnimation)||void 0===p||p.call(this),this.store.ui.uiState.updateCloudState(_p.Hidden),this.particleClouds.forEach((p=>{p.sprite.alpha=0}))}scatterClouds(p){var g;const m=this.createCloudScatterAnimation(p);null===(g=this.cloudAnimation)||void 0===g||g.call(this),this.cloudAnimation=s({application:this.app,anim:m}),this.store.soundStore.triggerEvent(Np.m.TopUpCloudsDisappear),this.store.ui.uiState.updateCloudState(_p.ScatterAnimation)}appearClouds(){var p;const g=this.createCloudAppearAnimation();null===(p=this.cloudAnimation)||void 0===p||p.call(this),this.cloudAnimation=s({application:this.app,anim:g})}createCloudSprite(p){const g=new I.kxk(p),m={width:g.width,height:g.height};return g.anchor.set(.5),g.width=0,g.height=0,this.particleContainer.addChild(g),{sprite:g,initialSize:m}}createCloudAppearAnimation(){const p={x:this.defaultResolution.width/2,y:this.defaultResolution.height/2},g=Math.max(p.x,p.y),m=g/e[b.OD.Desktop]*Lp,Z=[],H=[];return this.particleClouds.forEach(((t,h)=>{const k=Ap[h];t.sprite.x=p.x,t.sprite.y=p.y,t.sprite.width=0,t.sprite.height=0,t.sprite.alpha=1;const n=g*k.x,S=g*k.y,q=E.M(t.sprite).animateTo({x:p.x+.5*n,y:p.y+.5*S,width:t.initialSize.width*m,height:t.initialSize.height*m},this.gameView.animationTimings.cloudAppearAnimationDuration,_.dV);Z.push(q);const D=E.M(t.sprite).animateTo({x:p.x+.9*n,y:p.y+.9*S},this.gameView.animationTimings.cloudFloatAnimationDuration);H.push(D)})),G.M().callback((()=>{this.store.ui.uiState.updateCloudState(_p.AppearingAnimation)})).parallel(Z).callback((()=>{this.store.ui.uiState.updateCloudState(_p.AppearedAnimation)})).parallel(H)}createCloudScatterAnimation(p){const{qualifiedCloudScatterAnimationDurationSec:g,qualifiedCloudFadeOutDurationSec:m,bonusRoundCloudScatterAnimationDurationSec:Z,bonusRoundCloudFadeOutDurationSec:H}=this.gameView.animationTimings,[t,h]=p?[Z,H]:[g,m],{width:k,height:n}=this.app.view,S={x:k/2,y:n/2},q=10*Math.max(S.x,S.y),D=[];return this.particleClouds.forEach(((p,g)=>{const m=Ap[g],Z=q*m.x,H=q*m.y,k=E.M(p.sprite).animateTo({x:S.x+Z,y:S.y+H},t,_.Do).animateTo({alpha:0},h);D.push(k)})),G.M().parallel(D).callback((()=>{this.store.ui.uiState.updateCloudState(_p.Hidden)}))}}class pg{constructor(p,g){this.totalPointsCount=p,this.controlPoints=g,this.curveLength=0,this.xLinear=p=>(1-p)*this.controlPoints[0].x+p*this.controlPoints[1].x,this.yLinear=p=>(1-p)*this.controlPoints[0].y+p*this.controlPoints[1].y,this.xQuadratic=p=>(1-p)*(1-p)*this.controlPoints[0].x+2*(1-p)*p*this.controlPoints[1].x+p*p*this.controlPoints[2].x,this.yQuadratic=p=>(1-p)*(1-p)*this.controlPoints[0].y+2*(1-p)*p*this.controlPoints[1].y+p*p*this.controlPoints[2].y,this.xCubic=p=>(1-p)*(1-p)*(1-p)*this.controlPoints[0].x+3*(1-p)*(1-p)*p*this.controlPoints[1].x+3*(1-p)*p*p*this.controlPoints[2].x+p*p*p*this.controlPoints[3].x,this.yCubic=p=>(1-p)*(1-p)*(1-p)*this.controlPoints[0].y+3*(1-p)*(1-p)*p*this.controlPoints[1].y+3*(1-p)*p*p*this.controlPoints[2].y+p*p*p*this.controlPoints[3].y,this.xQuintic=p=>(1-p)*(1-p)*(1-p)*(1-p)*(1-p)*this.controlPoints[0].x+5*(1-p)*(1-p)*(1-p)*(1-p)*p*this.controlPoints[1].x+10*(1-p)*(1-p)*(1-p)*p*p*this.controlPoints[2].x+10*(1-p)*(1-p)*p*p*p*this.controlPoints[3].x+5*(1-p)*p*p*p*p*this.controlPoints[4].x+p*p*p*p*p*this.controlPoints[5].x,this.yQuintic=p=>(1-p)*(1-p)*(1-p)*(1-p)*(1-p)*this.controlPoints[0].y+5*(1-p)*(1-p)*(1-p)*(1-p)*p*this.controlPoints[1].y+10*(1-p)*(1-p)*(1-p)*p*p*this.controlPoints[2].y+10*(1-p)*(1-p)*p*p*p*this.controlPoints[3].y+5*(1-p)*p*p*p*p*this.controlPoints[4].y+p*p*p*p*p*this.controlPoints[5].y,this.arcLengths=[0];let m=this.polynomial.x(0),Z=this.polynomial.y(0);for(let p=1;p<=this.totalPointsCount;p+=1){const g=p/this.totalPointsCount,H=this.polynomial.x(g),t=this.polynomial.y(g),h=m-H,k=Z-t;this.curveLength+=Math.sqrt(h*h+k*k),this.arcLengths.push(this.curveLength),m=H,Z=t}}mx(p){return this.polynomial.x(this.mapStepOntoT(p))}my(p){return this.polynomial.y(this.mapStepOntoT(p))}get length(){return this.curveLength}get polynomial(){switch(this.controlPoints.length){case 2:default:return{x:this.xLinear,y:this.yLinear};case 4:return{x:this.xCubic,y:this.yCubic};case 6:return{x:this.xQuintic,y:this.yQuintic}}}mapStepOntoT(p){const g=p*this.arcLengths[this.totalPointsCount];let m=0,Z=this.totalPointsCount,H=0;for(;m<Z;)H=m+(.5*(Z-m)|0),this.arcLengths[H]<g?m=H+1:Z=H;this.arcLengths[H]>g&&H--;const t=this.arcLengths[H];return t===g?H/this.totalPointsCount:(H+(g-t)/(this.arcLengths[H+1]-t))/this.totalPointsCount}}function gg(p){const{from:g,to:m,durationSec:Z,relContainer:H}=p,t={progress:0},h=function(p,g){const m=g.x-p.x,Z=g.y-p.y;return new pg(10,[{x:p.x,y:p.y},{x:p.x+.3*m,y:p.y+1.2*Z},{x:g.x,y:g.y}])}(g,m);return[E.M(t).animateTo({progress:1},Z,_.AU,(()=>{H.relativePosition.x=h.xQuadratic(t.progress),H.relativePosition.y=h.yQuadratic(t.progress)}))]}const mg=64;function Zg(p,g){const m=mg,Z=document.createElement("canvas");Z.width=1,Z.height=m;const H=Z.getContext("2d"),t=null==H?void 0:H.createLinearGradient(0,0,0,m);return p.forEach(((p,m)=>{const Z=g[m]||0;null==t||t.addColorStop(Z,p)})),H&&t&&(H.fillStyle=t,H.fillRect(0,0,1,m)),I.gPd.from(Z)}const Hg="Inter",tg="800",hg=.06,kg=.12,ng=.36,Sg=.1,qg=.15,Dg=Zg(["#87550A","#CB7E2C","#763200"],[.16,.51,.85]),Ig=Zg(["#985B00","#DA8D1A","#9D4D03"],[.16,.47,.94]);class bg extends I.mcf{constructor(p,g,m){super(),this.text=p,this.fontSize=g,this.dropShadow=m,this.outlineLayers=[],this.textLayers=[];const Z=new I.EYj(p,{fontFamily:Hg,fontSize:g,fontWeight:tg,fill:[16768879,16768879,16775398,16768879,14981125,16764228],fillGradientStops:[.2,.25,.33,.51,.71,.9],fillGradientType:I.Ta0.LINEAR_VERTICAL});Z.anchor.set(V),Z.name="text",this.textLayers.push(Z);const H=this.createOutline(hg,Dg),t=this.createOutline(kg,Ig);this.outlineLayers.push(H),this.outlineLayers.push(t),this.shadowText=new I.EYj(p,{fontFamily:Hg,fontSize:g,fontWeight:tg,fill:7942912,stroke:7942912,strokeThickness:Sg*g}),this.shadowText.name="shadow",this.shadowText.anchor.set(V),this.textLayers.push(this.shadowText),m&&(this.dropShadowText=new I.EYj(this.text,{fontFamily:Hg,fontSize:g,fontWeight:tg,fill:16777215,stroke:16777215,strokeThickness:ng*this.fontSize}),this.dropShadowText.anchor.set(V),this.dropShadowText.name="dropShadowText",this.dropShadowText.filters=[new I.eV2(16,6,2)],this.textLayers.push(this.dropShadowText),this.addChild(this.dropShadowText)),this.addChild(this.shadowText),this.addChild(t),this.addChild(H),this.addChild(Z),this.layoutLayers()}update({fontSize:p}){if(p===this.fontSize)return;this.fontSize=p,this.textLayers.forEach((g=>{g.style.fontSize=p}));const g=this.dropShadow?1:0;this.shadowText.style.strokeThickness=Sg*p,this.dropShadowText&&(this.dropShadowText.style.strokeThickness=ng*p),this.outlineLayers.forEach((p=>p.destroy())),this.outlineLayers=[],this.outlineLayers.push(this.createOutline(hg,Dg)),this.outlineLayers.push(this.createOutline(kg,Ig)),this.addChildAt(this.outlineLayers[1],1+g),this.addChildAt(this.outlineLayers[0],2+g),this.layoutLayers()}get fontSizeScale(){return this.fontSize/this.textLayers[0].height}layoutLayers(){this.shadowText.y=qg*this.fontSize-Sg*this.fontSize/2,this.dropShadowText&&(this.dropShadowText.y=this.shadowText.y/2)}createOutline(p,g){const m=p*this.fontSize,Z=new I.EYj(this.text,{fontFamily:Hg,fontSize:this.fontSize,fontWeight:tg,fill:16777215,stroke:16777215,strokeThickness:m});Z.calculateBounds();const H=new I.kxk(g);H.mask=Z,H.height=Z.height,H.width=Z.width,Z.anchor.set(V),H.anchor.set(V);const t=new I.mcf;return t.width=Z.width,t.height=Z.height,t.name=`outline_${p}`,t.addChild(Z),t.addChild(H),t}}const eg=180;class Ng{constructor(p){var g;this.baseScale=1,this.animationRotationAngle=eg,yp.I()||(this.sprite=I.kxk.from(p.sparkleAsset),this.sprite.name="Sparkle",this.sprite.anchor.set(.5),this.sprite.alpha=0,this.sprite.scale.set(0),this.setSymbolSize(p.symbolSize),this.timings=p.timings,this.animationRotationAngle=null!==(g=p.animationRotationAngle)&&void 0!==g?g:eg)}get animationTimeline(){if(yp.I())return G.M();const p=this.sprite,g=this.animationRotationAngle/eg,m=g*this.timings.sparkleParticleAlphaUpDuration,Z=g*this.timings.sparkleParticleAlphaFixedDuration,H=g*this.timings.sparkleParticleAnimationDuration,t=g*this.timings.sparkleParticleScaleDuration;return this.sprite.scale.set(0,0),G.M().parallel([E.M(p).animateTo({alpha:1},m).delay(Z).animateTo({alpha:0},m),E.M(p).animateTo({angle:this.animationRotationAngle},H,_.ME),E.M(p.scale).animateTo({x:this.baseScale,y:this.baseScale},t).animateTo({x:0,y:0},t)])}resetToPreAnimationState(){this.hide(),this.sprite.angle=0,this.sprite.scale.set(0,0)}setSymbolSize(p){this.sprite.width=p,this.baseScale=this.sprite.scale._x}setPosition(p,g){this.sprite.position.set(p,g)}hide(){this.sprite.alpha=0}}class dg extends I.mcf{constructor(p){if(super(),this.sparkles=[],!yp.I()){this.sparkleAsset=p.sparkleAsset,this.symbolSize=p.symbolSize,this.width=this.symbolSize,this.height=this.symbolSize,this.name="WinningSymbolSparkles",this.timings=p.timings,this.randomFunction=p.randomFunction;for(let p=0;p<t.hg;p++){const p=new Ng({sparkleAsset:this.sparkleAsset,symbolSize:this.symbolSize,timings:this.timings});this.sparkles.push(p),this.addChild(p.sprite)}}}get animationTimeline(){const p=G.M();return yp.I()||(this.layoutSparkles(),this.sparkles.forEach((g=>{p.delay(this.randomAnimationStartDelay).sequence(g.animationTimeline)}))),p}resetToPreAnimationState(){this.sparkles.forEach((p=>p.resetToPreAnimationState()))}setSymbolSize(p){this.symbolSize=p,this.sparkles.forEach((g=>g.setSymbolSize(p))),this.layoutSparkles()}layoutSparkles(){this.sparkles.forEach((p=>{const{x:g,y:m}=this.randomPositionInsideVisibleSymbol;p.sprite.position.set(g,m)}))}get randomPositionInsideVisibleSymbol(){return{x:cp.ui(.25*this.symbolSize,.75*this.symbolSize,this.randomFunction),y:cp.ui(.25*this.symbolSize,.75*this.symbolSize,this.randomFunction)}}get randomAnimationStartDelay(){return cp.ui(t.OK,t.up,this.randomFunction)/1e3}}var Qg=m(912986);class $g extends I.mcf{get isActive(){return"hidden"!==this.state}constructor(p,g,m,Z){super(),this.assets=p,this.slotContainer=g,this.soundStore=m,this.timings=Z,this.state="hidden",this.allAnimationSymbols=[],this.primaryAnimationSymbols=[],this.secondaryAnimationSymbols=[],this.nonWildReelSymbols=[],this.letterOffset=1,this.letterBaseScale=1,this.wildWithGlowBaseScale=1,this.radialLightBaseScale=1,this.letterParticleBaseScale=1,this.topRowY=0,this.wildRowIndex=0,this.disposeAppearanceAnimation=Qg.A,this.disposeIdleAnimation=Qg.A,this.disposeAnimations=()=>{this.disposeAppearanceAnimation(),this.disposeAppearanceAnimation=Qg.A,this.disposeIdleAnimation(),this.idleAnimation=void 0,this.disposeIdleAnimation=Qg.A,this.backgroundParticleAnimation.gotoAndStop(0),this.backgroundParticleAnimation.visible=!1},this._idleContainer=new I.mcf,this._idleContainer.name="idleWildAnimationContainer",this.addChild(this._idleContainer),this._primaryContainer=new I.mcf,this._primaryContainer.name="primaryWildAnimationContainer",this.addChild(this._primaryContainer),this._secondaryContainer=new I.mcf,this._secondaryContainer.name="secondaryWildAnimationContainer",this.addChild(this._secondaryContainer),this.sortableChildren=!0,this._idleContainer.zIndex=3,this._primaryContainer.zIndex=2,this._secondaryContainer.zIndex=1,this.init()}play(p){this.isActive||(this.setAnimationInfo(p),yp.I()?this.showLastFrame():(this.soundStore.triggerEvent(Np.m.WildLand),this.state="appearing",this.playAppearanceAnimation()))}showLastFrame(){this.state="static",this.makeInvisible(),this.disposeAnimations(),this.createLastFrame()}restartIdleAnimation(p){this.setAnimationInfo(p),this.showLastFrame(),this.playIdleAnimation()}reset(){this.state="hidden",this.makeInvisible(),this.disposeAnimations(),this.hideAllAnimationSymbols(),this.originalWildSymbol=void 0,this.nonWildReelSymbols=[]}dispose(){this.disposeAnimations()}hideAllAnimationSymbols(){this.allAnimationSymbols.forEach((p=>{p.alpha=0}))}setAnimationInfo(p){if(!cp.Pj(p.symbolIndex)||!cp.P4(p.reelIndex))throw new Error(`invalid wild symbol landing position: ${JSON.stringify(p)}`);this.reel=this.slotContainer.gameReels[p.reelIndex],this.wildRowIndex=p.symbolIndex,this.originalWildSymbol=this.reel.getSymbol(this.wildRowIndex),this.nonWildReelSymbols=t.dC.filter((p=>p!==this.wildRowIndex)).map((p=>this.reel.getSymbol(p)))}recalculateSymbolLayout(){const{wildWithGlow:p,radialLight:g,wLetter:m,topLetterParticle:Z,slotContainer:{symbolSize:H}}=this;this.y=H*(1-this.wildRowIndex),this.topRowY=-H/2,m.width=H,this.letterBaseScale=.8*m.scale._x,this.letterOffset=.7*H,p.width=1.26*H,this.wildWithGlowBaseScale=p.scale._x,g.width=2.5*H,this.radialLightBaseScale=g.scale._x,Z.width=1.2*H,this.letterParticleBaseScale=Z.scale._x;const t=this.topRowY+H*this.wildRowIndex;[p,g,...this.letters].forEach((p=>{p.x=H/2,p.y=t})),[p,g,...this.letters,...this.letterParticles].forEach((p=>{p.anchor.set(.5)}))}getAbsoluteKeyframeTimestamp(p,g=this.timings.mainAnimationDuration){return p*g}makeInvisible(){this._primaryContainer.visible=!1,this._secondaryContainer.visible=!1,this._idleContainer.visible=!1}makeVisible(){this._primaryContainer.visible=!0,this._secondaryContainer.visible=!0,this._idleContainer.visible=!0}init(){this.makeInvisible(),this.wLetter=I.kxk.from(this.assets[S.U3.SymbolW]),this.iLetter=I.kxk.from(this.assets[S.U3.SymbolI]),this.lLetter=I.kxk.from(this.assets[S.U3.SymbolL]),this.dLetter=I.kxk.from(this.assets[S.U3.SymbolD]),this.letters=[this.wLetter,this.iLetter,this.lLetter,this.dLetter],this.primaryAnimationSymbols=this.letters,this.primaryAnimationSymbols.forEach((p=>{p.alpha=0,this._primaryContainer.addChild(p)})),this.radialLight=I.kxk.from(this.assets[S.U3.RadialLight]),this.wildWithGlow=I.kxk.from(this.assets[S.U3.WildWithGlow]),this.backgroundParticleAnimation=new I.Dl5(this.assets[S.U3.WildBackgroundParticles]),this.backgroundParticleAnimation.loop=!1,this.backgroundParticleAnimation.animationSpeed=.4,this.secondaryAnimationSymbols=[this.radialLight,this.wildWithGlow,this.backgroundParticleAnimation],this.secondaryAnimationSymbols.forEach((p=>{p.alpha=0,this._secondaryContainer.addChild(p)})),this.topLetterParticle=I.kxk.from(this.assets[S.U3.ParticleSparkle]),this.middleLetterParticle=I.kxk.from(this.assets[S.U3.ParticleSparkle]),this.bottomLetterParticle=I.kxk.from(this.assets[S.U3.ParticleSparkle]),this.letterParticles=[this.topLetterParticle,this.middleLetterParticle,this.bottomLetterParticle],this.letterParticles.forEach((p=>{p.alpha=0,this._idleContainer.addChild(p)})),this.allAnimationSymbols=[...this.primaryAnimationSymbols,...this.secondaryAnimationSymbols,...this.letterParticles]}createLastFrame(){var p;this.makeInvisible(),this.recalculateSymbolLayout(),this.letters.forEach(((p,g)=>{p.alpha=1,p.scale.set(this.letterBaseScale,this.letterBaseScale),p.position.set(p.position.x,this.topRowY+this.letterOffset*g)})),null===(p=this.originalWildSymbol)||void 0===p||p.hideBaseSprite(),this.nonWildReelSymbols.forEach((p=>{null==p||p.hideBaseSprite()})),this._primaryContainer.visible=!0}playAppearanceAnimation(){if(!this.nonWildReelSymbols[0]||!this.nonWildReelSymbols[1])throw new Error(`missing non wild symbols in {${this.nonWildReelSymbols}}. Do not trigger animation before all its participating symbols have been initialized.`);const{wildRowIndex:p}=this;this.makeInvisible(),this.recalculateSymbolLayout(),this.slotContainer.ui.slotUIStore.setWildAppearingAnimationState(!0);const g=s({anim:G.M().callback((()=>this.makeVisible())).parallel([this.prepareWildWithGlowAnimation(),this.prepareRadialLightAnimation(),this.prepareWLetterAnimation(p),this.prepareILetterAnimation(p),this.prepareLLetterAnimation(p),this.prepareDLetterAnimation(p),this.prepareNonWildSymbolHideAnimation(this.nonWildReelSymbols[0].sprite),this.prepareNonWildSymbolHideAnimation(this.nonWildReelSymbols[1].sprite),this.prepareOverlappingLetterParticleSequence([.55,.65,.75]),this.prepareBackgroundLetterParticleSequence()]).callback((()=>{this.playIdleAnimation()})),application:this.slotContainer.app});this.disposeAppearanceAnimation=()=>{g(),this.slotContainer.ui.slotUIStore.setWildAppearingAnimationState(!1)}}prepareIdleAnimation(){return this.prepareOverlappingLetterParticleSequence([2,2.1,2.2])}playIdleAnimation(){this.disposeAnimations(),yp.I()?this.showLastFrame():(this.state="idle",this.idleAnimation=this.prepareIdleAnimation(),this.makeVisible(),this._secondaryContainer.visible=!1,this.disposeIdleAnimation=s({anim:this.idleAnimation,repeat:Number.MAX_VALUE,application:this.slotContainer.app}))}prepareOverlappingLetterParticleSequence(p){const g=this.slotContainer.symbolSize,m=[{symbolSize:g,relativePosition:{x:.23,y:-.7},sprite:this.topLetterParticle},{symbolSize:g,relativePosition:{x:.63,y:.4},sprite:this.middleLetterParticle},{symbolSize:g,relativePosition:{x:.55,y:1.4},sprite:this.bottomLetterParticle}];return G.M().parallel(m.map(((g,m)=>this.prepareLetterParticleAnimation({...g,relativeAnimationStart:p[m]}))))}prepareBackgroundLetterParticleSequence(){return this.backgroundParticleAnimation.anchor.set(.5),this.backgroundParticleAnimation.x=this.slotContainer.symbolSize/2,this.backgroundParticleAnimation.y=this.slotContainer.symbolSize/2,this.backgroundParticleAnimation.width=this.slotContainer.symbolSize,this.backgroundParticleAnimation.height=3*this.slotContainer.symbolSize,G.M().delay(this.timings.sparkleParticleStart).callback((()=>{this.backgroundParticleAnimation.alpha=.7,this.backgroundParticleAnimation.visible=!0,this.backgroundParticleAnimation.play(),this.backgroundParticleAnimation.onComplete=()=>{this.backgroundParticleAnimation.visible=!1}}))}prepareWildWithGlowAnimation(){const{wildWithGlow:p,wildWithGlowBaseScale:g}=this;return G.M().parallel([E.M(p.scale).callback((()=>{p.scale.set(g,g)})).delay(this.timings.wildWithGlowScaleStart).animateTo({x:1.15*g,y:1.15*g},this.timings.wildWithGlowScaleUpDuration,_.ME).animateTo({x:.5*g,y:.5*g},this.timings.wildWithGlowScaleDownDuration,_.ME),E.M(p).callback((()=>{p.alpha=0})).animateTo({alpha:1},this.timings.wildWithGlowAlphaUpDuration,_.AU).callback((()=>{var p;null===(p=this.originalWildSymbol)||void 0===p||p.hideBaseSprite()})).animateTo({alpha:0},this.timings.wildWithGlowAlphaDownDuration,_.AU)])}prepareRadialLightAnimation(){const{radialLight:p,radialLightBaseScale:g}=this;return G.M().parallel([E.M(p.scale).callback((()=>{p.scale.set(0),p.alpha=1})).delay(this.timings.radialLightScaleStart).animateTo({x:g,y:g},this.timings.radialLightScaleUpDuration,_.ME).delay(this.timings.radialLightScaleFixedDuration).animateTo({x:0,y:0},this.timings.radialLightScaleDownDuration,_.ME),E.M(p).callback((()=>{this.soundStore.triggerEvent(Np.m.WildExpand),p.angle=0})).animateTo({angle:360},this.timings.radialLightRotationDuration)])}prepareLetterAlphaScaleAnimation(p,g=!1){const m=g?.8:1;return G.M().parallel([E.M(p).callback((()=>{p.alpha=0})).delay(this.timings.letterAlphaStart).animateTo({alpha:1},this.timings.letterAlphaDuration),E.M(p.scale).callback((()=>{p.scale.set(.3*this.letterBaseScale)})).delay(this.timings.letterScaleStart).animateTo({x:m*this.letterBaseScale,y:m*this.letterBaseScale},this.timings.letterScaleUpToBaseDuration,_.sn).animateTo({x:1.2*this.letterBaseScale,y:1.2*this.letterBaseScale},this.timings.letterScaleUpDuration,_.p_).animateTo({x:this.letterBaseScale,y:this.letterBaseScale},this.timings.letterScaleDownToBaseDuration,_.ME)])}prepareWLetterAnimation(p){const g=this.wLetter,m={0:.3,1:.3,2:.1}[p];return G.M().parallel([this.prepareLetterAlphaScaleAnimation(g),E.M(g.position).delay(this.timings.letterPositionStart).animateTo({x:g.position.x,y:this.topRowY},this.timings.letterPositionDuration),E.M(g.anchor).callback((()=>{g.anchor.set(1.1,-.2)})).delay(this.timings.letterAnchorStart).animateTo({x:m,y:.5},this.timings.letterAnchorDuration/2,_.p_).animateTo({x:.5,y:.5},this.timings.letterAnchorDuration/2,_.p_)])}prepareILetterAnimation(p){const g=this.iLetter,m={0:.1,1:.2,2:.2}[p];return G.M().parallel([this.prepareLetterAlphaScaleAnimation(g,!0),E.M(g.position).delay(this.timings.letterPositionStart).animateTo({x:g.position.x,y:this.topRowY+1*this.letterOffset},this.timings.letterPositionDuration),E.M(g.anchor).callback((()=>{g.anchor.set(.6,-.2)})).delay(this.timings.letterAnchorStart).animateTo({x:m,y:.5},this.timings.letterAnchorDuration/2,_.p_).animateTo({x:.5,y:.5},this.timings.letterAnchorDuration/2,_.p_)])}prepareLLetterAnimation(p){const g=this.lLetter,m={0:.1,1:.2,2:.2}[p];return G.M().parallel([this.prepareLetterAlphaScaleAnimation(g,!0),E.M(g.position).delay(this.timings.letterPositionStart).animateTo({x:g.position.x,y:this.topRowY+2*this.letterOffset},this.timings.letterPositionDuration),E.M(g.anchor).callback((()=>{g.anchor.set(.2,-.2)})).delay(this.timings.letterAnchorStart).animateTo({x:m,y:.5},this.timings.letterAnchorDuration/2,_.p_).animateTo({x:.5,y:.5},this.timings.letterAnchorDuration/2,_.p_)])}prepareDLetterAnimation(p){const g=this.dLetter,m={0:.2,1:.1,2:.2}[p];return G.M().parallel([this.prepareLetterAlphaScaleAnimation(g),E.M(g.position).delay(this.timings.letterPositionStart).animateTo({x:g.position.x,y:this.topRowY+3*this.letterOffset},this.timings.letterPositionDuration),E.M(g.anchor).callback((()=>{g.anchor.set(-.1,-.2)})).delay(this.timings.letterAnchorStart).animateTo({x:m,y:.5},this.timings.letterAnchorDuration/2,_.p_).animateTo({x:.5,y:.5},this.timings.letterAnchorDuration/2,_.p_)])}prepareNonWildSymbolHideAnimation(p){return G.M().sequence(E.M(p).delay(this.timings.hideOtherSymbolsStart).animateTo({alpha:0},this.timings.hideOtherSymbolsDuration))}prepareLetterParticleAnimation({sprite:p,symbolSize:g,relativePosition:m,relativeAnimationStart:Z}){return p.position.set(m.x*g,m.y*g),G.M().parallel([E.M(p).callback((()=>{p.angle=0})).delay(this.getAbsoluteKeyframeTimestamp(Z)).animateTo({angle:180},this.timings.sparkleParticleAnimationDuration,_.ME),E.M(p).callback((()=>{p.alpha=0})).delay(this.getAbsoluteKeyframeTimestamp(Z)).callback((()=>{p.alpha=.1})).animateTo({alpha:1},this.timings.sparkleParticleAlphaUpDuration).delay(this.timings.sparkleParticleAlphaFixedDuration).animateTo({alpha:0},this.timings.sparkleParticleAlphaDownDuration),E.M(p.scale).callback((()=>{p.scale.set(0)})).delay(this.getAbsoluteKeyframeTimestamp(Z)).animateTo({x:this.letterParticleBaseScale,y:this.letterParticleBaseScale},this.timings.sparkleParticleScaleDuration).animateTo({x:0,y:0},this.timings.sparkleParticleScaleDuration)])}}class wg{constructor(p,g){this.id=p,this.slot=g,this.position={x:0,y:0},this.dimensions={x:1,y:1},this.landingPosition={reelIndex:0,symbolIndex:0},this.isDead=!1,this.isOutcome=!1,this.isWild=!1,this.isScatter=!1,this.isBasicSymbol=!1,this.supportsWinAnimation=!1,this.assets=g.assets,this._container=new I.mcf,this._container.name="GameSymbolContainer";const m=c.zy[this.id];this.sprite=I.kxk.from(this.assets[m]),this._container.addChild(this.sprite),this.isScatter=cp.xQ(p),this.isWild=cp.pq(p),this.isBasicSymbol=!this.isWild&&!this.isScatter,this.isScatter&&(this.scatterSpinAnimatedSprite=new I.Dl5(this.assets[S.U3.ScatterSpinTextures]),this.scatterSpinAnimatedSprite.name="ScatterSpinAnimation",this.scatterSpinAnimatedSprite.alpha=0,this.scatterSpinAnimatedSprite.loop=!0,this.scatterSpinAnimatedSprite.animationSpeed=1,this.scatterSpinAnimatedSprite.gotoAndStop(0),this._container.addChild(this.scatterSpinAnimatedSprite),this.multiplierText=new I.T7$("",{fontName:this.assets.multiplierFont.font,fontSize:this.scatterMultiplierFontSize,letterSpacing:this.assets.config.MULTIPLIER_FONT_LETTER_SPACING}),this._container.addChild(this.multiplierText)),this.isWild&&(this.wildAnimation=this.slot.disposeBag.addDisposable(new $g(this.slot.assets,this.slot,this.slot.gameView.store.soundStore,t.k7)),this._container.addChild(this.wildAnimation)),this.isBasicSymbol&&(this.winSymbolSparklesContainer=new dg({sparkleAsset:this.assets[S.U3.ParticleSparkle],timings:t.Ad,symbolSize:this.slot.symbolSize,randomFunction:this.slot.randomFn}),this._container.addChild(this.winSymbolSparklesContainer),this.winSymbolRadialLight=I.kxk.from(this.assets.radialLight),this.winSymbolRadialLight.name="RadialLight",this.winSymbolRadialLight.anchor.set(Q),this.winSymbolRadialLight.alpha=0,this._container.addChildAt(this.winSymbolRadialLight,0)),this.layout()}get scatterMultiplierFontSize(){return.49*this.slot.symbolSize}get scatterMultiplierYOffset(){return.1*this.slot.symbolSize}onSpawn(p){const g=!this.slot.ui.slotUIStore.isSlotSpinning,m=!g,Z=this.slot.symbolSize;if(this.isScatter&&this.multiplierText){const g=p||this.slot.scatterMultipliers[this.landingPosition.reelIndex]||1;g>1?(this.multiplierText.text=`${g}x`,this.multiplierText.x=(Z-this.multiplierText.width)/2):this.multiplierText.text="",this.multiplierText.visible=!0}if(this.isOutcome&&m&&this.isScatter&&(this.slot.gameView.store.soundStore.triggerEvent(Np.m.ScatterLand),this.slot.gameView.store.soundStore.triggerEvent(Np.m.ScatterLand,this.landingPosition.reelIndex)),this.isOutcome&&m&&this.scatterSpinAnimatedSprite){if(this.slot.gameView.isFastModeActivated)return;this.hideBaseSprite(),this.showScatterSpinSprite(),this.stopScatterSpin(),this.slot.addScatterSymbol(this),this.endScatterSpinAnimation=()=>{this.scatterSpinAnimatedSprite&&(this.showBaseSprite(),this.hideAndResetScatterSpinSprite()),this.endScatterSpinAnimation=void 0}}this.isOutcome&&this.wildAnimation&&(this.cachedWildLandingPosition={reelIndex:this.landingPosition.reelIndex,symbolIndex:this.landingPosition.symbolIndex}),this.reel=this.slot.gameReels[this.landingPosition.reelIndex],this.isOutcome&&g&&(this.wildAnimation?this.wildAnimation.restartIdleAnimation(this.landingPosition):this.reel.hasWild&&this.hideBaseSprite()),this.supportsWinAnimation=this.isOutcome&&this.isBasicSymbol&&!this.reel.hasWild,this.layout(!0)}layout(p=!1){var g,m;const Z=this.slot.symbolSize;this.sprite.width=Z,this.sprite.height=Z,null===(g=this.winSymbolSparklesContainer)||void 0===g||g.setSymbolSize(Z),this.winSymbolRadialLight&&(this.winSymbolRadialLight.width=1.1*Z,this.winSymbolRadialLight.height=1.1*Z,this.winSymbolRadialLight.x=Z/2,this.winSymbolRadialLight.y=Z/2),this.cachedWildLandingPosition&&!p&&(null===(m=this.wildAnimation)||void 0===m?void 0:m.isActive)&&this.wildAnimation.restartIdleAnimation(this.cachedWildLandingPosition),this.isScatter&&(this.multiplierText&&(this.multiplierText.fontSize=this.scatterMultiplierFontSize,this.multiplierText.x=(Z-this.multiplierText.width)/2,this.multiplierText.y=Z-this.scatterMultiplierFontSize+this.scatterMultiplierYOffset),this.scatterSpinAnimatedSprite&&(this.scatterSpinAnimatedSprite.width=Z,this.scatterSpinAnimatedSprite.height=Z)),this.synchronize()}makeVisible(){this.sprite.visible=!0,this.multiplierText&&(this.multiplierText.visible=!0)}makeInvisible(){this.sprite.visible=!1,this.multiplierText&&(this.multiplierText.visible=!1)}showBaseSprite(){this.sprite.alpha=1}hideBaseSprite(){this.sprite.alpha=0}showScatterSpinSprite(){if(!this.scatterSpinAnimatedSprite)throw Error(`can not show scatter spin sprite, as it is absent on gameSymbol at id: ${this.id}`);this.scatterSpinAnimatedSprite.alpha=1}playScatterSpin(){if(!this.scatterSpinAnimatedSprite)throw Error(`can not play scatter spin sprite, as it is absent on gameSymbol at id: ${this.id}`);this.scatterSpinAnimatedSprite.gotoAndPlay(0)}stopScatterSpin(){if(!this.scatterSpinAnimatedSprite)throw Error(`can not stop scatter spin sprite, as it is absent on gameSymbol at id: ${this.id}`);this.scatterSpinAnimatedSprite.gotoAndStop(0)}getSlotResultAnimationTweenList({isWinning:p,isSingleLine:g,winSymbolInitialAlpha:m,fadeOutSymbol:Z}){var H;if((null===(H=this.reel)||void 0===H?void 0:H.hasWild)||!this.isOutcome)return[];const t=this.slot.gameView.animationTimings,h=[],k=p?1:m,n=E.M(this.container).animateTo({alpha:k},t.winLineFadeDuration,_.dV);return p&&!g&&Z&&n.delay(t.winLineFadeDelay).animateTo({alpha:m},t.winLineFadeDuration,_.dV),h.push(n),p&&this.supportsWinAnimation&&h.push(this.getWinAnimation(k,g)),this.layout(),h}resetToPreSlotResultAnimationState(){this.container.alpha=1,this.supportsWinAnimation&&this.winSymbolRadialLight&&this.winSymbolSparklesContainer&&(this.winSymbolRadialLight.alpha=0,this.winSymbolRadialLight.rotation=0,this.winSymbolSparklesContainer.resetToPreAnimationState())}onDespawn(){this.supportsWinAnimation&&this.resetToPreSlotResultAnimationState(),this._container.parent.removeChild(this._container),this.reel=void 0,this._container.alpha=1,this.sprite.anchor.y=0,this.showBaseSprite(),this.wildAnimation&&this.cachedWildLandingPosition&&(this.wildAnimation.reset(),this.cachedWildLandingPosition=void 0)}synchronize(){this._container.position.y=-this.position.y*this.slot.symbolSize}onStartSpin(){this.isOutcome&&this.wildAnimation&&this.wildAnimation.showLastFrame()}land(){}bounce(){this.isOutcome&&this.wildAnimation&&this.wildAnimation.play(this.landingPosition)}get container(){return this._container}hideAndResetScatterSpinSprite(){if(!this.scatterSpinAnimatedSprite)throw Error(`can not reset scatter spin sprite, as it is absent on gameSymbol at id: ${this.id}`);this.scatterSpinAnimatedSprite.alpha=0,this.scatterSpinAnimatedSprite.gotoAndStop(0),this.scatterSpinAnimatedSprite.onFrameChange=void 0}getWinAnimation(p,g){if(!this.supportsWinAnimation||!this.winSymbolRadialLight||!this.winSymbolSparklesContainer)throw new Error(`tried to get unsupported win animation for element ID: ${this.id}`);const m=this.slot.gameView.animationTimings,Z=this.winSymbolRadialLight,H=this.winSymbolSparklesContainer,t=g?1:0;return G.M().parallel([H.animationTimeline,E.M(Z).animateTo({alpha:p},m.winLineFadeDuration,_.dV).delay(m.winLineFadeDelay).animateTo({alpha:t},m.winLineFadeDuration),E.M(Z).animateTo({rotation:Z.rotation+Math.PI/2},2*m.winLineFadeDuration+m.winLineFadeDelay)]).callback((()=>{H.resetToPreAnimationState(),Z.rotation=0}))}}class Yg{static isGameWithSlotResult(p){return"mainSlot"in p}static isQualifyingGame(p){return p.state===wp.Qc.Qualifying}static isEmptyQualifyingGame(p){return Yg.isQualifyingGame(p)&&!Yg.isGameWithSlotResult(p)&&!("baseBetAmount"in p)}static isQualifyingGameAfterResolved(p){return Yg.isQualifyingGame(p)&&!Yg.isGameWithSlotResult(p)&&"baseBetAmount"in p}static isQualifyingGameWithSlotResult(p){return Yg.isQualifyingGame(p)&&Yg.isGameWithSlotResult(p)}static isQualifiedGame(p){return p.state===wp.Qc.Qualified}static isQualifiedGameWithSlotResult(p){return Yg.isQualifiedGame(p)&&Yg.isGameWithSlotResult(p)}static isQualifiedGameWithBalloons(p){return Yg.isQualifiedGame(p)&&"balloons"in p}static isBonusGame(p){return p.state===wp.Qc.BonusRound}static isResolvedGame(p){return p.state===wp.Qc.Resolved}static isCancelledGame(p){return p.state===wp.Qc.Cancelled}static isSlotGame(p){return Yg.isEmptyQualifyingGame(p)||Yg.isQualifyingGameAfterResolved(p)||Yg.isQualifyingGameWithSlotResult(p)}static isSlotGameWithResult(p){return Yg.isSlotGame(p)&&Yg.isGameWithSlotResult(p)}static isGameWithBaseBetAmount(p){return Yg.isQualifyingGameAfterResolved(p)||Yg.isQualifiedGame(p)||Yg.isBonusGame(p)||Yg.isResolvedGame(p)||Yg.isCancelledGame(p)}static isGameWithTotalBetAmount(p){return Yg.isQualifyingGameWithSlotResult(p)||Yg.isQualifiedGame(p)||Yg.isBonusGame(p)||Yg.isResolvedGame(p)}constructor(p){this.gameObservable=p,k.l_(this)}getQualifyingGame(){if(Yg.isQualifyingGame(this.game))return this.game}getQualifyingGameWithSlotResult(){if(Yg.isQualifyingGameWithSlotResult(this.game))return this.game}getQualifiedGame(){if(Yg.isQualifiedGame(this.game))return this.game}getBonusGame(){if(Yg.isBonusGame(this.game))return this.game}get isInteractiveGame(){return Yg.isSlotGame(this.game)||Yg.isQualifiedGame(this.game)}getResolvedGame(){if(Yg.isResolvedGame(this.game))return this.game}get resolvedGame(){if(Yg.isResolvedGame(this.game))return this.game}get game(){return this.gameObservable.get().game}get bonusRound(){return this.gameObservable.get().bonusRound}get playerGameId(){var p;if("gameInfo"in this.game)return null===(p=this.game)||void 0===p?void 0:p.gameInfo.playerGameId}get bonusRoundId(){var p;return null===(p=this.bonusRound)||void 0===p?void 0:p.gameRoundId}get baseBetAmount(){if(Yg.isGameWithBaseBetAmount(this.game))return this.game.baseBetAmount}get maxTopUpBetAmount(){if(Yg.isQualifiedGame(this.game))return this.game.maxTopUpBetAmount}get isEmptyQualifyingGame(){return Yg.isEmptyQualifyingGame(this.game)}get isQualifyingGame(){return Yg.isQualifyingGame(this.game)}get isQualifiedGame(){return Yg.isQualifiedGame(this.game)}get number(){var p,g;if(this.game.state!==wp.Qc.Qualifying)return null===(g=null===(p=this.game)||void 0===p?void 0:p.gameInfo)||void 0===g?void 0:g.number}get totalMultipliers(){if(Yg.isQualifiedGame(this.game)||Yg.isBonusGame(this.game)||Yg.isResolvedGame(this.game))return this.game.multipliers}get initialMultipliers(){var p;return null===(p=this.bonusRound)||void 0===p?void 0:p.initialMultipliers}get totalScatterMultiplier(){if(Yg.isQualifiedGame(this.game)||Yg.isBonusGame(this.game))return this.game.totalScatterMultiplier}get totalScatterMultiplierOrZero(){return this.totalScatterMultiplier||0}get totalBetAmount(){if(Yg.isGameWithTotalBetAmount(this.game))return this.game.totalBetAmount}get totalBetAmountOrZero(){return this.totalBetAmount||0}get winAmount(){if(Yg.isQualifyingGameWithSlotResult(this.game)||Yg.isQualifiedGame(this.game)||Yg.isBonusGame(this.game)||Yg.isResolvedGame(this.game))return this.game.winAmount}get topUpBalloons(){if(Yg.isQualifiedGameWithBalloons(this.game))return this.game.balloons}get canSkipBonusRound(){return Yg.isQualifiedGame(this.game)&&!!this.game.canSkipBonusRound}get noMoreTopUps(){return Yg.isQualifiedGame(this.game)&&!!this.game.noMoreTopUps}}var ig=m(973214);const Pg={x:.5,y:.25},Jg={x:.5,y:.5},yg={x:.5,y:.35},Wg=1.5;class vg extends I.mcf{static getScatterCornerSpotParams(p,g,m){if(!g)throw new Error("can not get scatterCornerSpotRect");const Z=p.appRect,H=function(p,g){const m=ep(p,g);return{x:m.x/p.width,y:m.y/p.height,width:m.width/p.width,height:m.height/p.height}}(Z,g);return{scatterScaleToFillCornerSpot:H.width/(m/Z.width),cornerSpot:H}}constructor(p){super(),this.scatterSymbols=[],this.scatterSymbolContainers=[],this.onResize=()=>{this.scatterSymbols.forEach((p=>p.layout())),this.scatterSymbolTotal.layout(),this.scatterSymbolContainers.forEach((p=>p.onResize())),this.youQualifiedTextContainer.onResize(),this.scatterSymbolTotalContainer.onResize()},this.app=p.app,this.gameView=p.gameView,this.slot=p.gameView.slot,this.store=p.store,this.clouds=p.clouds,this.name="ScatterMultiplier",this.zIndex=1,this.sortableChildren=!0;for(let p=0;p<t.il;p++){const p=new wg(c._e.Scatter,this.slot);this.scatterSymbols.push(p);const g=this.addChild(gp(p.container,this.app));g.setScaleMode(x.None),g.alpha=0,this.scatterSymbolContainers.push(g)}this.scatterSymbolTotal=new wg(c._e.Scatter,this.slot);const g=gp(this.scatterSymbolTotal.container,this.app);this.scatterSymbolTotalContainer=this.addChild(g),this.scatterSymbolTotalContainer.name="scatterSymbolTotalContainer",this.scatterSymbolTotalContainer.setScaleMode(x.None),this.youQualifiedText=new bg(ig.Tl(ig.R1.YouQualified),this.app.view.height*W),this.youQualifiedTextContainer=this.addChild(gp(this.youQualifiedText,this.app)),this.youQualifiedTextContainer.name="youQualifiedTextContainer",this.youQualifiedTextContainer.relativePosition.copyFrom(Pg);const m=cp.eS(this.app.view.width*v);if(this.youQualifiedText.width>m){const p=pp(this.youQualifiedText);this.youQualifiedText.width=m,this.youQualifiedText.height=m/p}this.youQualifiedTextContainer.setScaleMode(x.X),this.toQualifying()}toQualifying(){return this.toQualifyingInit(),G.M()}toQualifyingInit(){this.clouds.reset(),this.reset()}toQualified(p){const g=this.gameView.animationTimings,{qualifiedScatterBeforeAnimationDelaySec:m,qualifiedScatterAnimationDurationSec:Z,youQualifiedFadeDuration:H,qualifiedScatterMidAnimationDelaySec:t,youQualifiedFadeOutDelay:h}=g,k=this.findQualifyingSymbolPositions(p),{symbolSize:n,slotRectBounds:S}=this.slot,q=E.M(this.youQualifiedTextContainer),D=k.map((({reelIndex:p,symbolIndex:g},m)=>({reelIndex:p,symbolIndex:g,symbol:this.scatterSymbols[m],container:this.scatterSymbolContainers[m]})));D.forEach((({symbol:p},g)=>{p.landingPosition=k[g]}));const I=0===D.length;this.youQualifiedTextContainer.relativePosition.copyFrom(I?Jg:Pg);const{cornerSpot:b,scatterScaleToFillCornerSpot:e}=vg.getScatterCornerSpotParams(this.gameView,this.store.ui.scatterCornerSpotRect,n);return this.scatterSymbolTotalContainer.anchor.set(Q,d),this.scatterSymbolTotalContainer.relativeScale.set(Wg),this.scatterSymbolTotalContainer.relativePosition.copyFrom(yg),G.M().callback((()=>{D.forEach((({reelIndex:p,symbolIndex:g,symbol:m,container:Z})=>{const H=this.slot.scatterMultipliers[p]||0;H&&(Z.zIndex=H),m.onSpawn(H),m.showBaseSprite(),m.isOutcome=!0,Z.anchor.set(d),Z.relativeScale.set(1),Z.relativePosition.set((p*n+S.x)/this.app.view.width,(g*n+S.y)/this.app.view.height),Z.visible=!0,Z.alpha=1})),this.scatterSymbolTotalContainer.alpha=0,this.scatterSymbolTotalContainer.visible=!I})).delay(m).parallel([...D.map((({container:p})=>E.M(p.relativePosition).animateTo(yg,Z,_.WD))),...D.map((({container:p})=>E.M(p.relativeScale).animateTo({x:Wg,y:Wg},Z,_.WD))),...D.map((({container:p})=>E.M(p.anchor).animateTo({x:Q},Z,_.WD)))]).callback((()=>{this.clouds.appearClouds(),D.forEach((({container:p})=>{p.visible=!1})),this.scatterSymbolTotalContainer.alpha=1,this.setTotalSymbol(this.store.gameStore.totalScatterMultiplierOrZero)})).sequence(q.animateTo({alpha:1},H)).delay(t).callback((()=>this.store.soundStore.triggerEvent(Np.m.TopUpBadgeMove))).parallel([q.delay(h).animateTo({alpha:0},H),E.M(this.scatterSymbolTotalContainer.relativePosition).animateTo({x:b.x,y:b.y},Z,_.WD),E.M(this.scatterSymbolTotalContainer.anchor).animateTo({x:d},Z,_.WD),E.M(this.scatterSymbolTotalContainer.relativeScale).animateTo({x:e,y:e},Z,_.WD)])}toQualifiedInit(){this.setTotalSymbol(this.store.gameStore.totalScatterMultiplierOrZero),this.layoutTotalScatterInTheCorner(),this.scatterSymbolContainers.forEach((p=>{p.alpha=0,p.visible=!1})),this.youQualifiedTextContainer.alpha=0}toBonusRoundInit(){this.toQualifyingInit()}toBonusRound(){const p=this.gameView.animationTimings,{emptyScatterSymbolFadeOutDelay:g,bonusGameScatterFlightToCenterTimeSec:m,bonusGameScatterScaleTimeSec:Z,bonusGameScatterBackgroundFadeOutDurationSec:H}=p;if(this.store.gameStore.totalScatterMultiplierOrZero<=1)return G.M().delay(g).sequence(E.M(this.scatterSymbolTotalContainer).animateTo({alpha:0},1,_.WD));const{bonusGameScatterMidScale:h,bonusGameScatterEndScale:k,scatterMidRelPosition:n}=t.Pd,S=1/this.scatterSymbolTotalContainer.scale._x,q=Q*S*this.scatterSymbolTotalContainer.width,D=G.M().delay(Yp(p)).callback((()=>{this.store.soundStore.triggerEvent(Np.m.QualificationMultiplierFly)})).parallel([E.M(this.scatterSymbolTotalContainer.pivot).animateTo({x:q,y:q},m),...gg({from:this.scatterSymbolTotalContainer.relativePosition,to:n,durationSec:m,relContainer:this.scatterSymbolTotalContainer})]).parallel([E.M(this.scatterSymbolTotalContainer.relativeScale).animateTo({x:h,y:h},Z,_.am).animateTo({x:k,y:k},Z,_.am),E.M(this.scatterSymbolTotalContainer.pivot).animateTo({x:d,y:d},2*Z),E.M(this.scatterSymbolTotalContainer.anchor).animateTo({x:Q,y:Q},2*Z)]).callback((()=>{this.scatterSymbolTotal.hideBaseSprite(),this.scatterSymbolTotal.showScatterSpinSprite(),this.scatterSymbolTotal.playScatterSpin()})),I=G.M().delay(Jp(p)).sequence(E.M(this.scatterSymbolTotalContainer).animateTo({alpha:0},H,_.WD)).callback((()=>{this.scatterSymbolTotal.stopScatterSpin()}));return G.M().parallel([D,I])}layoutTotalScatterInTheCorner(){if(!this.store.ui.scatterCornerSpotRect||!this.scatterSymbolTotalContainer.visible)return;this.scatterSymbolTotalContainer.anchor.set(d);const{cornerSpot:p,scatterScaleToFillCornerSpot:g}=vg.getScatterCornerSpotParams(this.gameView,this.store.ui.scatterCornerSpotRect,this.slot.symbolSize);this.scatterSymbolTotalContainer.relativePosition.set(p.x,p.y),this.scatterSymbolTotalContainer.relativeScale.set(g)}setTotalSymbol(p){this.scatterSymbolTotal.onSpawn(p),this.scatterSymbolTotalContainer.alpha=1,this.scatterSymbolTotalContainer.visible=p>1}findQualifyingSymbolPositions(p){return Yg.isQualifiedGameWithSlotResult(p)?p.mainSlot.grid.reduce(((p,g,m)=>{const Z=g.findIndex(cp.xQ);return Z>-1&&p.push({reelIndex:m,symbolIndex:Z}),p}),[]):[]}reset(){this.youQualifiedTextContainer.alpha=0,this.scatterSymbolTotalContainer.zIndex=1,this.scatterSymbolContainers.forEach((p=>{p.visible=!1,p.alpha=1,p.zIndex=1})),this.scatterSymbolTotalContainer.visible=!1,this.scatterSymbolTotalContainer.alpha=1}}const Vg={Y:[47,1,.44],G:[122,1,.34],P:[288,1,.45],R:[352,1,.48]},zg=new Map;function Bg(p){const g=p.toHex(),m=zg.get(g);if(m)return m;const Z=new I.dJT(void 0,T);return Z.uniforms.uColor=new Float32Array(p.toArray()),zg.set(g,Z),Z}function ug(p,g){const m=new I.Q1f({h:g[0],s:100*g[1],l:100*g[2]});p.filters=[...p.filters||[],Bg(m)]}var ag=m(918973);const Fg=m.p+"images/star.3d38e0b7.webp";function Xg(p){const g=1.70158;return(g+1)*p*p*p-g*p*p}function Kg(p,g,m,Z,H="ball"){const t=new I.mcf;t.width=p,t.height=g,t.position.set(-p/2,-g/2);const h={systemSize:{width:p,height:g},fps:60,fixedDt:!1,randomSeed:"",blendMode:Bp.V.Default,controllerConfigs:{PIXI_PARTICLES:{autoStart:!0,loop:"ball"===H,explosiveness:!1,amount:8,emissionDelay:0,particlesPerWave:15,particle:{colors:{gradient:!1,mode:ag.F.Random,colors:["#1ce58b","#b5ce3e","#db0909"]},damping:1,gravityVector:[0,0],directionVector:[0,0],spread:180,angularVelocity:{min:1,max:6,curve:[]},initialRotation:{min:0,max:6.283185307179586},opacity:{min:.358695652173913,max:1,curve:[{point:[0,1],easing:"linear"},{point:[.9,1],easing:"linear"},{point:[1,0],easing:"linear"}]},lifetime:"ball"===H?{min:1,max:1.5}:{min:.4,max:.6},scale:{min:.1*Z,max:.3*Z,curve:[]},initialVelocity:{min:.1*Z,max:.1*Z},linearAcceleration:{min:0,max:0,curve:[]},tangentialAcceleration:{min:0,max:0,curve:[]},radialAcceleration:{min:0,max:0,curve:[]}},emitter:"ball"===H?{position:[.5,.5],type:"ellipse",width:p,height:g}:{position:[-.5,-1],type:"triangle",size:Math.max(p,g)}}},graphicsConfig:{PIXI_PARTICLES:{textureId:"9b965d87-938a-4bcc-a7a7-cd9c1de30036",fps:60,randomFrameStart:!1,frames:[]}},controllerIdToConfigId:{PIXI_PARTICLES:"PIXI_PARTICLES"},controllers:{PIXI_PARTICLES:{plugins:{}}}},k=rp.spawnSystem({container:t,config:h,assets:{[h.graphicsConfig.PIXI_PARTICLES.textureId]:{type:Wp.b.PixiTexture,value:I.gPd.from(Fg)}},systemScale:1});return{container:t,dispose:()=>{k.dispose(),t.destroy()}}}var jg=m(401832),rg=m(881953);function Ug(p){return`${p}x`}function Cg(p,g,m,Z){const H=Ug(g),t=Ug(p),h=p-g-1;return[H,...(k=Rg(p,g,Math.min(h,Z),m),k.map((p=>Ug(p)))),t];var k}const xg=1;function Rg(p,g,m,Z){const H=rg.A(g,p+xg);return Array.from({length:m},(()=>{const p=cp.Oi(H,Z),g=H.splice(p,1);if(!Array.isArray(g)||"number"!=typeof g[0])throw new Error(`wrong value ${g} at index ${p} of pool ${H}`);return String(g[0])})).sort(((p,g)=>p.length-g.length))}class cg extends R{constructor(p,g,m,Z){super(g,"bonusGameMultiplier"),this.assets=p,this.app=g,this.animationTimings=m,this.gameView=Z,this.glowFilter=new jg.qx({color:16642220,distance:30,outerStrength:3,quality:.1,alpha:0}),this.glowFilter.resolution=this.app.renderer.resolution,this.setScaleMode(x.X),this.countUpGlowContainer=new I.mcf,this.countUpGlowContainer.name="BonusGameMultiplierCountUpGlowContainer",this.addChild(this.countUpGlowContainer),this.text=new I.T7$("",this.multiplierTextStyle),this.text.name="BonusGameMultiplierText",this.text.anchor.set(Q),this.text.filters=[this.glowFilter],this.addChild(this.text),this.reset()}getMultiplierShowAnimation(p,g,m){const{bonusGameMultiplierFadeInTime:Z,bonusGameMultipliersScaleUpTimeSec:H}=this.animationTimings,t=E.M(this).delay(p).callback((()=>{m(),this.updateValue(Ug(g))})).animateTo({alpha:1},Z),h=E.M(this.text.scale).animateTo({x:1.5,y:1.5},H).animateTo({x:.9,y:.9},H),k=E.M(this.text.position).animateTo({x:0,y:0},H);return G.M().sequence(t).parallel([h,k])}getBonusAnimationWithCountUp(p){const{bonusGameMultipliersScaleUpTimeSec:g}=this.animationTimings,m=this.getEndTextScale();return G.M().sequence(E.M(this.text.scale).animateTo({x:m,y:m},g)).parallel([E.M(this.glowFilter).animateTo({alpha:.8},.3),bp(p,.8,(p=>this.updateValue(p)))])}getMultiplierHideAnimation(p){const{bonusGameMultipliersFlyTime:g,bonusGameMultiplierFadeOutTime:m}=this.animationTimings,Z=E.M(this.relativePosition).animateTo({x:p.x/this.app.view.width,y:p.y/this.app.view.height},g),H=g,t=E.M(this).delay(H).animateTo({alpha:0},m);return G.M().parallel([Z,t])}updateValue(p){this.text.text=p}reset(){this.alpha=0,this.glowFilter.alpha=0,this.clearCountUpGlowContainer(),this.text.text=""}get multiplierTextStyle(){return{fontName:this.assets.multiplierFont.font,fontSize:this.gameView.multiplierFontSize,letterSpacing:this.assets.config.CLOUD_MULTIPLIER_LETTER_SPACING}}getEndTextScale(p=1){return p*t.Pd.bonusGameMultiplierEndScaleRatio}clearCountUpGlowContainer(){this.countUpGlowContainer.removeChildren().forEach((p=>p.destroy()))}}const Og=.2,fg=.23;class _g extends I.mcf{constructor(p,g,m,Z,H){super(),this.app=g,this.store=m,this.finishMultipliers=Z,this.gameView=H,this.multipliers=[],this.onResize=()=>{this.multipliers.forEach((p=>p.onResize()))},this.name="BonusGameMultipliers",this.multipliersAtColor={Y:new cg(p,g,H.animationTimings,H),P:new cg(p,g,H.animationTimings,H),G:new cg(p,g,H.animationTimings,H),R:new cg(p,g,H.animationTimings,H)},this.multipliers=wp.lm.map((p=>{const g=this.multipliersAtColor[p];return this.addChild(g),g})),this.reset()}toQualifyingInit(){this.reset()}toQualifying(){return G.M().callback((()=>this.toQualifyingInit()))}toQualifiedInit(){this.toQualifyingInit()}toQualified(){return G.M().callback((()=>this.toQualifiedInit()))}toBonusRoundInit(){this.toQualifyingInit()}toBonusRound(){if(yp.I())return G.M();const p=this.gameView.animationTimings,{bonusGameMultipliersRevealDelay:g}=p,{bonusGameMultiplierTeaseValues:m}=t.Pd;this.reset();const Z=G.M().delay(g).callback((()=>{this.layoutMultipliers(),this.visible=!0})).parallel(this.getShowBonusGameMultipliersAnimations()),H=G.M().delay(Jp(p)).callback((()=>this.store.soundStore.triggerEvent(Np.m.MultiplierSum))).parallel(this.getHideBonusGameMultipliersAnimations()).callback((()=>{this.reset()})),{totalScatterMultiplierOrZero:h,initialMultipliers:k}=this.store.gameStore;if(h<=1||!k)return G.M().parallel([Z,H]);const n=[];wp.lm.forEach((p=>{const g=this.multipliersAtColor[p],Z=k[p],H=Cg(Z*h,Z,Math.random,m),t=g.getBonusAnimationWithCountUp(H);n.push(t)}));const S=G.M().delay(function(p){return function(p){return Pp(p)+p.bonusGameScatterBeamTimeForTopToReachBonusMultipliersSec}(p)-p.bonusGameMultipliersScaleUpTimeSec/2}(p)).parallel(n);return G.M().parallel([Z,S,H])}getY(){const p=this.store.video.shouldShowLandscape?Og:fg;return(this.store.video.height*p-this.store.video.topOverflow)*this.app.renderer.resolution}getShowBonusGameMultipliersAnimations(){const{bonusGameMultiplierAppearanceInterval:p,bonusGameMultiplierAppearancePhoneDelay:g,bonusGameMultiplierAppearanceDesktopTabletDelay:m}=this.gameView.animationTimings;return wp.lm.map(((Z,H)=>{var t,h;const k=null!==(h=null===(t=this.store.gameStore.initialMultipliers)||void 0===t?void 0:t[Z])&&void 0!==h?h:0,n=(f.DS.IS_PHONE?g:m)+(wp.lm.length-H)*p;return this.multipliersAtColor[Z].getMultiplierShowAnimation(n,k,(()=>{this.store.soundStore.triggerEvent(`multiplierCountUpStart${H+1}`)})).callback((()=>{this.store.soundStore.triggerEvent(`multiplierCountUpEnd${H+1}`)}))}))}getHideBonusGameMultipliersAnimations(){return wp.lm.map((p=>{const g=this.multipliersAtColor[p],m=this.finishMultipliers[p];return g.getMultiplierHideAnimation({x:m.position.x,y:m.position.y})}))}layoutMultipliers(){this.multipliers.forEach(((p,g)=>{const m={x:this.gameView.leftMostColumnX+mp(g,this.gameView),y:this.getY()};p.relativePosition.copyFrom(function(p,g){return{x:p.x/g.width,y:p.y/g.height}}(m,this.app.view))}))}reset(){this.visible=!1,this.multipliers.forEach((p=>{p.reset()})),this.layoutMultipliers()}}const{maxScale:Eg,endScale:Gg}=function(){switch(f.DS.PLATFORM){case"Desktop":return{maxScale:2.5,endScale:1.5};case"Tablet":return{maxScale:1.7,endScale:1}}return{maxScale:.9,endScale:.7}}(),Mg=.39,sg=.66,Tg=.3,lg=.33,Ag=sg-lg,Lg=1-sg,og=.33;var pm=m(757062);const gm={[b.OD.Desktop]:{x:.5,y:.5},[b.OD.Tablet]:{x:.5,y:.5},[b.OD.Phone]:{x:.5,y:.4}};class mm extends I.mcf{constructor(p,g,m){super(),this.app=p,this.animationTimings=m,this.name="Bonus round logo",this.visible=!1,this.logoSprite=I.kxk.from(g[S.U3.Logo]),this.logoSprite.anchor.set(Q),this.addChild(this.logoSprite)}onResize(){const p=gm[f.DS.PLATFORM];this.position.x=p.x*this.app.view.width,this.position.y=p.y*this.app.view.height;const g=Math.min(1.3*this.app.view.width,1.17*this.logoSprite.texture.width),m=this.logoSprite.texture.width/this.logoSprite.texture.height;this.logoSprite.width=g,this.logoSprite.height=g/m}toQualifying(){return this.visible=!1,G.M()}toQualified(){return this.visible=!1,G.M()}toQualifyingInit(){this.visible=!1}toQualifiedInit(){this.visible=!1}toBonusRoundInit(){this.visible=!1}toBonusRound(){return this.visible=!0,p=this,g=pm.rv(fp+this.animationTimings.ueBalloonAppearanceDelay),G.M().parallel([E.M(p).callback((()=>{p.alpha=0})).delay(Mg).animateTo({alpha:1},sg-Mg).delay(g-sg).animateTo({alpha:0},Tg),E.M(p.scale).callback((()=>{p.scale.set(Eg)})).delay(lg).animateTo({x:.2,y:.2},Ag,_.dV).animateTo({x:Eg,y:Eg},Lg,_.dV).animateTo({x:Gg,y:Gg},og,_.dV)]);var p,g}}var Zm;(function(p){p["Normal"]="PromoType.Normal",p["XXXtreme"]="PromoType.XXXtreme",p["SuperXXXtreme"]="PromoType.SuperXXXtreme"})(Zm||(Zm={}));const Hm={[t.ow.NormalSpin]:Zm.Normal,[t.ow.XXXtremeSpin]:Zm.XXXtreme,[t.ow.SuperXXXtremeSpin]:Zm.SuperXXXtreme};function tm(p,g){const m=j[f.DS.PLATFORM],Z=document.createElement("canvas");Z.width=p,Z.height=qp(p,m);const H=Dp(m,Z),t=Z.getContext("2d");t.translate(H.translate.x,H.translate.y);const h=.9;t.scale(h*H.scale.y/H.scale.x,1*h);const k=t.createRadialGradient(0,0,0,0,0,H.scale.x);switch(g){case Zm.XXXtreme:k.addColorStop(.1,"rgba(255, 114, 95, 0.7)"),k.addColorStop(.69,"rgba(255, 191, 116, 0.35)"),k.addColorStop(1,"rgba(255, 209, 92, 0)");break;case Zm.SuperXXXtreme:k.addColorStop(.1,"rgba(255, 35, 35, 0.7)"),k.addColorStop(.69,"rgba(255, 141, 116, 0.35)"),k.addColorStop(1,"rgba(255, 92, 92, 0)")}return t.fillStyle=k,t.filter=`blur(${m.blur}px)`,t.beginPath(),t.arc(0,0,H.scale.x,0,2*Math.PI),t.fill(),new I.kxk(I.gPd.from(Z))}function hm(p,g){const m=.03*p,Z=.9*function(p){return p*c.XN}(p),H=document.createElement("canvas");H.width=Z,H.height=m;const t=H.getContext("2d"),h=t.createLinearGradient(0,0,Z,0);switch(g){case Zm.Normal:h.addColorStop(0,"rgba(255, 203, 155, 0)"),h.addColorStop(.1,"rgba(255, 203, 155, 0.36)"),h.addColorStop(.5,"#FFCBB4"),h.addColorStop(.9,"rgba(255, 203, 155, 0.47)"),h.addColorStop(1,"rgba(255, 203, 155, 0)");break;case Zm.XXXtreme:h.addColorStop(0,"rgba(255, 240, 102, 0)"),h.addColorStop(.18,"rgba(240, 158, 0, 0.6)"),h.addColorStop(.5,"#FF0404"),h.addColorStop(.82,"rgba(239, 179, 88, 0.6)"),h.addColorStop(1,"rgba(255, 240, 102, 0) ");break;case Zm.SuperXXXtreme:h.addColorStop(0,"rgba(240, 158, 0, 0)"),h.addColorStop(.18,"rgba(255, 119, 42, 0.5)"),h.addColorStop(.5,"#FF2323"),h.addColorStop(.82,"rgba(255, 119, 42, 0.5)"),h.addColorStop(1,"rgba(240, 158, 0, 0)")}return t.fillStyle=h,t.fillRect(0,0,Z,m),new I.kxk(I.gPd.from(H))}function km({fontSizeOption:p,contentWidthLimit:g,viewWidth:m,scatterSymbol:Z,wildContainer:H}){const t=Math.floor(m*function(p){return B[f.DS.PLATFORM][p]/e[f.DS.PLATFORM]}(p)),h=function(){const p=ig.Tl(ig.R1.CatchAnyToQualify),[g,m]=p.split("{Scatter}"),[Z,H]=m.split("{Wild}");return[g,Z,H]}().map((p=>new bg(p,t,!1))),k=[{type:"text",container:h[0]},{type:"image",container:Z},{type:"text",container:h[1]},{type:"image",container:H},{type:"text",container:h[2]}],n=[new I.mcf];let S=null;for(const p of k){let m=n[n.length-1];const Z=p.container,t=S?m.width+z+Z.width:Z.width;S&&t>g&&(m=new I.mcf,n.push(m),S=null),m.addChild(Z),Z.position.x=nm(S,p),Z===H&&(H.position.y=-Q*H.height),S=Z}return{lineContainers:n,fontSize:t,numRows:n.length,releaseTextImageAssets:()=>{n.forEach((p=>{p.removeChildren(),p.destroy()}))}}}function nm(p,g){const m="image"===g.type;return p?m?p.position.x+V*p.width+z:p.position.x+p.width+z+V*g.container.width:(m?d:V)*g.container.width}class Sm extends R{constructor(p){super(p.gameView.app),this.props=p,this.containers=[],this.gameView=p.gameView,this.assets=this.gameView.assets,this.slot=this.gameView.slot,this.updateRelPosition(),this.setScaleMode(x.X),this.radialBackgroundNormal=function(p){const g=K,m=document.createElement("canvas");m.width=p,m.height=qp(p,g);const Z=Dp(g,m),H=m.getContext("2d");H.translate(Z.translate.x,Z.translate.y),H.scale(Z.scale.y/Z.scale.x,1);const t=.9*Z.scale.x,h=H.createRadialGradient(0,0,0,0,0,t);return h.addColorStop(0,"rgba(255, 203, 180, 0.69)"),h.addColorStop(1,"rgba(255, 215, 168, 0)"),H.fillStyle=h,H.beginPath(),H.arc(0,0,Z.scale.x,0,2*Math.PI),H.fill(),new I.kxk(I.gPd.from(m))}(this.slot.slotWidth),this.bottomRibbonNormal=hm(this.slot.symbolSize,Zm.Normal),this.normalContainer=this.setupNormalContainer({radialBackground:this.radialBackgroundNormal,bottomRibbon:this.bottomRibbonNormal}),this.radialBackgroundXXXtreme=tm(this.slot.slotWidth,Zm.XXXtreme),this.bottomRibbonXXXtreme=hm(this.slot.symbolSize,Zm.XXXtreme),this.logoXXXtreme=new I.kxk(this.assets[S.U3.XXXtremeLogo]),this.xxxtremeContainer=this.setupXXXtremeContainerFor({promoType:Zm.XXXtreme,radialBackground:this.radialBackgroundXXXtreme,bottomRibbon:this.bottomRibbonXXXtreme,logo:this.logoXXXtreme}),this.radialBackgroundSuperXXXtreme=tm(this.slot.slotWidth,Zm.SuperXXXtreme),this.bottomRibbonSuperXXXtreme=hm(this.slot.symbolSize,Zm.SuperXXXtreme),this.logoSuperXXXtreme=new I.kxk(this.assets[S.U3.SuperXXXtremeLogo]),this.superXXXtremeContainer=this.setupXXXtremeContainerFor({promoType:Zm.SuperXXXtreme,radialBackground:this.radialBackgroundSuperXXXtreme,bottomRibbon:this.bottomRibbonSuperXXXtreme,logo:this.logoSuperXXXtreme}),this.containers=[this.normalContainer,this.xxxtremeContainer,this.superXXXtremeContainer],this.containers.forEach((p=>{this.addChild(p)})),this.initLayoutContent()}onResize(){this.updateRelPosition(),super.onResize()}toQualifyingInit(){this.alpha=1}toQualifying(){return G.M().sequence(l(this,1,this.gameView.animationTimings.slotFadeinDurationSec))}toQualifiedInit(){this.alpha=0}toQualified(){return G.M().sequence(l(this,0,this.gameView.animationTimings.slotFadeoutDurationSec,_.sn))}toBonusRoundInit(){this.alpha=0}toBonusRound(){return G.M().callback((()=>{this.alpha=0}))}toResolvedInit(){this.alpha=0}setPromo(p){this.containers.forEach((g=>{g.visible=g.name===p}))}updateRelPosition(){const{relX:p}=Sp(this.props.store.device,this.slot.getSlotRelMobileY()),g=function(p){const g=1.14*p.slot.symbolSize;return p.slot.position.y-g}({slot:this.slot})/this.gameView.app.view.height;this.relativePosition.set(p,g)}setupNormalContainer(p){const g=new I.mcf;g.name="backgroundContainer",g.addChild(p.radialBackground),g.addChild(p.bottomRibbon);const m=new I.mcf;m.name="CTA_wildContainer",S.wE.forEach(((p,g)=>{const Z=I.kxk.from(this.assets[p]),H=pp(Z);Z.width=.2*this.slot.symbolSize,Z.height=Z.width/H,Z.position.y=g*(.7*Z.height),m.addChild(Z)}));const Z=I.kxk.from(this.assets[S.U3.SymbolScatter]);Z.anchor.set(d,Q);const H=pp(Z);Z.width=.5*this.slot.symbolSize,Z.height=Z.width/H;const t={contentWidthLimit:this.slot.slotWidth,viewWidth:this.gameView.app.view.width,scatterSymbol:Z,wildContainer:m},h=km({...t,fontSizeOption:"max"});let{lineContainers:k,fontSize:n}=h;if(h.numRows>1){h.releaseTextImageAssets();const p=km({...t,fontSizeOption:"min"});k=p.lineContainers,n=p.fontSize}const q=new I.mcf;q.name="contentContainer",k.forEach(((p,g)=>{q.addChild(p),p.pivot.set(Q*p.width,Q);const m=k[g-1];p.position.y=m?m.position.y+V*(m.height+p.height):V*p.height})),q.pivot.set(d,q.height+.8*n);const D=new I.mcf;return D.name=Zm.Normal,D.visible=!1,D.addChild(g),D.addChild(q),D}setupXXXtremeContainerFor(p){const g=new I.mcf;g.name="backgroundContainer",g.addChild(p.radialBackground),g.addChild(p.bottomRibbon);const m=new I.mcf;m.addChild(p.logo);const Z=new I.mcf;return Z.name=p.promoType,Z.visible=!1,Z.addChild(g),Z.addChild(m),Z}initLayoutContent(){[this.radialBackgroundNormal,this.radialBackgroundXXXtreme,this.radialBackgroundSuperXXXtreme,this.bottomRibbonNormal,this.bottomRibbonXXXtreme,this.bottomRibbonSuperXXXtreme].forEach((p=>{p.anchor.set(Q,$)})),[this.logoXXXtreme,this.logoSuperXXXtreme].forEach((p=>{p.anchor.set(Q,Q);const g=pp(p);p.width=2.2*this.slot.symbolSize,p.height=p.width/g;const m=-.25*qp(this.slot.slotWidth,j[f.DS.PLATFORM]);p.position.y=m}))}}var qm=m(136685),Dm=m(168850),Im=m(384511);const bm={copy:p=>({x:p.x,y:p.y}),lerp:(p,g,m,Z)=>{Z.set(Im.Cc(p.x,g.x,m),Im.Cc(p.y,g.y,m))}},em=[p=>{if(p instanceof I.bRX||p instanceof I.oA$)return bm}],Nm="__PIXI__";var dm=m(738759);class Qm extends I.RvI{constructor(){super(),this.trackedCallbacks=new Set}add(p,g,m){return this.trackedCallbacks.add(p),super.add(p,g,m),this}dispose(){this.trackedCallbacks.forEach((p=>{this.remove(p)})),this.trackedCallbacks.clear()}}var $m=m(110715);function wm(p){this._activeParentLayer&&this._activeParentLayer!==p._activeLayer||(this.visible?(this.displayOrder=p.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||(p._activeLayer=null,this.containerRenderWebGL(p),p._activeLayer=this._activeParentLayer)):this.displayOrder=0)}var Ym=m(316197);const im=class extends Ym.Wp.EventEmitter{constructor(p=0,g=!1){super(),this.useRenderTexture=!1,this.useDoubleBuffer=!1,this.sortPriority=0,this.clearColor=new Float32Array([0,0,0,0]),this.canDrawWithoutLayer=!1,this.canDrawInParentStage=!0,this._activeLayer=null,this._activeStage=null,this._activeChildren=[],this._lastUpdateId=-1,this.zIndex=p||0,this.enableSort=!!g,"function"==typeof g&&this.on("sort",g)}doSort(p,g){if(this.listeners("sort",!0))for(let p=0;p<g.length;p++)this.emit("sort",g[p]);g.sort(im.compareZIndex)}static compareZIndex(p,g){return p.zOrder<g.zOrder?-1:p.zOrder>g.zOrder?1:p.updateOrder-g.updateOrder}clear(){this._activeLayer=null,this._activeStage=null,this._activeChildren.length=0}_resolveChildDisplayObject(p,g){this.check(p),g._activeParentLayer=this._activeLayer,this._activeLayer?this._activeLayer._activeChildren.push(g):this._activeChildren.push(g)}_resolveLayer(p,g){this.check(p),this._activeLayer&&im.conflict(),this._activeLayer=g,this._activeStage=p}check(p){if(this._lastUpdateId<im._layerUpdateId)this._lastUpdateId=im._layerUpdateId,this.clear(),this._activeStage=p;else if(this.canDrawInParentStage){let g=this._activeStage;for(;g&&g!==p;)g=g._activeParentStage;this._activeStage=g,null===g&&this.clear()}}static conflict(){im._lastLayerConflict+5e3<Date.now()&&(im._lastLayerConflict=Date.now(),console.log(`@pixi/layers found two layers with the same group in one stage - that's not healthy. Please place a breakpoint here and debug it`))}};let Pm=im;Pm._layerUpdateId=0,Pm._lastLayerConflict=0;class Jm{constructor(p){this.layer=p,this.renderTexture=null,this.doubleBuffer=null,this.currentBufferIndex=0,this._tempRenderTarget=null,this._tempRenderTargetSource=new Ym.M_,this._tempRenderTargetDestination=new Ym.M_}init(p){const g=p?p.screen.width:100,m=p?p.screen.height:100,Z=p?p.resolution:Ym.W0.RESOLUTION;this.renderTexture=Ym.Y7.create({width:g,height:m,resolution:Z}),this.layer.group.useDoubleBuffer&&(this.doubleBuffer=[Ym.Y7.create({width:g,height:m,resolution:Z}),Ym.Y7.create({width:g,height:m,resolution:Z})])}getRenderTexture(){return this.renderTexture||this.init(),this.renderTexture}pushTexture(p){const g=p.screen;this.renderTexture||this.init(p);const m=this.renderTexture,Z=this.layer.group,H=this.doubleBuffer;if(m.width===g.width&&m.height===g.height&&m.baseTexture.resolution===p.resolution||(m.baseTexture.resolution=p.resolution,m.resize(g.width,g.height),H&&(H[0].baseTexture.resolution=p.resolution,H[0].resize(g.width,g.height),H[1].baseTexture.resolution=p.resolution,H[1].resize(g.width,g.height))),H&&(H[0].framebuffer.multisample=m.framebuffer.multisample,H[1].framebuffer.multisample=m.framebuffer.multisample),this._tempRenderTarget=p.renderTexture.current,this._tempRenderTargetSource.copyFrom(p.renderTexture.sourceFrame),this._tempRenderTargetDestination.copyFrom(p.renderTexture.destinationFrame),p.batch.flush(),Z.useDoubleBuffer){let g=H[this.currentBufferIndex];g.baseTexture._glTextures[p.CONTEXT_UID]||(p.renderTexture.bind(g,void 0,void 0),p.texture.bind(g),Z.clearColor&&p.renderTexture.clear(Z.clearColor)),p.texture.unbind(m.baseTexture),m.baseTexture._glTextures=g.baseTexture._glTextures,m.baseTexture.framebuffer=g.baseTexture.framebuffer,g=H[1-this.currentBufferIndex],p.renderTexture.bind(g,void 0,void 0)}else p.renderTexture.bind(m,void 0,void 0);Z.clearColor&&p.renderTexture.clear(Z.clearColor);const t=p.filter.defaultFilterStack;t.length>1&&(t[t.length-1].renderTexture=p.renderTexture.current)}popTexture(p){p.batch.flush(),p.framebuffer.blit();const g=p.filter.defaultFilterStack;g.length>1&&(g[g.length-1].renderTexture=this._tempRenderTarget),p.renderTexture.bind(this._tempRenderTarget,this._tempRenderTargetSource,this._tempRenderTargetDestination),this._tempRenderTarget=null;const m=this.renderTexture,Z=this.layer.group,H=this.doubleBuffer;if(Z.useDoubleBuffer){p.texture.unbind(m.baseTexture),this.currentBufferIndex=1-this.currentBufferIndex;const g=H[this.currentBufferIndex];m.baseTexture._glTextures=g.baseTexture._glTextures,m.baseTexture.framebuffer=g.baseTexture.framebuffer}}destroy(){this.renderTexture&&(this.renderTexture.destroy(),this.doubleBuffer&&(this.doubleBuffer[0].destroy(!0),this.doubleBuffer[1].destroy(!0)))}}class ym extends $m.mc{constructor(p=null){super(),this.isLayer=!0,this.group=null,this._activeChildren=[],this._tempChildren=null,this._activeStageParent=null,this._sortedChildren=[],this._tempLayerParent=null,this.insertChildrenBeforeActive=!0,this.insertChildrenAfterActive=!0,p?(this.group=p,this.zIndex=p.zIndex):this.group=new Pm(0,!1),this._tempChildren=this.children}get useRenderTexture(){return this.group.useRenderTexture}set useRenderTexture(p){this.group.useRenderTexture=p}get useDoubleBuffer(){return this.group.useDoubleBuffer}set useDoubleBuffer(p){this.group.useDoubleBuffer=p}get clearColor(){return this.group.clearColor}set clearColor(p){this.group.clearColor=p}get sortPriority(){return this.group.sortPriority}set sortPriority(p){this.group.sortPriority=p}getRenderTexture(){return this.textureCache||(this.textureCache=new Jm(this)),this.textureCache.getRenderTexture()}doSort(){this.group.doSort(this,this._sortedChildren)}destroy(p){this.textureCache&&(this.textureCache.destroy(),this.textureCache=null),super.destroy(p)}render(p){this.prerender(p)&&(this.group.useRenderTexture&&(this.textureCache||(this.textureCache=new Jm(this)),this.textureCache.pushTexture(p)),this.containerRenderWebGL(p),this.postrender(p),this.group.useRenderTexture&&this.textureCache.popTexture(p))}layerRenderCanvas(p){this.prerender(p)&&(this.containerRenderCanvas(p),this.postrender(p))}_onBeginLayerSubtreeTraversal(p){const g=this._activeChildren;this._activeStageParent=p,this.group._resolveLayer(p,this);const m=this.group._activeChildren;g.length=0;for(let p=0;p<m.length;p++)m[p]._activeParentLayer=this,g.push(m[p]);m.length=0}_onEndLayerSubtreeTraversal(){const p=this.children,g=this._activeChildren,m=this._sortedChildren;for(let p=0;p<g.length;p++)this.emit("display",g[p]);if(m.length=0,this.insertChildrenBeforeActive)for(let g=0;g<p.length;g++)m.push(p[g]);for(let p=0;p<g.length;p++)m.push(g[p]);if(!this.insertChildrenBeforeActive&&this.insertChildrenAfterActive)for(let g=0;g<p.length;g++)m.push(p[g]);this.group.enableSort&&this.doSort()}prerender(p){return!(this._activeParentLayer&&this._activeParentLayer!=p._activeLayer||(this.visible?(this.displayOrder=p.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||(this.children!==this._sortedChildren&&this._tempChildren!==this.children&&(this._tempChildren=this.children),this._boundsID++,this.children=this._sortedChildren,this._tempLayerParent=p._activeLayer,p._activeLayer=this,0)):(this.displayOrder=0,1)))}postrender(p){this.children=this._tempChildren,p._activeLayer=this._tempLayerParent,this._tempLayerParent=null}}ym.prototype.renderCanvas=ym.prototype.layerRenderCanvas;const Wm=class extends ym{constructor(){super(...arguments),this.isStage=!0,this._tempGroups=[],this._activeLayers=[],this._activeParentStage=null}clear(){this._activeLayers.length=0,this._tempGroups.length=0}destroy(p){this.clear(),super.destroy(p)}updateStage(){this._activeParentStage=null,Pm._layerUpdateId++,this._updateStageInner()}updateAsChildStage(p){this._activeParentStage=p,Wm._updateOrderCounter=0,this._updateStageInner()}_updateStageInner(){this.clear(),this._addRecursive(this);const p=this._activeLayers;for(let g=0;g<p.length;g++){const m=p[g];if(m.group.sortPriority){m._onEndLayerSubtreeTraversal();const p=m._sortedChildren;for(let g=0;g<p.length;g++)this._addRecursiveChildren(p[g])}}for(let g=0;g<p.length;g++){const m=p[g];m.group.sortPriority||m._onEndLayerSubtreeTraversal()}}_addRecursive(p){if(!p.visible)return;if(p.isLayer){const g=p;this._activeLayers.push(g),g._onBeginLayerSubtreeTraversal(this)}if(p!==this&&p.isStage)return void p.updateAsChildStage(this);p._activeParentLayer=null;let g=p.parentGroup;g&&g._resolveChildDisplayObject(this,p);const m=p.parentLayer;if(m&&(g=m.group,g._resolveChildDisplayObject(this,p)),p.updateOrder=++Wm._updateOrderCounter,p.alpha<=0||!p.renderable||!p.layerableChildren||g&&g.sortPriority)return;const Z=p.children;if(Z&&Z.length)for(let p=0;p<Z.length;p++)this._addRecursive(Z[p])}_addRecursiveChildren(p){if(p.alpha<=0||!p.renderable||!p.layerableChildren)return;const g=p.children;if(g&&g.length)for(let p=0;p<g.length;p++)this._addRecursive(g[p])}};Wm._updateOrderCounter=0,function(){if(void 0!==$m.q9.prototype.displayOrder)return;Object.assign($m.q9.prototype,{parentLayer:null,_activeParentLayer:null,parentGroup:null,zOrder:0,zIndex:0,updateOrder:0,displayOrder:0,layerableChildren:!0,isLayer:!1});const p=$m.mc.prototype;p.containerRenderWebGL=p.render,p.render=wm}(),function(p){const g=p.prototype;var m;g._oldRender||(Object.assign(g,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder(){return++this._lastDisplayOrder},_oldRender:Ym.A4.prototype.render}),g._oldRender=g.render,g.render=(m=g.render,function(p,g,Z,H,t){g&&(g.renderTexture||g.baseTexture)||(this._lastDisplayOrder=0),this._activeLayer=null,p.isStage&&p.updateStage(),m.call(this,p,g,Z,H,t)}))}(Ym.A4);const vm=m.p+"images/green.e52561f8.webp",Vm=m.p+"images/purple.6054e890.webp",zm=m.p+"images/red.d5e5b45f.webp",Bm={Y:m.p+"images/yellow.9e33bea6.webp",P:Vm,G:vm,R:zm};function um(p,g,m,Z,H,t){const h=new I.mcf;h.width=p,h.height=g;const k=`confetti${H}`,n="topMultiplier"===t.type?function(p,g,m,Z){return{systemSize:{width:p,height:g},fps:60,fixedDt:!1,randomSeed:"",blendMode:Bp.V.Default,controllerConfigs:{PIXI_PARTICLES:{autoStart:!1,loop:!1,explosiveness:!0,amount:100,emissionDelay:0,particlesPerWave:150,particle:{colors:{gradient:!1,mode:ag.F.OverLife,colors:["#67D411","#02AEE4","#C92EFF","#E40097"]},damping:1,gravityVector:[0,800],directionVector:[-20816681711721685e-33,20816681711721685e-33],spread:180,angularVelocity:{min:5,max:10,curve:[]},initialRotation:{min:0,max:6.283185307179586},opacity:{min:1,max:1,curve:[{point:[0,1],easing:"linear"},{point:[1,.8152173913043478],easing:"linear"}]},lifetime:{min:2,max:2.5},scale:{min:.2*m,max:.6*m,curve:[{point:[0,1],easing:"linear"},{point:[.3,.7],easing:"linear"},{point:[1,0],easing:"linear"}]},initialVelocity:{min:50*m,max:400*m},linearAcceleration:{min:-200*m,max:50*m,curve:[{point:[0,2],easing:"linear"},{point:[.55,1.89],easing:"linear"},{point:[1,1],easing:"linear"}]},tangentialAcceleration:{min:0,max:0,curve:[]},radialAcceleration:{min:100,max:200,curve:[]}},emitter:{position:[.5,.5],type:"point"}}},graphicsConfig:{PIXI_PARTICLES:{textureId:Z,fps:10,randomFrameStart:!0,frames:[{x:0,y:0,w:80,h:100},{x:80,y:0,w:80,h:100},{x:160,y:0,w:80,h:100},{x:240,y:0,w:80,h:100},{x:320,y:0,w:80,h:100},{x:400,y:0,w:80,h:100},{x:480,y:0,w:80,h:100},{x:560,y:0,w:80,h:100},{x:640,y:0,w:80,h:100},{x:720,y:0,w:80,h:100}]}},controllerIdToConfigId:{PIXI_PARTICLES:"PIXI_PARTICLES"},controllers:{PIXI_PARTICLES:{plugins:{}}}}}(p,g,Z,k):function(p,g,m,Z,H){return"Big"===H?{systemSize:{width:p,height:g},fps:60,fixedDt:!1,randomSeed:"",blendMode:Bp.V.Default,controllerConfigs:{PIXI_PARTICLES:{autoStart:!1,loop:!1,explosiveness:!0,amount:250,emissionDelay:0,particlesPerWave:250,particle:{colors:{gradient:!1,mode:ag.F.OverLife,colors:["#67D411","#02AEE4","#C92EFF","#E40097"]},damping:1,gravityVector:[0,900],directionVector:[-20816681711721685e-33,20816681711721685e-33],spread:180,angularVelocity:{min:5,max:10,curve:[]},initialRotation:{min:0,max:6.283185307179586},opacity:{min:1,max:1,curve:[{point:[0,1],easing:"linear"},{point:[1,.8152173913043478],easing:"linear"}]},lifetime:{min:2,max:3},scale:{min:.228*m,max:.685*m,curve:[{point:[0,1],easing:"linear"},{point:[.3,.7],easing:"linear"},{point:[1,0],easing:"linear"}]},initialVelocity:{min:100*m,max:400*m},linearAcceleration:{min:86.623*m,max:369.094*m,curve:[{point:[0,1.8],easing:"linear"},{point:[.13,2],easing:"linear"},{point:[.52,1.5],easing:"linear"},{point:[.99,1.5],easing:"linear"}]},tangentialAcceleration:{min:0,max:0,curve:[]},radialAcceleration:{min:100,max:200,curve:[]}},emitter:{position:[.5,.5],type:"point"}}},graphicsConfig:{PIXI_PARTICLES:{textureId:Z,fps:10,randomFrameStart:!0,frames:[{x:0,y:0,w:80,h:100},{x:80,y:0,w:80,h:100},{x:160,y:0,w:80,h:100},{x:240,y:0,w:80,h:100},{x:320,y:0,w:80,h:100},{x:400,y:0,w:80,h:100},{x:480,y:0,w:80,h:100},{x:560,y:0,w:80,h:100},{x:640,y:0,w:80,h:100},{x:720,y:0,w:80,h:100}]}},controllerIdToConfigId:{PIXI_PARTICLES:"PIXI_PARTICLES"},controllers:{PIXI_PARTICLES:{plugins:{}}}}:{systemSize:{width:p,height:g},fps:60,fixedDt:!1,randomSeed:"",blendMode:Bp.V.Default,controllerConfigs:{PIXI_PARTICLES:{autoStart:!1,loop:!1,explosiveness:!0,amount:80,emissionDelay:0,particlesPerWave:100,particle:{colors:{gradient:!1,mode:ag.F.OverLife,colors:["#67D411","#02AEE4","#C92EFF","#E40097"]},damping:1,gravityVector:[0,800],directionVector:[-20816681711721685e-33,20816681711721685e-33],spread:180,angularVelocity:{min:5,max:10,curve:[]},initialRotation:{min:0,max:6.283185307179586},opacity:{min:1,max:1,curve:[{point:[0,1],easing:"linear"},{point:[1,.8152173913043478],easing:"linear"}]},lifetime:{min:2,max:2.5},scale:{min:.209*m,max:.627*m,curve:[{point:[0,1],easing:"linear"},{point:[.3,.7],easing:"linear"},{point:[1,0],easing:"linear"}]},initialVelocity:{min:50*m,max:350*m},linearAcceleration:{min:9.708*m,max:80.323*m,curve:[{point:[0,1.8],easing:"linear"},{point:[.17,2],easing:"linear"},{point:[.43,2],easing:"linear"},{point:[1,1],easing:"linear"}]},tangentialAcceleration:{min:0,max:0,curve:[]},radialAcceleration:{min:100,max:200,curve:[]}},emitter:{position:[.5,.5],type:"point"}}},graphicsConfig:{PIXI_PARTICLES:{textureId:Z,fps:10,randomFrameStart:!0,frames:[{x:0,y:0,w:80,h:100},{x:80,y:0,w:80,h:100},{x:160,y:0,w:80,h:100},{x:240,y:0,w:80,h:100},{x:320,y:0,w:80,h:100},{x:400,y:0,w:80,h:100},{x:480,y:0,w:80,h:100},{x:560,y:0,w:80,h:100},{x:640,y:0,w:80,h:100},{x:720,y:0,w:80,h:100}]}},controllerIdToConfigId:{PIXI_PARTICLES:"PIXI_PARTICLES"},controllers:{PIXI_PARTICLES:{plugins:{}}}}}(p,g,Z,k,t.celebrationType),S=function(p,g){return I.sP.add([{alias:g,src:Bm[p]}]),I.sP.load([g])}(H,k);let q;return S.then((p=>{q||(q=rp.spawnSystem({container:h,config:n,assets:{[k]:{type:Wp.b.PixiTexture,value:p[k]}},systemScale:1}))})),{container:h,trigger:()=>{S.then((()=>{null==q||q.reset(),null==q||q.start()}))},dispose:()=>{h.destroy(),null==q||q.dispose()}}}const am="data:image/webp;base64,UklGRhoBAABXRUJQVlA4WAoAAAAQAAAAGQAAGQAAQUxQSKIAAAABgGLb2rLlvs/v7u7u/qPJneZQ3b39EXeJ1kh0hsEISEyBKdj7ojkiJgB/NvsCMwmzRSFa1WvjYBrZGwJrG5ZwQJ2vWAl2uX87BW5Z3dx4yF7dqMn4AN/i3db1Y7NdLwCypofX52UfCSBPx8HL0/2AWgAj1XltcvBoNUpcQOOVtwpTy3idgku+0AsdAUp/SMETmVDjfUYc1OSFaHWQCVMQ/qFWUDggUgAAABAEAJ0BKhoAGgA+kTiXSSWjIiEwGAwAsBIJQBl0hwVNL8XhQpZuSoEAAP7w1J//gnf/4tw//8REYs/0YMId2//+JRqKv/+9B/KEkAW4xg5dmAA=";function Fm(p,g,m,Z,H){const t=new I.mcf;t.width=p,t.height=g;const h={systemSize:{width:p,height:g},fps:60,fixedDt:!1,randomSeed:"",blendMode:Bp.V.Default,controllerConfigs:{PIXI_PARTICLES:{autoStart:!1,loop:!0,explosiveness:!1,amount:50,emissionDelay:0,particlesPerWave:1,particle:{colors:{gradient:!1,mode:ag.F.Off,colors:[]},damping:1,gravityVector:[0,H*Z],directionVector:[0,H],spread:180,angularVelocity:{min:1,max:1,curve:[]},initialRotation:{min:0,max:2*Math.PI},opacity:{min:1,max:1,curve:[{point:[0,1],easing:"linear"},{point:[.9,1],easing:"linear"},{point:[1,0],easing:"linear"}]},lifetime:{min:1,max:1.8},scale:{min:.4*H,max:1.6*H,curve:[]},initialVelocity:{min:5*H,max:10*H},linearAcceleration:{min:0,max:0,curve:[]},tangentialAcceleration:{min:0,max:0,curve:[]},radialAcceleration:{min:0,max:0,curve:[]}},emitter:{position:[0,0],type:"rectangle",width:p,height:g}}},graphicsConfig:{PIXI_PARTICLES:{textureId:"spark",fps:60,randomFrameStart:!1,frames:[]}},controllerIdToConfigId:{PIXI_PARTICLES:"PIXI_PARTICLES"},controllers:{PIXI_PARTICLES:{plugins:{}}}},k=rp.spawnSystem({container:t,config:h,assets:{[h.graphicsConfig.PIXI_PARTICLES.textureId]:{type:Wp.b.PixiTexture,value:I.gPd.from(am)}},systemScale:1});return{container:t,setState(p){switch(p){case"on":k.controllers.forEach((p=>{p.config.loop=!0})),k.start();break;case"off":k.controllers.forEach((p=>{p.config.loop=!1}))}},dispose:()=>{k.dispose()}}}const Xm="varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform float glowPosition;uniform float rotation;float scaleInRange(float value,float fromMin,float fromMax,float toMin,float toMax){return(toMax-toMin)*(value-fromMin)/(fromMax-fromMin)+toMin;}void main(void){vec4 color=texture2D(uSampler,vTextureCoord);vec4 transparent=vec4(0.);vec4 lineColor=vec4(1.,1.,1.,0.4);float lineWidth=1.;float halfLineWidth=lineWidth*0.5;float currentGlowPositionY=scaleInRange(1.-glowPosition,0.,1.,-lineWidth,1.+lineWidth);float opacity=0.3;float line=smoothstep(currentGlowPositionY-halfLineWidth,currentGlowPositionY,vTextureCoord.x+rotation*vTextureCoord.y)*(1.-smoothstep(currentGlowPositionY,currentGlowPositionY+halfLineWidth,vTextureCoord.x+rotation*vTextureCoord.y))*(1.-smoothstep(0.,halfLineWidth,abs(vTextureCoord.x+rotation*vTextureCoord.y-currentGlowPositionY)));gl_FragColor=color+mix(transparent,lineColor*line*opacity,color.a);}",Km=_.$g,jm=9-2;class rm extends I.mcf{get value(){return this._value}constructor(p){super(),this.finishRibbon=new I.kxk,this.topUpValueCycleInterval=0,this.ticker=I.RvI.shared,this.winningAnimationTimeline=void 0,this.glowFilter=new jg.qx({color:16642220,distance:30,outerStrength:3,quality:.1,alpha:0}),this.shineTextFilter=new I.dJT(void 0,Xm,{glowPosition:0,rotation:Math.tan(-50*I.Tde)}),this.rotateLights=p=>{this.radialLight.rotation+=p/90},this.name="topMultiplier",this._value=0,this.color=p.color,this.assets=p.assets,this.app=p.app,this.animationTimings=p.gameView.animationTimings,this.randomFn=p.gameView.store.randomFn;const{columnWidth:g,multiplierFontSize:m}=p.gameView;this.setupRadialLight(g),this.setupTopMultiplier(m),this.setupTopFinishRibbon(g),this.layoutInnerText(),[this.sparksRising,this.sparksFalling]=this.setupSparks(),this.shineTextFilter.resolution=p.app.renderer.resolution,this.glowFilter.resolution=this.app.renderer.resolution,this.confetti=this.setupConfetti(this.color),this.reset()}showWinningAnimation(){var p;if(yp.I())return;null===(p=this.stopWinningAnimation)||void 0===p||p.call(this);const g=this.getWinningTimeline(),m=s({application:this.app,anim:g});this.stopWinningAnimation=()=>{g.fastForward(),m()},this.winningAnimationTimeline=g}onVisibilityChange(){var p;null===(p=this.winningAnimationTimeline)||void 0===p||p.fastForward()}updateValue(p,g,m,Z){var H;this._value=g;const t=Ug(g);if(yp.I()||(this.sparksRising.setState("both"===Z||"top"===Z?"on":"off"),this.sparksFalling.setState("both"===Z?"on":"off")),"instantly"===p)return this.text.text=t,this.text.visible=g>0,void(this.shineTextFilter.uniforms.glowPosition=0);null===(H=this.stopMultiplierIncreaseAnimation)||void 0===H||H.call(this);const h=s({application:this.app,anim:this.getMultiplierIncreaseAnimation(g,t,m,p)});this.stopMultiplierIncreaseAnimation=()=>{this.stopTopUpValueCycleAnimation(),h()}}fadeOutGlow(){var p;null===(p=this.stopTopUpFadeOutAnimation)||void 0===p||p.call(this);const g=s({application:this.app,anim:E.M(this.glowFilter).animateTo({alpha:0},this.animationTimings.bonusGameTopMultiplierGlowFadeAnimationDurationSec)});this.stopTopUpFadeOutAnimation=()=>{g(),this.stopMultiplierIncreaseAnimation=void 0}}onResize(){this.textRelContainer.onResize(),this.finishRibbonRelContainer.onResize(),this.sparksRising.relativeContainer.onResize(),this.sparksFalling.relativeContainer.onResize(),this.confetti.relativeContainer.onResize()}reset(){var p,g;this.glowFilter.alpha=0,null===(p=this.stopTopUpFadeOutAnimation)||void 0===p||p.call(this),null===(g=this.stopMultiplierIncreaseAnimation)||void 0===g||g.call(this),this.resetWinningAnimation(),this._value=0}dispose(){this.stopTopUpValueCycleAnimation(),this.sparksRising.dispose(),this.sparksFalling.dispose(),this.confetti.dispose(),this.reset()}resetWinningAnimation(){var p;null===(p=this.stopWinningAnimation)||void 0===p||p.call(this),this.finishRibbon.alpha=1,this.textRelContainer.relativeScale.set(1),this.sparksFalling.container.alpha=1,this.sparksRising.container.alpha=1,this.textRelContainer.alpha=1,this.shineTextFilter.uniforms.glowPosition=0}getWinningTimeline(){const{gameResultMultiplierDimDuration:p}=this.animationTimings,g=.5,m=.7;this.confetti.trigger();const Z=E.M(this.finishRibbon).animateTo({alpha:0},p),H=E.M(this.sparksFalling.container).animateTo({alpha:0},g,Km),t=E.M(this.sparksRising.container).animateTo({alpha:0},g,Km),h=E.M(this.textRelContainer.relativeScale).animateTo({x:1.3,y:1.3},g,Km),k=E.M(this.textRelContainer.relativeScale).animateTo({x:0,y:0},m,Km),n=E.M(this.textRelContainer).animateTo({alpha:0},m,Km),S=E.M(this.radialLightRelContainer.relativeScale).animateTo({x:1,y:1},g,Km),q=E.M(this.radialLightRelContainer.relativeScale).animateTo({x:0,y:0},m,Km),D=E.M(this.radialLight).delay(g).callback((()=>{this.ticker.add(this.rotateLights)})),I=E.M(this.shineTextFilter.uniforms).animateTo({glowPosition:1},this.animationTimings.bonusGameTopMultiplierShineAnimationDurationSec);return G.M().delay(this.animationTimings.gameResultMultiplierDimDelay).parallel([Z,t,H,h,S,D,I]).parallel([k,n,q]).callback((()=>{this.ticker.remove(this.rotateLights)}))}getMultiplierIncreaseAnimation(p,g,m,Z){return"withTopUpAnimation"===Z?m?this.getTopUpIncreaseAnimation(p,m):this.getTopUpAppearanceAnimation(p):this.getBonusRoundIncreaseAnimation(g,p,m)}startTopUpValueCycleAnimation(p,g=t.kz.scaleUpAnimationDurationSec){let m=0;const Z=Math.floor(pm.vO(g/p.length));this.topUpValueCycleInterval=window.setInterval((()=>{m!==p.length?(this.text.text=p[m],m++):this.stopTopUpValueCycleAnimation()}),Z)}stopTopUpValueCycleAnimation(){window.clearInterval(this.topUpValueCycleInterval)}getTopUpAppearanceAnimation(p){this.text.visible=!1;const{scaleUpAnimationDurationSec:g,scaleDownAnimationDurationSec:m,baseLetterSpacing:Z,appearance:{startLetterSpacing:H,middleLetterSpacing:h,relStartTextScale:k,relMiddleTextScale:n,relEndTextScale:S,relStartRibbonScale:q,relMiddleRibbonScale:D,relEndRibbonScale:I}}=t.kz,b=E.M(this.textRelContainer.position).callback((()=>{this.textRelContainer.position.x=-this.finishRibbon.width/5})).animateTo({x:0,y:0},g,Km),e=E.M(this.textRelContainer.relativeScale).callback((()=>{this.textRelContainer.relativeScale.set(k),this.text.visible=!0})).animateTo({x:n,y:n},g,Km).animateTo({x:S,y:S},m,Km),N=E.M(this.text).callback((()=>{this.text.letterSpacing=H})).animateTo({letterSpacing:h},.8*g,Km).delay(.2*g).animateTo({letterSpacing:Z},m,Km),d=E.M(this.finishRibbonRelContainer.relativeScale).callback((()=>{this.finishRibbonRelContainer.relativeScale.set(q)})).animateTo({x:D,y:D},g,Km).animateTo({x:I,y:I},m,Km);return G.M().callback((()=>{const g=function(p,g,m){const Z=1,H=Ug(p),t=p-Z;return["1",...Rg(p,Z,Math.min(t,m),g),H]}(p,this.randomFn,jm);this.text.text=g[0],this.startTopUpValueCycleAnimation(g)})).parallel([e,b,N,d])}getTopUpIncreaseAnimation(p,g){this.text.visible=!0;const{scaleUpAnimationDurationSec:m,scaleDownAnimationDurationSec:Z,baseLetterSpacing:H,increase:{middleLetterSpacing:h,relStartTextScale:k,relMiddleTextScale:n,relEndTextScale:S,relStartRibbonScale:q,relMiddleRibbonScale:D,relEndRibbonScale:I}}=t.kz,b=E.M(this.textRelContainer.relativeScale).callback((()=>{this.textRelContainer.relativeScale.set(k)})).animateTo({x:n,y:n},m,Km).animateTo({x:S,y:S},Z,Km),e=E.M(this.text).callback((()=>{this.text.letterSpacing=H})).animateTo({letterSpacing:h},m,Km).animateTo({letterSpacing:H},Z,Km),N=E.M(this.finishRibbonRelContainer.relativeScale).callback((()=>{this.finishRibbonRelContainer.relativeScale.set(q)})).animateTo({x:D,y:D},m,Km).animateTo({x:I,y:I},Z,Km);return G.M().callback((()=>{this.textRelContainer.position.x=0;const m=Cg(p,g,this.randomFn,jm);this.startTopUpValueCycleAnimation(m)})).parallel([b,e,N])}getBonusRoundIncreaseAnimation(p,g,m){const Z=[];if(m){const p=G.M().callback((()=>{const p=Cg(g,m,this.randomFn,jm);this.text.text=p[0],this.startTopUpValueCycleAnimation(p,this.animationTimings.bonusGameTopMultiplierIncreaseAnimationDurationSec)})).callback((()=>{this.stopMultiplierIncreaseAnimation=void 0}));Z.push(p)}else this.text.visible=!1,this.text.text=p,Z.push(E.M(this.text).delay(this.animationTimings.bonusGameMultiplierFadeOutTime).callback((()=>{this.text.visible=!0})));this.glowFilter.alpha=.8;const H=E.M(this.shineTextFilter.uniforms).callback((()=>{this.shineTextFilter.uniforms.glowPosition=0})).delay(this.animationTimings.bonusGameTopMultiplierShineAnimationDelaySec).animateTo({glowPosition:1},this.animationTimings.bonusGameTopMultiplierShineAnimationDurationSec).callback((()=>{this.shineTextFilter.uniforms.glowPosition=0}));return G.M().parallel(Z).sequence(H)}setupTopFinishRibbon(p){this.finishRibbon.name="finishRibbon",this.finishRibbon.texture=this.assets[`finishRibbon${this.color}`];const g=pp(this.finishRibbon);this.finishRibbon.width=p*i,this.finishRibbon.height=this.finishRibbon.width/g,this.finishRibbon.anchor.set(Q,$),this.finishRibbon.position.y=tp({columnWidth:p}),this.finishRibbonRelContainer=gp(this.finishRibbon,this.app),this.finishRibbonRelContainer.setScaleMode(x.X),this.addChild(this.finishRibbonRelContainer)}createMultiplierBitmapText(p){const g={fontName:this.assets.multiplierFont.font,fontSize:p,letterSpacing:this.assets.config.MULTIPLIER_FONT_LETTER_SPACING},m=new I.T7$("",g);return m.visible=!1,m}setupRadialLight(p){this.radialLight=I.kxk.from(this.assets.radialLight),this.radialLight.name="radialLight",this.radialLight.width=p,this.radialLight.height=this.radialLight.width,this.radialLight.anchor.set(.5),this.radialLightRelContainer=gp(this.radialLight,this.app),this.radialLightRelContainer.setScaleMode(x.X),this.radialLightRelContainer.relativeScale.set(0),this.addChild(this.radialLightRelContainer)}setupTopMultiplier(p){this.text=this.createMultiplierBitmapText(p),this.text.name="topMultiplierText",this.textRelContainer=gp(this.text,this.app),this.textRelContainer.setScaleMode(x.X),this.text.filters=[this.glowFilter,this.shineTextFilter],this.addChild(this.textRelContainer)}layoutInnerText(){this.text.position.x=0,this.text.anchor.set(Q)}setupSparks(){this.app.renderer.resolution;const{width:p,height:g}=this.finishRibbonRelContainer,m=.004*p,Z=Fm(p,0,0,-100,m),H=Fm(p,0,0,50,m);Z.container.position.set(this.finishRibbon.position.x,this.finishRibbon.position.y-.5*g),H.container.position.set(this.finishRibbon.position.x,this.finishRibbon.position.y-.5*g);const t=gp(Z.container,this.app),h=gp(H.container,this.app);return this.addChild(t),this.addChild(h),[{...Z,relativeContainer:t},{...H,relativeContainer:h}]}setupConfetti(p){this.app.renderer.resolution;const{width:g,height:m}=this.finishRibbonRelContainer,Z=um(0,.5*-m,0,.0037*g,p,{type:"topMultiplier"});Z.container.position.set(this.position.x,this.position.y);const H=gp(Z.container,this.app);return this.addChildAt(H,0),{...Z,relativeContainer:H}}}class Um extends I.mcf{constructor(p,g,m,Z){super(),this.store=p,this.app=g,this.assets=m,this.gameView=Z,this.multipliers=[],this.multipliersGroup=new Pm,this.stopDimLosingMultipliersAnimation=void 0,this.name="FinishContainer",this.setupTopMultipliers()}dispose(){this.destroy()}onVisibilityChange(){this.multipliers.forEach((p=>p.onVisibilityChange()))}onResize(){this.multipliers.forEach((p=>p.onResize())),this.layoutMultipliers()}toQualifying(){var p;return null===(p=this.stopDimLosingMultipliersAnimation)||void 0===p||p.call(this),G.M().callback((()=>this.toQualifyingInit()))}toQualifyingInit(){this.visible=!1,this.fadeOutFlags(),this.resetMultipliers()}transitionToQualified(){this.visible=!0,this.showMultipliers("instantly"),this.fadeInFlags()}toQualifiedInit(){this.visible=!0,this.showMultipliers("instantly"),this.fadeInFlags()}toBonusRound(){this.visible=!0,this.fadeInFlags();const p=this.gameView.animationTimings;return G.M().delay(function(p){return Jp(p)+p.bonusGameMultipliersFlyTime-p.bonusGameMultiplierFadeOutTime}(p)).callback((()=>{this.showMultipliers("withBonusGameAnimation")}))}toBonusRoundInit(){this.visible=!0,this.showMultipliers("instantly"),this.fadeInFlags()}toDrawBallStarted(){for(const p of this.multipliers)p.fadeOutGlow()}showGameResultAnimation(p){const{gameResultMultiplierDimDelay:g,gameResultMultiplierDimDuration:m,gameResultPauseBeforeWinningResultShow:Z}=this.gameView.animationTimings;this.showMultipliers("instantly"),this.fadeInFlags(!0);const H=this.multipliers.reduce(((g,Z)=>(Z.color!==p?g.push(E.M(Z).animateTo({alpha:0},yp.I()?0:m)):Z.showWinningAnimation(),g)),[]),t=G.M().delay(yp.I()?0:g).parallel(H).delay(yp.I()?0:Z);return this.stopDimLosingMultipliersAnimation=s({anim:t,application:this.app}),t}fadeInFlags(p=!1){if(yp.I()||p)return void this.multipliers.forEach((p=>{p.alpha=1}));const g=this.multipliers.map((p=>E.M(p).animateTo({alpha:1},this.gameView.animationTimings.flagFadeInDuration)));s({anim:G.M().parallel(g),application:this.app})}resetMultipliers(){this.multipliers.forEach((p=>{p.updateValue("instantly",0,0,"none"),p.reset()}))}fadeOutFlags(){const p=this.multipliers.map((p=>E.M(p).animateTo({alpha:0},this.gameView.animationTimings.bonusRoundEndFadeOutDurationSec)));s({anim:G.M().parallel(p).callback((()=>{this.visible=!1})),application:this.app})}setupTopMultipliers(){const p={assets:this.assets,app:this.app,gameView:this.gameView};this.multipliersAtColor={R:new rm({color:"R",...p}),G:new rm({color:"G",...p}),P:new rm({color:"P",...p}),Y:new rm({color:"Y",...p})},this.multipliers=wp.lm.map((p=>this.multipliersAtColor[p])),this.multipliers.forEach((p=>{p.alpha=0,this.addChild(p),p.parentGroup=this.multipliersGroup})),this.layoutMultipliers()}showMultipliers(p){const g=this.store.gameStore.totalMultipliers,m=Math.max(...Object.values(g||{}));wp.lm.forEach((Z=>{const H=(null==g?void 0:g[Z])||0,t=this.multipliersAtColor[Z];t.updateValue(p,H,t.value,H<this.store.settings.multiplierSparksFrom?"none":H===m?"both":"top")}))}getY(){const{height:p}=this.app.view;return Hp(p,{platform:this.store.ag.platform,gameDimensions:this.store.ag.gameDimensions,videoAspectRatio:this.store.video.aspectRatio,videoTopOverflow:this.store.video.topOverflow})}layoutMultipliers(){const p=this.getY();this.multipliers.forEach(((g,m)=>{g.position.x=this.gameView.leftMostColumnX+mp(m,this.gameView),g.position.y=p}))}}class Cm extends I.mcf{constructor(p){super(),this.config=p,p.layers.forEach((p=>{"text"===p.type&&this.drawTextLayer(p),"outline"===p.type&&this.drawOutlineLayer(p)}))}get text(){return this.config.text}drawTextLayer(p){var g,m,Z,H,t,h,k;const n=new I.EYj(this.config.text,{fontSize:this.config.fontSize,fontWeight:this.config.fontWeight,fontFamily:this.config.fontFamily,fill:null!==(g=p.fill)&&void 0!==g?g:0,fillGradientStops:null!==(m=p.fillGradientStops)&&void 0!==m?m:[],fillGradientType:null!==(Z=p.fillGradientType)&&void 0!==Z?Z:I.Ta0.LINEAR_VERTICAL,stroke:null!==(H=p.stroke)&&void 0!==H?H:0,strokeThickness:(null!==(t=p.strokeThickness)&&void 0!==t?t:0)*this.config.fontSize,lineJoin:null!==(h=p.lineJoin)&&void 0!==h?h:"miter",letterSpacing:null!==(k=this.config.letterSpacing)&&void 0!==k?k:0,trim:this.config.trim});n.anchor.set(.5),this.addChild(n),p.offset&&(n.x=p.offset[0]*this.config.fontSize,n.y=p.offset[1]*this.config.fontSize)}drawOutlineLayer(p){var g,m;const Z=this.createOutline({thickness:p.thickness,texture:p.texture,isRound:"round"===p.lineJoin,fontSize:this.config.fontSize,text:this.config.text,fontFamily:null!==(g=this.config.fontFamily)&&void 0!==g?g:"",fontWeight:null!==(m=this.config.fontWeight)&&void 0!==m?m:"normal",fill:p.fill,trim:this.config.trim});this.addChild(Z),p.offset&&(Z.x=p.offset[0]*this.config.fontSize,Z.y=p.offset[1]*this.config.fontSize)}createOutline(p){var g;const m=p.thickness*p.fontSize,Z=new I.EYj(p.text,{fontFamily:p.fontFamily,fontSize:p.fontSize,fontWeight:p.fontWeight,fill:p.fill?16777215:0,stroke:16777215,strokeThickness:m,lineJoin:p.isRound?"round":"miter",letterSpacing:null!==(g=this.config.letterSpacing)&&void 0!==g?g:0,trim:p.trim});Z.calculateBounds();const H=new I.kxk(p.texture);H.mask=Z,H.height=Z.height,H.width=Z.width,Z.anchor.set(.5),H.anchor.set(.5);const t=new I.mcf;return t.width=Z.width,t.height=Z.height,t.name=`outline_${p.thickness}`,t.addChild(Z),t.addChild(H),t}}const xm=[{type:"text",fill:14729121,stroke:14729121,strokeThickness:.05,offset:[0,.1],lineJoin:"round"},{type:"outline",thickness:.075,texture:Zg(["#3FBAFF","#2C6E93"],[0,.75]),lineJoin:"round",fill:!0,offset:[0,0]},{type:"text",fill:[9162996,1868204],fillGradientStops:[.2,1],lineJoin:"miter"}];var Rm=m(278982);class cm extends I.mcf{constructor(p){super(),this.assets=p,this.balloon=I.kxk.from(this.assets[S.U3.BalloonY]),this.name="WinMessageBalloon",this.balloon.anchor.set(.5,1),this.addChild(this.balloon)}get showTween(){const p=G.M();if(yp.I())return p;const g=()=>E.M(this.balloon.scale).animateTo({x:1.1,y:1.1},.2,Rm.JW).animateTo({x:1,y:1},.2,Rm.JW),m=()=>E.M(this.balloon.position).animateTo({y:.05*-this.balloon.height},.2,Rm.JW).animateTo({y:0},.1,Rm.JW);return p.parallel([g(),m()]).parallel([g(),m()])}setColor(p){const g=S.U3[`Balloon${p}`];this.balloon.texture=this.assets[g]}}class Om extends I.mcf{constructor(p){super(),this.assets=p,this.ribbon=I.kxk.from(this.assets[S.U3.WinRibbonY]),this.name="GameResultRibbon",this.ribbon.anchor.set(.5,1),this.addChild(this.ribbon)}get showTween(){const p=G.M();if(yp.I())return p;const g=E.M(this.ribbon.scale).animateTo({x:.95,y:.95},.2,Rm.JW).animateTo({x:1,y:1},.2,Rm.JW);return p.sequence(g)}setColor(p){const g=S.U3[`WinRibbon${p}`];this.ribbon.texture=this.assets[g]}}class fm extends I.mcf{constructor(p){super(),this.assets=p,this.radialLightOval=I.kxk.from(this.assets[S.U3.RadialLightOval]),this.radialLightOval.name="RadialLightOval",this.radialLightOval.anchor.set(.5,1),this.addChild(this.radialLightOval)}get showTween(){const p=G.M();if(yp.I())return p;this.radialLightOval.scale.set(.01);const g=E.M(this.radialLightOval.scale).animateTo({x:1.1,y:1.1},.4,Rm.JW).animateTo({x:1,y:1},.2,Rm.JW);return p.sequence(g)}}const _m=Zg(["#FFCA93","#00A0FA"],[.195,1]),Em=[{type:"text",fill:14266507,stroke:14266507,strokeThickness:.13,offset:[.035,.15],lineJoin:"round"},{type:"text",fill:341595,stroke:341595,strokeThickness:.13,offset:[.035,.09],lineJoin:"round"},{type:"text",fill:20090,stroke:341595,strokeThickness:.12,offset:[.02,.0375],lineJoin:"round"},{type:"text",fill:20090,stroke:20090,strokeThickness:.12,offset:[.03,.085],lineJoin:"round"},{type:"text",fill:27796,stroke:27796,strokeThickness:.11,offset:[.02,.0375],lineJoin:"round"},{type:"text",fill:27796,stroke:27796,strokeThickness:.1,offset:[.02,.0412],lineJoin:"round"},{type:"text",fill:37304,stroke:37304,strokeThickness:.1,offset:[.015,.034],lineJoin:"round"},{type:"text",stroke:37831,strokeThickness:.1,offset:[.005,.0212],lineJoin:"round"},{type:"text",fill:[37831],stroke:37831,strokeThickness:.085,offset:[.005,.0212],lineJoin:"round"},{type:"text",fill:[19041],stroke:19041,strokeThickness:.065,offset:[.005,.0212],lineJoin:"round"},{type:"outline",offset:[.005,.0212],thickness:.04,texture:Zg(["#CC845A","#006DBC"],[.16,1]),lineJoin:"round"},{type:"outline",offset:[.005,.0075],thickness:.015,texture:_m,lineJoin:"round"},{type:"text",fill:[16777215],offset:[.005,.0075],lineJoin:"round"},{type:"text",fill:[16775407,16772045,8442367],fillGradientStops:[.25,.5,.7],lineJoin:"miter"}];class Gm extends I.mcf{constructor(p){super(),this.assets=p,this.name="WinAmount"}get showTween(){const p=G.M();if(yp.I())return p;if(void 0===this.winAmount)return p;const g=E.M(this.winAmount.scale).animateTo({x:1.1,y:1.1},.2,Rm.JW).animateTo({x:1,y:1},.1,Rm.JW);return p.sequence(g)}setWinAmount(p){this.winAmount&&(this.winAmount.destroy(),this.removeChild(this.winAmount));const g={fontSize:60,letterSpacing:5,fontFamily:S.Tx(this.assets[S.U3.WinAmountFont]),fontWeight:"normal",layers:Em};this.winAmount=new Cm({text:`${p}`,...g}),this.addChild(this.winAmount)}}class Mm extends I.mcf{constructor(p){super(),this.assets=p,this.name="WinMessageTotalMultiplier"}get showTween(){var p;const g=G.M();if(yp.I())return g;this.alpha=0;const m=[E.M(this).animateTo({alpha:1},.2,Rm.JW)];if(this.multiplier){const g=E.M(this.multiplier.scale).animateTo({x:1.1,y:1.1},.2,Rm.JW).animateTo({x:1,y:1},.2,Rm.JW),Z=null!==(p=this.multiplier.height)&&void 0!==p?p:0,H=E.M(this.multiplier.position).animateTo({y:.05*-Z},.2,Rm.JW).animateTo({y:0},.1,Rm.JW);m.push(g),m.push(H)}return g.parallel(m)}setTotalMultiplier(p){this.multiplier&&(this.multiplier.destroy(),this.removeChild(this.multiplier)),this.multiplier=new I.T7$(`${p}`,{fontName:this.assets.multiplierFont.font,fontSize:50,letterSpacing:this.assets.config.MULTIPLIER_FONT_LETTER_SPACING}),this.multiplier.anchor.set(.5),this.addChild(this.multiplier)}}var sm=m(587698),Tm=m(346160),lm=m(981298);const Am={[b.OD.Desktop]:{x:.5,y:.4},[b.OD.Tablet]:{x:.5,y:.35},[b.OD.Phone]:{x:.5,y:.3}}[f.DS.PLATFORM],Lm={[b.OD.Desktop]:1,[b.OD.Tablet]:1.2,[b.OD.Phone]:1.5};class om extends R{constructor(p,g,m,Z,H){super(g),this.gameView=p,this.app=g,this.assets=m,this.currencySymbol=Z,this.deviceStore=H,this.name="GameResult",this.container=this.addChild(new I.mcf),this.container.name="GameResultContainer",this.confettiParentContainer=this.container.addChild(new I.mcf),this.confettiParentContainer.name="ConfettiParent",this.radialLightOval=this.container.addChild(this.setupRadialLightOval()),this.shadow=this.container.addChild(this.setupShadow()),this.winBackGround=this.container.addChild(this.setupBackGround()),this.ribbon=this.container.addChild(this.setupRibbon()),this.balloon=this.container.addChild(this.setupBalloon()),this.winMessageBalloonGradient=this.container.addChild(this.setupWinMessageBalloonGradient()),this.winAmountText=this.container.addChild(this.setupWinAmountText()),this.youWinText=this.container.addChild(this.setupYouWinText()),this.totalMultiplier=this.container.addChild(this.setupTotalMultiplier()),this.alpha=0,this.visible=!1,this.relativePosition.set(Am.x,Am.y),this.setScaleMode(x.X),this.layoutElements();const{isDesktop:t,isPhone:h}=this.deviceStore,k=t?g.view.width/e[b.OD.Desktop]:h?1:1.4;this.container.scale.set(k),this.sparklesParentContainer=this.container.addChild(new I.mcf),this.sparklesParentContainer.name="SparklesParent"}show(p,g,m,Z){if(this.ribbon.setColor(p),this.balloon.setColor(p),this.winAmountText.setWinAmount(sm.ej(g,{currencySymbol:this.currencySymbol,maximumDecimalCount:2,padWithZeros:"always"})),this.fitWinAmountToContainer(),this.totalMultiplier.setTotalMultiplier(`${m}x`),yp.I())return this.alpha=1,void(this.visible=!0);this.reset();const{sparkleSprites:H,sparklesTimeline:t}=this.setupSparkles();this.sparklesParentContainer.addChild(...H);const h=G.M().callback((()=>{const m=cp.NL(g,Z);this.visible=!0,this.alpha=0,m!==lm.R.None&&m!==lm.R.Small&&(this.confetti=this.setupConfetti(p,m),this.confettiParentContainer.addChild(this.confetti.container),this.confetti.trigger())})).sequence(E.M(this).animateTo({alpha:1},this.gameView.animationTimings.bonusRoundEndFadeOutDurationSec)).parallel([t,this.radialLightOval.showTween,this.balloon.showTween,this.ribbon.showTween,this.winAmountText.showTween,this.totalMultiplier.showTween]).callback((()=>{this.reset()}));this.stopAnimation=s({anim:h,application:this.app})}hide(){var p;if(yp.I())return void(this.visible=!1);const g=G.M().sequence(E.M(this).animateTo({alpha:0},this.gameView.animationTimings.bonusRoundEndFadeOutDurationSec)).callback((()=>{this.visible=!1}));null===(p=this.stopAnimation)||void 0===p||p.call(this),this.stopAnimation=s({anim:g,application:this.app})}dispose(){this.reset(),this.destroy({children:!0})}reset(){var p,g;null===(p=this.stopAnimation)||void 0===p||p.call(this),null===(g=this.confetti)||void 0===g||g.dispose(),this.confetti=void 0,this.sparklesParentContainer.removeChildren().forEach((p=>p.destroy()))}setupBalloon(){return new cm(this.assets)}setupWinMessageBalloonGradient(){const p=I.kxk.from(this.assets[S.U3.WinMessageBalloonGradient]);return p.name="WinMessageBalloonGradient",p.anchor.set(.5,1),p}setupShadow(){const p=I.kxk.from(this.assets[S.U3.WinMessageShadow]);return p.anchor.set(.5),p.name="BgShadow",p}setupBackGround(){const p=I.kxk.from(this.assets[S.U3.WinBg]);return p.anchor.set(.5,0),p.name="WinBackGround",p}setupRadialLightOval(){return new fm(this.assets)}setupRibbon(){return new Om(this.assets)}setupWinAmountText(){return new Gm(this.assets)}setupTotalMultiplier(){return new Mm(this.assets)}setupYouWinText(){const p=new I.mcf,g=Tm.Tl(ig.R1.YouWin),m=new Cm({text:g,fontWeight:"500",fontFamily:"Inter",layers:xm,fontSize:this.assets.config.YOU_WIN_FONT_SIZE,letterSpacing:1});return p.addChild(m),this.addChild(p),p}fitWinAmountToContainer(){const p=.9*this.winBackGround.width;if(this.winAmountText.width>p){const g=p/this.winAmountText.width;this.winAmountText.scale.set(g)}}layoutElements(){this.balloon.y=.35*this.balloon.height,this.ribbon.y=.75*this.ribbon.height,this.radialLightOval.y=.35*this.radialLightOval.height,this.winMessageBalloonGradient.y=this.balloon.y,this.youWinText.y=.37*this.winBackGround.height,this.winAmountText.y=.6*this.winBackGround.height,this.totalMultiplier.y=this.balloon.y-.6*this.balloon.height,this.shadow.y=this.winBackGround.height/2}setupConfetti(p,g){this.app.renderer.resolution;const{width:m,height:Z}=this,H=Lm[this.deviceStore.platform],t=um(m,Z,0,m/N[g]*H,p,{type:"gameResult",celebrationType:g});return t.container.name="ConfettiContainer",t.container.position.set(m*-Q,Z*-Q),{...t}}setupSparkles(){const p=[{id:0,relX:.25,relY:-.5,relDelay:0,isBig:!0,relTarget:this.balloon},{id:1,relX:.45,relY:.4,relDelay:.25,isBig:!0,relTarget:this.winBackGround},{id:2,relX:-.45,relY:.7,relDelay:.5,isBig:!1,relTarget:this.winBackGround},{id:3,relX:.3,relY:.7,relDelay:.75,isBig:!0,relTarget:this.winBackGround},{id:4,relX:.35,relY:.1,relDelay:.85,isBig:!1,relTarget:this.winBackGround},{id:5,relX:.15,relY:.1,relDelay:.95,isBig:!0,relTarget:this.winBackGround},{id:6,relX:-.45,relY:.2,relDelay:1.05,isBig:!1,relTarget:this.winBackGround},{id:7,relX:.25,relY:-.5,relDelay:2,isBig:!1,relTarget:this.balloon},{id:8,relX:.05,relY:.81,relDelay:2,isBig:!1,relTarget:this.winBackGround},{id:9,relX:-.05,relY:.25,relDelay:2,isBig:!1,relTarget:this.winBackGround},{id:10,relX:-.35,relY:.9,relDelay:2,isBig:!0,relTarget:this.winBackGround},{id:11,relX:-.45,relY:.2,relDelay:3,isBig:!0,relTarget:this.winBackGround}].map((({isBig:p,relX:g,relY:m,relDelay:Z,relTarget:H})=>{const h=new Ng({sparkleAsset:this.assets[S.U3.ParticleSparkle],symbolSize:this.gameView.slot.symbolSize*(p?.6:.5),timings:t.Ad,animationRotationAngle:360});return h.setPosition(g*H.width,m*H.height),{sprite:h.sprite,delay:Z*t.Ad.sparkleParticleAnimationDuration,animationTimeline:h.animationTimeline}})),g=p.map((({delay:p,animationTimeline:g})=>G.M().delay(p).sequence(g)));return{sparkleSprites:p.map((p=>p.sprite)),sparklesTimeline:G.M().parallel(g)}}}class pZ extends R{constructor(p){super(p.gameView.app),this.props=p,this.radialGradients=[];const g=kp(this.props.device);this.relativePosition.set(g,1),this.radialGradientXXXtreme=this.setupRadialGradient(Zm.XXXtreme),this.radialGradientSuperXXXtreme=this.setupRadialGradient(Zm.SuperXXXtreme),this.radialGradients=[this.radialGradientXXXtreme,this.radialGradientSuperXXXtreme],this.addChild(this.radialGradientXXXtreme),this.addChild(this.radialGradientSuperXXXtreme),this.layout()}setPromo(p){this.radialGradients.forEach((g=>{g.visible=g.name===p}))}toQualifyingInit(){this.alpha=1}toQualifying(){return G.M().sequence(l(this,1,this.props.gameView.animationTimings.slotFadeinDurationSec))}toQualifiedInit(){this.alpha=0}toQualified(){return G.M().sequence(l(this,0,this.props.gameView.animationTimings.slotFadeoutDurationSec,_.sn))}toBonusRoundInit(){this.alpha=0}toBonusRound(){return G.M().callback((()=>{this.alpha=0}))}toResolvedInit(){this.alpha=0}setupRadialGradient(p){const g=r[f.DS.PLATFORM],m=document.createElement("canvas"),Z=this.props.device.isPhone?this.props.gameView.app.view.width:this.props.gameView.slot.slotWidth;m.width=Z*(g.width/g.slot.width),m.height=Z*(g.height/g.slot.height);const H=Dp(g,m),t=m.getContext("2d");t.translate(H.translate.x,H.translate.y),t.scale(H.scale.y/H.scale.x,1);const h=m.width/15,k=.8*H.scale.x,n=t.createRadialGradient(0,0,h,0,0,k);switch(p){case Zm.XXXtreme:n.addColorStop(.17,"rgba(252, 186, 108, 0.64)"),n.addColorStop(1,"rgba(255, 97, 47, 0)");break;case Zm.SuperXXXtreme:n.addColorStop(.17,"rgba(255, 97, 47, 0.64)"),n.addColorStop(1,"rgba(255, 97, 47, 0)")}t.fillStyle=n,t.beginPath(),t.arc(0,0,H.scale.x,0,2*Math.PI),t.fill();const S=new I.kxk(I.gPd.from(m));return S.name=p,S.visible=!1,S}layout(){this.radialGradients.forEach((p=>{p.anchor.set(.5,1)}))}}var gZ=m(654560);const[mZ,ZZ]=[0,c.z+1];class HZ extends gZ.X3{constructor(p){const{slotContainer:g,pool:m,reelConfiguration:Z,reelIndex:H}=p;super(m,Z),this.props=p,this.hasWild=!1,this._isNearWin=!1,this._container=new I.mcf,this._container.sortableChildren=!0,this._container.name=`GameReelContainer_${H}`,g.addChild(this._container),this.playFloatAnimation()}playFloatAnimation(){if(yp.I()||this.floatAnimationTimeoutId)return;const p=E.M(this._container).animateTo({y:6},1,_.WD).delay(.1).animateTo({y:-6},2,_.dV).delay(.1).animateTo({y:0},1,_.Do);this.floatAnimation=p,this.floatAnimationTimeoutId=window.setTimeout((()=>{this.disposeFloatAnimation=s({application:this.props.slotContainer.app,anim:p,repeat:Number.MAX_VALUE})}),200*this.props.reelIndex)}stopFloatAnimation(){var p,g;window.clearTimeout(this.floatAnimationTimeoutId),null===(p=this.floatAnimation)||void 0===p||p.fastForward(),null===(g=this.disposeFloatAnimation)||void 0===g||g.call(this),this.floatAnimationTimeoutId=void 0}getBufferSymbols(){return[this.getSymbol(mZ,gZ.nU.Absolute),this.getSymbol(ZZ,gZ.nU.Absolute)]}makeBufferSymbolsInvisible(){this.getBufferSymbols().forEach((p=>p.makeInvisible()))}makeBufferSymbolsVisible(){this.getBufferSymbols().forEach((p=>p.makeVisible()))}setHasWild(p){this.hasWild=cp.gl(p)}get isNearWin(){return this._isNearWin}set isNearWin(p){this._isNearWin=p}layoutOutcomeSymbols(){for(let p=0;p<c.z+c.QR;p++){const g=this.getSymbol(p,gZ.nU.Absolute);null==g||g.layout()}}initializeSymbol(p){this._container.addChild(p.container),p.container.zIndex=p.isWild?2:1}get container(){return this._container}}var tZ=m(746380),hZ=m(663062);class kZ{constructor(p){this.reels=[],this.outcome=[],this.outcomeDimensions=[],this._onReelStartSequenceBegin=tZ.lQ,this._onReelStartSequenceEnd=tZ.lQ,this._onReelStopSequenceBegin=tZ.lQ,this._onReelStopSequenceEnd=tZ.lQ,this._onReelStopBounceBegin=tZ.lQ,this._onReelStopBounceEnd=tZ.lQ,this.onStartSequenceBegin=tZ.lQ,this.onStartSequenceEnd=tZ.lQ,this.onStopSequenceBegin=tZ.lQ,this.onStopSequenceEnd=tZ.lQ,this.reelsToExclude=[],this.reelsToTimestep=[],this.name=p}addReel(p){p.id=this.reels.length,this.reels.push(p),p.onStartSequenceBegin=this._onReelStartSequenceBegin,p.onStartSequenceEnd=this._onReelStartSequenceEnd,p.onStopSequenceBegin=this._onReelStopSequenceBegin,p.onStopSequenceEnd=this._onReelStopSequenceEnd,p.onStopBounceBegin=this._onReelStopBounceBegin,p.onStopBounceEnd=this._onReelStopBounceEnd}popReel(){const p=this.reels.pop();if(void 0!==p){const g=this.reelsToTimestep.indexOf(p);g>-1&&this.reelsToTimestep.splice(g,1),p.clear()}return p}removeReel(p){if(p>=this.reels.length||p<0)return;const g=this.reelsToTimestep.indexOf(this.reels[p]);g>-1&&this.reelsToTimestep.splice(g,1);const m=this.reels[p];m.clear(),this.reels.splice(p,1);for(let g=p;g<this.reels.length;++g){const p=this.reels[g];p.id=g,p.updateSymbolLandingPositions()}return m}excludeReels(...p){this.reelsToExclude=[...p]}async startSpin(...p){this.onStartSequenceBegin();const g=[],m=this.reels;for(let Z=0;Z<m.length;++Z)this.reelsToExclude.includes(Z)||(m[Z].setStartDelay(Number.isNaN(Number(p[Z]))?m[Z].startDelay:p[Z]),this.reelsToTimestep.push(m[Z]),g.push(m[Z].startSpin()));await Promise.all(g),this.onStartSequenceEnd()}async stopSpin(...p){this.onStopSequenceBegin();const g=[],m=this.reels;for(let Z=0;Z<m.length;++Z)if(!this.reelsToExclude.includes(Z))if(tZ.yL(p[Z]))g.push(m[Z].stopSpin(p[Z]));else{const H="number"==typeof p[Z];m[Z].setStopDelay(H?p[Z]:m[Z].stopDelay),g.push(m[Z].stopSpin())}await Promise.all(g),this.onStopSequenceEnd(),this.reelsToExclude=[],this.reelsToTimestep=[]}timestep(p){for(let g=0;g<this.reelsToTimestep.length;g++)this.reelsToTimestep[g].timeStep(p)}clear(p=!1,g=!0){for(const g of this.reels)g.clear(p);p&&this.onDispose(),g&&(this.reels.length=0)}onDispose(){}presentOutcome(){for(let p=0;p<this.reels.length;p++)this.reels[p].presentOutcome()}setOutcome(p,g){if(p.length!==this.reelCount)throw new RangeError(`The provided outcome length must be ${this.reelCount}. Actual value is ${p.length}.`);let m=null==g?void 0:g.dimensions;const Z=null==g?void 0:g.colossalSymbolFeature;if(Z){void 0!==m&&0!==m.length||(m=this.createDefaultDimensions(p));const{colossalSymbols:g,synchronizeReels:H}=Z;this.handleColossalDimensions(m,g),H&&this.synchronizeColossalReels(g)}this.outcome=p,this.outcomeDimensions=null!=m?m:[];for(let g=0;g<this.reelCount;++g){if(0===p[g].length)throw new RangeError(`There is no outcome to set for reel: '${g}`);this.reels[g].setOutcome(p[g],this.outcomeDimensions.length>0?this.outcomeDimensions[g]:[])}}setSymbol(p,g,m=gZ.nU.Visible,Z){return this.reels[g.reelIndex].setSymbol(p,g.symbolIndex,m,Z)}setSymbolByID(p,g,m=gZ.nU.Visible,Z){return this.reels[g.reelIndex].setSymbolByID(p,g.symbolIndex,m,{dimensions:Z})}swapSymbol(p,g,m=gZ.nU.Visible,Z){return this.reels[g.reelIndex].swapSymbol(p,g.symbolIndex,m,Z)}getSymbol(p,g=gZ.nU.Visible){return this.reels[p.reelIndex].getSymbol(p.symbolIndex,g)}forgetSymbol(p,g=gZ.nU.Visible){return this.reels[p.reelIndex].forgetSymbol(p.symbolIndex,g)}printState(){console.log("Printing state for reelset:");for(let p=0;p<this.reels.length;p++)this.reels[p].printState()}get reelCount(){return this.reels.length}getReel(p){return this.reels[p]}setSpinMode(p){for(let g=0;g<this.reels.length;g++)this.reels[g].currentSpinMechanic.spinMode=p}setSpinModeForReel(p,g){this.reels[g].currentSpinMechanic.spinMode=p}setReelStripsSymbols(p){if(p.length!==this.reelCount)throw new RangeError(`The provided reel strips length must be ${this.reelCount}`);for(let g=0;g<p.length;g++)this.setReelStripSymbolsForReel(p[g],g)}setReelStripSymbolsForReel(p,g){const m=this.reels[g];m.isMaster&&m.reelStrip.setSymbols(p)}setReelStripsDimensions(p){if(p.length!==this.reelCount&&p.length>0)throw new RangeError(`The provided reel strips length must be ${this.reelCount}, or 0 if the reel is supposed to have homogenous dimensions.`);for(let g=0;g<p.length;g++)this.setReelStripDimensionsForReel(p[g],g)}setReelStripDimensionsForReel(p,g){const m=this.reels[g];m.isMaster&&m.reelStrip.setDimensions(p)}set onReelStartSequenceBegin(p){this._onReelStartSequenceBegin=p;for(let p=0;p<this.reelCount;++p)this.reels[p].onStartSequenceBegin=this._onReelStartSequenceBegin}get onReelStartSequenceBegin(){return this._onReelStartSequenceBegin}set onReelStartSequenceEnd(p){this._onReelStartSequenceEnd=p;for(let p=0;p<this.reelCount;++p)this.reels[p].onStartSequenceEnd=this._onReelStartSequenceEnd}get onReelStartSequenceEnd(){return this._onReelStartSequenceEnd}set onReelStopSequenceBegin(p){this._onReelStopSequenceBegin=p;for(let p=0;p<this.reelCount;++p)this.reels[p].onStopSequenceBegin=this._onReelStopSequenceBegin}get onReelStopSequenceBegin(){return this._onReelStopSequenceBegin}set onReelStopSequenceEnd(p){this._onReelStopSequenceEnd=p;for(let p=0;p<this.reelCount;++p)this.reels[p].onStopSequenceEnd=this.onReelStopSequenceEnd}get onReelStopSequenceEnd(){return this._onReelStopSequenceEnd}set onReelStopBounceBegin(p){this._onReelStopBounceBegin=p;for(let p=0;p<this.reelCount;++p)this.reels[p].onStopBounceBegin=this._onReelStopBounceBegin}get onReelStopBounceBegin(){return this._onReelStopBounceBegin}set onReelStopBounceEnd(p){this._onReelStopBounceEnd=p;for(let p=0;p<this.reelCount;++p)this.reels[p].onStopBounceEnd=this._onReelStopBounceEnd}get onReelStopBounceEnd(){return this._onReelStopBounceEnd}createDefaultDimensions(p){const g=[];for(let m=0;m<this.reels.length;m++){const Z=[];for(let g=0;g<p[m].length;g++)Z.push(this.reels[m].currentSpinMechanic.defaultSymbolDimensions());g.push(Z)}return g}handleColossalDimensions(p,g){for(const m of g){const{position:g,size:Z}=m,{reelIndex:H,symbolIndex:t}=g;for(let g=0;g<m.size.x;g++)for(let h=0;h<m.size.y;h++)p[H+g][t+h]={x:0===g&&0===h?Z.x:0,y:1,colossalData:{colossalSize:{...m.size},positionInColossalSpace:{x:g,y:h}}}}}synchronizeColossalReels(p){const g=[];for(const m of p){const{position:p,size:Z}=m;for(let m=p.reelIndex;m<p.reelIndex+Z.x;m++)g.includes(m)||g.push(m)}if(0===g.length)return;let m=0;for(let p=1;p<g.length;p++)if(g[p]-g[p-1]>1){const Z=this.getReel(g[m]),H=g.slice(m+1,p).map((p=>this.getReel(p)));Z.synchronize(H,hZ.l.Timers),m=p}else if(p===g.length-1){const p=this.getReel(g[m]),Z=g.slice(m+1,g.length).map((p=>this.getReel(p)));p.synchronize(Z,hZ.l.Timers)}}}class nZ extends kZ{constructor(p){const g=p.store.gameConfig.spinConfig;super(g.reelsetName),this.props=p,this.spinConfig=g}makeBufferSymbolsVisible(){this.reels.forEach((p=>{p.makeBufferSymbolsVisible()}))}makeBufferSymbolsInvisible(){this.reels.forEach((p=>{p.makeBufferSymbolsInvisible()}))}startSlotFloatAnimation(){this.reels.forEach((p=>{p.playFloatAnimation()}))}stopSlotFloatAnimation(){this.reels.forEach((p=>{p.stopFloatAnimation()}))}layoutReels(p){this.reels.forEach(((g,m)=>{g.container.x=m*p,g.layoutOutcomeSymbols()}))}updateGameReelInfo(p){this.reels.forEach(((g,m)=>{g.setHasWild(p[m])}))}resetSymbolsToPreSlotResultAnimationState(){this.reels.forEach((p=>{for(let g=0;g<c.z;g++)p.getSymbol(g).resetToPreSlotResultAnimationState()}))}setCurrentMechanics(p){if(!t.TK[p])throw new Error(`can not set an absent spin mechanics - tried index ${p}`);this.reels.forEach((g=>{g.setCurrentMechanics(p)}))}addNearWin(p,g){const{slamStop:m}=this.props.store;if(m.isRequestedForSlot)return;const Z=cp.Y4(p);if(Z<t.hm)return;if(2===Z&&cp.RM(p[4]))return;const H=cp.bG(p),h=cp.Nr(p),k=this.spinConfig.nearWinStopDelays[g];let n=0;this.reels.forEach(((p,g)=>{const m=g>=H&&g<=h,Z=g>h;if(p.isNearWin=m,m){const m=p.stopDelay+k*(g-H+1);return p.setStopDelay(m),void(n=m)}if(Z){const g=n+this.spinConfig.reelIterationStopDelay;p.setStopDelay(g)}}))}resetIsNearWin(){this.reels.forEach((p=>{p.isNearWin=!1}))}setReelDelays(p){this.reels.forEach(((g,m)=>{const Z=this.getReelDelays(m,p);g.setStartDelay(Z.startDelay),g.setStopDelay(Z.stopDelay)}))}getReelDelays(p,g){return"normal"===g?{startDelay:this.spinConfig.reelStartDelay,stopDelay:this.spinConfig.reelStopDelay+p*this.spinConfig.reelIterationStopDelay}:{startDelay:this.spinConfig.reelStartDelayTurbo,stopDelay:this.spinConfig.reelStopDelayTurbo}}}const SZ=0;class qZ extends I.mcf{constructor(p,g,m,Z,H){super(),this.symbolSize=Z,this.animationTimings=H;const t=Z*C,h=sm.ej(g,{currencySymbol:m});this.alpha=0,this.centralSymbolRowIndex=L(p),this.goldenText=this.createWinAmountText(h,t),this.addChild(this.goldenText)}update({symbolSize:p}){this.symbolSize=p,this.goldenText.update({fontSize:p*C}),this.goldenText.x=this.symbolPosition.x,this.goldenText.y=this.symbolPosition.y}get symbolPosition(){return{y:this.centralSymbolRowIndex*this.symbolSize+this.symbolSize/2,x:this.symbolSize/2+c.an*this.symbolSize}}createWinAmountText(p,g){const m=new bg(p,g,!0),{x:Z,y:H}=this.symbolPosition;return m.x=Z,m.y=H,m.name="winAmount",m}get fadeInOutTween(){return E.M(this).animateTo({alpha:1},this.animationTimings.winLineFadeDuration).delay(this.animationTimings.winLineFadeDelay).animateTo({alpha:SZ},this.animationTimings.winLineFadeDuration)}get fadeInIntro(){return E.M(this).animateTo({alpha:1},this.animationTimings.winLineFadeDuration).delay(this.animationTimings.winLineFadeDelay).animateTo({alpha:SZ},this.animationTimings.winLineFadeDuration)}get fadeInIntroAndStay(){return E.M(this).animateTo({alpha:1},this.animationTimings.winLineFadeDuration)}}const DZ=.1,IZ=.05,bZ=.3,eZ=1,NZ=.3;class dZ extends I.mcf{constructor(p,g,m,Z){super(),this.lineData=p,this.gameReels=g,this.symbolSize=m,this.animationTimings=Z,this.alpha=0,this.update({symbolSize:m})}get fadeInOutTween(){return this.fadeInTween.delay(this.animationTimings.winLineFadeDelay).animateTo({alpha:bZ},this.animationTimings.winLineFadeDuration)}get fadeInIntroTween(){return E.M(this).animateTo({alpha:eZ},this.animationTimings.winLineFadeDuration).delay(this.animationTimings.winLineIntroFadeDelay).animateTo({alpha:bZ},this.animationTimings.winLineFadeDuration)}get fadeInIntroAndStayTween(){return E.M(this).animateTo({alpha:eZ},this.animationTimings.winLineFadeDuration)}get winningSymbolsMasks(){const p=[0,0,0],g=c.RN[this.lineData.payLine];let m=0;const Z=[];this.gameReels.forEach(((p,g)=>{if(cp.RM(p.data.outcome)){m++;const H=cp.iU(p.data.outcome);-1!==H&&Z.push({row:H,reel:g})}})),m>=t.il&&Z.forEach((g=>{p[g.row]=o(p[g.row],g.reel)}));for(let m=0;m<c.XN;m++){const Z=this.gameReels[m],H=g[m],t=Z.data.outcome[H];if(!(Z.hasWild||t===this.lineData.symbol&&m<this.lineData.length))return p;p[H]=o(p[H],m)}return p}getAllSymbolsTweenList(p,g=this.winningSymbolsMasks,m=[0,0,0]){const Z=[];return g.forEach(((g,H)=>{(function(p,g,m){for(let Z=0;Z<g;Z++)m(p>>Z&1,Z)})(g,c.XN,((g,t)=>{const h=this.gameReels[t].getSymbol(H),k=m[H]>>t,n=h.getSlotResultAnimationTweenList({isWinning:g,isSingleLine:p,winSymbolInitialAlpha:NZ,fadeOutSymbol:!k});Z.push(...n)}))})),Z}get fadeInTween(){return E.M(this).animateTo({alpha:1},this.animationTimings.winLineFadeDuration)}update({symbolSize:p}){this.removeChildren(),this.symbolSize=p;const{glow:g,line:m}=c.dP[this.lineData.symbol],[Z,H]=this.createLine(m,g);this.winningLineGraphic=Z,this.glowingWinningLineGraphic=H,this.addChild(this.glowingWinningLineGraphic),this.addChild(this.winningLineGraphic)}createLine(p,g){const m=c.RN[this.lineData.payLine],Z=m[0],H=m[c.XN-1],t=DZ*this.symbolSize,h=new I.A1g,k=new I.A1g,n=IZ*this.symbolSize;h.lineStyle({width:n,color:p,cap:I.MpE.ROUND,join:I.u2q.ROUND}),k.lineStyle({width:2*n,color:g,cap:I.MpE.ROUND,join:I.u2q.ROUND});const S=Z*this.symbolSize+this.symbolSize/2;h.moveTo(t,S),k.moveTo(t,S),m.forEach(((p,g)=>{const m=this.symbolSize/2+g*this.symbolSize,Z=this.symbolSize/2+p*this.symbolSize;h.lineTo(m,Z),k.lineTo(m,Z)}));const q=c.XN*this.symbolSize-t,D=this.symbolSize/2+H*this.symbolSize;h.lineTo(q,D),k.lineTo(q,D);const b=new I.eV2(8,4,2);return k.filters=[b],[h,k]}}var QZ=m(4032);class $Z{constructor(p,g){this.buffer=[],this.ctor="ctor"in p?p.ctor:g=>new p(g),this.symbolID=g}create(){return this.ctor(this.symbolID)}pop(){let p=this.buffer.pop();return void 0===p&&(p=this.create()),p}push(p){p.position={x:NaN,y:NaN},p.landingPosition={reelIndex:NaN,symbolIndex:NaN},p.isDead=!1,p.isOutcome=!1,this.buffer.push(p)}clear(){const p=this.buffer;this.buffer=[];for(const g of p)null==g||g.onDespawn()}}class wZ{constructor(){this.pools=[]}initializePools(p,g,m=[]){for(let Z=0;Z<g;++Z){const g=m.find((p=>p.symbolID===Z));void 0===g?this.pools.push(new $Z(p,Z)):this.pools.push(new $Z(g.ctor,Z))}}push(p){this.pools[p.id].push(p)}pop(p){return this.pools[p].pop()}clear(){const p=this.pools;this.pools=[];for(const g of p)g.clear()}}var YZ=m(415215);class iZ{constructor(){this.reelsets=new Map,this._poolGroup=new wZ,this.activeReelsets=[]}get poolGroup(){return this._poolGroup}addReelset(p){this.reelsets.set(p.name,p)}getReelset(p){if(!this.reelsets.has(p)||void 0===this.reelsets.get(p))throw new Error(`No reelset with the name ${p} exists.`);return this.reelsets.get(p)}activateReelset(p,g){const m=this.getReelset(p);if(!this.activeReelsets.includes(m)){if(this.activeReelsets.push(m),void 0!==g){const p=this.getReelset(g);m.setOutcome(p.outcome,{dimensions:p.outcomeDimensions})}m.presentOutcome()}}deactivateReelset(p,g=!0){const m=this.getActiveReelset(p),Z=this.activeReelsets.indexOf(m);this.activeReelsets[Z].clear(!1,g),this.activeReelsets.splice(Z,1)}clear(){for(const p of this.reelsets)p[1].clear(!0);this.activeReelsets=[],this.reelsets.clear()}getActiveReelset(p){if(0===this.activeReelsets.length)throw new Error("Trying to get an active reelset when there are no active.");if(void 0===p){if(this.activeReelsets.length>1)throw new Error("A reelset name has to be provided when there are more than one reelset active");return this.activeReelsets[0]}const g=this.getReelset(p);if(-1===this.activeReelsets.indexOf(g))throw new Error(`Trying to get active reelset with name '${p}' but it's not active.`);return g}timestep(p){const g=tZ.fP(p);for(let p=0;p<this.activeReelsets.length;p++)this.activeReelsets[p].timestep(g);YZ.C.timestep(g)}createSymbol(p,g){const m=this.poolGroup.pop(p);return m.dimensions=void 0===g?{x:1,y:1}:g,m.onSpawn(),m}destroySymbol(p){p.onDespawn(),this.poolGroup.push(p)}}var PZ=m(821737);const JZ=0,yZ=.15,WZ=.15;class vZ extends I.mcf{constructor(p){super(),this.props=p,this.slotRectBounds={x:0,y:0,width:0,height:0},this.gameReels=[],this.scatterMultipliers=[0,0,0,0,0],this.disposeBag=new Op.C,this.teaseQualifyingSymbol=!1,this.engine=new iZ,this.winningLinesContainer=new I.mcf,this.winningAmountsContainer=new I.mcf,this.introWinningAmountsContainer=new I.mcf,this.scatterSymbols=[],this.reelOpacityMasks=new Map,this.winlineData=void 0,this.dispose=()=>{var p;this.stopScatterSpinAnimations(),this.disposeBag.dispose(),null===(p=this.disposeWinLinesAnimation)||void 0===p||p.call(this)},this.onResize=()=>{},this.fitToSlotArea=p=>{this.updateSlotBounds(p),this.layoutSlot()},this.startScatterSpinStopAnimation=()=>{var p;const g=null===(p=this.scatterSymbols[JZ])||void 0===p?void 0:p.scatterSpinAnimatedSprite;if(g){let p=!1;g.onFrameChange=g=>{this.setSlaveScattersRotationFrame(g),0===g&&(p?this.stopScatterSpinAnimations():p=!0)}}},this.stopScatterSpinAnimations=()=>{this.scatterSymbols.length&&this.soundStore.triggerEvent(Np.m.ScatterSpinStop),this.scatterSymbols.forEach((p=>{var g;return null===(g=p.endScatterSpinAnimation)||void 0===g?void 0:g.call(p)})),this.scatterSymbols=[],this.ui.slotUIStore.scatterSpinStopped()};const{app:g,assets:m,store:Z,gameView:H}=p,{gameStore:t,bettingStore:h,abstractGame:k,ui:n,randomFn:S,gameConfig:q,soundStore:D}=Z;this.app=g,this.ui=n,this.randomFn=S,this.assets=m,this.gameView=H,this.gameStore=t,this.bettingStore=h,this.soundStore=D,this.abstractGame=k,this.spinConfig=q.spinConfig,this.reelset=new nZ({store:Z}),this.name="SlotContainer",this.setupWinningLinesContainer(),this.init(),this.setupWinningAmountsContainers(),this.setTicker()}get symbolSize(){return this.slotWidth/c.XN}async startSpin(){const p=this.gameView.speedMode;this.stopScatterSpinAnimations(),this.ui.slotUIStore.slotStarted(p),this.removeWinningLines(),this.stopSlotFloatAnimation(),this.setSymbolsForSpinningGrid(),this.setSlotSpinConfiguration(p,!0),await this.reelset.startSpin(),this.soundStore.triggerEvent(Np.m.SpinStart),this.reelset.makeBufferSymbolsVisible();for(const[p,g]of this.reelOpacityMasks)this.gameReels[p].container.mask=g,g.visible=!0}slamStop(){this.setSlotSpinConfiguration("fast"),this.soundStore.triggerEvent(Np.m.QuickStop)}async stopSpin(p){this.ui.slotUIStore.slotStopping();const g=this.getSpinStopDelayForMinSpinTime(this.ui.slotUIStore.slotSpinStartSpeedMode);g>0&&await QZ.cb(g),this.winlineData=this.prepareWinlineContainers(p.winLines),this.reelset.updateGameReelInfo(p.grid),this.reelset.setOutcome(p.grid),this.reelset.addNearWin(p.grid,this.gameView.speedMode),await this.reelset.stopSpin(),this.soundStore.triggerEvent(Np.m.SpinComplete),this.ui.slotUIStore.reelsStopped(),this.drawWinningLines(this.winlineData),this.abstractGame.setSlotWinAmount(),this.gameStore.isQualifyingGame&&this.startSlotFloatAnimation(),await k.z7((()=>!this.ui.slotUIStore.isWildAppearingAnimationActive)),this.ui.slotUIStore.slotStopped(),this.reelset.resetIsNearWin()}toQualifiedInit(){this.alpha=0}toQualified(){return G.M().sequence(l(this,0,this.gameView.animationTimings.slotFadeoutDurationSec,_.sn))}toQualifyingInit(){this.alpha=1,this.removeWinningLines()}toQualifying(){return G.M().sequence(l(this,1,this.gameView.animationTimings.slotFadeinDurationSec))}toBonusRoundInit(){this.alpha=0,this.removeWinningLines()}toBonusRound(){return G.M().callback((()=>{this.alpha=0,this.removeWinningLines()}))}toResolvedInit(){this.alpha=0,this.removeWinningLines()}startSlotFloatAnimation(){this.reelset.startSlotFloatAnimation()}stopSlotFloatAnimation(){this.reelset.stopSlotFloatAnimation()}addScatterSymbol(p){const g=p.scatterSpinAnimatedSprite;if(!g)throw new Error("scatter symbol is missing its spin animation sprite");const m=!this.scatterSymbols.length;this.scatterSymbols.push(p),m&&(g.onFrameChange=p=>this.setSlaveScattersRotationFrame(p),g.gotoAndPlay(g.currentFrame),this.ui.slotUIStore.scatterSpinStarted(),this.soundStore.triggerEvent(Np.m.ScatterSpin))}setNonWinningResult(){const p=cp.DG(this.randomFn);this.reelset.updateGameReelInfo(p),this.reelset.setOutcome(p),this.reelset.setReelStripsSymbols(p),this.reelset.presentOutcome()}getSlotRelMobileY(){if(!this.ui.mainButton.rect)throw new Error("mainButtonRect is missing");return(this.slotRectBounds.y+this.slotHeight/2)/this.app.renderer.height}setSymbolsForSpinningGrid(){const p=[];for(let g=0;g<c.XN;g++){const g=Array.from({length:c.hc},(()=>cp.Cz(this.randomFn)));p.push(g)}if(this.teaseQualifyingSymbol){const g={reel:0,row:0},m=this.randomFn()<.5?c._e.Scatter:c._e.Wild;if(g.reel=cp.IF(c.XN),g.row=cp.IF(c.hc),p[g.reel][g.row]=m,m===c._e.Scatter&&this.randomFn()<.5){const p=cp.aG(t.kN,this.randomFn);this.scatterMultipliers[g.reel]=p}this.teaseQualifyingSymbol=!1}else this.teaseQualifyingSymbol=!0;this.reelset.setReelStripsSymbols(p)}setSlaveScattersRotationFrame(p){this.scatterSymbols.forEach(((g,m)=>{var Z;(p=>!(p=>p===JZ)(p))(m)&&(null===(Z=g.scatterSpinAnimatedSprite)||void 0===Z||Z.gotoAndStop(p))}))}removeWinningLines(){var p;null===(p=this.disposeWinLinesAnimation)||void 0===p||p.call(this),this.winningLinesContainer.removeChildren(),this.winningAmountsContainer.removeChildren(),this.introWinningAmountsContainer.removeChildren()}initOpacityMasks(){const p=this.symbolSize*yZ,g=this.symbolSize*WZ,m=this.symbolSize*(c.z+yZ+WZ),Z=I.gPd.from(function(p,g,m,Z){const H=document.createElement("canvas");H.width=p,H.height=g;const t=H.getContext("2d"),h=m/g,k=(g-Z)/g,n=t.createLinearGradient(p/2,0,p/2,g);return n.addColorStop(0,F),n.addColorStop(h,a),n.addColorStop(k,a),n.addColorStop(1,F),t.fillStyle=n,t.fillRect(0,0,p,g),H}(1,m,p,g));this.slotOpacityMask=new I.kxk(Z),this.slotOpacityMask.name="SlotOpacityMask",this.addChild(this.slotOpacityMask),this.mask=this.slotOpacityMask,this.gameReels.forEach((p=>{const g=new I.kxk(Z);g.name="SlotReelOpacityMask",g.visible=!1,this.reelOpacityMasks.set(p.id,g),p.container.addChild(g)}))}init(){this.updateSlotBounds(this.props.store.ui.slotUIStore.slotArea),this.engine.addReelset(this.reelset);for(let p=0;p<c.XN;p++){const g=new HZ({slotContainer:this,pool:this.engine.poolGroup,reelConfiguration:c.$h,reelIndex:p});g.container.x=this.symbolSize*p,t.TK.forEach((p=>{g.addSpinMechanic(new PZ.e(g,this.spinConfig.mode[p]))})),this.gameReels.push(g),this.reelset.addReel(g)}this.initOpacityMasks();const p=this.createSymbolFactory(wg);this.engine.poolGroup.initializePools(p,c.Jq,this.symbolConstructorMap);const g=this.gameStore.getQualifyingGameWithSlotResult(),m=g?cp.IU(g.mainSlot.grid,this.randomFn):cp.DG(this.randomFn);this.reelset.updateGameReelInfo(m),g&&(this.scatterMultipliers=cp._t(g.mainSlot)),this.reelset.setOutcome(m),this.reelset.setReelStripsSymbols(m),this.engine.activateReelset(this.spinConfig.reelsetName),this.reelset.presentOutcome(),this.reelset.makeBufferSymbolsInvisible(),this.reelset.onReelStopBounceBegin=p=>{this.onReelStopBounceBegin(p)},this.reelset.onReelStopSequenceEnd=p=>{var g,m,Z;this.gameReels[p].isNearWin&&(null===(g=this.gameView.excitementSpinContainer)||void 0===g||g.stopAnimationForReel(p));const{slamStop:H}=this.props.store;if(H.isRequestedForSlot)return;const t=p+1;(null===(m=this.gameReels[t])||void 0===m?void 0:m.isNearWin)&&(null===(Z=this.gameView.excitementSpinContainer)||void 0===Z||Z.playAnimationForReel(t),this.props.store.soundStore.triggerEvent(Np.m.NearWin,t))},this.layoutSlot()}onReelStopBounceBegin(p){this.gameReels[p].makeBufferSymbolsInvisible();const g=this.reelOpacityMasks.get(p);g&&(this.gameReels[p].container.mask=null,g.visible=!1),p===c.rJ&&this.startScatterSpinStopAnimation()}setupWinningLinesContainer(){this.winningLinesContainer.name="WinningLinesContainer",this.winningLinesContainer.x=0,this.winningLinesContainer.y=-this.symbolSize,this.addChild(this.winningLinesContainer)}setupWinningAmountsContainers(){this.winningAmountsContainer.name="WinningAmountsContainer",this.winningAmountsContainer.x=0,this.winningAmountsContainer.y=-this.symbolSize,this.introWinningAmountsContainer.name="IntroWinningAmountsContainer",this.introWinningAmountsContainer.y=-this.symbolSize,this.introWinningAmountsContainer.x=0,this.addChild(this.winningAmountsContainer),this.addChild(this.introWinningAmountsContainer)}setTicker(){this.app.ticker.add((()=>{this.engine.timestep(this.app.ticker.deltaMS)}))}combineWinningLineMultipliers(p){var g;const m=new Map;for(const Z of p){const p=L(Z),H=(null===(g=m.get(p))||void 0===g?void 0:g.multiplier)||0;m.set(p,{...Z,multiplier:Z.multiplier+H})}return Array.from(m.values())}createWinAmountContainer(p){const g=this.bettingStore.qualifyingBaseBetAmount||0;return new qZ(p,p.multiplier*g,this.abstractGame.currencySymbol,this.symbolSize,this.gameView.animationTimings)}createWinningLineContainers(p){return p.map((p=>{const g=new dZ(p,this.gameReels,this.symbolSize,this.gameView.animationTimings),m=this.createWinAmountContainer(p);return this.winningAmountsContainer.addChild(m),this.winningLinesContainer.addChild(g),{lineContainer:g,amountContainer:m}}))}prepareWinlineContainers(p){var g;null===(g=this.disposeWinLinesAnimation)||void 0===g||g.call(this);const m=p.length;if(m)return{isSingleLine:1===m,winlineCount:m,lineAndWinningContainers:this.createWinningLineContainers(p),combinedWinningLines:this.combineWinningLineMultipliers(p),timelineWinLinesOneByOne:G.M(),timelineWinLinesIntro:G.M()}}drawWinningLines(p){if(!p)return;const g=p.combinedWinningLines.length===p.winlineCount?p.lineAndWinningContainers.map((({amountContainer:p})=>p)):p.combinedWinningLines.map((p=>this.introWinningAmountsContainer.addChild(this.createWinAmountContainer(p)))),m=(Z=p.lineAndWinningContainers.map((({lineContainer:p})=>p.winningSymbolsMasks)),H=c.z,Z.reduce(((p,g)=>p.map(((p,m)=>g[m]|p))),Array(H).fill(0)));var Z,H;const t=p.lineAndWinningContainers[0],h=t.lineContainer.getAllSymbolsTweenList(p.isSingleLine,m,t.lineContainer.winningSymbolsMasks);p.isSingleLine?p.timelineWinLinesIntro.parallel([t.lineContainer.fadeInIntroAndStayTween,...g.map((p=>p.fadeInIntroAndStay)),...h]):p.timelineWinLinesIntro.parallel([t.lineContainer.fadeInIntroAndStayTween,...p.lineAndWinningContainers.map((({lineContainer:p})=>p.fadeInIntroTween)),...g.map((p=>p.fadeInIntro)),...h]).parallel([t.amountContainer.fadeInOutTween,t.lineContainer.fadeInOutTween,...t.lineContainer.getAllSymbolsTweenList(p.isSingleLine)]),p.timelineWinLinesIntro.callback((()=>{p.isSingleLine?p.timelineWinLinesOneByOne.parallel(t.lineContainer.getAllSymbolsTweenList(p.isSingleLine)):(p.lineAndWinningContainers.slice(1).forEach((({lineContainer:g,amountContainer:m})=>{p.timelineWinLinesOneByOne.parallel([...g.getAllSymbolsTweenList(p.isSingleLine),g.fadeInOutTween,m.fadeInOutTween])})),p.timelineWinLinesOneByOne.parallel([...t.lineContainer.getAllSymbolsTweenList(p.isSingleLine),t.lineContainer.fadeInOutTween,t.amountContainer.fadeInOutTween]));const g=s({anim:p.timelineWinLinesOneByOne,application:this.app,repeat:Number.MAX_VALUE});this.disposeWinLinesAnimation=()=>{g(),this.reelset.resetSymbolsToPreSlotResultAnimationState()}}));const k=s({anim:p.timelineWinLinesIntro,application:this.app});yp.I()&&(p.timelineWinLinesIntro.tick(1e3),k()),this.disposeWinLinesAnimation=()=>{k(),this.reelset.resetSymbolsToPreSlotResultAnimationState()}}get slotWidth(){return this.slotRectBounds.width}get slotHeight(){return this.slotRectBounds.height}layoutSlot(){var p;this.winningAmountsContainer.y=-this.symbolSize,this.introWinningAmountsContainer.y=-this.symbolSize,this.position.x=this.slotRectBounds.x,this.position.y=this.slotRectBounds.y+this.symbolSize,this.reelset.layoutReels(this.symbolSize),this.winningLinesContainer.y=-this.symbolSize,null===(p=this.winlineData)||void 0===p||p.lineAndWinningContainers.forEach((p=>{p.amountContainer.update({symbolSize:this.symbolSize}),p.lineContainer.update({symbolSize:this.symbolSize})})),this.slotOpacityMask.y=-this.symbolSize*(1+yZ),this.slotOpacityMask.width=this.slotWidth,this.slotOpacityMask.height=this.symbolSize*(c.z+2*yZ+WZ);for(const[,p]of this.reelOpacityMasks)p.y=-this.symbolSize,p.height=this.symbolSize*c.z,p.width=this.symbolSize}createSymbolFactory(p){return{ctor:g=>new p(g,this)}}get symbolConstructorMap(){return[{symbolID:c._e.Scatter,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.Wild,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.SilverRibbon,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.BronzeRibbon,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.Ace,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.King,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.Queen,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.Jack,ctor:this.createSymbolFactory(wg)},{symbolID:c._e.Ten,ctor:this.createSymbolFactory(wg)}]}setSlotSpinConfiguration(p,g=!1){g&&this.reelset.setCurrentMechanics(t.G6[p]),this.reelset.onReelStopBounceBegin=g=>{this.onReelStopBounceBegin(g),"fast"===p&&g===c.rJ?this.soundStore.triggerEvent(Np.m.ReelBounceQuickStop,g):"normal"===p&&this.soundStore.triggerEvent(Np.m.ReelBounce,g)},this.reelset.setReelDelays(p)}getSpinDuration(p){return"fast"===p?this.props.store.settings.mainSlotSpinDurationTurbo:this.props.store.settings.mainSlotSpinDuration}getSpinStopDelayForMinSpinTime(p){let g=0;const m=this.getSpinDuration(p);return m&&(g=m-(Date.now()-this.ui.slotUIStore.slotSpinStartTime+this.spinConfig.mode[p].spinEndTotalTime)),g}updateSlotBounds(p){const{x:g,y:m,width:Z,height:H}=p.slot;this.slotRectBounds={x:g*this.app.renderer.resolution,y:m*this.app.renderer.resolution,width:Z*this.app.renderer.resolution,height:H*this.app.renderer.resolution}}}const VZ={responsive:!1,animations:{secondReel:{name:"2nd_reel_track",track:1},fourthReel:{name:"4th_reel_track",track:1},fifthReel:{name:"5th_reel_track",track:1},start:{name:"start",loop:!1},loop:{name:"loop",loop:!0},end:{name:"end",loop:!1}}};var zZ=m(436794),BZ=m(573098),uZ=m(589582),aZ=m(487606);const FZ=[0,0,0];class XZ extends BZ.yE{constructor(p){super(p),this._proceduralCallback=XZ._emptyAnimationCallback}setProceduralCallback(p){this._proceduralCallback=p}clearProceduralCallback(){this._proceduralCallback=XZ._emptyAnimationCallback}setBonePosition(p,g,m){const Z=this.skeleton;if(Z){const H=Z.findBone(p);if(H){let p=new BZ.I9(H.worldX,H.worldY);const Z=this.getGlobalPosition();p.x+=-Z.x+g,p.y+=-Z.y+m,p=H.worldToLocal(p),H.x=p.x,H.y=p.y}}}setBoneOrientation(p,g){const m=this.skeleton;if(m){const Z=m.findBone(p);Z&&Z.rotateWorld(g*BZ.cj.radDeg)}}setBoneScale(p,g,m){const Z=this.skeleton;if(Z){const H=Z.findBone(p);H&&(H.scaleX=g,H.scaleY=m||g)}}update(p){let g=p;const m=this.delayLimit;if(g>m&&(g=m),this.state.update(g),this.state.apply(this.skeleton),!this.skeleton)return;this._proceduralCallback(this),this.skeleton.updateWorldTransform();const Z=this.skeleton.slots,H=this.color;let t,h;H?(t=H.light,h=H.dark):t=this.tintRgb;for(let p=0,g=Z.length;p<g;p++){const g=Z[p],m=g.getAttachment(),H=this.slotContainers[p];if(!m){H.visible=!1;continue}let k=null;m.sequence&&m.sequence.apply(g,m);let n=m.region;const S=m.color;switch(null!=m&&m.type){case BZ.wh.Region:if(H.transform.setFromMatrix(g.bone.matrix),n=m.region,g.currentMesh&&(g.currentMesh.visible=!1,g.currentMesh=null,g.currentMeshId=void 0,g.currentMeshName=void 0),!n){g.currentSprite&&(g.currentSprite.renderable=!1);break}if(!g.currentSpriteName||g.currentSpriteName!==m.name){const p=m.name;if(g.currentSprite&&(g.currentSprite.visible=!1),g.sprites=g.sprites||{},void 0!==g.sprites[p])g.sprites[p].visible=!0;else{const Z=this.createSprite(g,m,p);H.addChild(Z)}g.currentSprite=g.sprites[p],g.currentSpriteName=p}g.currentSprite.renderable=!0,g.hackRegion||this.setSpriteRegion(m,g.currentSprite,n),g.currentSprite.color?k=g.currentSprite.color:t&&(FZ[0]=t[0]*g.color.r*S.r,FZ[1]=t[1]*g.color.g*S.g,FZ[2]=t[2]*g.color.b*S.b,g.currentSprite.tint=I.Q1f.shared.setValue(FZ).toNumber()),g.currentSprite.blendMode=g.blendMode;break;case BZ.wh.Mesh:{if(g.currentSprite){g.currentSprite.visible=!1,g.currentSprite=null,g.currentSpriteName=void 0;const p=new I.dLy;p._parentID=-1,p._worldID=H.transform._worldID,H.transform=p}if(!n){g.currentMesh&&(g.currentMesh.renderable=!1);break}const p=m.id;if(void 0===g.currentMeshId||g.currentMeshId!==p){const Z=p;if(g.currentMesh&&(g.currentMesh.visible=!1),g.meshes=g.meshes||{},void 0!==g.meshes[Z])g.meshes[Z].visible=!0;else{const p=this.createMesh(g,m);H.addChild(p)}g.currentMesh=g.meshes[Z],g.currentMeshName=m.name,g.currentMeshId=Z}g.currentMesh.renderable=!0,m.computeWorldVerticesOld(g,g.currentMesh.vertices),g.currentMesh.color?k=g.currentMesh.color:t&&(FZ[0]=t[0]*g.color.r*S.r,FZ[1]=t[1]*g.color.g*S.g,FZ[2]=t[2]*g.color.b*S.b,g.currentMesh.tint=I.Q1f.shared.setValue(FZ).toNumber()),g.currentMesh.blendMode=g.blendMode,g.hackRegion||this.setMeshRegion(m,g.currentMesh,n);break}case BZ.wh.Clipping:g.currentGraphics||(this.createGraphics(g,m),H.addChild(g.clippingContainer),H.addChild(g.currentGraphics)),this.updateGraphics(g,m),H.alpha=1,H.visible=!0;continue;default:H.visible=!1;continue}if(H.visible=!0,t&&h&&k){let p=g.color.r*S.r,m=g.color.g*S.g,Z=g.color.b*S.b;k.setLight(t[0]*p+h[0]*(1-p),t[1]*m+h[1]*(1-m),t[2]*Z+h[2]*(1-Z)),g.darkColor?(p=g.darkColor.r,m=g.darkColor.g,Z=g.darkColor.b):(p=0,m=0,Z=0),k.setDark(t[0]*p+h[0]*(1-p),t[1]*m+h[1]*(1-m),t[2]*Z+h[2]*(1-Z))}H.alpha=g.color.a}const k=this.skeleton.drawOrder;let n,S;for(let p=0,g=k.length;p<g;p++){const g=Z[k[p].data.index],m=this.slotContainers[k[p].data.index];if(S||null!==m.parent&&m.parent!==this&&(m.parent.removeChild(m),m.parent=this),g.currentGraphics&&g.getAttachment())S=g.clippingContainer,n=g.getAttachment(),S&&(S.children.length=0),this.children[p]=m,n.endSlot===g.data&&(n.endSlot=void 0);else if(S){let Z=this.tempClipContainers[p];Z||(Z=this.newContainer(),this.tempClipContainers[p]=Z,Z.visible=!1),this.children[p]=Z,m.parent=null,S.addChild(m),n&&n.endSlot===g.data&&(S.renderable=!0,S=void 0,n=void 0)}else this.children[p]=m}}}function KZ(p){return"landscape"in p}XZ._emptyAnimationCallback=p=>{};class jZ extends XZ{constructor(p,g,m,Z){if(super(g),this.manageAutoUpdate=!1,this.events=new Map,this.spineConfig=p,this.orientation=Z,this.ticker=m,p.parseEvents)for(const p of g.animations){const g=p.timelines[p.timelines.length-1];this.events.set(p.name,(null==g?void 0:g.events)||[])}this.visible=!1}update(){super.update(.001*this.ticker.deltaMS)}set onComplete(p){this.state.addListener({complete:p.bind(this)})}set onEvent(p){this.state.addListener({event:p.bind(this)})}addSpineEventListener(p){const g={event:p.bind(this)};return this.state.addListener(g),()=>{this.state.removeListener(g)}}addOnCompleteListener(p){const g={complete:p.bind(this)};return this.state.addListener(g),()=>{this.state.removeListener(g)}}add(p){return this.setAnimation(p)}changeOrientation(){const p=[],g=[];for(const g of this.state.listeners)p.push({...g});for(const p of this.state.tracks){if(null===p)continue;const m={...p},Z=[];if(!m.loop){const p=m.next;for(;p;){const g=p.animation.configName,m=g.lastIndexOf("_"),H=-1===m?g:g.substr(0,m);if(Z.push(H),p.loop)break}}g.push({trackEntry:m,animationQueue:Z})}this.clearListeners(),this.reset();for(const p of g){const g=p.trackEntry,m=g.animation.configName,Z=this.add(m);for(const[p,m]of Object.entries(g))"animation"!==p&&"endTime"!==p&&"time"!==p&&"next"!==p&&"mixingFrom"!==p&&(Z[p]=m);for(const m of p.animationQueue)this.queue(m,g.trackIndex)}this.ensureCorrectTransforms();for(const g of p)this.state.addListener(g)}getAnimationName(){const p=[];for(const g of this.state.tracks){const m=g;m&&m.animationEnd!==m.trackLast&&p.push(m.animation.name)}return p}getAnimations(){return this.spineData.animations}getDuration(p=0){return this.state.tracks[p].animation.duration}getSkinName(){return this.skeleton.skin.name}getTrackCount(){return this.state.tracks.length}hasAnimation(p,g=!1){let m=p;if(g){const g=this.getAnimationConfig(p);if(!g)return!1;m=g.name}for(const p of this.getAnimations())if(p.name===m)return!0;return!1}hide(){this.visible=!1}hideSlot(p){this.setSlotVisibility(p,!1)}iterateSlots(p,g){const m=this.skeleton.slots;for(let Z=0;Z<m.length;++Z)if(p.call(null!=g?g:m[Z],m[Z],Z))return}play(p,g,m,Z){this.clearAll(m,Z);const H=this.setAnimation(p);if(this.ensureCorrectTransforms(),g){const p=()=>(this.reset(Z),t(),H),m=g.addListener((()=>{p()})),t=()=>{g.removeListener(m),h()},h=this.addOnCompleteListener(t);g.isCancelled&&p()}return H}stop(){this.hide(),this.reset()}playAsync(p,g,m=1,Z){const H=this.play(p,void 0,m,Z);return{promise:new Promise((p=>{let m=()=>{};const t=E.M({defaultValue:0}).animateTo({defaultValue:1},this.getDuration()*(1/this.state.timeScale)).callback((()=>{p(H),m()}));if(g){const h=()=>{t.reset(),this.reset(Z),p(H),m()};if(g.isCancelled)return void h();const k=g.addListener((()=>{h()}));m=()=>{g.removeListener(k)}}this.ticker.add(t.tick.bind(t)),t.activate()})),track:H}}playWithSkipAsync(p,g,m,Z){const H=null!=Z?Z:this.state.timeScale,t=this.play(p,void 0,H),h=Math.max(0,Math.min(g,1))*this.getDuration(),k=this.getDuration()-h;return t.trackTime=h,{promise:new Promise((p=>{const g=E.M({defaultValue:0}).animateTo({defaultValue:1},k).callback((()=>p(t)));if(m){const Z=()=>{g.fastForward(),p(t)};if(m.isCancelled)return void Z();m.addListener((()=>{Z()}))}this.ticker.add(g.tick.bind(g)),g.activate()})),track:t}}setupCrossFade(p,g,m){const Z=this.spineConfig.animations[p],H=this.spineConfig.animations[g];KZ(Z)&&KZ(H)?(this.state.data.setMix(Z[zZ.t.Landscape].name,H[zZ.t.Landscape].name,m),this.state.data.setMix(Z[zZ.t.Portrait].name,H[zZ.t.Portrait].name,m)):KZ(Z)||KZ(H)||this.state.data.setMix(Z.name,H.name,m)}queueAll(p,g,m,Z){let H;const t=[];for(g&&(H=p.shift(),H&&t.push(this.play(H))),H=p.shift();H;)t.push(this.queue(H)),H=p.shift();if(Z){const p=this.addOnCompleteListener((g=>{const m=t[t.length-1];g===m&&(Z(m),p())}))}if(m){if(m.isCancelled)return this.reset(),t;m.addListener((()=>{this.reset()}))}return t}queueAllAsync(p,g,m){return new Promise((Z=>{const H=this.queueAll(p,g,m);let t=0;H.forEach((p=>{t+=p.animation.duration}));const h=E.M({defaultValue:0}).animateTo({defaultValue:1},t).callback((()=>Z(H)));if(m){const p=()=>{h.fastForward(),Z(H)};if(m.isCancelled)return void p();m.addListener((()=>{p()}))}this.ticker.add(h.tick.bind(h)),h.activate()}))}layerAnimations(p){var g;this.clearAll();const m=[];for(const Z of p){const p=this.getConfigDataNoUndefined(Z.name),H=this.state.setAnimation(Z.trackIndex,p.name,p.loop);H.alpha=Z.alpha,H.timeScale=p.speed,H.mixBlend=null!==(g=Z.mixBlend)&&void 0!==g?g:H.mixBlend,H.animation.configName=Z.name,m.push(H)}return m}playAnimationFromEvent(p,g,m){const Z=this.play(p),H=this.events.get(p);void 0!==H&&(Z.trackTime=H[g].time,void 0!==m&&(Z.animationEnd=H[m].time))}getEventsForAnimation(p){const g=this.events.get(p);if(void 0!==g)return g;throw new RangeError(`Events not found for ${p}. Try to set the option parseEvents to true in SparrowAssets.ts.`)}setBonePosition(p,g,m){const Z=this.skeleton;if(Z){const H=Z.findBone(p);if(H){const p=this.toLocal(new I.bRX(g,m));H.x=p.x,H.y=-p.y}else console.warn(`Couldn't find bone with name ${p} on ${this.name}`)}}setBonePosition_old(p,g,m){const Z=this.skeleton;if(Z){const H=Z.findBone(p);if(H){const p=this.getGlobalPosition();let Z=new BZ.I9;Z.x=-p.x+g,Z.y=-p.y+m,Z=H.parent.worldToLocal(Z),H.x=Z.x,H.y=Z.y}}}playLastFrame(p){this.play(p);const g=this.state.tracks[0];g.animationLast=g.animationEnd,g.trackTime=g.animationEnd}playWithRandomStart(p){const g=uZ.g();this.play(p);const m=this.state.tracks[0];m.trackTime=g*m.animationEnd}playSeamlessly(p){const g=this.state.tracks[0],m=g?g.trackTime%g.animationEnd:0;this.play(p),this.state.tracks[0].trackTime=m||0}async stopLoopingAnimation(p=0,g){const m=this.state.tracks[p],Z=m.animationEnd-m.animationLast;await new Promise((p=>{const m=E.M({defaultValue:0}).animateTo({defaultValue:1},Z).callback((()=>p()));g&&g.addListener((()=>{m.fastForward(),p()})),this.ticker.add(m.tick.bind(m)),m.activate()})),this.playLastFrame(this.getAnimationName()[p])}reset(p){this.skeleton.setToSetupPose(),(null==p?void 0:p.shouldClearOnlyFirstTrack)?this.state.clearTrack(0):this.state.clearTracks()}resetSpeed(p){this.state.timeScale=null!=p?p:1}setSkinByName(p){this.skeleton.setToSetupPose(),this.skeleton.setSkinByName(p)}getSlotByName(p){var g;const m=this.getSlotName(p),Z=this.skeleton.findSlot(m);if(null===Z)throw new Error(`Could not find slot with name ${m} on ${null!==(g=this.name)&&void 0!==g?g:"Unnamed animation"}`);return Z}setSlot(p,g){var m,Z;const H=this.getSlotName(p),t=this.skeleton.findSlot(H);if(null===t)throw new Error(`Could not find slot with name ${H} on ${null!==(m=this.name)&&void 0!==m?m:"Unnamed animation"}`);if(!t.currentSprite)throw new Error(`Could not find a sprite inside a slot ${H} on ${null!==(Z=this.name)&&void 0!==Z?Z:"Unnamed animation"}`);t.currentSprite.texture=I.gPd.EMPTY,t.currentSprite.removeChildren(),t.currentSprite.addChild(g)}setSpeed(p){this.state.timeScale=p}setTextureBySlotIndex(p,g,m){this.hackTextureBySlotIndex(p,g,m)}show(){this.visible=!0,null!==this.parent&&this.updateTransform()}showSlot(p){this.setSlotVisibility(p,!0)}clearListeners(){this.state.clearListeners()}setAnimationAsync(p,g){return new Promise((m=>{const Z=this.setAnimation(p),H=E.M({defaultValue:0}).animateTo({defaultValue:1},this.getDuration(Z.trackIndex)*(1/this.state.timeScale)).callback((()=>m()));if(g){const p=()=>{Z.animationLast=Z.animationEnd,Z.trackTime=Z.animationEnd,H.reset(),m()};if(g.isCancelled)return void p();g.addListener((()=>{p()}))}this.ticker.add(H.tick.bind(H)),H.activate()}))}checkIfAnimationConfigExists(p){return void 0!==this.spineConfig.animations[p]}updateSkeletonByMatchedResources(p){const g=aZ.By(this.spineData.animations),m=aZ.By(p.animations);for(const p of Object.keys(g))p in m&&aZ.Wx(g[p],m[p]);const Z=aZ.s5(this.skeleton.data),H=aZ.s5(p);for(const[p,g]of Object.entries(Z))p in H&&aZ.th(g.texture,H[p].texture);const t=aZ.By(this.spineData.bones),h=aZ.By(p.bones);for(const p of Object.keys(t))p in h&&aZ.Wx(t[p],h[p])}setAnimation(p){const g=this.getConfigDataNoUndefined(p);return this.state.setAnimation(g.track,g.name,g.loop),this.state.timeScale=1===this.state.timeScale?g.speed:this.state.timeScale,this.state.tracks[g.track].animation.configName=p,this.manageAutoUpdate&&(this.autoUpdate=!0,g.loop||this.state.addListener({complete:()=>{this.autoUpdate=!1}})),this.state.tracks[g.track]}ensureCorrectTransforms(){var p;(null===(p=this.parent)||void 0===p?void 0:p.visible)&&this.parent.parent&&this.parent.updateTransform()}clearAll(p,g){var m;(null===(m=null==g?void 0:g.shouldClearEventListeners)||void 0===m||m)&&this.clearListeners(),this.reset(g),this.show(),this.resetSpeed(p)}queue(p,g){const m=this.getConfigDataNoUndefined(p),Z=this.state.addAnimation(null!=g?g:m.track,m.name,m.loop,0);return Z.timeScale=m.speed,Z.animation.configName=p,Z}getSlotName(p){return void 0!==this.spineConfig.slots&&void 0!==this.spineConfig.slots[p]?this.spineConfig.slots[p].name:p}getConfigDataNoUndefined(p){var g,m,Z;const H=this.getAnimationConfig(p);if(!H)throw new Error(`The animation '${p}' is not listed in SparrowAssets for ${this.name}`);if(!this.hasAnimation(H.name))throw new Error(`The animation '${H.name}' doesn't exist on the spine animation ${this.name}`);return{track:null!==(g=H.track)&&void 0!==g?g:0,name:H.name,loop:null!==(m=H.loop)&&void 0!==m&&m,speed:null!==(Z=H.speed)&&void 0!==Z?Z:1}}setSlotVisibility(p,g){const m=this.getSlotName(p),Z=this.skeleton.findSlot(m);(null==Z?void 0:Z.currentSprite)&&(Z.currentSprite.visible=g)}getAnimationConfig(p){const g=this.spineConfig.animations[p];if(!g)return void console.warn(`animationConfig for ${p} does not exist`);const m=KZ(g),Z=void 0!==this.orientation?this.orientation.value:zZ.t.Landscape;return m?g[Z]:g}}var rZ=m(798678);class UZ extends I.mcf{constructor(p){super(),this.props=p,this.spineWrapperMap=new Map,this.fadeOutAnimationsMap=new Map,this.init()}toQualifiedInit(){this.alpha=0}toQualified(){return G.M().callback((()=>{this.alpha=0}))}toQualifyingInit(){this.alpha=1}toQualifying(){return G.M().callback((()=>{this.alpha=1}))}toBonusRoundInit(){this.alpha=0}toBonusRound(){return G.M().callback((()=>{this.alpha=0}))}toResolvedInit(){this.alpha=0}playAnimationForReel(p){const g=this.spineWrapperMap.get(p);if(!g)throw new Error(`can not read spine wrapper at id: ${p}`);g.queueAll(["start","loop"],!0)}stopAnimationForReel(p){const g=this.spineWrapperMap.get(p);if(!g)throw new Error(`can not access container for spin at reelId: ${p}`);if(yp.I())return void g.stop();const m=G.M().sequence(l(g,0,this.props.gameView.animationTimings.nearWinAnimationFadeOut,_.sn)).callback((()=>{g.stop(),g.alpha=1,this.fadeOutAnimationsMap.delete(p)})),Z=s({application:this.props.gameView.app,anim:m});this.fadeOutAnimationsMap.set(p,Z)}onResize(){this.layoutContainer()}dispose(){this.fadeOutAnimationsMap.forEach((p=>{p()}))}buildSpine(p){const g=this.props._loadedAssets[rZ.x.Spine]["reelExcitement"];if(!g)throw new Error(`Data for spine ${p} not yet added.`);const m=new jZ(VZ,g,this.props._ticker,this.props.agApi.orientation);return m.name=p,m}init(){for(let p=t.ND;p<c.XN;p++){const g=this.buildSpine(`reelExcitement_${p}`);this.spineWrapperMap.set(p,g),this.addChild(g)}this.layoutContainer()}layoutContainer(){const{store:p,gameView:g}=this.props,m=g.slot.symbolSize,{x:Z,y:H}=function({deviceInfo:p,renderer:g,slot:m}){const{slotWidth:Z,slotHeight:H}=m,{relX:t,relY:h}=Sp(p,m.getSlotRelMobileY()),k=function({relX:p,canvasWidth:g,slotWidth:m}){return Math.floor(g*p-m/2)}({relX:t,canvasWidth:g.width,slotWidth:Z});return{x:k,y:h*g.height-H/2}}({deviceInfo:p.device,renderer:g.app.renderer,slot:g.slot});this.position.x=Z+.5*m,this.position.y=H+c.z/2*m;const h=236/580;for(let p=t.ND;p<c.XN;p++){const g=this.spineWrapperMap.get(p);if(!g)throw new Error(`Could not receive spine at reelId: ${p}`);g.position.x=p*m,g.width=1.5*m,g.height=g.width/h}}}class CZ extends I.mcf{constructor(p,g,m){super(),this.store=p,this.app=g,this.gameView=m,this.disposeBag=new Op.C,this.enabled=!1,this.shouldShowPopZones=!1,this.poppedDots=[],this.colors=[16711680,65280,255],this.mainArea=void 0,this.texts=[],this.resultLabels=[],this.textStyle={fontFamily:"Inter",fontSize:25,fill:0},this.getAreaWidth=()=>{const{columnWidth:p,columnMarginWidth:g}=this.gameView;return 4*p+3*g},this.name="PopZonesVisualizationContainer",this.disposeBag.addDisposable(k.mJ((()=>p.ui.topUpBalloons.showPopZones),(p=>{this.enabled=p,this.resetVisibility()}),{fireImmediately:!0})),this.disposeBag.addDisposable(k.mJ((()=>[p.ui.topUpBalloons.popZones,p.ui.topUpBalloons.safeZoneOffset]),(()=>{this.resetEverything()}))),this.disposeBag.addDisposable(k.mJ((()=>p.ui.topUpBalloons.poppedBalloons.length),(g=>{if(!g)return;const m=k.HO(p.ui.topUpBalloons.poppedBalloons).pop();m&&(this.showPopPosition(m),this.updateGameResults())}))),this.setupAreas()}onResize(){this.resetEverything()}dispose(){this.disposeBag.dispose(),this.destroy()}toQualifying(){return G.M().callback((()=>this.toQualifyingInit()))}toQualifyingInit(){this.shouldShowPopZones=!1,this.resetVisibility(),this.clearPoppedBalloons()}toQualified(){return G.M().callback((()=>this.toQualifiedInit()))}toQualifiedInit(){this.shouldShowPopZones=!0,this.resetVisibility()}toBonusRound(){return G.M().callback((()=>this.toBonusRoundInit()))}toBonusRoundInit(){this.shouldShowPopZones=!0,this.resetVisibility()}resetEverything(){var p;null===(p=this.mainArea)||void 0===p||p.destroy(),this.removeChildren(),this.texts=[],this.resultLabels=[],this.setupAreas()}setupAreas(){const{leftMostColumnX:p,columnWidth:g}=this.gameView,m=hp(g,this.app.view.height,{platform:this.store.ag.platform,gameDimensions:this.store.ag.gameDimensions,videoAspectRatio:this.store.video.aspectRatio,videoTopOverflow:this.store.video.topOverflow}),Z=this.store.ui.topUpBalloons.safeZoneOffset-m,H=p,t=m,h=this.getAreaWidth(),k=Z;this.mainArea=(new I.A1g).lineStyle(1,"white").beginFill(11184810,.4).drawRect(H,t,h,k).endFill(),this.addChild(this.mainArea),this.store.ui.topUpBalloons.popZones.forEach(((p,g)=>{var m,Z;const[n]=p,S=null!==(Z=null===(m=this.store.ui.topUpBalloons.popZones[g-1])||void 0===m?void 0:m[0])&&void 0!==Z?Z:0,q=Math.round((n-S)*k),D=Math.round(k*(1-n)+t),b=(new I.A1g).lineStyle(1,"white").beginFill(this.colors[g],.2).drawRect(H,D,h,q).endFill(),e=new I.EYj(`Area ${g}: ${Math.round(100*(n-S))}%    Y: ${D}-${D+q-1}`,this.textStyle);e.x=H+10,e.y=D+15,this.texts.push(e),b.addChild(e),this.addChild(b)})),this.setupResults()}getGameResultLabelText(p,g){return`${p} out of ${g} / ${Math.round(p/(g||1)*100)}%`}setupResults(){const p=this.getGameResults(),g=this.getAreaWidth();this.texts.forEach(((m,Z)=>{const H=new I.EYj(this.getGameResultLabelText(p.zones[Z],p.total),this.textStyle);H.x=g,m.addChild(H),this.resultLabels.push(H)}))}getGameResults(){const p=this.store.ui.topUpBalloons.popZones.length;return{total:this.store.ui.topUpBalloons.poppedBalloons.length,zones:this.store.ui.topUpBalloons.poppedBalloons.reduce(((p,g)=>(p[g.popArea]++,p)),Array(p).fill(0))}}updateGameResults(){const p=this.getGameResults();this.resultLabels.forEach(((g,m)=>{g.text=this.getGameResultLabelText(p.zones[m],p.total)}))}resetVisibility(){this.visible=this.enabled&&this.shouldShowPopZones}clearPoppedBalloons(){this.poppedDots.forEach((p=>{p.destroy()})),this.poppedDots=[],this.store.ui.topUpBalloons.clearPoppedBalloons()}showPopPosition(p){const g=(new I.A1g).beginFill(this.colors[p.popArea]).drawCircle(p.x,p.y,5).endFill();this.poppedDots.push(g),this.addChild(g)}}const xZ=-200,RZ=50,cZ=5,OZ=1-.1,fZ=.09,_Z=.632,EZ=.486,GZ=8;class MZ extends I.mcf{constructor(p,g,m,Z,H,t,h,k,n,S,q,D,I){super(),this.store=p,this.app=g,this.assets=m,this.balloonData=Z,this.betMultiplier=H,this.columnColor=t,this.columnWidth=h,this.updateMultiplier=k,this.balloonsUiStore=n,this.amountOfBalloonsInTheColumn=S,this.balloonIndex=q,this.rnd=D,this.speedMode=I,this.isPopped=!1,this.timer=0,this.flightHeightLimit=0,this.hasUpdatedMultiplier=!1,this.flyTicker=p=>{if(this.timer+=p,this.balloonPop.currentFrame<GZ?this.y-=this.speed*p:this.handlePoppedBalloon(),this.period>0){const p=Math.min((this.canvas.height-this.y)/this.canvas.height,1),g=(this.shift?Math.sin:Math.cos)(p*this.period*2*Math.PI);this.x+=this.amplitude*g*this.period,this.rotation=this.rotationCoef*g}else this.rotation=this.rotationCoef*(this.shift?-1:1);if(!this.isPopped){this.speed>=this.balloonsUiStore.config.normalDefaultSpeed/4&&(this.speed+=this.acceleration*p);const g=hp(this.columnWidth,this.canvas.height,this.getFinishRibbonPosYOpts());if(this.y<=g)this.hasUpdatedMultiplier||(this.cacheAsBitmap=!1,this.multiplier&&(this.multiplier.alpha=0),this.updateMultiplier(),this.hasUpdatedMultiplier=!0,this.cacheAsBitmap=!0),this.y<=0&&(this.balloonData.shouldPop&&this.addBalloonToPopped(),this.destroy());else if(this.balloonData.shouldPop){const p=this.speed*GZ/this.balloonPop.animationSpeed;this.y<=this.flightHeightLimit+p&&(this.cacheAsBitmap=!1,this.isPopped=!0,this.playPopBalloon())}}},this.playPopBalloon=()=>{this.balloonPop.playing||(void 0!==this.popArea&&Qp({Y:Np.m.YellowPop,R:Np.m.RedPop,G:Np.m.GreenPop,P:Np.m.PurplePop}[this.columnColor],this.popArea+1),this.balloon.visible=!1,this.balloonPop.visible=!0,this.balloonPop.play(),this.balloonPop.onComplete=()=>{this.addBalloonToPopped(),this.destroy()},this.app.ticker.add(this.fadeMultiplierTicker))},this.fadeMultiplierTicker=p=>{this.multiplier&&(this.multiplier.alpha-=.05*p)},this.canvas=this.app.view,this.color=cp.S5(t)?Vg[t]:t,this.isHighTopUp=Math.abs(this.balloonData.multiplier)>=RZ*H,this.isLowTopUp=Math.abs(this.balloonData.multiplier)<=cZ*H,this.x=0,this.y=this.store.device.isMobilePortrait?xZ:0;const{speedDelta:b,defaultAmplitude:e,amplitudeDelta:N,defaultRotation:d,rotationDelta:Q,defaultAcceleration:$,accelerationDelta:w,swayProbability:Y,period:i}=this.balloonsUiStore.config,P=this.balloonsUiStore.config[`${this.speedMode}DefaultSpeed`];this.speed=this.canvas.height*(P+this.rnd()*b)/1e3,this.shift=Boolean(Math.round(this.rnd())),this.balloon=this.setupBalloon(this.columnWidth),this.balloonPop=this.setupBalloonPop(),ug(this.balloon,this.color),ug(this.balloonPop,this.color),this.setBalloonScale(),this.addChild(this.balloon),this.addChild(this.balloonPop),0!==this.balloonData.multiplier&&(this.multiplier=this.setupMultiplier(),this.addChild(this.multiplier)),this.isHighTopUp&&!yp.I()&&(this.balloonSparkle=this.setupBalloonSparkle(),this.addChild(this.balloonSparkle),this.balloonSparkle.play()),this.setInitialPosition(),this.setFlightHeightLimit(this.columnWidth),this.app.ticker.autoStart=!0,this.app.ticker.add(this.flyTicker),this.isHighTopUp||(this.cacheAsBitmap=!0),this.name="Balloon",this.amplitude=e+this.rnd()*N,this.rotationCoef=d+this.rnd()*Q,this.acceleration=.1*($+this.rnd()*w);const J=!this.isBalloonCloseToSide()&&this.rnd()<=Y;this.period=J?cp.ui(0,i,this.rnd):0}speedUp(){if("fast"===this.speedMode)return;const{speedDelta:p}=this.balloonsUiStore.config,g=this.balloonsUiStore.config.fastDefaultSpeed;this.speed=this.canvas.height*(g+this.rnd()*p)/1e3}destroy(){this.balloonPop.destroy(),this.app.ticker.remove(this.flyTicker),this.app.ticker.remove(this.fadeMultiplierTicker),super.destroy()}isBalloonCloseToSide(){const p=this.amountOfBalloonsInTheColumn%2==0,g=this.columnColor===wp.lm[0]&&0===this.balloonIndex&&p,m=this.columnColor===wp.lm[wp.lm.length-1]&&1===this.balloonIndex&&p;return g||m}setBalloonScale(){let p=this.scale.x;this.isHighTopUp?p=1.3+.2*this.rnd():this.isLowTopUp||(p=1+Math.abs(this.balloonData.multiplier)/this.betMultiplier/RZ/2),this.scale.set(p)}handlePoppedBalloon(){var p;(null===(p=this.balloonSparkle)||void 0===p?void 0:p.playing)&&(this.balloonSparkle.visible=!1,this.balloonSparkle.stop())}getFinishRibbonPosYOpts(){return{platform:this.store.ag.platform,gameDimensions:this.store.ag.gameDimensions,videoAspectRatio:this.store.video.aspectRatio,videoTopOverflow:this.store.video.topOverflow}}addBalloonToPopped(){void 0!==this.popArea&&this.balloonsUiStore.addPoppedBalloon({color:this.columnColor,popArea:this.popArea,x:this.x,y:this.y})}setFlightHeightLimit(p){if(this.balloonData.shouldPop){const g=hp(p,this.canvas.height,this.getFinishRibbonPosYOpts()),m=this.balloonsUiStore.safeZoneOffset-g,Z=this.rnd();let H,t=0;this.balloonsUiStore.popZones.every(((p,g)=>{var h,k;const[n,S]=p,q=Z<=S,D=null!==(k=null===(h=this.balloonsUiStore.popZones[g-1])||void 0===h?void 0:h[0])&&void 0!==k?k:0,I=this.rnd()*(n-D);return t=m*(1-n+I),H=g,!q})),this.popArea=H,this.flightHeightLimit=t+g}}setupBalloonPop(){const p=this.isHighTopUp?S.U3.BalloonPopHighMultiplierTextures:S.U3.BalloonPopTextures,g=new I.Dl5(this.assets[p]),m=g.width/g.height;return g.anchor.set(.5,fZ+EZ/2),g.scale.x*=this.rnd()>.5?1:-1,g.animationSpeed=.5,g.visible=!1,g.loop=!1,g.width=this.balloon.width/_Z,g.height=g.width/m,g}setupBalloonSparkle(){const p=S.U3.BalloonSparkle,g=new I.Dl5(this.assets[p]);return g.anchor.set(.5,this.balloonPop.anchor.y),g.scale.x=this.balloonPop.scale.x,g.animationSpeed=.2,g.loop=!0,g.width=this.balloonPop.width,g.height=this.balloonPop.height,g}setupBalloon(p){const g=new I.kxk,m=this.isHighTopUp?S.U3.HighMultiplierBalloon:S.U3.TopUpBalloon;g.texture=this.assets[m],g.anchor.set(.5);const Z=pp(g),H=p*J;return g.width=H,g.height=Math.round(g.width/Z),g}setupMultiplier(){const p=Math.max(this.balloon.height,this.balloon.width),g=.4*this.balloon.height,m=Math.abs(this.balloonData.multiplier),Z=`+${m}`,H=this.isHighTopUp?this.assets.highMultiplierFont.font:this.assets.cloudMultiplierFont.font,t=this.isHighTopUp?this.assets.config.HIGH_MULTIPLIER_LETTER_SPACING:this.assets.config.CLOUD_MULTIPLIER_LETTER_SPACING,h=Math.min(1.2,4/Z.length),k=Math.round(.27*p*h),n=new I.T7$(`${m}`,{fontName:H,fontSize:k,align:"center",letterSpacing:t});let S=n.width;n.text=Z;let q=n.width-S,D=(S/2+q)/(this.balloon.width/2);D>OZ&&(D=1-(D-OZ),n.scale.set(D),q*=D,S*=D),n.anchor.set(0,.5),n.x=(p-S)/2-q,n.y=g,n.name="multiplier";const b=I.Y7R.create({height:p,width:p});this.app.renderer.render(n,{renderTexture:b});const e=new I.kxk(b);return e.name="multiplier",e.anchor.set(.5),e.text=Z,e}setInitialPosition(){const p=y*this.balloon.width;this.x=this.getUnsafeInitialHorizontalPosition(p,p)}getUnsafeInitialHorizontalPosition(p,g){if(this.amountOfBalloonsInTheColumn%2==0){const m=g/2,Z=this.balloonIndex%2==0,H=(Z?this.balloonIndex/2:(this.balloonIndex-1)/2)*(p+g)+m;return(Z?-1:1)*cp.ui(H,H+p,this.rnd)}if(0===this.balloonIndex)return cp.ui(-p/2,p/2,this.rnd);const m=p/2+g,Z=this.balloonIndex%2==1,H=(Z?(this.balloonIndex-1)/2:this.balloonIndex/2-1)*(p+g)+m;return(Z?-1:1)*cp.ui(H,H+p,this.rnd)}}class sZ extends I.mcf{constructor(p,g,m,Z,H){super(),this.store=p,this.app=g,this.assets=m,this.multipliers=Z,this.gameView=H,this.currentBalloons=[],this.disposeBag=new Op.C,this.isActive=!1,this.name="TopUpBalloonsContainer",this.disposeBag.addDisposables([k.mJ((()=>this.store.gameStore.topUpBalloons),(p=>{if(this.store.isFirstStateAfterConnecting){if(this.currentBalloons.forEach((p=>this.removeChild(p))),this.currentBalloons=[],Yg.isQualifiedGame(this.store.gameStore.game)){const p=this.store.settings.multiplierSparksFrom,g=this.store.gameStore.totalMultipliers||TZ,m=Math.max(g.R,g.G,g.P,g.Y);wp.lm.forEach((Z=>{const H=g[Z]<p?"none":g[Z]===m?"both":"top";this.multipliers[Z].updateValue("instantly",g[Z],0,H)}))}}else this.isActive&&p&&(this.launchBalloons(p,this.gameView.speedMode),this.gameView.setIsBalloonReceivalPending(!1),this.store.slamStop.resetFor("topUp"))})),k.mJ((()=>Yg.isQualifiedGame(this.store.gameStore.game)),(()=>{this.currentBalloons.forEach((p=>this.removeChild(p))),this.currentBalloons=[]}))])}onResize(){}dispose(){this.currentBalloons=[],this.disposeBag.dispose(),this.deactivate(),this.destroy()}toQualifying(){return G.M().callback((()=>this.toQualifyingInit()))}toQualifyingInit(){this.visible=!1}toQualified(){return G.M().callback((()=>this.toQualifiedInit()))}toQualifiedInit(){this.visible=!0,this.activate()}toBonusRound(){return G.M().callback((()=>this.toBonusRoundInit()))}toBonusRoundInit(){this.speedUpExistingBalloons(),this.deactivate()}speedUpExistingBalloons(){this.currentBalloons.filter((p=>!p.isPopped)).forEach((p=>p.speedUp()))}launchBalloons(p,g){if(this.store.stateError)return;const{baseBetAmount:m}=this.store.gameStore;wp.lm.forEach((Z=>{const H=p[Z];H&&H.forEach(((p,t)=>{const h=this.multipliers[Z],k=new MZ(this.store,this.app,this.assets,p,m?this.store.bettingStore.betAmount/m:1,Z,this.gameView.columnWidth,(()=>{0!==p.multiplier&&this.currentBalloons.includes(k)&&this.onBalloonReachRibbon(Z,h.value+p.multiplier)}),this.store.ui.topUpBalloons,H.length,t,this.store.randomFn,g);k.position.x+=h.position.x,k.position.y+=this.app.view.height,this.addChild(k),this.currentBalloons.push(k)}))}))}onBalloonReachRibbon(p,g){const m=Math.max(g,...Object.values(this.multipliers).map((p=>p.value)));wp.lm.forEach((Z=>{const H=this.multipliers[Z],t=H.value,h=Z===p?g:t;H.updateValue(h===t?"instantly":"withTopUpAnimation",h,t,h<this.store.settings.multiplierSparksFrom?"none":h===m?"both":"top")})),this.store.soundStore.triggerEvent({Y:Np.m.YellowWin,R:Np.m.RedWin,G:Np.m.GreenWin,P:Np.m.PurpleWin}[p])}activate(){this.isActive=!0}deactivate(){this.isActive=!1}}const TZ={G:0,P:0,R:0,Y:0},lZ=90,AZ=100,LZ=3,oZ=200,pH=.65,gH=.44,mH=.45,ZH=.4,HH=.4,tH=100,hH=300,kH={fontFamily:"Inter",fontSize:lZ,fill:["#a04a56","#d87867"],fontWeight:"900",align:"center",lineHeight:1.1*lZ};const nH=1500,SH=1e3,qH=6e3;class DH extends R{constructor(p,g,m){super(g),this.store=p,this.app=g,this.assets=m,this.animationState="Idle",this.isActive=!1,this.disposeBag=new Op.C,this.name="TopUpBannerContainer",this.visible=!1,this.topUpBanner=function(p,g,m){const Z=new I.mcf;Z.name="TopUpBanner";const H=new I.A1g;H.beginFill("#FFFFFF"),H.drawCircle(0,0,200);const t=new I.eV2;H.filters=[t];const h=new I.kxk(p[S.U3.TopUpBanner]);h.anchor.set(.5,.5);const k=new I.EYj(ig.Tl(ig.R1.TopUpTimeUppercase),{...kH,fill:"#FFFFFF"});k.anchor.set(.5),k.position.y=AZ+LZ;const n=new I.EYj(ig.Tl(ig.R1.TopUpTimeUppercase),kH);n.anchor.set(.5),n.position.y=AZ,Z.addChild(H,h,k,n);const q=function(p,g,m,Z){let H=m.height*gH/g.height;if(f.DS.IS_PHONE){H=m.width*pH/g.width;const t=m.height-(tH+hH)*Z;p.height*H>t&&(H*=t/(p.height*H)),H=Math.max(H,.3)}else f.DS.IS_TABLET&&(H=m.height*ZH/g.height);return H}(Z,h,g,m);return t.blur=oZ*q,Z.scale.set(q),Z.cacheAsBitmap=!0,Z}(this.assets,this.app.view,this.app.renderer.resolution),this.addChild(this.topUpBanner),this.topUpBanner.position.set(.5*this.defaultResolution.width,this.defaultResolution.height),this.setScaleMode(x.X)}dispose(){this.deactivate(),this.destroy()}toQualifying(){return this.toQualifyingInit(),G.M()}toQualifyingInit(){var p;this.visible=!1,this.deactivate(),null===(p=this.stopActiveAnimation)||void 0===p||p.call(this)}transitionToQualified(){this.activate()}toQualified(){return G.M()}toQualifiedInit(){this.store.ui.mainButton.isDisabled||this.activate()}toBonusRound(){return this.goToNextState("FlyingToTop"),G.M()}toBonusRoundInit(){var p;this.visible=!1,this.deactivate(),null===(p=this.stopActiveAnimation)||void 0===p||p.call(this)}activate(){const p=this.store.bonusGameStore.timeUntilNextRace&&pm.vO(this.store.bonusGameStore.timeUntilNextRace)<=qH;this.isActive||p||(this.isActive=!0,this.disposeBag.addDisposable(k.mJ((()=>({hasTopUpBalloons:Boolean(this.store.gameStore.topUpBalloons),isTopUpRoundUIState:this.store.ui.uiState.state===Rp.TopUpRound,isTopUpButtonDisabled:this.store.ui.mainButton.isDisabled})),(({hasTopUpBalloons:p,isTopUpRoundUIState:g,isTopUpButtonDisabled:m},Z)=>{p&&!Z?this.goToNextState("Idle"):m&&Z||p&&!(null==Z?void 0:Z.hasTopUpBalloons)?this.goToNextState("FlyingToTop"):g&&!(null==Z?void 0:Z.isTopUpRoundUIState)&&this.goToNextState("FlyingToMiddle")}),{fireImmediately:!0})))}deactivate(){this.disposeBag.dispose(),this.isActive=!1}goToNextState(p){var g;if(!this.isActive)return;let m;switch(this.animationState=p,null===(g=this.stopActiveAnimation)||void 0===g||g.call(this),this.animationState){case"FlyingToMiddle":this.visible=!0,this.topUpBanner.position.y=this.defaultResolution.height+.5*this.topUpBanner.height,this.topUpBanner.angle=0;const p=(Z=this.defaultResolution,H=this.app.renderer.resolution,f.DS.IS_PHONE?tH*H+.5*(Z.height-(tH+hH)*H):f.DS.IS_TABLET?Z.height*HH:Z.height*mH);m=E.M(this.topUpBanner).animateTo({y:p},tZ.fP(SH),Rm.sh),this.store.ui.mainButton.isDisabled?m.delay(1).callback((()=>{this.goToNextState("FlyingToTop")})):m.callback((()=>{this.goToNextState("FloatingAround")})),this.stopActiveAnimation=s({anim:m,application:this.app});break;case"FloatingAround":if(this.visible=!0,m=E.M(this.topUpBanner).animateTo({y:this.topUpBanner.y+5,x:this.topUpBanner.x+5,angle:2},tZ.fP(nH),Rm.rH).animateTo({y:this.topUpBanner.y,x:this.topUpBanner.x,angle:0},tZ.fP(nH),Rm.rH),yp.I())return;this.stopActiveAnimation=s({anim:m,application:this.app,repeat:Number.MAX_VALUE});break;case"FlyingToTop":this.visible=!0,m=E.M(this.topUpBanner).animateTo({y:.5*-this.topUpBanner.height},tZ.fP(SH),Rm.JW).callback((()=>{this.goToNextState("Idle")})),this.stopActiveAnimation=s({anim:m,application:this.app});break;case"Idle":this.visible=!1,this.deactivate()}var Z,H;yp.I()&&(null==m||m.fastForward())}}const IH=.5;class bH extends I.mcf{constructor(p,g,m,Z){super(),this.store=p,this.app=g,this.currencySymbol=m,this.gameView=Z,this.text=void 0,this.animationPromise=void 0,this.name="TotalWin"}async hide(){if(!this.text)return;const p=G.M().sequence(E.M(this.text).animateTo({alpha:0},this.gameView.animationTimings.slotWinningResultFadeOut,_.dV));await this.animationPromise,this.animationPromise=A(p,this.app)}show(p,g=!1){var m,Z;const{totalWinSpotRect:H}=this.store.ui;if(!p||!H)return;const t=G.M();if(null===(m=this.animationPromise)||void 0===m||m.cancel(),null===(Z=this.text)||void 0===Z||Z.destroy(),this.text=new bg(cp.A(p,this.currencySymbol),this.fontSize,!0),this.addChild(this.text),this.text.scale.set(IH),this.text.calculateBounds(),this.pivot.set(this.width/2,0),this.scale.set(this.text.fontSizeScale),g)return this.text.alpha=1,void this.text.scale.set(1);this.text.alpha=0,t.parallel([E.M(this.text).animateTo({alpha:1},this.gameView.animationTimings.slotWinningResultFadeIn,_.dV),E.M(this.text.scale).animateTo({x:1,y:1},this.gameView.animationTimings.slotWinningResultFadeIn,_.iJ)]),this.animationPromise=A(t,this.app)}dispose(){var p;null===(p=this.animationPromise)||void 0===p||p.cancel(),this.disposeReaction()}onResize(){var p;const{totalWinSpotRect:g}=this.store.ui;if(!g||!this.text)return;const m=ep(this.gameView.appRect,g);null===(p=this.text)||void 0===p||p.update({fontSize:this.fontSize}),this.position.set(m.x+m.width,m.y+m.height/2)}get fontSize(){const{symbolSize:p}=this.store.gameView.slot;return U[this.store.device.platform]*p}}var eH;(function(p){p[p["QualificationLandscape"]=0]="QualificationLandscape",p[p["QualificationPortrait"]=1]="QualificationPortrait",p[p["TopUpLandscape"]=2]="TopUpLandscape",p[p["BonusGameLandscape"]=3]="BonusGameLandscape",p[p["BonusGamePortrait"]=4]="BonusGamePortrait",p[p["TopUpPortrait"]=5]="TopUpPortrait"})(eH||(eH={}));const NH={[Rp.Qualifying]:eH.QualificationLandscape,[Rp.SlotSpin]:eH.QualificationLandscape,[Rp.MovingToTopUpRound]:eH.QualificationLandscape,[Rp.TopUpRound]:eH.TopUpLandscape,[Rp.MovingToBonusRound]:eH.TopUpLandscape,[Rp.BonusRound]:eH.BonusGameLandscape,[Rp.Resolved]:eH.BonusGameLandscape},dH={[Rp.Qualifying]:eH.QualificationPortrait,[Rp.SlotSpin]:eH.QualificationPortrait,[Rp.MovingToTopUpRound]:eH.QualificationPortrait,[Rp.TopUpRound]:eH.TopUpPortrait,[Rp.MovingToBonusRound]:eH.TopUpPortrait,[Rp.BonusRound]:eH.BonusGamePortrait,[Rp.Resolved]:eH.BonusGamePortrait},QH=[eH.QualificationLandscape,eH.QualificationPortrait],$H=[eH.QualificationPortrait,eH.TopUpPortrait,eH.BonusGamePortrait],wH=[eH.BonusGameLandscape,eH.BonusGamePortrait],YH=1920,iH=1080,PH=iH/YH,JH=YH/iH,yH=3;var WH=m(357117);class vH{constructor(p){this.application=p,this.callbacks=[]}start(){this.timeScale=1;for(const p of this.callbacks)this.application.ticker.add(p)}stop(){for(const p of this.callbacks)this.application.ticker.remove(p);this.application.ticker.stop()}add(p){const g=()=>p(this.deltaMS);return this.callbacks.push(g),this.application.ticker.add(g),()=>{const p=this.callbacks.indexOf(g);-1!==p&&(this.callbacks.splice(p,1),this.application.ticker.remove(g))}}get timeScale(){return this.application.ticker.speed}set timeScale(p){this.application.ticker.speed=p}get deltaMS(){return this.application.ticker.deltaMS}get scaledDeltaMS(){return this.deltaMS}get deltaTime(){return this.application.ticker.deltaTime}}var VH=m(993738);const zH={[b.OD.Phone]:{totalSpaceWidth:1,columnMarginWidth:0},[b.OD.Desktop]:{totalSpaceWidth:.5,columnMarginWidth:0},[b.OD.Tablet]:{totalSpaceWidth:.49,columnMarginWidth:.05}},BH={[wp.Qc.Qualifying]:Rp.Qualifying,[wp.Qc.BonusRound]:Rp.BonusRound,[wp.Qc.Qualified]:Rp.TopUpRound,[wp.Qc.Resolved]:Rp.Resolved,[wp.Qc.Cancelled]:Rp.Qualifying};class uH{constructor(p){this.props=p,this.columnWidth=0,this.columnMarginWidth=0,this.leftMostColumnX=0,this.isBalloonReceivalPending=!1,this.multiplierFontSize=1,this.whenInitialized=new O.h,this._isScreenShrunk=!1,this.disposeBag=new Op.C,this.renderTimeoutID=0,this.components=[],this.timelinePromise=cp.Ej(),this.timelineTasks=[],this.handleStateChange={[Rp.Qualifying]:p=>this.handleQualifyingPhase(p),[Rp.SlotSpin]:()=>{},[Rp.MovingToTopUpRound]:()=>this.handleMovingToTopUpRound(),[Rp.TopUpRound]:p=>this.handleTopUpPhase(p),[Rp.MovingToBonusRound]:()=>this.handleMovingToBonusGame(),[Rp.BonusRound]:p=>this.handleBonusRoundPhase(p),[Rp.Resolved]:p=>this.handleResolvedPhase(p)},this.dispose=()=>{var p,g;this.disposeBag.dispose(),window.clearTimeout(this.renderTimeoutID),this.app.destroy(!0,{children:!0}),null===(p=this.assets)||void 0===p||p.dispose(),this.assetsBox.set(void 0),null===(g=this.excitementSpinContainer)||void 0===g||g.dispose()},this.spinSlot=()=>{this.slot&&!this.store.ui.slotUIStore.isSlotSpinning&&(this.store.soundStore.triggerEvent(Np.m.ButtonSpin,"release"),this.slot.startSpin(),this.totalWin.hide(),this.store.bettingStore.spin(),this.store.abstractGame.clearWinAmount())},this.topUp=()=>{this.store.soundStore.triggerEvent(Np.m.ButtonSpinTopUp,"release"),this.store.bettingStore.topUp()},this.onRendererResize=()=>{window.clearTimeout(this.renderTimeoutID),this.renderTimeoutID=window.setTimeout((()=>{var p;this.setScreenWidthSpecificValues(),this.components.forEach((p=>p.onResize())),null===(p=this.excitementSpinContainer)||void 0===p||p.onResize(),this.gameResult.onResize(),this.clouds.onResize(),this.totalWin.onResize()}))},this.onVisibilityChange=p=>{this.finishContainer.onVisibilityChange(),p?(this.slot.startSlotFloatAnimation(),this.cancelTasks(),this.store.ui.slotUIStore.isSlotSpinning||this.store.ui.uiState.updateUiState(BH[this.store.gameStore.game.state],!0)):this.slot.stopSlotFloatAnimation()},this.addQueueTask=p=>{this.timelineTasks.push(p),1===this.timelineTasks.length&&this.enqueue()};const{store:g}=p;this.store=g;const{application:m}=function(p){const{application:g}=function(p,g=!0){const m=new I.lgM({backgroundColor:1122867,...p});(function(p){const g=p.renderer.context.webGLVersion;dm.KC(g)})(m);const Z=new Qm;m.ticker=Z,Z.start(),qm.ui(Nm,em);const H=m.destroy.bind(m);return m.destroy=(...p)=>{Z.dispose(),qm.Xv(Nm),H(...p)},g&&Dm.c(m),{application:m}}({backgroundAlpha:0,resolution:p.resolution,autoDensity:!0,sharedTicker:!0});return{application:g}}(g.gameConfig);this.app=m,this._ticker=new vH(m),this.assetsBox=k.sH.box(void 0),this.init(),k.l_(this,{},{autoBind:!0})}get isFastModeActivated(){var p;const g=!!(null===(p=this.store.slamStop)||void 0===p?void 0:p.isAnySlamStopRequested);return this.store.ui.isInTurboMode||g}get speedMode(){return this.isFastModeActivated?"fast":"normal"}get animationTimings(){return this.store.settings.uiAnimationTimingsAtSpeed[this.speedMode]}get isNarrowScreen(){return this.store.device.isMobilePortrait||this._isScreenShrunk}get columnConfiguration(){return zH[this.store.device.DS.PLATFORM]}get appRect(){var p,g;const m=this.app,Z=null===(g=(p=m.view).getBoundingClientRect)||void 0===g?void 0:g.call(p);if(!Z)throw new Error("can not get Pixi view boundingClientRect");return{x:Z.x*m.renderer.resolution,y:Z.y*m.renderer.resolution,width:m.view.width,height:m.view.height}}setIsBalloonReceivalPending(p){this.isBalloonReceivalPending=p}get ticker(){return this._ticker}async init(){const p=1/this.store.gameConfig.resolution;this.app.stage.scale={x:p,y:p},this.app.stage.name="GameRootContainer",this.app.stage.sortableChildren=!0,await k.z7((()=>!!this.store.ui.mainButton.rect));const g=await S.y7.load();if(!g)return;const[m,Z]=g;k.h5((()=>{this._loadedAssets=m,this.assets=Z,this.assetsBox.set(this.assets),this.setScreenWidthSpecificValues(),this.app.renderer.on("resize",this.onRendererResize),document.addEventListener(VH.Dd,this.onRendererResize),this.disposeBag.addDisposable((()=>{document.removeEventListener(VH.Dd,this.onRendererResize)})),this.slot=this.disposeBag.addDisposable(new vZ({app:this.app,assets:this.assets,store:this.store,gameView:this})),this.components.push(this.slot),this.excitementSpinContainer=new UZ({agApi:this.props.agApi,store:this.store,gameView:this,_loadedAssets:this._loadedAssets,_ticker:this._ticker}),this.components.push(this.excitementSpinContainer),this.app.stage.addChild(this.excitementSpinContainer),this.app.stage.addChild(this.slot),this.store.settings.isCallToActionEnabled&&(this.callToAction=new Sm({gameView:this,store:this.store}),this.app.stage.addChild(this.callToAction),this.components.push(this.callToAction),this.mainButtonShadow=new pZ({gameView:this,device:this.store.device}),this.app.stage.addChild(this.mainButtonShadow),this.components.push(this.mainButtonShadow)),this.clouds=new op(this.app,this.assets,this.store,this),this.app.stage.addChild(this.clouds),this.finishContainer=this.disposeBag.addDisposable(new Um(this.store,this.app,this.assets,this)),this.topUpBalloonsContainer=this.disposeBag.addDisposable(new sZ(this.store,this.app,this.assets,this.finishContainer.multipliersAtColor,this)),this.app.stage.addChild(this.topUpBalloonsContainer),this.components.push(this.topUpBalloonsContainer),this.topUpBannerContainer=this.disposeBag.addDisposable(new DH(this.store,this.app,this.assets)),this.app.stage.addChild(this.topUpBannerContainer),this.components.push(this.topUpBannerContainer),this.app.stage.addChild(this.finishContainer),this.components.push(this.finishContainer);const[p,g]=function(p,g,m,Z,H,t){const h=new I.mcf,n=[],q=[];function D(){n.forEach((p=>p())),n.length=0}return q.push(k.mJ((()=>{var p;return null===(p=null==g?void 0:g.gameStore.bonusRound)||void 0===p?void 0:p.drawnBalls}),((k,q)=>{const b=(null==k?void 0:k.length)!==(null==q?void 0:q.length)&&(null==k?void 0:k[k.length-1]);g.ui.uiState.isBonusRound&&b&&(D(),function(k){const q=p.renderer.resolution,D=new I.mcf,b=new I.kxk(m[S.U3.BallTrail]);b.anchor.set(.5,.2),b.scale.set(.8),D.addChild(b);const e=new I.kxk(m[S.U3.Ball]);ug(e,Vg[k]),e.anchor.set(.5,.5),D.addChild(e);const N=Kg(1.2*e.width,1.2*e.height,0,.015*e.width);D.addChild(N.container);const d=Kg(e.width,e.height,0,.015*e.width,"trail");d.container.rotation=Math.PI,D.addChild(d.container),h.addChild(D);const Q=t(),$=H(),w={x:q*Q,y:q*Q};D.position.set($.x,p.renderer.height),D.scale.set(0);const Y=g.device.isPhone;Y&&(h.alpha=0);const i=()=>{N.dispose(),d.dispose(),D.destroy({children:!0}),h.removeChild(D)};n.push(s({anim:G.M().delay(g.settings.uiBallDelay).callback((()=>g.soundStore.triggerEvent(Np.m.NextBall))).parallel([...Y?[E.M(h).animateTo({alpha:1},Z.ballRiseDuration,_.dn)]:[],E.M(D.position).animateTo($,Z.ballRiseDuration,_.am),E.M(D.scale).animateTo(w,Z.ballScaleInDuration,_.iJ).delay(Z.ballHoldDelay).animateTo({x:0,y:0},Z.ballScaleOutDuration,Xg),E.M(b).delay(Z.ballTrailFadeOutDelay).animateTo({alpha:0},Z.ballTrailFadeOutDuration)]).callback(i),application:p})),n.push(i)}(b))}))),q.push(k.mJ((()=>null==g?void 0:g.ui.uiState.state),(p=>{p===Rp.BonusRound||p===Rp.Resolved&&!g.isFirstStateAfterConnecting||D()}))),[h,()=>{D(),q.forEach((p=>p())),h.destroy({children:!0})}]}(this.app,this.store,this.assets,this.animationTimings,(()=>{const{height:p,topOverflow:g,shouldShowLandscape:m}=this.store.video;return{x:this.leftMostColumnX+(mp(0,this)+mp(1,this))/2,y:this.app.renderer.resolution*(-g+p*(m?.75:.8))}}),(()=>this.store.video.height*(this.store.video.shouldShowLandscape?9e-4:7e-4)));this.disposeBag.addDisposable(g),this.app.stage.addChild(p),this.bonusGameMultipliers=new _g(this.assets,this.app,this.store,this.finishContainer.multipliersAtColor,this),this.bonusGameBackgroundAnimation=this.disposeBag.addDisposable(new xp({app:this.app,assets:this.assets,gameView:this,bonusGameMultipliers:this.bonusGameMultipliers,gameStore:this.store.gameStore,_loadedAssets:this._loadedAssets,_ticker:this._ticker})),this.app.stage.addChild(this.bonusGameBackgroundAnimation),this.components.push(this.bonusGameBackgroundAnimation),this.app.stage.addChild(this.bonusGameMultipliers),this.components.push(this.bonusGameMultipliers),this.scatterMultipliers=new vg({app:this.app,store:this.store,gameView:this,clouds:this.clouds}),this.app.stage.addChild(this.scatterMultipliers),this.components.push(this.scatterMultipliers),this.bonusRoundLogo=new mm(this.app,this.assets,this.animationTimings),this.app.stage.addChild(this.bonusRoundLogo),this.components.push(this.bonusRoundLogo),this.gameResult=this.disposeBag.addDisposable(new om(this,this.app,this.assets,this.store.abstractGame.currencySymbol,this.store.device)),this.app.stage.addChild(this.gameResult),this.totalWin=new bH(this.store,this.app,this.store.abstractGame.currencySymbol,this),this.app.stage.addChild(this.totalWin),(WH.ZQ()||0&&0)&&(this.popZonesVisualizationContainer=this.disposeBag.addDisposable(new CZ(this.store,this.app,this)),this.app.stage.addChild(this.popZonesVisualizationContainer),this.components.push(this.popZonesVisualizationContainer)),this.whenInitialized.resolve(!0),this.setupReactions()}))}setupReactions(){this.disposeBag.addDisposables([k.mJ((()=>({state:this.store.ui.uiState.state,invalid:this.store.ui.uiState.invalidTransition})),(({state:p,invalid:g},m)=>{var Z,H;const t=g||null==m?void 0:m.state;null===(H=(Z=this.handleStateChange)[p])||void 0===H||H.call(Z,t),this.onRendererResize()}),{fireImmediately:!0}),k.mJ((()=>this.store.gameStore.game),(async p=>{if(!this.slot)throw"Slot engine is not initialized";if(Yg.isQualifyingGame(p)&&this.store.stateError&&await this.forceStopSlotIfNeccesary(),Yg.isSlotGameWithResult(p)||Yg.isQualifiedGameWithSlotResult(p)){const g=this.store.stateError?{grid:cp.DG(this.store.randomFn),scatterMultipliers:[],winLines:[]}:p.mainSlot,m=cp.Hq(g,this.store.randomFn);this.slot.scatterMultipliers=cp._t(g),this.store.ui.slotUIStore.isSlotSpinning&&!this.store.ui.slotUIStore.isSlotStopping&&await this.slot.stopSpin(m)}else Yg.isQualifyingGame(p)&&await this.forceStopSlotIfNeccesary()})),k.mJ((()=>this.store.abstractGame.agValues.isPageVisible),this.onVisibilityChange),k.mJ((()=>({streamId:this.store.ag.video.currentStreamId,cloudState:this.store.ui.uiState.cloudState})),(({streamId:p,cloudState:g})=>{if([eH.TopUpLandscape,eH.TopUpPortrait,eH.BonusGameLandscape,eH.BonusGamePortrait].includes(p)&&g===_p.AppearedAnimation){const g=this.store.settings.phoneTopUpToBonusClouds&&f.DS.IS_PHONE&&wH.includes(p);this.clouds.scatterClouds(g)}})),k.mJ((()=>this.store.ui.winningResult),(p=>{if(p){const{winningColor:g,totalMultiplier:m}=this.store.ui;g&&p&&m&&this.finishContainer.showGameResultAnimation(g).callback((()=>{this.gameResult.show(g,p,m,this.store.gameStore.totalBetAmountOrZero)}))}}),{fireImmediately:!0}),k.mJ((()=>!this.store.ui.slotUIStore.reelsAnimating),(p=>{const{game:g}=this.store.gameStore;p&&Yg.isQualifyingGameWithSlotResult(g)&&this.totalWin.show(g.winAmount,yp.I())})),k.mJ((()=>this.store.spinModeStore.spinMode),(p=>{var g,m;null===(g=this.callToAction)||void 0===g||g.setPromo(Hm[p]),null===(m=this.mainButtonShadow)||void 0===m||m.setPromo(Hm[p])}),{fireImmediately:!0}),k.mJ((()=>{var p,g;return this.store.gameStore.game.state===wp.Qc.BonusRound&&((null===(g=null===(p=this.store.gameStore.bonusRound)||void 0===p?void 0:p.drawnBalls)||void 0===g?void 0:g.length)||0)>0}),(p=>{p&&this.finishContainer.toDrawBallStarted()}),{fireImmediately:!0}),k.mJ((()=>this.store.ui.slotUIStore.slotArea),(p=>{var g;this.slot.fitToSlotArea(p),null===(g=this.callToAction)||void 0===g||g.onResize(),this.scatterMultipliers.onResize()}),{fireImmediately:!0})])}async handleQualifyingPhase(p){const g=this.store.gameStore.getQualifyingGame();if(!g)return;if(void 0===p)return this.components.forEach((p=>p.toQualifyingInit(g))),this.store.ui.setWinningResult(void 0),this.store.ui.uiState.setIsWaitingForQualifyingStream(!1),void this.gameResult.hide();if(p===Rp.SlotSpin)return;this.store.ui.uiState.setIsWaitingForQualifyingStream(!0);const m=G.M().parallel(this.components.map((p=>p.toQualifying(g))));this.addQueueTask((()=>k.z7((()=>this.store.ag.video.isPlaying&&QH.includes(this.store.ag.video.currentStreamId)),{timeout:pm.vO(this.animationTimings.maxDelayBeforeQualifyingSec)}))),this.addQueueTask((()=>cp.fm(pm.vO(this.animationTimings.bonusRoundEndVideoSwitchDelay)))),this.addQueueTask((()=>(this.store.ui.setWinningResult(void 0),this.store.ui.uiState.setIsWaitingForQualifyingStream(!1),this.gameResult.hide(),cp.Ej()))),this.addQueueTask((()=>A(m,this.app))),yp.I()&&(m.tick(5e3),this.cancelTasks())}async handleMovingToTopUpRound(){const p=this.store.gameStore.getQualifiedGame();if(!p)return;const g=[G.M().callback((()=>{this.store.ui.uiState.setIsYouQualifiedAnimationRunning(!0)})).sequence(this.scatterMultipliers.toQualified(p)).callback((()=>{this.store.ui.uiState.setIsYouQualifiedAnimationRunning(!1)})),this.slot.toQualified(),this.topUpBalloonsContainer.toQualified(),this.topUpBannerContainer.toQualified(),this.excitementSpinContainer.toQualified()];this.callToAction&&this.mainButtonShadow&&(g.push(this.callToAction.toQualified()),g.push(this.mainButtonShadow.toQualified())),void 0!==this.popZonesVisualizationContainer&&g.push(this.popZonesVisualizationContainer.toQualified()),this.addQueueTask((()=>k.z7((()=>this.store.ui.slotUIStore.haveSlotAndScatterAnimationsEnded)))),this.addQueueTask((()=>A(G.M().parallel(g),this.app)))}handleTopUpPhase(p){const g=this.store.gameStore.getQualifiedGame();g&&this.components.forEach((m=>{p||m.toQualifiedInit(g),p&&m.transitionToQualified&&m.transitionToQualified(g)}))}async handleMovingToBonusGame(){const p=this.store.gameStore.getBonusGame();p&&(this.slot.setNonWinningResult(),this.addQueueTask((()=>A(G.M().parallel(this.components.map((g=>g.toBonusRound(p)))),this.app))),this.store.settings.phoneTopUpToBonusClouds&&f.DS.IS_PHONE&&this.store.ui.uiState.cloudState!==_p.AppearedAnimation&&this.clouds.appearClouds())}handleBonusRoundPhase(p){const g=this.store.gameStore.getBonusGame();!p&&g&&this.components.forEach((p=>p.toBonusRoundInit(g)))}handleResolvedPhase(p){const g=this.store.gameStore.getResolvedGame();!p&&g&&this.components.forEach((p=>{var m;return null===(m=p.toResolvedInit)||void 0===m?void 0:m.call(p,g)}))}setScreenWidthSpecificValues(){const{totalSpaceWidth:p,columnMarginWidth:g}=this.columnConfiguration,{boxWidth:m,width:Z}=this.store.ag.gameDimensions,H=m/Z,{scale:t}=this.store.video,h=this.store.device.DS.PLATFORM===b.OD.Tablet?H<1?H:t:1,k=this.app.view.width*p*h;this.columnMarginWidth=k*g,this.columnWidth=k/wp.lm.length-this.columnMarginWidth,this.leftMostColumnX=(this.app.view.width-k)/2+this.columnMarginWidth/2,this.multiplierFontSize=Zp(this.columnWidth)}async enqueue(){const p=this.timelineTasks[0];if(p){k.h5((()=>{this.timelinePromise=p()}));try{await this.timelinePromise}catch(p){}this.timelineTasks.shift(),this.enqueue()}}cancelTasks(){this.timelinePromise.cancel(),k.h5((()=>{this.timelinePromise=cp.Ej(),this.timelineTasks=[]}))}async forceStopSlotIfNeccesary(){if(this.store.ui.slotUIStore.isSlotSpinning&&!this.store.ui.slotUIStore.isSlotStopping){const p={grid:cp.DG(this.store.randomFn),scatterMultipliers:[],winLines:[]};this.slot.scatterMultipliers=cp._t(p),await this.slot.stopSpin(p)}}}var aH=m(836202),FH=m(824657);const XH=p=>{const{setSpinMode:g}=p,m=Z.useCallback((p=>{g(p)}),[g]);return h.jsx(FH.l,{...p,setSpinMode:m})},KH=aH.S((p=>{const g={currencySymbol:p.abstractGame.currencySymbol,isOpen:p.ui.xxxtremeDrawer.isVisible,isPhone:p.device.isPhone,isTablet:p.device.isTablet,isLandscape:p.device.isLandscape,xxxtremeBetPerSpin:p.spinModeStore.betAmountAtXXXtremeSpinMode[t.ow.XXXtremeSpin],xxxtremeBaseBet:p.spinModeStore.baseBetAmountAtXXXtremeSpinMode[t.ow.XXXtremeSpin],isXXXtremeBetIncreaseEnabled:p.spinModeStore.isBetActionAvailableAtMode[t.ow.XXXtremeSpin].increase,increaseXXXtremeBet:p.spinModeStore.increaseXXXtremeBet,decreaseXXXtremeBet:p.spinModeStore.decreaseXXXtremeBet,isXXXtremeDecreaseEnabled:p.spinModeStore.isBetActionAvailableAtMode[t.ow.XXXtremeSpin].decrease,increaseSuperXXXtremeBet:p.spinModeStore.increaseSuperXXXtremeBet,decreaseSuperXXXtremeBet:p.spinModeStore.decreaseSuperXXXtremeBet,isXXXtremeSelectionAvailable:p.spinModeStore.isSelectionAvailableAtXXXtremeSpinMode[t.ow.XXXtremeSpin],superxxxtremeBetPerSpin:p.spinModeStore.betAmountAtXXXtremeSpinMode[t.ow.SuperXXXtremeSpin],superxxxtremeBaseBet:p.spinModeStore.baseBetAmountAtXXXtremeSpinMode[t.ow.SuperXXXtremeSpin],isSuperXXXtremeBetIncreaseEnabled:p.spinModeStore.isBetActionAvailableAtMode[t.ow.SuperXXXtremeSpin].increase,isSuperXXXtremeBetDecreaseEnabled:p.spinModeStore.isBetActionAvailableAtMode[t.ow.SuperXXXtremeSpin].decrease,isSuperXXXtremeSelectionAvailable:p.spinModeStore.isSelectionAvailableAtXXXtremeSpinMode[t.ow.SuperXXXtremeSpin],setSpinMode:p.ui.xxxtremeDrawer.setSpinMode,onClose:p.ui.xxxtremeDrawer.close};return h.jsx(XH,{...g})}));var jH=m(999780),rH=m(626239),UH=m(836871);class CH{constructor(p){this.gameLoaded=!1,this.observableAutoplay=void 0,this.isAutoplayHovered=!1,this.isGoingLive=!1,this.videoGradientProps={height:0,animate:!1},this.gameDimensions={containerHeight:0,containerWidth:0,left:0,top:0,height:0,width:0,boxHeight:0,boxWidth:0},this.delayedWinningResult=!1,this.isDisposed=!1,this.disposeBag=new Op.C,this.rafId=0,this.waitForLifecycleUpdate=void 0,this.mainReaction=()=>k.fm((()=>{const p=this.gameStore.game;if(this.isLowBalance?this.agApi.balance.setLow():this.agApi.balance.setEnough(),Yg.isCancelledGame(p)&&(this.agApi.balance.reserveBet(0),this.agApi.lifecycle.resolveGame(),this.agApi.toasts.show(UH.Vy())),Yg.isResolvedGame(p)){if(!this.delayedWinningResult){const p=pm.vO(this.store.gameView.animationTimings.gameResultMultiplierDimDelay+this.store.gameView.animationTimings.gameResultMultiplierDimDuration+this.store.gameView.animationTimings.gameResultPauseBeforeWinningResultShow);this.totalBetTimeout=setTimeout((()=>{this.store.ui.winningResult&&this.agApi.gameResult.setAmount(this.store.ui.winningResult)}),p)}}else this.store.ui.winningResult||(this.delayedWinningResult=!1,this.updateTotalBet());Yg.isEmptyQualifyingGame(p)||(p.gameInfo&&this.agApi.setGameTime(p.gameInfo.number),this.gameStore.bonusRound&&this.agApi.setGameRoundId(this.gameStore.bonusRound.gameRoundId))}));const{agApi:g,agValues:m,store:Z}=p,{gameStore:H,bettingStore:t,settings:h}=Z;this.agApi=g,this.agValues=m,this.gameStore=H,this.bettingStore=t,this.settings=h,this.store=Z,k.l_(this),this.agApi.gameLoaded.then((()=>this.onGameLoaded())).catch((()=>this.onGameLoaded())),this.agApi.preferences.initialization.then((()=>this.onPreferencesLoaded())),this.disposeBag.addDisposables([this.mainReaction(),()=>window.cancelAnimationFrame(this.rafId),g.gameDimensions.subscribe(k.XI((p=>{this.gameDimensions=p})))])}get platform(){return this.agApi.platform}get currencySymbol(){return this.agValues.currencySymbol}get isFullscreen(){return this.agValues.isInFullscreen}get isLowBalance(){return this.agValues.balanceAvailable<this.agValues.betAmounts[0].value}get totalBalance(){return this.agValues.balanceServer||0}handleBalanceUpdate(p,g){this.agApi.balance.updateFromPayload(p,g)}pauseBalanceUpdate(){this.agApi.balance.pauseBalanceUpdate()}resumeBalanceUpdate(){this.agApi.balance.resumeBalanceUpdate()}reserveBet(p){this.agApi.balance.reserveBet(p)}openMobileDrawer(p){if(f.DS.IS_PHONE&&p===t.R9){const p=this.store.ag.settings.useLiteMobileDrawer();this.store.ag.layout.drawer.mobile.open(function(p){return p?{id:t.R9,props:{portrait:{snapPoints:["90%"]},landscape:{snapPoints:["90%"]},styleOptions:{backgroundColor:"#9DCBDF"}},component:h.jsx(jH.y,{children:h.jsx(KH,{})}),useDrawerLite:!0}:{id:t.R9,props:{titleText:"",portrait:{openHeight:90},landscape:{openWidth:90},styleOptions:{scrimOpacity:.7,backgroundColor:"#9DCBDF"}},component:h.jsx(rH.Xl,{children:h.jsx(KH,{})}),useDrawerLite:!1}}(p))}}closeMobileDrawer(p){f.DS.IS_PHONE&&this.store.ag.layout.drawer.mobile.close(p)}hideTooltipsByType(p){this.agApi.tooltips.hideByType(p)}dispose(){this.isDisposed=!0,this.gameLoaded=!1,this.disposeBag.dispose(),clearTimeout(this.totalBetTimeout),clearTimeout(this.resolvedLifecycleTimeout)}clearWinAmount(){this.agApi.gameResult.setAmount(0)}setSlotWinAmount(){const p=this.gameStore.getQualifyingGameWithSlotResult();p&&this.agApi.gameResult.setAmount(p.winAmount)}log(p){this.agApi.log(p)}async updateLifecycle(p,g){var m;switch(null===(m=this.waitForLifecycleUpdate)||void 0===m||m.cancel(),p){case Rp.Qualifying:if(this.reserveBet(0),this.resumeBalanceUpdate(),null==g?void 0:g.isAutoplayRunning){this.agApi.lifecycle.resolveGame(),this.agApi.balance.setTotalBet(this.bettingStore.betAmount);const p=this.gameStore.winAmount?t.O6:t.Q0;this.waitForLifecycleUpdate=cp.fm(p),await this.waitForLifecycleUpdate}this.agApi.lifecycle.openBets();break;case Rp.SlotSpin:this.reserveBet(this.bettingStore.betAmount),this.agApi.lifecycle.closeBets(),this.pauseBalanceUpdate();break;case Rp.MovingToTopUpRound:this.agApi.lifecycle.closeBets();break;case Rp.MovingToBonusRound:case Rp.BonusRound:this.agApi.lifecycle.closeInteraction();break;case Rp.TopUpRound:if(this.reserveBet(0),this.resumeBalanceUpdate(),null==g?void 0:g.isAutoplayRunning){this.agApi.lifecycle.closeInteraction();const p=this.settings.topUpSlotSpinDuration||((null==g?void 0:g.isInTurboMode)?t.VD:t.o5);this.waitForLifecycleUpdate=cp.fm(p),await this.waitForLifecycleUpdate}this.agApi.lifecycle.openInteraction();break;case Rp.Resolved:this.agApi.lifecycle.resolveGame({resetTotalBet:!1}),this.pauseBalanceUpdate()}}onGameLoaded(){this.isDisposed||(this.gameLoaded=!0)}onPreferencesLoaded(){const p=this.agValues.betAmountsLastSelectedAmount;p&&this.gameStore.isQualifyingGame&&this.bettingStore.setBetAmount(p)}updateTotalBet(){this.agApi.balance.setTotalBet(this.bettingStore.totalBet),this.agApi.balance.setTotalBetToRepeat(this.bettingStore.betAmount),this.agApi.totalBetLabel.setLabelTranslationKey(this.bettingStore.totalBetLabelKey)}}var xH,RH=m(394532);class cH{constructor(p){var g,m;this.disposeBag=new Op.C;const{gameView:Z,ui:H,abstractGame:t}=p.store;this.gameView=Z,this.uiStore=H,this.abstractGame=t,this.isAutoplayRunning=!!(null===(g=this.abstractGame.agApi.autoplay)||void 0===g?void 0:g.isRunning.value),this.disposeBag.addDisposables([k.mJ((()=>this.uiStore.uiState.state),(p=>{p!==Rp.MovingToTopUpRound&&p!==Rp.MovingToBonusRound||this.stop()}))]),null===(m=this.abstractGame.agApi.autoplay)||void 0===m||m.isRunning.subscribe((p=>k.h5((()=>{this.isAutoplayRunning=p})))),k.l_(this)}repeatBet(){this.uiStore.uiState.isQualifyingPhase?this.gameView.spinSlot():this.uiStore.uiState.isTopUpGameActive&&this.topUp()}stop(p){var g;this.abstractGame.agApi.autoplayUI.closeSettings(),this.isAutoplayRunning&&(null===(g=this.abstractGame.agApi.autoplay)||void 0===g||g.stop(p||RH.G_.ManualStop))}dispose(){this.disposeBag.dispose()}topUp(){var p;this.gameView.topUp(),this.abstractGame.updateLifecycle(Rp.TopUpRound,{isAutoplayRunning:null===(p=this.abstractGame.agApi.autoplay)||void 0===p?void 0:p.isRunning.value,isInTurboMode:this.uiStore.isInTurboMode})}}function OH(p){const{amount:g,spinType:m,playerGameId:Z}=p;return{type:xH.ClientBetChip,payload:{amount:g,codes:{[m]:g},playerGameId:Z},optOutDefaultEnhancers:["gameId"]}}(function(p){p["ClientBetChip"]="CLIENT_BET_CHIP"})(xH||(xH={}));var fH=m(294851);const _H={[t.ow.NormalSpin]:"NormalSpin",[t.ow.XXXtremeSpin]:"XXXtremeSpin",[t.ow.SuperXXXtremeSpin]:"SuperXXXtremeSpin"};class EH{static isSlotBetStake(p){return"slot"===p}constructor(p){this._slotBaseBetIndex=0,this.disposeBag=new Op.C;const{store:g,transport:m}=p,{settings:Z,gameStore:H,spinModeStore:h}=g;this.transport=m,this.settings=Z,this.gameStore=H,this.spinModeStore=h,this.store=g,this._betAmount=this.gameStore.baseBetAmount||this.settings.baseBetDefaultAmount,k.l_(this,void 0,{autoBind:!0}),this.disposeBag.addDisposables([k.mJ((()=>this.betStakes),(p=>this.store.ag.betAmounts.setBetAmounts(p.map((({value:p})=>p)))),{fireImmediately:!0}),k.mJ((()=>{var p;return null===(p=this.store.ui)||void 0===p?void 0:p.isSlotVisible}),(p=>{var g;if(!p)return void this.setBetAmount(null===(g=this.topUpBetStakes[0])||void 0===g?void 0:g.value);const{spinMode:m}=this.spinModeStore,Z=m!==t.ow.NormalSpin?this.settings.validSlotBetAmountsAtSpinModes[m][this.slotBaseBetIndex]:this.gameStore.baseBetAmount||this.settings.baseBetDefaultAmount;this.doesBetAmountExist(Z,"slot")?this.isSlotBetAmountEnabled(Z)?this.setBetAmount(Z):this.setClosestEnabledOrMinBetAmount():this.setBetAmount(this.slotBetStakes[0].value)}),{fireImmediately:!0}),k.mJ((()=>!this.isCurrentBetAmountEnabled),(p=>p&&this.setClosestEnabledOrMinBetAmount())),k.mJ((()=>this.spinModeStore.spinMode),(p=>{if(!this.isSlotBetStake)return;const g=p===t.ow.NormalSpin?this.slotBaseBetIndex:this.spinModeStore.baseBetIndexAtXXXtremeSpinMode[p],m=this.settings.validSlotBetAmountsAtSpinModes[p][g];this.setBetAmount(m)})),k.mJ((()=>this.gameStore.noMoreTopUps),(p=>{p&&this.store.ag.toasts.show({type:fH.C.GenericToast,props:{title:"",description:ig.Tl(ig.R1.NoMoreTopUpsToast)}})}))])}dispose(){this.disposeBag.dispose()}get betAmount(){return this._betAmount}spin(){if(!Yg.isQualifyingGame(this.gameStore.game))throw new Error(`Can not spin outside qualifying phase`);this.transport.spin(this.spinModeStore.spinMode,this.qualifyingBaseBetAmount),this.store.abstractGame.agApi.log(OH({amount:this.qualifyingBaseBetAmount,playerGameId:this.gameStore.playerGameId,spinType:_H[this.spinModeStore.spinMode]}))}topUp(){var p;if(!Yg.isQualifiedGame(this.gameStore.game))throw null===(p=this.store.gameView)||void 0===p||p.setIsBalloonReceivalPending(!1),new Error(`Can not top up outside qualified phase`);this.transport.topUp(this.betAmount),this.store.abstractGame.agApi.log(OH({amount:this.betAmount,playerGameId:this.gameStore.playerGameId,spinType:"TopUpSpin"}))}get isCurrentBetAmountEnabled(){return this.isBetAmountEnabled(this.betAmount,this.currentBetStakeType)}get lowestDisabledStakeReason(){var p;return null===(p=this.betStakes.filter((({enabled:p})=>!p))[0])||void 0===p?void 0:p.disabledReason}get isMinBetAmountEnabledAtSpinMode(){var p,g,m;return{[t.ow.NormalSpin]:!!(null===(p=this.slotBetStakesAtSpinModes[t.ow.NormalSpin][0])||void 0===p?void 0:p.enabled),[t.ow.XXXtremeSpin]:!!(null===(g=this.slotBetStakesAtSpinModes[t.ow.XXXtremeSpin][0])||void 0===g?void 0:g.enabled),[t.ow.SuperXXXtremeSpin]:!!(null===(m=this.slotBetStakesAtSpinModes[t.ow.SuperXXXtremeSpin][0])||void 0===m?void 0:m.enabled)}}get minStakeDisabledReason(){var p;return null===(p=this.betStakes[0])||void 0===p?void 0:p.disabledReason}get isBetStakeDisabled(){if(!this.store.ui)return!0;const p=[Rp.Qualifying,Rp.TopUpRound].includes(this.store.ui.uiState.state);return!this.betStakes.length||!p}get slotBetStakesAtSpinModes(){const p=this.settings.validSlotBetAmountsAtSpinModes;return{[t.ow.NormalSpin]:this.convertBetAmountsToBetStakes(p.Normal,"slot"),[t.ow.XXXtremeSpin]:this.convertBetAmountsToBetStakes(p.XXXtreme,"slot"),[t.ow.SuperXXXtremeSpin]:this.convertBetAmountsToBetStakes(p.SuperXXXtreme,"slot")}}setBetAmount(p){const g=this.isSlotBetStake?"slot":"topUp";if(!this.doesBetAmountExist(p,g))throw new Error(`Betting store error: can't set betAmount = ${p}, because it is absent from options: [${this.betAmounts.toString()}] in '${g}' phase`);if(this.isSlotBetStake){const{spinMode:g}=this.spinModeStore;this._slotBaseBetIndex=this.settings.validSlotBetAmountsAtSpinModes[g].indexOf(p)}this.store.ag.betAmounts.selectBetAmount(p,void 0,"betSelector"),this._betAmount=p}setClosestEnabledOrMinBetAmount(){var p,g,m;if(!this.betStakes.length)return;const Z=this.betAmount,H=this.betStakes[0].value;if(Z===H)return;const t=this.betStakes.filter((({enabled:p})=>p)).map((({value:p})=>p)),h=null!==(p=t[t.length-1])&&void 0!==p?p:H;this.setBetAmount(h);const k=null===(g=this.betStakes.find((({value:p})=>p===Z)))||void 0===g?void 0:g.disabledReason;k&&(null===(m=this.store.abstractGame)||void 0===m||m.agApi.toasts.show({type:fH.C.GenericToast,props:{title:ig.Tl(ig.R1.BetChangedUppercase),description:ig.Tl(ig.DX[k])}}))}get slotBaseBetIndex(){return this._slotBaseBetIndex}get betStakes(){return this.isSlotBetStake?this.slotBetStakes:this.topUpBetStakes}get qualifyingBaseBetAmount(){return this.settings.baseBetAmounts[this.slotBaseBetIndex]}get totalBet(){return Yg.isQualifyingGame(this.gameStore.game)?this.betAmount:Yg.isQualifiedGame(this.gameStore.game)?this.gameStore.game.totalBetAmount:this.gameStore.baseBetAmount||0}get totalBetLabelKey(){const p=Yg.isQualifyingGame(this.gameStore.game)||Yg.isQualifiedGame(this.gameStore.game);return this.store.device.isDesktop?p?ig.R1.TotalBetUpper:ig.R1.BonusBetUppercase:p?ig.R1.TotalBet:ig.R1.BonusBet}get qualifiedBaseBetAmount(){return this.gameStore.baseBetAmount||0}get currentBetStakeType(){var p;return(null===(p=this.store.ui)||void 0===p?void 0:p.isSlotVisible)?"slot":"topUp"}get isSlotBetStake(){return EH.isSlotBetStake(this.currentBetStakeType)}get betAmounts(){return this.isSlotBetStake?this.slotBetAmounts:this.topUpBetAmounts}doesBetAmountExist(p,g){return EH.isSlotBetStake(g)?this.slotBetAmounts.includes(p):this.topUpBetAmounts.includes(p)}isBetAmountEnabled(p,g){return EH.isSlotBetStake(g)?this.isSlotBetAmountEnabled(p):this.isTopUpBetAmountEnabled(p)}isSlotBetAmountEnabled(p){var g,m;return p<=(null!==(m=null===(g=this.store.abstractGame)||void 0===g?void 0:g.totalBalance)&&void 0!==m?m:0)}isTopUpBetAmountEnabled(p){var g,m;return p<=(null!==(m=null===(g=this.store.abstractGame)||void 0===g?void 0:g.totalBalance)&&void 0!==m?m:0)&&cp.Nt(p,...this.topUpPhaseEnabledBetLimits)}get slotBetAmounts(){return this.settings.validSlotBetAmountsAtSpinModes[this.spinModeStore.spinMode]}get topUpBetAmounts(){return this.qualifiedBaseBetAmount?this.settings.validTopUpBetAmountsAtBaseBetAmounts[this.qualifiedBaseBetAmount]||this.settings.validTopUpBetAmountsAtBaseBetAmounts[this.topUpPhaseEnabledBetLimits[0]]:[]}get slotBetStakes(){return this.slotBetStakesAtSpinModes[this.spinModeStore.spinMode]}get topUpBetStakes(){return this.convertBetAmountsToBetStakes(this.topUpBetAmounts,"topUp")}get topUpPhaseEnabledBetLimits(){return this.gameStore.maxTopUpBetAmount?[this.settings.topUpPhaseValidationBetLimits[0],this.gameStore.maxTopUpBetAmount]:this.settings.topUpPhaseValidationBetLimits}convertBetAmountsToBetStakes(p,g){return p.map((p=>{const m={value:p,enabled:this.isBetAmountEnabled(p,g)};return{...m,disabledReason:this.getBetStakeDisabledReason(m)}}))}getBetStakeDisabledReason(p){var g;if(p.enabled)return;if(this.isSlotBetStake)return"lowBalance";if(this.settings.tableBetMaxLimitIsUsed&&this.settings.tableBetMaxLimit-this.totalBet<p.value)return"tableBetMaxReached";const m=null!==(g=this.gameStore.maxTopUpBetAmount)&&void 0!==g?g:0;return p.value>m?"maxPayoutReached":"lowBalance"}}var GH=m(56761),MH=m(892053),sH=m(977804),TH=m(220454);const lH=[{id:"Cancel",labelTranslationId:ig.R1.TopUpUppercase},{id:"Close",labelTranslationId:ig.R1.BonusUppercase,isDefault:!0}],AH={Cancel:TH.z.TopUp,Close:TH.z.Bonus};class LH{constructor(p){this.isPopupVisible=!1,this.mockTimeRemaining=void 0,this.disposeBag=new Op.C;const{agApi:g,transport:m,store:Z}=p,{gameStore:H,settings:t,soundStore:h}=Z;this.agApi=g,this.transport=m,this.store=Z,this.gameStore=H,this.settingsStore=t,this.soundStore=h,this.disposeBag.addDisposables([k.mJ((()=>this.skipBonusRoundAvailable),(p=>{p?this.showPopup():(this.isPopupVisible&&this.store.abstractGame.log(MH.QY("skipped")),this.hidePopup())}),{fireImmediately:!0})]),k.l_(this)}get timeUntilNextRace(){if(!this.nextBonusRoundStartsIn)return;const p=Math.max(0,this.store.stateReceivedTime+this.nextBonusRoundStartsIn-GH.tB(500)),g=Math.ceil(p/1e3);return g>0?g:void 0}get nextBonusRoundStartsIn(){const{game:p}=this.gameStore;return Yg.isQualifiedGame(p)?p.nextBonusRoundStartsIn:void 0}dispose(){this.disposeBag.dispose()}stopGameTimerAt(p){}get skipBonusRoundAvailable(){return this.gameStore.canSkipBonusRound&&(this.timeUntilNextRace||0)<=this.settingsStore.skipBonusRoundDecisionThreshold&&this.store.ui.uiState.state===Rp.TopUpRound}popupCallback(p){p===TH.z.TopUp?(this.transport.skipBonusRound(),this.store.abstractGame.log(MH.QY("topUp")),this.soundStore.triggerEvent(Np.m.TopUpChosen)):(this.store.abstractGame.log(MH.QY("bonus")),this.soundStore.triggerEvent(Np.m.BonusChosen)),this.hidePopup()}showPopup(){this.isPopupVisible||(this.store.abstractGame.log(MH.Ud(this.store)),this.soundStore.triggerEvent(Np.m.BonusRoundBeginsMessage),this.isPopupVisible=!0,this.agApi.popups.open(new sH.$J({id:TH.u}).addPriority(sH.bx.High).setIsAutoClosing(!1).addTitle(ig.Tl(ig.R1.DecisionPopupTitle)).addContentText(ig.Tl(ig.R1.DecisionPopupDescription)).addButtons(lH).addCallback((p=>{const g=AH[p];void 0!==g&&this.popupCallback(g)}))))}hidePopup(){this.isPopupVisible&&(this.soundStore.triggerEvent(Np.m.BonusTimeOut),this.agApi.popups.close(TH.u),this.isPopupVisible=!1)}}class oH{constructor(p,g,m){this.agValues=p,this.agApi=g,this.DS=m,k.l_(this)}get isPortrait(){return this.agValues.orientation===zZ.t.Portrait}get isLandscape(){return this.agValues.orientation===zZ.t.Landscape}get isDesktop(){return this.agApi.platform===b.OD.Desktop}get isPhone(){return this.agApi.platform===b.OD.Phone}get isTablet(){return this.agApi.platform===b.OD.Tablet}get isMobilePortrait(){return this.DS.IS_PHONE&&this.isPortrait}get isMobileLandscape(){return this.DS.IS_PHONE&&this.isLandscape}get platform(){return this.DS.PLATFORM}}class pt{constructor(p){this.isVisible=!1,this.disposeBag=new Op.C;const{agApi:g,store:m,agValues:Z}=p,{settings:H,abstractGame:t}=m;this.agApi=g,this.settings=H,this.agValues=Z,this.abstractGame=t,k.Gn(this,{isVisible:k.sH,setIsVisible:k.XI}),this.disposeBag.addDisposables([k.mJ((()=>this.abstractGame.gameLoaded&&this.agValues.preferences.preferencesAreLoaded&&this.settings.infoButtonEnabled),(p=>{if(p){const p=this.agValues.preferences.featureScreenShowCount;p<this.settings.featureScreenShowLimit&&(this.setIsVisible(!0),this.agApi.preferences.setPreferences({key:"featureScreenShowCount",value:p+1}))}}))])}setIsVisible(p){this.isVisible=p}dispose(){this.disposeBag.dispose()}}class gt{static isQualifyingPhase(p){return p===wp.Qc.Qualifying}static isQualifiedPhase(p){return p===wp.Qc.Qualified}static isBonusRoundPhase(p){return p===wp.Qc.BonusRound}static isResolvedPhase(p){return p===wp.Qc.Resolved}constructor(p){this.gameStore=p,this._prevPhase=void 0,this.disposeBag=new Op.C,this.disposeBag.addDisposable(k.mJ((()=>p.game.state),((p,g)=>{k.h5((()=>{this._prevPhase=g}))}),{fireImmediately:!0})),k.l_(this)}dispose(){this.disposeBag.dispose()}get prevPhase(){return this._prevPhase}get currentPhase(){return this.gameStore.game.state}get isQualifyingPhase(){return gt.isQualifyingPhase(this.currentPhase)}get isQualifiedPhase(){return gt.isQualifiedPhase(this.currentPhase)}get isBonusRoundPhase(){return gt.isBonusRoundPhase(this.currentPhase)}get isResolvedPhase(){return gt.isResolvedPhase(this.currentPhase)}}class mt{constructor(p){this.store=p,this.totalPlayers=0,k.Gn(this,{totalPlayers:k.sH,visible:k.EW,setTotalPlayerCount:k.XI})}get visible(){return this.totalPlayers>0&&this.store.ui.uiState.isInSlotPhase}setTotalPlayerCount(p){this.totalPlayers=p}}function Zt(p){const g=Number(p);if(p&&!Number.isNaN(g))return g}class Ht{static getSlotBetAmountsAtSpinModes(p){function g(g){return p.map((p=>q.J0.multiply(p,t.S5[g])))}return{[t.ow.NormalSpin]:p,[t.ow.XXXtremeSpin]:g(t.ow.XXXtremeSpin),[t.ow.SuperXXXtremeSpin]:g(t.ow.SuperXXXtremeSpin)}}static getTopUpBetAmountsAtBaseBetAmounts(p,g){return p.reduce(((p,m)=>(p[m]=Ht.getValidTopUpBetAmountsAtBaseBetAmount(m,g),p)),{})}static getValidTopUpBetAmountsAtBaseBetAmount(p,g){const[m,Z]=g,H=[];for(let g=0;g<100;g++){const t=q.J0.multiply(p,Ht.getTopUpBetAmountMultiplierAtIndex(g));if(!(t<m)){if(t>Z)return H;H.push(t)}}return H}static getTopUpBetAmountMultiplierAtIndex(p){return(p%9+1)*10**Math.floor(p/9)}constructor(p,g){this.gameSettings=p,this.gameConfig=g,this.betLimitsForGroup=p=>{const g=this.slotPhaseValidationBetLimitsAtSpinModes;switch(p){case t.Sr.Qualification:return[0,0];case t.Sr.NormalSpin:return g.Normal;case t.Sr.XXXtremeSpin:return g.XXXtreme;case t.Sr.SuperXXXtremeSpin:return g.SuperXXXtreme;case t.Sr.TopUp:return this.topUpPhaseValidationBetLimits}},this.isValidSlotBetAmount=(p,g)=>cp.Nt(p,...this.slotPhaseValidationBetLimitsAtSpinModes[g]);const m=this.gameSettings.rawConfig,Z=t.CZ,H={bonusGameMultipliersRevealDelay:Zt(m.bonusgame_multipliers_delay_sec),bonusGameMultiplierAppearanceInterval:Zt(m.reveal_bonus_multiplier_interval_sec),ueBalloonAppearanceDelay:Zt(m.ue_balloon_appearance_delay),gameResultMultiplierDimDelay:Zt(m.game_result_multiplier_dim_delay_sec)};t.TK.forEach((p=>{Object.entries(H).forEach((([g,m])=>{void 0!==m&&(Z[p][g]=m)}))})),this.uiAnimationTimingsAtSpeed=Z}get currencySymbol(){return this.gameSettings.getCurrencySymbol()}get currencyCode(){return this.gameSettings.getCurrencyCode()}get currencyDecimals(){return this.gameSettings.getCurrencyDecimals()}get tableName(){return this.gameSettings.getTableName()}get tableId(){return this.gameSettings.getTableId()}get virtualTableId(){return this.gameSettings.getVirtualTableId()}get bettingTime(){return Number(this.gameSettings.rawConfig.betting_time)||1e4}get payoutLimit(){return this.gameSettings.payoutLimit()}get slotPhaseValidationBetLimitsAtSpinModes(){return this.gameSettings.slotPhaseValidationBetLimitsAtSpinModes}get topUpPhaseValidationBetLimits(){return this.gameSettings.topUpPhaseValidationBetLimits}get tableBetMaxLimit(){return this.gameSettings.tableBetMaxLimit}get tableBetMaxLimitIsUsed(){return this.gameSettings.tableBetMaxLimitIsUsed}get spinBetMaxLimit(){return this.gameSettings.spinBetMaxLimit}get spinBetMaxLimitIsUsed(){return this.gameSettings.spinBetMaxLimitIsUsed}get infoButtonEnabled(){var p;return null!==(p=this.gameSettings.infoButtonEnabled)&&void 0!==p&&p}get baseBetMinLimit(){return this.gameSettings.baseBetMinLimit}get baseBetMaxLimit(){return this.gameSettings.baseBetMaxLimit}get baseBetAmounts(){return this.gameSettings.baseBetAmounts}get baseBetDefaultAmount(){return this.gameSettings.baseBetDefaultAmount}get baseBetMinAmount(){return this.gameSettings.baseBetMinAmount}get topUpBetMaxLimit(){return this.gameSettings.topUpBetMaxLimit}get topUpBetMinLimit(){return this.gameSettings.topUpBetMinLimit}get titleTableBetLimits(){return this.gameSettings.titleTableBetLimits}get validSlotBetAmountsAtSpinModes(){return Ht.getSlotBetAmountsAtSpinModes(this.gameSettings.baseBetAmounts)}get validTopUpBetAmountsAtBaseBetAmounts(){return Ht.getTopUpBetAmountsAtBaseBetAmounts(this.gameSettings.baseBetAmounts,this.topUpPhaseValidationBetLimits)}get XXXtremeSpinsEnabled(){return this.gameSettings.XXXtremeSpinsEnabled}get isTurboSpinEnabled(){return this.gameSettings.turboSpinEnabled}get isAutoplayEnabled(){return"true"===this.gameSettings.rawConfig.autoplay_api}get isSlamStopEnabled(){return"true"===this.gameSettings.rawConfig.slam_stop}get multiplierSparksFrom(){const p=Number(this.gameSettings.rawConfig.sparks_from_multiplier);return Number.isNaN(p)?50:p}get phoneTopUpToBonusClouds(){return"true"===this.gameSettings.rawConfig.phone_topup_to_bonus_clouds}get isCallToActionEnabled(){return this.gameSettings.callToActionEnabled}get frontendBalloonRace(){return"true"===this.gameSettings.rawConfig.enable_frontend_balloon_race||this.gameConfig.enableFrontendBalloonRace}get portraitBottomGradient1(){return this.gameSettings.rawConfig.portrait_bottom_gradient1}get portraitBottomGradient2(){return this.gameSettings.rawConfig.portrait_bottom_gradient2}get useVideoPlaceholder(){return"true"===this.gameSettings.rawConfig.use_video_placeholder}get useBlueScreenVideoPlaceholder(){return this.useVideoPlaceholder&&"true"===this.gameSettings.rawConfig.use_blue_screen_video_placeholder}get useRegularVideoPlaceholder(){return this.useVideoPlaceholder&&!this.useBlueScreenVideoPlaceholder}get mainSlotSpinDuration(){return Number(this.gameSettings.rawConfig.main_slot_spin_duration)||0}get mainSlotSpinDurationTurbo(){return Number(this.gameSettings.rawConfig.main_slot_turbo_spin_duration)||0}get topUpSlotSpinDuration(){return Number(this.gameSettings.rawConfig.topup_slot_spin_duration)||void 0}get skipBonusRoundDecisionThreshold(){return Number(this.gameSettings.rawConfig.skip_bonus_round_decision_threshold)||5}get featureScreenShowLimit(){return Number(this.gameSettings.rawConfig.feature_screen_show_limit)||3}get uiBallDelay(){const p=Number(this.gameSettings.rawConfig.ui_ball_delay);return Number.isNaN(p)?0:p}}class tt{constructor(p){this.props=p,this.isRequestedForSlot=!1,this.isRequestedForTopUp=!1,k.l_(this)}get canBeSlamStopped(){const{ui:p,settings:g,autoplayStore:m}=this.props.store;return g.isSlamStopEnabled&&!p.isInTurboMode&&!(null==m?void 0:m.isAutoplayRunning)}get canSlotBeSlamStopped(){const{ui:p}=this.props.store;return this.canBeSlamStopped&&!this.isRequestedForSlot&&p.slotUIStore.isSlotSpinning}get canTopUpBeSlamStopped(){const{gameView:p}=this.props.store;return this.canBeSlamStopped&&!this.isRequestedForTopUp&&p.isBalloonReceivalPending}get isAnySlamStopRequested(){return this.isRequestedForSlot||this.isRequestedForTopUp}requestFor(p){this.setIsSlamStopRequested(p,!0)}resetFor(p){this.setIsSlamStopRequested(p,!1)}setIsSlamStopRequested(p,g){"slot"!==p?this.isRequestedForTopUp=g:this.isRequestedForSlot=g}}const ht={[lm.R.Big]:Np.m.WinSlotLarge,[lm.R.Medium]:Np.m.WinSlotMedium,[lm.R.Small]:Np.m.WinSlotSmall},kt={[lm.R.Big]:Np.m.BalloonRaceWinHigh,[lm.R.Medium]:Np.m.BalloonRaceWinMedium,[lm.R.Small]:Np.m.BalloonRaceWinLow};function nt(p){return Math.ceil(5*p)}class St{constructor({store:p}){this.disposeBag=new Op.C,this.disposeBag.addDisposables([k.mJ((()=>p.gameStore.resolvedGame),(p=>{if(!p||!p.winAmount)return;const g=cp.NL(p.winAmount,p.totalBetAmount);g!==lm.R.None&&this.triggerEvent(kt[g])}),{fireImmediately:!0}),k.mJ((()=>p.ui.slotUIStore.reelsAnimating),(g=>{if(g||!p.gameStore.winAmount)return;const m=cp.NL(p.gameStore.winAmount,p.bettingStore.totalBet);m!==lm.R.None&&this.triggerEvent(ht[m])})),k.mJ((()=>p.ui.isInTurboMode),(p=>{this.triggerEvent(p?Np.m.GameSpeedFast:Np.m.GameSpeedSlow)})),k.mJ((()=>p.gameStore.game.state),((p,g)=>{p===wp.Qc.Cancelled&&g===wp.Qc.BonusRound&&this.triggerEvent(Np.m.GameAborted)})),k.mJ((()=>p.ui.uiState.state),((g,m)=>{switch(g){case Rp.Qualifying:m!==Rp.SlotSpin&&(this.triggerEvent(Np.m.TopUpStop),this.triggerEvent(Np.m.BalloonExit),"Normal"!==p.spinModeStore.spinMode&&this.triggerEvent(Np.m.XxxtremeSpinsActivated));break;case Rp.MovingToTopUpRound:this.triggerEvent(Np.m.Qualified);break;case Rp.TopUpRound:this.triggerEvent(Np.m.TopUpEnter);break;case Rp.MovingToBonusRound:this.triggerEvent(Np.m.TopUpEnd);break;case Rp.BonusRound:this.triggerEvent(Np.m.BalloonEnter)}})),k.mJ((()=>{var g;return p.ui.uiState.state===Rp.BonusRound&&(null===(g=p.gameStore.bonusRound)||void 0===g?void 0:g.phase)===wp.TU.BallDrawing}),(p=>{p&&this.triggerEvent(Np.m.BalloonRaceStart)})),k.mJ((()=>{var g;const m=p.ui.uiState.state===Rp.BonusRound,Z=null===(g=p.gameStore.bonusRound)||void 0===g?void 0:g.balloonsProgress,H=p.gameStore.totalMultipliers;if(!m||!Z||!H)return"0_1";const t=function(p){return Object.entries(p).sort(((p,g)=>g[1]-p[1]))[0][0]}(Z),h=nt(Z[t]),k=function(p,g){return Object.entries(p).sort(((p,g)=>g[1]-p[1])).findIndex((p=>p[0]===g))+1}(H,t);return`${h}_${k}`}),(p=>{const g=p[0],m=p[2];"0"!==g&&(this.triggerEvent(Np.m.BalloonRaceProgress,g),this.triggerEvent(Np.m.LeadingBalloon,m),"3"===g?this.triggerEvent(Np.m.WinningBalloonAnticipationSecondLast,m):"4"===g?this.triggerEvent(Np.m.WinningBalloonAnticipationFinal,m):"5"===g&&this.triggerEvent(Np.m.WinningBalloonFinish,m))})),k.mJ((()=>{const g=p.bonusGameStore.timeUntilNextRace;return p.ui.uiState.state===Rp.TopUpRound&&void 0!==g&&g<=0}),(p=>{p&&this.triggerEvent(Np.m.TopUpCountDownReset)})),k.mJ((()=>{const g=p.bonusGameStore.timeUntilNextRace;return p.ui.uiState.state===Rp.TopUpRound&&g&&g>0?g:0}),(p=>{p>0&&this.triggerEvent(Np.m.TopUpCountDown,p)}))])}dispose(){this.disposeBag.dispose()}triggerEvent(p,g){Qp(p,g)}}class qt{constructor(p){this._xxxtremeBaseBetIndex=0,this._superxxxtremeBaseBetIndex=0,this.disposeBag=new Op.C;const{gameStore:g,settings:m,soundStore:Z}=p.store;this.store=p.store,this.gameStore=g,this.settings=m,this.soundStore=Z,this._spinMode=t.ow.NormalSpin,k.l_(this,void 0,{autoBind:!0}),this.disposeBag.addDisposables([k.mJ((()=>{var p;return null===(p=this.bettingStore)||void 0===p?void 0:p.isMinBetAmountEnabledAtSpinMode}),(p=>{var g;p&&this.spinMode!==t.ow.NormalSpin&&(p[this.spinMode]||(this.resetSpinMode(),null===(g=this.store.abstractGame)||void 0===g||g.agApi.toasts.show({type:fH.C.GenericToast,props:{title:"",description:ig.Tl(ig.R1.XXXtremeModeDeactivated)}})))})),k.mJ((()=>!this.isXXXtremeAvailable),(p=>p&&this.setMaxEnabledOrMinBetIndex(t.ow.XXXtremeSpin))),k.mJ((()=>!this.isSuperXXXtremeAvailable),(p=>p&&this.setMaxEnabledOrMinBetIndex(t.ow.SuperXXXtremeSpin)))])}dispose(){this.disposeBag.dispose()}get spinMode(){return this._spinMode}get areXXXtremeSpinsActivated(){return this.spinMode!==t.ow.NormalSpin}get isMinXXXtremeSpinAvailable(){return!!this.bettingStore&&this.bettingStore.isMinBetAmountEnabledAtSpinMode[t.ow.XXXtremeSpin]}setSpinMode(p){if(!this.settings.XXXtremeSpinsEnabled)throw new Error(`Can not change spin mode if xxxtreme spins are not supported`);if(!Yg.isQualifyingGame(this.gameStore.game))throw new Error(`Can not change spin mode outside qualifying phase`);this._spinMode=p}resetSpinMode(){this._spinMode=t.ow.NormalSpin,this.soundStore.triggerEvent(Np.m.XxxtremeSpinsDeactivated)}setBaseBetStakesFromBettingStore(){if(!this.bettingStore)return;const p=this.bettingStore.slotBaseBetIndex;t.sd.forEach((g=>{this.isBetEnabledForModeAndIndex(g,p)?this.updateBaseBetForMode(g,p):this.setMaxEnabledOrMinBetIndex(g)}))}increaseXXXtremeBet(){this.changeBaseBetForMode(t.ow.XXXtremeSpin,"increase"),this.soundStore.triggerEvent(Np.m.ButtonXxxtremeSpinsIncrease,"release")}decreaseXXXtremeBet(){this.changeBaseBetForMode(t.ow.XXXtremeSpin,"decrease"),this.soundStore.triggerEvent(Np.m.ButtonXxxtremeSpinsDecrease,"release")}increaseSuperXXXtremeBet(){this.changeBaseBetForMode(t.ow.SuperXXXtremeSpin,"increase"),this.soundStore.triggerEvent(Np.m.ButtonSuperXxxtremeSpinsIncrease,"release")}decreaseSuperXXXtremeBet(){this.changeBaseBetForMode(t.ow.SuperXXXtremeSpin,"decrease"),this.soundStore.triggerEvent(Np.m.ButtonSuperXxxtremeSpinsDecrease,"release")}get isBetActionAvailableAtMode(){return{[t.ow.XXXtremeSpin]:{increase:this.isBaseBetChangeAvailableFor(t.ow.XXXtremeSpin,"increase"),decrease:this.isBaseBetChangeAvailableFor(t.ow.XXXtremeSpin,"decrease")},[t.ow.SuperXXXtremeSpin]:{increase:this.isBaseBetChangeAvailableFor(t.ow.SuperXXXtremeSpin,"increase"),decrease:this.isBaseBetChangeAvailableFor(t.ow.SuperXXXtremeSpin,"decrease")}}}get disabledReasonAtXXXtremeBetStakeButtons(){return{[t.ow.XXXtremeSpin]:{increase:this.getNextBetStakeDisableReason(t.ow.XXXtremeSpin,"increase"),decrease:this.getNextBetStakeDisableReason(t.ow.XXXtremeSpin,"decrease")},[t.ow.SuperXXXtremeSpin]:{increase:this.getNextBetStakeDisableReason(t.ow.SuperXXXtremeSpin,"increase"),decrease:this.getNextBetStakeDisableReason(t.ow.SuperXXXtremeSpin,"decrease")}}}get baseBetIndexAtXXXtremeSpinMode(){return{[t.ow.XXXtremeSpin]:this._xxxtremeBaseBetIndex,[t.ow.SuperXXXtremeSpin]:this._superxxxtremeBaseBetIndex}}get baseBetAmountAtXXXtremeSpinMode(){return{[t.ow.XXXtremeSpin]:this.settings.baseBetAmounts[this._xxxtremeBaseBetIndex],[t.ow.SuperXXXtremeSpin]:this.settings.baseBetAmounts[this._superxxxtremeBaseBetIndex]}}get betAmountAtXXXtremeSpinMode(){return{[t.ow.XXXtremeSpin]:this.xxxtremeBetAmount,[t.ow.SuperXXXtremeSpin]:this.superxxxtremeBetAmount}}get isSelectionAvailableAtXXXtremeSpinMode(){return{[t.ow.XXXtremeSpin]:this.isBetEnabledForModeAndIndex(t.ow.XXXtremeSpin,this._xxxtremeBaseBetIndex),[t.ow.SuperXXXtremeSpin]:this.isBetEnabledForModeAndIndex(t.ow.SuperXXXtremeSpin,this._superxxxtremeBaseBetIndex)}}get isXXXtremeAvailable(){return this.isSelectionAvailableAtXXXtremeSpinMode[t.ow.XXXtremeSpin]}get isSuperXXXtremeAvailable(){return this.isSelectionAvailableAtXXXtremeSpinMode[t.ow.SuperXXXtremeSpin]}get bettingStore(){return this.store.bettingStore}get xxxtremeBetAmount(){return this.bettingStore?this.bettingStore.slotBetStakesAtSpinModes[t.ow.XXXtremeSpin][this._xxxtremeBaseBetIndex].value:0}get superxxxtremeBetAmount(){return this.bettingStore?this.bettingStore.slotBetStakesAtSpinModes[t.ow.SuperXXXtremeSpin][this._superxxxtremeBaseBetIndex].value:0}getNextBetStakeDisableReason(p,g){if(!this.bettingStore)return;const m="decrease"===g,Z=this.getBaseBetIndex(p)+(m?-1:1),H=this.bettingStore.slotBetStakesAtSpinModes[p][Z];if(!H)return m?"minBetReached":"maxBetReached";const t=H.disabledReason;return"maxPayoutReached"===t||"tableBetMaxReached"===t?"maxBetReached":t}isBetEnabledForModeAndIndex(p,g){if(!this.bettingStore)return!1;const m=this.bettingStore.slotBetStakesAtSpinModes[p][g];return!!(null==m?void 0:m.enabled)}isBaseBetChangeAvailableFor(p,g){const m=this.getBaseBetIndex(p),Z="increase"===g?+1:-1;return this.isBetEnabledForModeAndIndex(p,m+Z)}changeBaseBetForMode(p,g){return"increase"===g?this.increaseBaseBetForMode(p):this.decreaseBaseBetForMode(p)}updateBaseBetForMode(p,g){const m=this.getBaseBetIndexParamName(p);"number"!=typeof g?"increase"!==g?this[m]--:this[m]++:this[m]=g}increaseBaseBetForMode(p){this.isBetActionAvailableAtMode[p].increase&&this.updateBaseBetForMode(p,"increase")}decreaseBaseBetForMode(p){this.isBetActionAvailableAtMode[p].decrease&&this.updateBaseBetForMode(p,"decrease")}getBaseBetIndexParamName(p){return p===t.ow.XXXtremeSpin?"_xxxtremeBaseBetIndex":"_superxxxtremeBaseBetIndex"}getBaseBetIndex(p){return this[this.getBaseBetIndexParamName(p)]}setMaxEnabledOrMinBetIndex(p){var g;if(!(null===(g=this.bettingStore)||void 0===g?void 0:g.betStakes.length))return;const m=this.bettingStore.slotBetStakesAtSpinModes[p].filter((({enabled:p})=>p)),Z=m.length?m.length-1:0;this.updateBaseBetForMode(p,Z)}}var Dt=m(34561);const It=c.XN/c.z,bt=.317,et=.92,Nt=.77,dt=105,Qt=40,$t=.5,wt=.09,Yt=.05,it=.45,Pt=.43,Jt=.05,yt=.16,Wt=.066;class vt{constructor(p){this.store=p,this._isSlotSpinning=!1,this._isSlotStopping=!1,this._isScatterSpinning=!1,this._slotSpinStartTime=0,this._slotSpinStartSpeedMode="normal",this._isWildAppearingAnimationActive=!1,this._reelsAnimating=!1,k.l_(this)}slotStarted(p){this._isSlotSpinning=!0,this._reelsAnimating=!0,this._slotSpinStartTime=Date.now(),this._slotSpinStartSpeedMode=p}slotStopping(){this._isSlotStopping=!0}slotStopped(){this._isSlotSpinning=!1,this._isSlotStopping=!1}get slotSpinStartTime(){return this._slotSpinStartTime}get slotSpinStartSpeedMode(){return this._slotSpinStartSpeedMode}get reelsAnimating(){return this._reelsAnimating}get isSlotSpinning(){return this._isSlotSpinning}get isSlotStopping(){return this._isSlotStopping}scatterSpinStarted(){this._isScatterSpinning=!0}scatterSpinStopped(){this._isScatterSpinning=!1}get isWildAppearingAnimationActive(){return this._isWildAppearingAnimationActive}setWildAppearingAnimationState(p){this._isWildAppearingAnimationActive=p}reelsStopped(){this._reelsAnimating=!1}get haveSlotAndScatterAnimationsEnded(){return!this.isSlotSpinning&&!this._isScatterSpinning}get slotArea(){const{width:p,height:g}=this.store.abstractGame.gameDimensions;let m={x:0,y:0,width:0,height:0},Z={x:0,y:0,width:0,height:0};if(f.DS.IS_DESKTOP){const{reverseScale:H=1}=this.store.abstractGame.gameDimensions,t=p*Pt,h=p-t-p*Wt,k=g*Jt,n=t/It;m={x:h/H,y:k/H,width:t/H,height:(g-g*yt)/H},Z={x:h/H,y:(k+n*bt)/H,width:t/H,height:n/H}}if(f.DS.IS_TABLET){const H=p*$t,t=g-g*wt,h=p-H-p*Yt;let k=H,n=k/It,S=n*it;const q=n*bt+n+S;if(q>t){const p=t/q;k*=p,n*=p,S*=p}m={x:h,y:0,width:H,height:t},Z={x:h+.5*(H-k),y:t-S-n,width:k,height:n}}if(f.DS.IS_PHONE){const H=p*et,t=.5*(p-H),h=Qt;let k=dt;const n=this.store.ui.menuButtonRect;n&&(k=g-n.top);const S=g-h-k;let q=H,D=q/It,I=D*Nt;const b=D*bt+D+I;if(b>S){const p=S/b;q*=p,D*=p,I*=p}m={x:t,y:h,width:H,height:S},Z={x:.5*(p-q),y:h+(S-I-D),width:q,height:D}}return{area:m,slot:Z}}}const Vt={normalDefaultSpeed:6,fastDefaultSpeed:10,speedDelta:2,defaultAmplitude:1,amplitudeDelta:.5,scale:1,defaultRotation:0,rotationDelta:.1,defaultAcceleration:0,accelerationDelta:.3,spawnRndCoef:.8,swayProbability:2,period:1.5},zt=[[.2,.8],[.5,.95],[.6,1]];class Bt{constructor(p,g=!1,m=Vt){this.store=p,this.showPopZones=g,this.config=m,this.popZones=zt,this.poppedBalloons=[],this.safeZoneOffset=0,k.l_(this)}setPopZones(p){this.popZones=p}setShowPopZones(p){this.showPopZones=p}setConfig(p){this.config=p}addPoppedBalloon(p){this.poppedBalloons.push(p)}clearPoppedBalloons(){this.poppedBalloons=[]}setSafeZoneOffset(p){if(!p||!this.store.gameView)return void(this.safeZoneOffset=0);const g=this.store.gameConfig.resolution,m=this.store.gameView.appRect;this.safeZoneOffset=(p.y+p.height/2)*g-m.y}}class ut{get isVisible(){return this.settings.XXXtremeSpinsEnabled&&this.uiState.isInSlotPhase&&!this.uiState.isWaitingForQualifyingStream}get isActivated(){return this.spinModeStore.areXXXtremeSpinsActivated}get isEnabled(){var p;return this.spinModeStore.isMinXXXtremeSpinAvailable&&!this.slotUiStore.isSlotSpinning&&!(null===(p=this.abstractGame.agApi.autoplay)||void 0===p?void 0:p.isRunning.value)}get isDisabled(){return!this.isEnabled}get onClick(){return this.isVisible&&this.uiState.isQualifyingPhase&&this.isEnabled?this.isActivated?this.spinModeStore.resetSpinMode:this.xxxtremeDrawer.open:Qg.A}constructor(p,g,m,Z,H,t){this.settings=p,this.uiState=g,this.slotUiStore=m,this.spinModeStore=Z,this.xxxtremeDrawer=H,this.abstractGame=t}}class at{constructor(p){this.store=p,this.isVisible=!1,this.soundStore=p.soundStore,k.l_(this,void 0,{autoBind:!0})}setSpinMode(p){p===t.ow.XXXtremeSpin?this.soundStore.triggerEvent(Np.m.ButtonXxxtremeSpinsActivate,"release"):p===t.ow.SuperXXXtremeSpin&&this.soundStore.triggerEvent(Np.m.ButtonSuperXxxtremeSpinsActivate,"release"),this.store.spinModeStore.setSpinMode(p),this.close(!1),this.soundStore.triggerEvent(Np.m.XxxtremeSpinsActivated)}open(){this.soundStore.triggerEvent(Np.m.ButtonActivateXtreme,"release"),this.store.spinModeStore.setBaseBetStakesFromBettingStore(),this.setVisible(!0),this.store.abstractGame.openMobileDrawer(t.R9),this.soundStore.triggerEvent(Np.m.XxxtremeMenuOpened)}close(p=!0){this.store.abstractGame.hideTooltipsByType(n.Ib.XXXtremeDialog),this.setVisible(!1),this.store.abstractGame.closeMobileDrawer(t.R9),p&&this.soundStore.triggerEvent(Np.m.ButtonActivateXtremeClose,"release")}setVisible(p){this.isVisible=p}}class Ft{constructor(p){this.store=p,this.abstractGameStore=p.abstractGame,this.featureScreenStore=p.featureScreen,k.l_(this,void 0,{autoBind:!0})}open(){this.featureScreenStore.setIsVisible(!0),this.abstractGameStore.log(MH.l6(this.store,0,0))}close(p){this.featureScreenStore.setIsVisible(!1),this.abstractGameStore.log(MH.l6(this.store,p,p,"Play"))}onPageChange(p,g){this.abstractGameStore.log(MH.l6(this.store,p,g))}}class Xt{constructor({store:p,showPopZones:g,balloonsConfig:m}){this.menuButtonRef=void 0,this.menuButtonRect=void 0,this.disposeBag=new Op.C,this._winningResult=void 0,this._isInTurboMode=!1,this._isBettingDisabled=!1,this.swipeToPlayClosedTrigger=0,k.l_(this,{},{autoBind:!0});const{gameStore:Z,abstractGame:H,bettingStore:h,settings:n,spinModeStore:S}=p;var q;this.gameStore=Z,this.abstractGame=H,this.store=p,this.topUpBalloons=new Bt(this.store,g,p.device.isMobilePortrait&&void 0===m?{...Vt,normalDefaultSpeed:4.2,fastDefaultSpeed:7,speedDelta:1}:m),this.slotUIStore=new vt(p),this.uiState=this.disposeBag.addDisposable(new sp({uiStore:this,gameStore:Z,abstractGameStore:H,store:p})),this.xxxtremeDrawer=new at(this.store),this.xxxtremeButton=new ut(n,this.uiState,this.slotUIStore,S,this.xxxtremeDrawer,H),this.mainButton=this.disposeBag.addDisposable(new Dt.D(this.uiState,S,p,this,this.abstractGame)),this.featureScreen=new Ft(this.store),this.disposeBag.addDisposables([k.mJ((()=>this.isInTurboMode),(()=>{this.abstractGame.log(MH.Zl(this.store))})),k.mJ((()=>({isMinBetAmountEnabled:h.isMinBetAmountEnabledAtSpinMode[t.ow.NormalSpin],isInInteractivePhase:this.gameStore.isInteractiveGame})),(({isMinBetAmountEnabled:p,isInInteractivePhase:g})=>{g&&(this._isBettingDisabled=!p)}),{fireImmediately:!0}),k.mJ((()=>({gameDimensions:this.store.ag.gameDimensions,menuButtonRef:this.menuButtonRef,swipeToPlayTrigger:this.swipeToPlayClosedTrigger})),(({menuButtonRef:p})=>{const g=null==p?void 0:p.getBoundingClientRect();g&&(this.menuButtonRect=g)}),{fireImmediately:!0}),(q=()=>{k.h5((()=>{this.swipeToPlayClosedTrigger++}))},document.addEventListener(VH.Dd,q),()=>{document.removeEventListener(VH.Dd,q)})])}toggleTurboMode(){this._isInTurboMode=!this._isInTurboMode}get isInTurboMode(){return this._isInTurboMode}get winningResult(){return this._winningResult}get winningColor(){return wp.lm.find((p=>{var g,m;return 1===(null===(m=null===(g=this.gameStore.bonusRound)||void 0===g?void 0:g.balloonsProgress)||void 0===m?void 0:m[p])}))}get totalMultiplier(){if(this.gameStore.totalMultipliers&&this.winningColor)return this.gameStore.totalMultipliers[this.winningColor]}setWinningResult(p){this._winningResult=p}get isBettingDisabled(){return this._isBettingDisabled}get areBetControlsVisible(){return[Rp.Qualifying,Rp.SlotSpin,Rp.TopUpRound].includes(this.uiState.state)&&!this.uiState.isWaitingForQualifyingStream}get isSlotVisible(){return[Rp.Qualifying,Rp.SlotSpin,Rp.MovingToTopUpRound].includes(this.uiState.state)}get scatterCornerSpotRect(){if(!this.scatterCornerSpotRef)return;const p=this.scatterCornerSpotRef.getBoundingClientRect(),{resolution:g}=this.store.gameConfig;return{...p,height:p.height*g,width:p.width*g,x:p.x*g,y:p.y*g}}get totalWinSpotRect(){if(!this.totalWinSpotRef)return;const p=this.totalWinSpotRef.getBoundingClientRect(),{resolution:g}=this.store.gameConfig;return{...p,height:p.height*g,width:p.width*g,x:p.x*g,y:p.y*g}}get ctaButtonScaleFactor(){if(f.DS.IS_PHONE){const p=345;return Math.min(this.slotUIStore.slotArea.slot.width/p,1)}if(f.DS.IS_TABLET){const p=512;return Math.min(this.slotUIStore.slotArea.slot.width/p,1)}return 1}setScatterCornerSpotRef(p){this.scatterCornerSpotRef=p}setTotalWinSpotRef(p){this.totalWinSpotRef=p}setMenuButtonRef(p){k.h5((()=>{this.menuButtonRef=p}))}dispose(){this.disposeBag.dispose()}}const Kt={[b.OD.Tablet]:{[zZ.t.Landscape]:!0,[zZ.t.Portrait]:!1},[b.OD.Phone]:{[zZ.t.Landscape]:!1,[zZ.t.Portrait]:!0},[b.OD.Desktop]:{[zZ.t.Landscape]:!0,[zZ.t.Portrait]:!0}};function jt(p,g){const m=0;return[k.mJ((()=>p.streamId),(async p=>{var m,Z;m=g.video.currentStreamId,Z=p,$H.includes(m)!==$H.includes(Z)&&(g.video.stop(),await cp.fm(0),g.video.play()),g.video.requestStreamById(p)}),{fireImmediately:!0}),k.mJ((()=>p.scale),(p=>{g.video.mobile.setScale(p)}),{fireImmediately:!0}),k.mJ((()=>g.orientation),(p=>{if(g.platform!==b.OD.Desktop)return Kt[g.platform][p]?g.video.play():g.video.stop()})),()=>clearTimeout(m)]}class rt{constructor(p){this.props=p,this.aspectRatio=JH,this.bottomOffset=0,this.topOverflow=0,this.scale=1,this.streamIsReady=Promise.resolve(),this.shouldShowLandscape=!0,this.disposeBag=new Op.C;const{ui:g,ag:m}=p.store;this.ag=m,this.uiStateStore=g.uiState,this.disposeBag.addDisposables(jt(this,this.ag)),k.l_(this)}get height(){return this.ag.gameDimensions.boxHeight}get streamId(){return NH[this.uiStateStore.state]}dispose(){this.disposeBag.dispose()}}var Ut=m(228174);const Ct=.07;class xt{constructor(p){this.disposeBag=new Op.C,this.lastPortraitScale=1,this.portraitAspectRatio=1,k.l_(this);const{ui:g,ag:m}=p.store;this.ag=m,this.ui=g,this.ag.video.mobile.disableScaleAnimation(),this.ag.video.mobile.setShouldApplyTransform(!0),this.ag.video.mobile.setTransformOrigin(`center top`);const Z=new O.h;this.streamIsReady=Z.unwrap();const H=m.orientation===zZ.t.Portrait?m.gameDimensions:{width:m.gameDimensions.height,height:m.gameDimensions.width};this.portraitAspectRatio=H.width/H.height,k.z7((()=>this.streamId===this.ag.video.currentStreamId&&this.ag.video.isPlaying),{timeout:5e3}).then((()=>Z.resolve())).catch((()=>Z.resolve())),this.disposeBag.addDisposables([...jt(this,this.ag),k.mJ((()=>this.videoTranslate),(p=>{this.ag.video.mobile.setTranslate(function(p){return p.map((p=>`${p}px`)).join(",")}(p))}),{fireImmediately:!0}),k.mJ((()=>this.isDeviceInLandscape),(p=>{p||(this.portraitAspectRatio=this.ag.gameDimensions.width/this.ag.gameDimensions.height)}))])}get isDeviceInLandscape(){const{width:p,height:g}=this.ag.gameDimensions;return p/g>=1/this.portraitAspectRatio}get aspectRatio(){return this.shouldShowLandscape?JH:PH}get scale(){if(this.isDeviceInLandscape)return this.lastPortraitScale;const p=this.shouldShowLandscape?this.shorterScreenScale:this.tallerScreenScale;return this.lastPortraitScale=p,p}get streamId(){return(this.shouldShowLandscape?NH:dH)[this.ui.uiState.state]}get topOverflow(){return Math.round(Math.abs(this.videoTranslate[1]*this.scale))}get bottomOffset(){const{height:p}=this.ag.gameDimensions,g=Math.round(p-this.height+this.topOverflow);return Math.max(0,g)}get height(){const{boxHeight:p}=this.ag.gameDimensions;return Math.round(p*this.scale)}dispose(){this.disposeBag.dispose()}get shouldShowLandscape(){return this.portraitAspectRatio>Rt}get tallerScreenScale(){const{width:p,boxHeight:g}=this.ag.gameDimensions,m=g*PH;return Ut.GB(p/m,yH)}get shorterScreenScale(){return 2.05}get videoTranslate(){const p=this.ui.menuButtonRect?Math.round(this.ui.menuButtonRect.top+this.ui.menuButtonRect.height/2):0,{boxHeight:g}=this.ag.gameDimensions;if(this.shouldShowLandscape)return[0,0];const m=g*this.tallerScreenScale,Z=Math.max(-m*Ct,Math.min(p-m,0));return[0,Math.round(Z/this.tallerScreenScale)]}}const Rt=.65;class ct{constructor(p){this.props=p,this.aspectRatio=JH,this.bottomOffset=0,this.topOverflow=0,this.streamIsReady=Promise.resolve(),this.shouldShowLandscape=!0,this.disposeBag=new Op.C;const{ui:g,ag:m}=p.store;this.ag=m,this.uiStateStore=g.uiState,this.ag.video.mobile.disableScaleAnimation(),this.ag.video.mobile.setShouldApplyTransform(!0),this.disposeBag.addDisposables(jt(this,this.ag)),k.l_(this)}get scale(){const{boxHeight:p,height:g}=this.ag.gameDimensions;return Ut.GB(g/p,yH)}get streamId(){return NH[this.uiStateStore.state]}get height(){return Math.round(this.ag.gameDimensions.boxHeight*this.scale)}dispose(){this.disposeBag.dispose()}}var Ot=m(212429),ft=m(484802);var _t=m(969695),Et=m(786596);function Gt(p){if(!("balloons"in p.game))return p;const{balloons:g}=p.game;return p.game.balloons=Object.keys(g).reduce(((p,m)=>{const Z=g[m];return p[m]=Z?Z.map((p=>"number"==typeof p?{multiplier:Math.abs(p),shouldPop:p<0}:p)):Z,p}),{}),p}class Mt{constructor(p){this.stateError=void 0,this.isFirstStateAfterConnecting=!0,this.disposeBag=new Op.C;const{backendState:g,agApi:m,gameSettings:Z,ds:H,gameConfig:t,transport:h,randomFn:n}=p;this.gameConfig=t,this.randomFn=n,this.agApi=m,this.ag=function(p){const g=new WeakMap,m={get(p,Z){var H;const t=p[Z];if("object"==typeof t&&null!==t){if(t instanceof ft.L){let m=null===(H=g.get(p))||void 0===H?void 0:H[Z];return m||(m=function(p,g){let m;const Z=k.MN(g,(()=>{m=p.subscribe((()=>{Z.reportChanged()}))}),(()=>{m&&m()}));return Z}(t,Z),g.set(p,{...g.get(p),[Z]:m})),m.reportObserved(),t.value}return new Proxy(t,m)}return t},set(){throw new Ot.bE("Not allowed to set in proxy, please set in target directly","Generic")}};return new Proxy(p,m)}(p.agApi),this.soundStore=new $p,this.settings=new Ht(Z,t),this.stateBox=k.sH.box(Gt(g)),this.stateReceivedTime=Date.now(),this.gameStore=new Yg(this.stateBox),this.phase=this.disposeBag.addDisposable(new gt(this.gameStore));const S=function(p){const g={gamePaused:(m=p).gamePaused.state,orientation:m.orientation,isInFullscreen:m.fullscreen.isInFullscreen,isGoingLive:m.isGoingLive,gameDimensions:m.gameDimensions,preferences:m.preferences.values,gameRoundId:m.gameRoundId,playMode:m.playMode,isPageVisible:m.isPageVisible,chipstackHidden:m.chipstack.hidden,betAmountsLastSelectedAmount:m.betAmounts.lastSelectedAmount,chipstackChipColors:m.chipstack.chipColors,betAmounts:m.betAmounts.amounts,lifecycleCurrent:m.lifecycle.current,networkLatency:m.network.latency,decisionTimerHidden:m.decisionTimer.hidden,decisionTimerSecondsRemaining:m.decisionTimer.secondsRemaining,bettingTags:m.betting.tags,betModifier:m.betAmounts.betModifier,tooltipsCurrent:m.tooltips.current,gameNumber:m.gameNumber,tableName:m.tableName,layoutCurrent:m.layout.current,layoutImmersiveFooterCollapsed:m.layout.immersive.footer.collapsed,layoutClassicVideoIsExpanded:m.layout.classic.video.expanded,layoutOpenMobileDrawerId:m.layout.drawer.mobile.current,layoutDesktopDrawerCurrentOpenId:m.layout.drawer.desktop.current,menuOpenScreenId:m.menu.openScreenId,menuIsOpen:m.menu.isOpen,videoIsPlaying:m.video.isPlaying,videoQuality:m.video.quality,videoPlayerName:m.video.playerName,videoStreamForCurrentLayout:m.video.streamForCurrentLayout,videoMobileScale:m.video.mobile.scale,videoMobileScalingContainerHtmlElement:m.video.mobile.scalingContainerHtmlElement,videoInfoVisible:m.video.info.visible,gameResultAmount:m.gameResult.amount,statusBarProps:m.statusBar.props,statusBarOverlayProps:m.statusBar.overlayProps,balanceAvailable:m.balance.available,balanceReserved:m.balance.reserved,balanceReservedTip:m.balance.reservedTip,balanceServer:m.balance.server,balanceActiveId:m.balance.activeId,balanceTotalBet:m.balance.totalBet,balanceIsLow:m.balance.isLow,balanceIsPaused:m.balance.isPaused,winnersListHidden:m.winnersList.hidden,autoplayUIIsSettingsWindowOpen:m.autoplayUI.isSettingsWindowOpen,autoplayUIIsPreviousTotalBetVisible:m.autoplayUI.isPreviousTotalBetVisible,onboardingCurrent:m.onboardingBubbles.current,activeWallet:m.promotionsUI.activeWallet,currencyCode:m.currency.code,currencySymbol:m.currencySymbol,gameTheme:m.gameTheme,globalStylesCustomizableButton:m.globalStyles.current.customizableButton,tableLimitsMin:m.tableLimits.min,tableLimitsMax:m.tableLimits.max,tableLimitsPinned:m.tableLimits.ui.panel.isPinned,popupCurrent:m.popups.current,rootSize:m.rootSize};var m;return Object.keys(g).reduce(((p,m)=>{let Z;const H=g[m],t=k.MN(m,(()=>{Z=H.subscribe((()=>{t.reportChanged()}))}),(()=>null==Z?void 0:Z()));return 0||Object.defineProperty(p,m,{get:()=>(t.reportObserved(),H.value)}),p}),{})}(m);this.device=new oH(S,m,H),this.spinModeStore=this.disposeBag.addDisposable(new qt({store:this})),this.bettingStore=this.disposeBag.addDisposable(new EH({store:this,transport:h})),this.abstractGame=this.disposeBag.addDisposable(new CH({store:this,agApi:m,agValues:S})),this.featureScreen=this.disposeBag.addDisposable(new pt({store:this,agApi:this.agApi,agValues:S})),this.ui=this.disposeBag.addDisposable(new Xt({store:this,showPopZones:t.showPopZones,balloonsConfig:t.balloonsConfig})),this.video=this.disposeBag.addDisposable(this.createVideoStore()),this.slamStop=new tt({store:this}),this.gameView=this.disposeBag.addDisposable(new uH({store:this,agApi:m})),this.autoplayStore=this.disposeBag.addDisposable(new cH({store:this})),this.bonusGameStore=this.disposeBag.addDisposable(new LH({store:this,transport:h,agApi:m})),this.disposeBag.addDisposable(new St({store:this})),this.disposeBag.addDisposable(new MH.bY({store:this})),this.qualifiedPlayers=new mt(this);let q=!1;this.isFirstStateAfterConnecting=!1,h.onConnected((()=>{q&&(this.isFirstStateAfterConnecting=!0),q=!0}))}handleState(p){var g;const{game:m,error:Z}=p,H=this.stateError;if(this.stateError=Z,Z){const p=[wp.Qc.Qualified,wp.Qc.BonusRound].includes(null==m?void 0:m.state),t=this.agApi.toasts.current.value,h=[parseInt(null===(g=null==t?void 0:t.props)||void 0===g?void 0:g.reason,10),null==H?void 0:H.errorCode].includes(Z.errorCode);(!p||p&&!h)&&(m&&this.logRejected(m),this.agApi.handleError({errorId:`error_${Z.errorCode}`}))}m&&(k.h5((()=>{this.stateBox.set(Gt(p)),this.stateReceivedTime=Date.now()})),this.isFirstStateAfterConnecting=!1),this.abstractGame.agValues.winnersListHidden||["Resolved","Qualifying"].includes(p.game.state)||this.abstractGame.agApi.winnersList.hide()}handleWinnersList(p){this.abstractGame.agApi.winnersList.hide(),this.abstractGame.agApi.winnersList.setWinners([_t.Ko(p.totalWinners,p.totalPayout),...p.winners.map((p=>({type:Et.Q.Winner,screenName:p.screenName,multiplier:p.multiplier,win:`${p.payout}`})))])}handleStatisticsUpdate(p){this.qualifiedPlayers.setTotalPlayerCount(p.qualifiedPlayersCount)}handleBalanceUpdate(p,g){this.ui.slotUIStore.isSlotSpinning||this.abstractGame.handleBalanceUpdate(p,g)}dispose(){this.disposeBag.dispose()}createVideoStore(){switch(this.ag.platform){case b.OD.Phone:return new xt({store:this});case b.OD.Tablet:return new ct({store:this});case b.OD.Desktop:return new rt({store:this})}}logRejected(p){(null==p?void 0:p.state)===wp.Qc.Qualified?this.abstractGame.log(MH.bw(this)):(null==p?void 0:p.state)===wp.Qc.Qualifying&&this.abstractGame.log(MH.TW(this))}}var st=m(449141);let Tt;const lt=(p,g,m)=>{switch(p.type){case"balloonrace.playerState":null==m||m.handleState(p.payload);break;case"balloonrace.statistics":null==m||m.handleStatisticsUpdate(p.payload);break;case"balloonrace.winnersList":null==m||m.handleWinnersList(p.payload);break;case st.fY:const H=p.id||"";if(clearTimeout(Tt),!m)return void g.balance.updateFromPayload(p.payload,H);if(m.gameStore.game.state===wp.Qc.Resolved){const g=pm.vO((Z=m.gameView.animationTimings).gameResultMultiplierDimDelay+Z.gameResultMultiplierDimDuration+Z.gameResultPauseBeforeWinningResultShow);Tt=setTimeout((()=>{m.handleBalanceUpdate(p.payload,H)}),g)}else m.handleBalanceUpdate(p.payload,H)}var Z};var At=m(167005),Lt=m(947548);class ot{constructor(p,g,m,Z=lt){this.ag=p,this.transportStore=g,this.storeConstructor=m,this.gameMessageHandler=Z,this.store=void 0,this.readyWrapper=new O.h,this.messageHandlerQueue=[],this.hasReceivedStateAfterConnecting=!1,this.nextBonusRoundStartsIn=0,this.onIncomingMessage=async p=>{if("balloonrace.playerState"===p.type&&p.payload){const g=p.payload,{game:m,noMoreQualification:Z}=g,H=Yg.isQualifiedGame(m);(function(p,g){return!!p&&Yg.isQualifyingGame(g)})(Z,m)&&this.ag.popups.open(Lt.rN({kickoutReason:At.J.TableClosed,callback:()=>this.ag.navigation.goToLobby()}));const t=function(p,g){if(g)return!1;const{game:m}=p.payload,Z=Yg.isSlotGameWithResult(m)||Yg.isQualifiedGame(m),H=p.replyToId;return Z&&!H}(p,!this.hasReceivedStateAfterConnecting);if(this.hasReceivedStateAfterConnecting=!0,!this.store)return H&&(this.nextBonusRoundStartsIn=m.nextBonusRoundStartsIn),void k.h5((()=>{const p=this.storeConstructor(g).store;this.store=p,this.onRestore(g,p),this.readyWrapper.resolve(p)}));if(H&&m.nextBonusRoundStartsIn>this.nextBonusRoundStartsIn)this.nextBonusRoundStartsIn=m.nextBonusRoundStartsIn;else if(t)return}if(!this.store)return;const g=this.getGameEventTime(p);this.enqueue(p,g)},this.videoSync=p.video.sync,k.Gn(this,{store:!0}),this.transportStore.onConnected((()=>{this.hasReceivedStateAfterConnecting=!1})),this.ready=this.readyWrapper.unwrap(),this.transportStore.subscribeToIncomingMessages(this.onIncomingMessage)}dispose(){var p;this.transportStore.dispose(),null===(p=this.store)||void 0===p||p.dispose()}onRestore(p,g){var m;if(p.game.state===wp.Qc.Qualifying)g.soundStore.triggerEvent(Np.m.GameInitSlot);else if(p.game.state===wp.Qc.Qualified)g.soundStore.triggerEvent(Np.m.GameInitTopUp);else if(p.game.state===wp.Qc.BonusRound){const p=null===(m=g.gameStore.bonusRound)||void 0===m?void 0:m.balloonsProgress,Z=p?Object.values(p):[0],H=nt(Z.sort()[Z.length-1]);H>0?g.soundStore.triggerEvent(Np.m.GameInitBalloonRaceProgress,H):g.soundStore.triggerEvent(Np.m.GameInitBalloon)}}enqueue(p,g=void 0){this.messageHandlerQueue.push({gameEventTime:g,message:p}),1===this.messageHandlerQueue.length&&this.checkQueue()}getGameEventTime(p){if(p.timestamp)return p.timestamp}async checkQueue(){if(this.messageHandlerQueue.length>0){const{gameEventTime:p,message:g}=this.messageHandlerQueue[0];p&&this.shouldMessageBeVideoSynced(g)&&await this.videoSync.wait(p),this.messageHandlerQueue.shift(),this.gameMessageHandler(g,this.ag,this.store),await this.checkQueue()}}shouldMessageBeVideoSynced(p){if(!this.store)return!1;if("balloonrace.playerState"===p.type)switch(p.payload.game.state){case wp.Qc.BonusRound:case wp.Qc.Resolved:return!0;case wp.Qc.Qualifying:return Yg.isQualifyingGameAfterResolved(p.payload.game);default:return!1}return"balloonrace.winnersList"===p.type}}class ph{constructor(p,g){this.transport=p,this.getBetTags=g,this.incomingMessageHandler=()=>{}}sendMessage(p){return this.transport.sendStandardMessageAndWaitForReply(null,p).then((p=>this.incomingMessageHandler(p)))}subscribeToIncomingMessages(p){this.incomingMessageHandler=p,this.transport.incomingMessages.onValue(this.incomingMessageHandler)}dispose(){this.transport.incomingMessages.offValue(this.incomingMessageHandler)}onConnected(...p){return this.transport.onConnected(...p)}topUp(p){return this.sendMessage({type:"balloonrace.topUp",payload:{betAmount:p,betTags:this.getBetTags()}})}spin(p,g){return this.sendMessage({type:"balloonrace.spin",payload:{spinMode:p,betAmount:g,betTags:this.getBetTags()}})}skipBonusRound(){return this.sendMessage({type:"balloonrace.skipBonusRound"})}}var gh=m(755073),mh=m(13799),Zh=m(864442),Hh=m(993483),th=m(277082),hh=m(805596);const kh=Symbol("evo-balloonrace");function nh(p,g){hh.gB(kh,p,g)}var Sh=m(638356),qh=m(36638),Dh=m(4961),Ih=m(73816),bh=m(779204),eh=m(881357),Nh=m(926610),dh=m(892510),Qh=m(747992),$h=m(706809),wh=m(735821),Yh=m(444792),ih=m(767359);function Ph(p,g,m){const Z=ih._9(Jh(m,p));if(!Z)return null;try{(function(p,g){if(!$h.A(p))throw new Ot.ew("Autoplay state is not an object.");const{lastActiveSession:m,selectedRounds:Z,isRunning:H}=p;if(m!==g)throw new Ot.ew("Autoplay state contains stale data from a non-current session.");if(!wh.A(Z))throw new Ot.ew("Autoplay state contains invalid selectedRounds.");if(!Yh.A(H))throw new Ot.ew("Autoplay state contains invalid isRunning.")})(Z,g);const{lastActiveSession:p,...m}=Z;return m}catch(p){return 1&&window.console.warn(`Unable to load existing Autoplay state from session storage: ${p}`),null}}function Jh(p,g){return`${p}-${g}`}function yh(){window.EVO_LOADER.sendLog("CLIENT_ERROR",{message:"Autoplay is unable to use session storage."})}const Wh="SlotsAutoplayState";class vh{constructor(p,g){this.ag=p,this.options=g,this.isRunning=new ft.L(!1),this.isStartable=new ft.L(!1),this.isAvailable=new ft.L(!1),this.roundsLeft=new ft.L(0),this.selectedRounds=new ft.L(0),this.lossLimit=new ft.L(0),this.singleWin=new ft.L(0),this.totalBetToRepeat=new ft.L(0),this.limitsEnabled=new ft.L(!1),this.repeatCount=0,this.runningLoss=0,this.lastWin=0,this.pendingStopReason=null,this.unsubscribers={common:[],running:[],lossLimit:[]},this.start=()=>{if(!this.isStartable.value||this.isRunning.value)return;this.roundsLeft.value=this.selectedRounds.value,this.isRunning.value=!0,this.unsubscribers.running.push(this.ag.network.status.subscribe(this.trackNetworkStatus),this.ag.lifecycle.current.subscribe(this.trackLifecycle,!1),this.ag.compliance.realityCheck.status.subscribe(this.trackRealityCheck,!1)),this.limitsEnabled.value&&this.unsubscribers.running.push(this.ag.gameResult.amount.subscribe(this.trackLastWin,!1));const p=this.limitsEnabled.value?{lossLimit:this.lossLimit.value,singleWin:this.singleWin.value}:{};this.log({type:Qh.Gn.ClientStartAutoplay,payload:{selectedRounds:this.selectedRounds.value,totalBet:this.totalBetToRepeat.value,...p}}),this.repeatBets()},this.stop=(p,g=!1)=>{if(!this.isRunning.value)return;if(g&&!Vh(this.ag.lifecycle.current.value))return void(this.pendingStopReason=p);const m=this.repeatCount;this.unsubscribe(this.unsubscribers.running),this.isRunning.value=!1,this.roundsLeft.value=0,this.repeatCount=0,this.runningLoss=0,this.lastWin=0,this.pendingStopReason=null,this.log({type:Qh.Gn.ClientStoppedAutoplay,payload:{reason:p,roundsPlayed:m}}),this.ag.autoplayUI.setStopReason(p)},this.dispose=()=>{Object.keys(this.unsubscribers).forEach((p=>this.unsubscribe(this.unsubscribers[p]))),this.stop(RH.G_.ManualStop),this.isStartable.value=!1},this.setSelectedRounds=p=>{const g=this.selectedRounds.value,m=Math.max(0,p);g!==m&&(this.selectedRounds.value=m,this.isRunning.value&&(this.roundsLeft.value=m),this.log({type:Qh.Gn.ClientUpdateAutoplayRounds,payload:{previousSelectedRounds:g,selectedRounds:m}}))},this.setLossLimit=p=>{const g=this.lossLimit.value,m=Math.max(0,p);0!==m&&g!==m&&(this.unsubscribe(this.unsubscribers.lossLimit),this.lossLimit.value=m,this.log({type:Qh.Gn.ClientUpdateAutoplayLossLimit,payload:{previousLossLimit:g,lossLimit:m}}))},this.setSingleWin=p=>{const g=this.singleWin.value,m=Math.max(0,p);g!==m&&(this.singleWin.value=m,this.log({type:Qh.Gn.ClientUpdateAutoplaySingleWin,payload:{previousSingleWin:g,singleWin:m}}))},this.placeBets=()=>{this.repeatBets()},this.triggerBetsChanged=()=>{},this.trackLifecycle=p=>{if(Vh(p)){if(this.pendingStopReason)return void this.stop(this.pendingStopReason);this.repeatBets()}},this.repeatBets=(p=!1)=>{var g,m,Z;if(this.ag.balance.totalBet.value<=0||this.ag.balance.totalBetToRepeat.value<=0)return void console.error("SlotsAutoplay works based on the agreement that the game always has the total bet and the total bet to repeat > 0.",`Total bet: ${this.ag.balance.totalBet.value}.`,`Total bet to repeat: ${this.ag.balance.totalBetToRepeat.value}.`);if(!this.isRunning.value||!Vh(this.ag.lifecycle.current.value))return;const H=null!==(g=this.ag.balance.server.value)&&void 0!==g?g:0,t=zh(this.ag.balance.activeId.value);if(!t&&this.totalBetToRepeat.value>H||t&&0===H)return void this.stop(RH.G_.NoBalance);const h=this.ag.popups.current.value,k=!!h&&h.id!==sH.QD.LOW_BALANCE,n=sH.Ns.includes(null==h?void 0:h.id)&&(null==h?void 0:h.isVisible);if(!k||k&&p&&n){if(!(this.selectedRounds.value<=0)){if(this.limitsEnabled.value&&this.repeatCount>0){if(this.runningLoss+this.totalBetToRepeat.value>this.lossLimit.value)return void this.stop(RH.G_.LossReached);if(0!==this.singleWin.value&&this.lastWin>=this.singleWin.value)return void this.stop(RH.G_.WinReached);this.lastWin=0}return this.roundsLeft.value--,this.repeatCount++,this.limitsEnabled.value&&(this.runningLoss+=this.ag.balance.totalBetToRepeat.value),this.options.repeatBets(),this.log({type:Qh.Gn.ClientBetChip,payload:{type:"AutoPlay",roundsLeft:this.roundsLeft.value,...null===(Z=(m=this.options).selectBetChipLogFields)||void 0===Z?void 0:Z.call(m)}},this.options.betChipLogEnhancers),this.roundsLeft.value<=0?this.stop(RH.G_.RoundsEnded,!0):void 0}this.stop(RH.G_.RoundsEnded)}else n||this.unsubscribers.common.push(this.ag.popups.current.subscribe(this.continueAutoplayAfterClosingPopup))},this.continueAutoplayAfterClosingPopup=p=>{p||this.repeatBets()},this.updateIsAvailable=({balance:p=0,balanceId:g,totalBetToRepeat:m})=>{zh(g)?this.isAvailable.value=p>0:this.isAvailable.value=p>0&&p>=m},this.updateIsStartable=({isAvailable:p,selectedRounds:g})=>{this.isStartable.value=p&&g>0},this.updateTotalBetToRepeat=({totalBetToRepeat:p})=>{const g=this.totalBetToRepeat.value;this.isRunning.value&&g!==p&&(console.warn(`A single spin bet changed during Autoplay run (${g} -> ${p}).`,"Autoplay forcibly stopped."),this.stop(RH.G_.ManualBetsReplaced)),this.totalBetToRepeat.value=p},this.updateLossLimit=({totalBetToRepeat:p,selectedRounds:g})=>{const m=this.lossLimit.value,Z=g*p;m!==Z&&(this.lossLimit.value=Z,this.log({type:Qh.Gn.ClientUpdateAutoplayLossLimit,payload:{previousLossLimit:m,lossLimit:Z}}))},this.trackLastWin=p=>{p>0&&this.repeatCount>0&&(this.lastWin=p,this.runningLoss-=p)},this.trackNetworkStatus=p=>{[Nh.XW.Reconnecting,Nh.XW.Disconnected].includes(p)&&this.stop(RH.G_.Disconnected)},this.trackRealityCheck=p=>{switch(p){case Dh.LK.Stopped:this.stop(RH.G_.ManualStop);break;case Dh.LK.Inactive:this.repeatBets(!0)}},this.saveState=()=>{var p,g,m;p={isRunning:this.isRunning.value,selectedRounds:this.selectedRounds.value,lastActiveSession:this.ag.settings.bareSessionId()},g=this.ag.tableId,m=Wh,ih.J2(Jh(m,g),p,yh)},this.restoreState=()=>{let p=Ph(this.ag.tableId,this.ag.settings.bareSessionId(),Wh);if(p||(p=Ph(this.ag.tableId,this.ag.settings.sessionId(),Wh),p&&Ot.vV(new Ot.bE("Deprecated sessionId still in use","Deprecation"))),!p)return;const{selectedRounds:g,isRunning:m}=p;this.selectedRounds.value=g,this.isRunning.value=m},this.unsubscribe=p=>{p.forEach((p=>p())),p.length=0},this.log=(p,g=[])=>{this.ag.log(Qh.CM(p,g))},this.restoreState(),this.limitsEnabled.value=p.settings.isUKGC(),this.isRunning.value&&this.stop(RH.G_.PageRefreshed),this.unsubscribers.common.push(eh.vT({balance:p.balance.server,balanceId:p.balance.activeId,totalBetToRepeat:this.totalBetToRepeat}).subscribe(this.updateIsAvailable),eh.vT({isAvailable:this.isAvailable,selectedRounds:this.selectedRounds}).subscribe(this.updateIsStartable),eh.vT({totalBetToRepeat:p.balance.totalBetToRepeat}).subscribe(this.updateTotalBetToRepeat),eh.vT({isRunning:this.isRunning,selectedRounds:this.selectedRounds}).subscribe(this.saveState)),this.limitsEnabled.value&&this.unsubscribers.lossLimit.push(eh.vT({totalBetToRepeat:this.totalBetToRepeat,selectedRounds:this.selectedRounds}).subscribe(this.updateLossLimit))}}function Vh(p){return p===dh.P.BetsOpen||p===dh.P.InteractionOpen}function zh(p){const g=Ih.Z2(p);return g===bh.D.FreeRounds||g===bh.D.SpinGifts}var Bh=m(320693),uh=m(85),ah=m(207499),Fh=m(523219),Xh=m(50415),Kh=m(127793),jh=m(805480);function rh(p){var g;const{params:{setup:Z,styles:H,tableConfig:k}}=p,q=null!==(g=p.deviceSupport)&&void 0!==g?g:f.DS;Fh.W0._init(Z,H,k,q);const I=Fh.W0._extend(D),{dispose:b,transport:e,ag:N,getReactRoot:d,store:Q}=function(p,g){const{params:m,lobby:Z,deviceSupport:H=f.DS,mockBalanceManager:h,transports:k}=p;Tm.JL(m.i18nData,"balloonrace");const n=H.IS_DESKTOP;let S;S=n?{[th.LayoutType.ImmersiveV2]:{videoStream:jh.VideoPlaylist.Default,labelTranslationId:"view",isFooterGradientVisible:!1}}:{[th.LayoutType.PhoneV2]:{videoStream:jh.VideoPlaylist.Default,disabledPhoneOrientation:zZ.t.Landscape}};const q=p.initialLayout?p.initialLayout:n?th.LayoutType.ImmersiveV2:th.LayoutType.PhoneV2;return D={config:{video:{enabled:!0,initialStreamId:function(){const p=Xh.vc(),[g,m]=QH;return p===zZ.t.Portrait?window.innerWidth/window.innerHeight>=Rt?g:m:g}()},layout:{initialLayout:q,layouts:S,hasHelpSupportChatButton:!0,useCustomizableButton:{all:!n},autoplay:{disableButton:"all",disableControls:"desktop",bubblePosition:{phone:{portrait:"TopCenter",landscape:"TopCenter"},tablet:{landscape:"TopCenter"}}}},topGradient:{visible:!1},chipstack:{disabledComponents:"all",disableLimitChipAmounts:!0},helpNamespace:"balloonrace",tableLimits:{min:g.titleTableBetLimits[0],max:g.titleTableBetLimits[1]},minBalance:g.baseBetMinLimit,promotions:{useMiddleware:!0,hasMinimumTotalBet:!0},soundSettings:{music:{enabled:!0,defaultValue:1}},compliance:{enableNetPosition:g.getComplianceNetposition()!==ah.d.None},chat:{oneLineType:{landscape:qh.X.Bottom,portrait:qh.X.Bottom}}},settings:g,game:{theme:Kh.q.Golden,loader:m,mockBalanceManager:h,preferenceConfiguration:t.ah},lobby:Z},I=k,uh.I({...D,game:{...D.game,mockTransports:I,gameFamily:"live"}});var D,I}(p,I),$=N.store;N.globalStyles.setGlobalStyles(n.Eh);const w=new ph(e,(Y=Q.getState,function(){const p=Y(),{openMwTables:g,mwLayout:m}=Zh.y();return{btTableView:`${gh.selectVideoStreamForLayout(p,p.layout.selectedLayout)}`,orientation:mh.V6(p),btVideoQuality:Hh.n6(th.selectVideoCurrentQuality(p)),videoProtocol:th.selectVideoPlayerName(p),openMwTables:String(g),mwLayout:String(m)}}));var Y;S.y7.load();const i=new ot(N,w,(g=>{const Z=new Mt({backendState:g,agApi:N,gameSettings:I,ds:q,gameConfig:p.gameConfig,transport:w,randomFn:p.randomFn});return WH.ZQ()&&m.e(23136).then(m.bind(m,284801)).then((p=>p.setTestToolPlugins(Z,N))),I.enableTestingAPI()&&function(p){(function(p){nh("slot",{getUiState:()=>p.ui.uiState.state,getGamePhase:()=>p.phase.currentPhase,isSlotSpinning:()=>!p.ui.slotUIStore.haveSlotAndScatterAnimationsEnded,getTimeRemaining:()=>p.bonusGameStore.timeUntilNextRace,hasPixiLoaded:()=>p.gameView.whenInitialized.unwrap(),isSlotInScreen:()=>p.ui.isSlotVisible,areBetControlsOnScreen:()=>p.ui.areBetControlsVisible,getPlayerBalance:()=>p.abstractGame.totalBalance,isMovingToTopUpPhase:()=>p.ui.uiState.isMovingToTopUpPhase,setSpinMode:g=>p.spinModeStore.setSpinMode(g)})})(p),function(p){nh("topUp",{getTotalMultipliers:()=>p.gameStore.totalMultipliers,getScatterMultipliers:()=>p.gameStore.totalScatterMultiplier,getWinAmount:()=>p.ui.winningResult,getPayLineWinAmount:()=>p.gameStore.winAmount,getBaseBetAmount:()=>p.gameStore.baseBetAmount,getSpinBet:()=>{var g;return null===(g=p.bettingStore)||void 0===g?void 0:g.betAmount},stopGameTimer:g=>p.bonusGameStore.stopGameTimerAt(g)})}(p),hh.aF(kh)}(Z),{store:Z}})),{AutoplayProvider:P,dispose:J}=function(p,g,m){return Bh.PS(vh,p,g,m)}(N,{repeatBets:()=>{var p;null===(p=null==i?void 0:i.store)||void 0===p||p.autoplayStore.repeatBet()}},p.params.clientApi),y=d(p.createComponentsMap(I.isVideoPlaceholderUsed)),W=p.agRootContent,v=W?()=>h.jsx(y,{children:h.jsx(W,{})}):()=>h.jsx(y,{}),V=Bh.pA(P,function(p,g){return h.jsx(Sh.P.Provider,{value:p,children:h.jsx(g,{})})}(i,v)),z=I.isAAMS()?N.video.ready:Promise.all([N.video.ready,i.ready]).then((([,p])=>p.video.streamIsReady));return{storeProvider:i,layout:()=>V,dispose:async()=>{S.y7.dispose(),J(),null==i||i.dispose(),await b()},videoIsReady:z,dispatch:p=>$.dispatch(p)}}k.jK({enforceActions:"always",isolateGlobalState:!0});var Uh=m(643852);const Ch=Z.memo((()=>null));var xh=m(528981),Rh=m(99210);const ch=async(p,g,{currencyCode:Z,currencySymbol:H,customizableButton:t})=>{const{GameObjectiveChapter:k,GameRulesChapter:n,PayoutChapter:S,ReturnToPlayerChapter:q,PlaceBetChapter:D,AutoplayChapter:I,ShortcutKeysChapter:e}=await m.e(11674).then(m.bind(m,681901)),{PlaceBetsChapter:N}=await m.e(11674).then(m.bind(m,665444)),{AutoplayChapter:d}=await m.e(50967).then(m.bind(m,321502)),[Q,$]=g.titleTableBetLimits,w=g.getTableName(),Y=p===b.OD.Desktop,i=!Y&&Xh.vc()===zZ.t.Landscape,P=g.isUKGC(),J=g.autoplayApiRounds(),y=g.XXXtremeSpinsEnabled,W=sm.ej(g.payoutLimit(),{currencySymbol:H}),v=g.turboSpinEnabled,V=g.gameSubTranslationKey,z=g.showVolatilityIndex,B=g.useRedesignedDrawerHelp(),u=!Y&&B,a={id:"GameObjective",title:Tm.Tl("help.gameObjective.title"),content:h.jsx(k,{gameSubTranslationKey:V})},F={id:"GameRules",title:Tm.Tl("help.gameRules.title"),content:h.jsx(n,{platform:p,currencyCode:Z,currencySymbol:H,xxxtremeSpinsEnabled:y,gameSubTranslationKey:V})},X={id:"Payouts",title:Tm.Tl("help.payouts.title"),content:h.jsx(S,{isDesktop:Y,payoutLimit:W,gameSubTranslationKey:V})},K={id:"RTP",title:Tm.Tl("help.returnToPlayer.title"),content:h.jsx(q,{xxxtremeSpinsEnabled:y,isHelpRedesigned:u,showVolatilityIndex:z})},j={id:"PlaceBets",title:Tm.Tl("help.placeBets.title"),content:h.jsxs(h.Fragment,{children:[h.jsx(N,{tableName:w,currencySymbol:H,maxLimit:$,minLimit:Q,platform:p,PlaceBetSection:h.jsx(Ch,{}),RepeatButtonSection:h.jsx(Ch,{}),DoubleButtonSection:h.jsx(Ch,{}),UndoButtonSection:h.jsx(Ch,{}),TotalBetSection:h.jsx(Ch,{}),shouldHaveNote:!1,customizableButton:t}),h.jsx(D,{isDesktop:Y,currencyCode:Z,currencySymbol:H,turboSpinEnabled:v})]})},r={id:xh.t.AutoplayApi,title:Tm.Tl("help.autoplay3.title"),content:h.jsxs(h.Fragment,{children:[h.jsx(d,{currencySymbol:H,limitsEnabled:P,platform:p,availableRounds:J,gameTheme:Kh.q.Golden,isLandscape:i,isRtl:!1,buttonType:"customizable"}),h.jsx(I,{})]})},U={id:xh.t.ShortcutKeys,title:Tm.Tl("help.shortcutKeys.title"),content:h.jsx(e,{})};return[a,F,X,K,j,xh.t.LiveSupport,r,xh.t.Chat,xh.t.Tipping,xh.t.GameNumber,xh.t.Sound,xh.t.GameHistory,xh.t.SettingsWithoutSideBets,xh.t.DepositAndWithdraw,xh.t.ResponsibleGaming,xh.t.InformazioniAams,xh.t.ErrorHandling,xh.t.DisconnectionPolicy,xh.t.MoreGames,xh.t.MultiGamePlay,U,xh.t.Home]},Oh=async({settings:p,currencyCode:g,currencySymbol:Z,customizableButton:H})=>{const{GameObjectiveChapter:t,GameRulesChapter:k,PayoutChapter:n,ReturnToPlayerChapter:S,PlaceBetChapter:q,AutoplayChapter:D,ShortcutKeysChapter:I}=await m.e(11674).then(m.bind(m,681901)),{PlaceBetsChapter:e}=await m.e(11674).then(m.bind(m,356308)),{AutoplayChapter:N}=await m.e(50967).then(m.bind(m,321502)),[d,Q]=p.titleTableBetLimits,$=p.getTableName(),w=p.DeviceSupport.PLATFORM,Y=w===b.OD.Desktop,i=!Y&&Xh.vc()===zZ.t.Landscape,P=p.isUKGC(),J=p.autoplayApiRounds(),y=p.XXXtremeSpinsEnabled,W=sm.ej(p.payoutLimit(),{currencySymbol:Z}),v=p.turboSpinEnabled,V=p.gameSubTranslationKey,z=p.showVolatilityIndex,B=!Y&&p.useRedesignedDrawerHelp();return{overrideDefaultChapters:{[Rh.C.ShortcutKeys]:{content:h.jsx(I,{})},[Rh.C.Autoplay]:{content:h.jsxs(h.Fragment,{children:[h.jsx(N,{currencySymbol:Z,limitsEnabled:P,platform:w,availableRounds:J,gameTheme:Kh.q.Golden,isLandscape:i,isRtl:!1,buttonType:"customizable"}),h.jsx(D,{})]})}},customChapters:{gameDetails:[{chapters:[{id:"GameObjective",title:Tm.Tl("help.gameObjective.title"),content:h.jsx(t,{gameSubTranslationKey:V})},{id:"GameRules",title:Tm.Tl("help.gameRules.title"),content:h.jsx(k,{platform:w,currencyCode:g,currencySymbol:Z,xxxtremeSpinsEnabled:y,gameSubTranslationKey:V})},{id:"PlaceBets",title:Tm.Tl("help.placeBets.title"),content:h.jsxs(h.Fragment,{children:[h.jsx(e,{tableName:$,currencySymbol:Z,maxLimit:Q,minLimit:d,platform:w,PlaceBetSection:h.jsx(Ch,{}),RepeatButtonSection:h.jsx(Ch,{}),DoubleButtonSection:h.jsx(Ch,{}),UndoButtonSection:h.jsx(Ch,{}),TotalBetSection:h.jsx(Ch,{}),shouldHaveNote:!1,customizableButton:H}),h.jsx(q,{isDesktop:Y,currencyCode:g,currencySymbol:Z,turboSpinEnabled:v})]})},{id:"Payouts",title:Tm.Tl("help.payouts.title"),content:h.jsx(n,{isDesktop:Y,payoutLimit:W,gameSubTranslationKey:V})},{id:"ReturnToPlayer",title:Tm.Tl("help.returnToPlayer.title"),content:h.jsx(S,{xxxtremeSpinsEnabled:y,isHelpRedesigned:B,showVolatilityIndex:z})}]}]},filterMap:{overrideDefault:{[Rh.C.Shuffling]:!1,[Rh.C.SpeedMode]:v}}}},fh="container--16321",_h="multiplierSymbol--dab8a",Eh=({multiplier:p})=>p?h.jsx("span",{className:fh,children:h.jsx(th.BalloonRaceMultiplier,{font:"gold",text:`${p}x`,symbolClassName:_h})}):null;function Gh(){return null}function Mh(){return{HelpComponentListCreator:ch,HelpCreator:Oh,WinnerListMultiplierComponents:{WinnerMultiplier:Eh},LayoutVideoLoadingIndicatorComponent:Gh}}var sh,Th=m(699695);(function(p){p[p["Horizontal"]=1]="Horizontal",p[p["Vertical"]=2]="Vertical"})(sh||(sh={}));const lh="symbol--1f90c",Ah=({renderer:p,assetTexture:g,className:m,style:H})=>{const t=function(p,g){const[m,H]=Z.useState("");return Z.useEffect((()=>{const m=I.kxk.from(g),Z=I.Y7R.create({width:m.width,height:m.height});p.render(m,{renderTexture:Z}),p.extract.base64(Z,"image/webp").then((p=>H(p))).catch((()=>H("")))}),[g,p]),m}(p,g);return t?h.jsx("div",{className:Th.A(lh,m),style:{...H,backgroundImage:`url(${t})`}}):null},Lh="payoutMultiplierTable--73ede",oh="horizontal--f1a21",pk="record--677ad",gk="payoutMultiplierWrapper--086c0",mk="payoutMultiplier--36505",Zk="payoutReturn--bc66f",Hk="icon--e6f28",tk="Mobile--63aae",hk=({alignment:p,payoutTableRecord:g,renderer:m,assetTexture:Z,isMobile:H})=>{var t;const k=g.payouts.map(((p,m)=>h.jsxs("div",{className:gk,children:[h.jsx("span",{className:mk,children:`x${m+3}`}),h.jsx("span",{className:Zk,children:` = ${p}x`})]},g.symbol+p))),S=null!==(t=n.Ah[g.symbol])&&void 0!==t?t:0;return h.jsxs("div",{className:Th.A(pk,{[oh]:p===sh.Horizontal,[tk]:H}),children:[h.jsx("div",{className:Hk,style:{marginRight:`${S}em`},children:h.jsx(Ah,{renderer:m,assetTexture:Z})}),h.jsx("div",{className:Lh,children:k})]})},kk="symbolPayouts--64223",nk="label--9d690",Sk="Mobile--6d414",qk="payoutTableWrapper--8b6ca",Dk="payoutTableRow--60d6e",Ik="qualifying--5b52e",bk="scatterIcon--2b69b",ek="wildIcon--57336",Nk="wildLetter--a59ef",dk="payoutMultiplier--5ca35",Qk="payoutText--cd1f0",$k="payoutQualifyingLabel--554b4",wk=({isMobile:p,assets:g,renderer:m})=>{const Z=t.ac.slice(0,2).map((p=>h.jsx(hk,{alignment:sh.Horizontal,payoutTableRecord:p,renderer:m,assetTexture:g[c.zy[p.symbol]]},p.symbol))),H=t.ac.slice(2,4).map((p=>h.jsx(hk,{alignment:sh.Horizontal,payoutTableRecord:p,renderer:m,assetTexture:g[c.zy[p.symbol]]},p.symbol))),k=t.ac.slice(4,t.ac.length).map((Z=>h.jsx(hk,{alignment:sh.Horizontal,payoutTableRecord:Z,renderer:m,assetTexture:g[c.zy[Z.symbol]],isMobile:p},Z.symbol)));return h.jsxs("div",{className:Th.A(kk,{[Sk]:p}),children:[h.jsx("div",{className:nk,children:ig.Tl(ig.R1.SymbolPayoutsTitle)}),h.jsxs("div",{className:qk,children:[h.jsx("div",{className:Dk,children:Z}),h.jsx("div",{className:Dk,children:H}),h.jsx("div",{className:Dk,children:k}),h.jsxs("div",{className:Dk,children:[h.jsxs("div",{className:Ik,children:[h.jsx("div",{className:bk,children:h.jsx(Ah,{renderer:m,assetTexture:g[S.U3.SymbolScatter]})}),h.jsx("div",{className:$k,children:h.jsx("span",{className:Qk,children:ig.Tl(ig.R1.AndOr)})})]}),h.jsxs("div",{className:Ik,children:[h.jsx("div",{className:ek,children:S.wE.map((p=>h.jsx(Ah,{renderer:m,assetTexture:g[p],className:Nk},p)))}),h.jsxs("div",{className:$k,children:[h.jsx("span",{className:dk,children:"x3"}),h.jsx("span",{className:Qk,children:` = ${ig.Tl(ig.R1.SymbolPayoutsScatters)}`})]})]})]})]})]})},Yk="footerContentWrapper--24329",ik="mobile--5a6b8",Pk=Z.memo((({children:p,isMobile:g})=>h.jsx("tr",{"data-role":"bet-limits-footer",children:h.jsx("td",{colSpan:3,className:Th.A(Yk,{[ik]:g}),children:p})})));Pk.displayName="BetLimitsAndPayoutsFooter";const Jk=({payoutLimit:p,isMobile:g,renderer:m,assets:Z})=>h.jsxs(h.Fragment,{children:[h.jsxs(Pk,{isMobile:g,children:[`*${ig.Tl(ig.R1.TopUpLimitBasedOnBaseBet)}`," ",h.jsx("br",{}),`${ig.Tl(ig.R1.MaxPayout)} ${p}`]}),h.jsx("tr",{children:h.jsx("td",{colSpan:3,children:h.jsx(wk,{isMobile:g,renderer:m,assets:Z})})})]});function yk(p){const g=ig.Tl(ig.ZZ[p]);return p===t.Sr.TopUp?`${g}*`:g}const Wk={[t.Sr.Qualification]:!1,[t.Sr.NormalSpin]:!0,[t.Sr.XXXtremeSpin]:!0,[t.Sr.SuperXXXtremeSpin]:!0,[t.Sr.TopUp]:!1},vk=Object.values(t.Sr),Vk=vk.filter((p=>p!==t.Sr.XXXtremeSpin&&p!==t.Sr.SuperXXXtremeSpin)),zk="bet-limits-test-id";var Bk=m(653677),uk=m(671860),ak=m(509407),Fk=m(808432),Xk=m(525019);const Kk="red--3ffaa",jk="black--f01d3";function rk(p,g,m,Z){return h.jsx("use",{xlinkHref:p,x:g,y:m,height:Z})}Xk.z();const Uk=Z.memo((({rank:p,suit:g})=>{let m;switch(p){case"2":case"6":m="36";break;case"3":case"9":m="35";break;case"4":m="34";break;case"5":case"J":m="38";break;case"7":m="40";break;case"8":m="39";break;case"10":m="0";break;case"Q":case"A":m="19";break;default:m="17"}const Z=[Fk.KY.D,Fk.KY.H].includes(g)?Kk:jk,H=rk(`#rank-${p}`,m,"10","86"),t=rk(`#suit-${Fk.KY[g]}`,"100","0","106");return h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 184 106",preserveAspectRatio:"xMidYMid meet",className:Z,children:[H,t]})}));Uk.displayName="RankAndSuit";const Ck="indented--d520e",xk="doubleIndented--68144",Rk="bold--37d87",ck="bet--7d654",Ok="betLimits--3cf27",fk="payout--46826",_k="ranksAndSuits--7b0b6",Ek="mobileRanksAndSuits--7a895",Gk="cardsDelimiter--55498",Mk="disabled--fc044",sk="topPadding--64914",Tk="rtl--1eee5",lk="mobile--a40d9",Ak="cellContent--e7e92",Lk="sectionHeader--a6eff",ok="hasContent--7f13d",pn="middleDataCell--a2446",gn="fixedColumnWidths--a60d9",mn="hasBottomBorder--87313",Zn="hasIncreasedNotch--5fff3",Hn="hasNotch--42e7b",tn="legacyMenuMode--041c5",hn=Z.memo((p=>{const{betKey:g,betTitle:m,min:H,max:t,payout:k,isIndented:n=!1,areLimitsInlined:S,cards:q,middleComponent:D,hasBottomBorder:I=!0,isMobile:b=!1,currencySymbol:e="",fixedColumnWidths:N=!0,showPayouts:d=!0,isSectionHeader:Q=!1,hasSectionPadding:$=!1,disabled:w=!1,legacyMenuMode:Y}=p,i=n&&$,P=Th.A({[Ck]:!i&&(n||$),[xk]:i}),J=void 0===m&&g?h.jsx(Bk.q,{className:P,"data-role":"title",children:g}):h.jsx("span",{"data-role":"title",className:P,children:null!=m?m:String.fromCharCode(8203)}),y=Z.useMemo((()=>{if(H&&t)return ak.Q({lowerLimit:H,upperLimit:t,currencySymbol:e});const p=null!=H?H:t;return p?sm.ej(p,{currencySymbol:e}):void 0}),[H,t,e]),W=Z.useMemo((()=>null==q?void 0:q.map(((p,g)=>function(p,g){const m=p.slice(0,-1);let Z=null;switch(p.slice(-1)){case"C":Z=Fk.KY.C;break;case"D":Z=Fk.KY.D;break;case"H":Z=Fk.KY.H;break;case"S":Z=Fk.KY.S}return"|"===p?h.jsx("span",{className:Gk,children:p}):m&&null!==Z?h.jsx(Uk,{rank:m,suit:Z},g):null}(p,g)))),[q]),v=!!(m||g||y||W||D||k);return h.jsxs("tr",{"data-role":`bet-limits_${g}`,className:Th.A({[lk]:b,[Mk]:w,[ok]:v,[mn]:I,[gn]:N,[Hn]:f.DS.HAS_NOTCH,[Zn]:f.DS.IS_IPHONE14_PRO}),children:[h.jsx("td",{className:Th.A(ck,{[Rk]:!n&&!b,[sk]:S,[Lk]:Q}),colSpan:S?2:1,children:h.jsxs("div",{className:Ak,children:[J,S&&!!y&&h.jsxs("span",{className:Ok,"data-min":H,"data-max":t,"data-role":"limits",children:[uk.be,y]})]})}),!S&&h.jsx("td",{className:pn,children:h.jsx("div",{className:Ak,children:W?h.jsxs("div",{"data-role":"ranks-and-suits",className:Th.A(_k,{[Ek]:b}),children:[...W]}):D||!S&&h.jsx("div",{"data-role":"min-max",className:Ok,"data-min":H,"data-max":t,children:y})})}),d&&h.jsx("td",{className:Th.A(fk,{[sk]:S}),children:h.jsx("div",{className:Th.A(Ak,{[tn]:Y,[Tk]:Tm.sU()}),"data-role":"payout",children:k})})]})}));hn.displayName="BetLimitsAndPayoutsRow";const kn=p=>{const{betLimitsForGroup:g,payoutLimit:m,currencySymbol:Z,isMobile:H,xxxtremeSpinsEnabled:t,renderer:k,assets:n}=p,S=(t?vk:Vk).map((p=>{const[m,t]=g(p);return h.jsx(hn,{betKey:p,max:t,min:m,betTitle:yk(p),isMobile:H,currencySymbol:Z,showPayouts:!1,isIndented:Wk[p]},p)}));return h.jsxs("tbody",{"data-role":zk,children:[S,h.jsx(Jk,{payoutLimit:m,isMobile:H,renderer:k,assets:n})]})},nn=aH.S((p=>{const g=p.gameView.assetsBox.get();if(!g)return null;const m={betLimitsForGroup:p.settings.betLimitsForGroup,payoutLimit:cp.A(p.settings.payoutLimit,p.abstractGame.currencySymbol),currencySymbol:p.abstractGame.currencySymbol,isMobile:!1,xxxtremeSpinsEnabled:p.settings.XXXtremeSpinsEnabled,renderer:p.gameView.app.renderer,assets:g};return h.jsx(kn,{...m})}));var Sn=m(897899);const qn=()=>h.jsx(Sn.V,{showPayouts:!1});var Dn=m(2782);const In=p=>{const{isPhone:g,isDisabled:m}=p;return h.jsx(Dn.L,{layerStyles:n.Eh.customizableButton,size:g?"S":"M",disabled:m,type:"customizable"})},bn=aH.S((p=>p.settings.isAutoplayEnabled?h.jsx(In,{isPhone:p.device.isPhone,isDisabled:p.ui.isBettingDisabled}):null));var en=m(494475),Nn=m(346239),dn=m(160739),Qn=m(753357),$n=m(87245);function wn(p){return p.betStake.alwaysShowActionButtons}function Yn(p){return p.betStake.decrementButton.tooltipTranslationKey}function Pn(p){return p.betStake.middleButton.tooltipTranslationKey}function Jn(p){return p.betStake.incrementButton.tooltipTranslationKey}function yn(p){return p.betStake.decrementButton.isDisabled}function Wn(p){return p.betStake.incrementButton.isDisabled}const vn=dn.Mz($n.Xh,$n.gY,((p,g)=>{var m;return(null===(m=p[0])||void 0===m?void 0:m.value)===g})),Vn=dn.Mz($n.Xh,$n.gY,((p,g)=>{var m;const Z=p.findIndex((p=>p.value===g));return Z===p.length-1||!(null===(m=p[Z+1])||void 0===m?void 0:m.enabled)})),zn=dn.Mz(yn,vn,((p,g)=>p||g?"disabled":"default"));function Bn(p){return p.betStake.middleButton.isDisabled?"disabled":"default"}const un=dn.Mz(Wn,Vn,((p,g)=>p||g?"disabled":"default")),an=dn.Mz($n.gY,Qn.Pu,Qn.pg,Qn.Jc,((p,g,m,Z)=>(g||m)&&Z?Z.betAmount:p));var Fn=m(827424),Xn=m(901577),Kn=m(127241);const jn=en.Oe((({ag:p,state:g})=>{var m;const Z=(null===(m=p.autoplay)||void 0===m?void 0:m.isRunning.value)||p.balance.isLow.value||p.lifecycle.current.value===dh.P.BetsClosed;return{currencySymbol:p.currencySymbol,stakes:p.betAmounts.amounts,orientation:p.orientation,decreaseBetAmount:p.betAmounts.decreaseBetAmount,increaseBetAmount:p.betAmounts.increaseBetAmount,selectBetAmount:p.betAmounts.selectBetAmount,currencyCode:p.currency.code,selectedValue:an(g),alwaysShowActionButtons:wn(g),decreaseButtonState:Z?"disabled":zn(g),increaseButtonState:Z?"disabled":un(g),middleButtonState:Z?"disabled":Bn(g)}}),(p=>{var g,m;return[p.balance.isLow,p.lifecycle.current,p.currencySymbol,p.currency.code,...(null===(g=p.autoplay)||void 0===g?void 0:g.isRunning)?[null===(m=p.autoplay)||void 0===m?void 0:m.isRunning]:[]]}))((({Selector:p,Controls:g=th.DefaultControls,label:m,withoutBorders:H,layerStyles:t,onStakeSelect:k,controlsTheme:n,currencySymbol:S,stakes:q,orientation:D,selectedValue:I,alwaysShowActionButtons:b,decreaseButtonState:e,increaseButtonState:N,middleButtonState:d,decreaseBetAmount:Q,increaseBetAmount:$,selectBetAmount:w,currencyCode:Y,size:i,selectorTitle:P})=>{const J=Xn.O(),{isLargeScreen:y,isSmallScreen:W}=Fn.Qo(J.viewport.size.value),v=Z.useCallback((()=>{if(!k)return;const{value:p}=J.betAmounts.lastSelectedAmount,g=q.findIndex((g=>g.value===p));k(p,g)}),[J,k,q]),V=Z.useCallback((p=>{w(p,void 0,"betSelector"),v()}),[w,v]),z=Z.useCallback((()=>{Q("betSelector"),v()}),[Q,v]),B=Z.useCallback((()=>{$("betSelector"),v()}),[$,v]),u=Z.useMemo((()=>function(p){return en.Oe((({ag:p,state:g})=>{var m;const Z=(H=p.balance.isLow.value,t=null===(m=p.autoplay)||void 0===m?void 0:m.isRunning.value,h=p.lifecycle.current.value,H?Nn.m.lowBalance:t?Nn.m.autoplayRunning:h===dh.P.BetsClosed?Nn.m.gameRoundInProgress:void 0);var H,t,h;return{decreaseButtonTooltip:null!=Z?Z:function({isForceDisabled:p,isDisabled:g,customTooltip:m}){return p?m:g?Nn.m.minBetReached:Nn.m.decreaseBet}({isForceDisabled:yn(g),isDisabled:"disabled"===zn(g),customTooltip:Yn(g)}),middleButtonTooltip:null!=Z?Z:function({isDisabled:p,customTooltip:g}){return p?g:Nn.m.selectBet}({isDisabled:"disabled"===Bn(g),customTooltip:Pn(g)}),increaseButtonTooltip:null!=Z?Z:function({isForceDisabled:p,isDisabled:g,customTooltip:m}){return p?m:g?Nn.m.maxBetReached:Nn.m.increaseBet}({isForceDisabled:Wn(g),isDisabled:"disabled"===un(g),customTooltip:Jn(g)})}}),(p=>{var g,m;return[p.balance.isLow,p.lifecycle.current,...(null===(g=p.autoplay)||void 0===g?void 0:g.isRunning)?[null===(m=p.autoplay)||void 0===m?void 0:m.isRunning]:[]]}))((({decreaseButtonState:g,decreaseButtonTooltip:m,increaseButtonState:Z,increaseButtonTooltip:H,middleButtonState:t,middleButtonTooltip:k,...n})=>{const S=th.useBetStakeTooltip({isDecreaseButtonDisabled:"disabled"===g,decreaseButtonTooltip:m,isMiddleButtonDisabled:"disabled"===t,middleButtonTooltip:k,isIncreaseButtonDisabled:"disabled"===Z,increaseButtonTooltip:H});return h.jsx(p,{...n,...S,decreaseButtonState:g,increaseButtonState:Z,middleButtonState:t})}))}(g)),[g]),a=y?th.DefaultDesktopSelector:Kn.l,F=function(p,g,m){const{isLargeScreen:Z,isMediumScreen:H,isSmallScreen:t}=Fn.Qo(m.viewport.size.value);if(g||Z)return!1;const h=t&&p===zZ.t.Landscape;return H||h}(D,b,J),X=W?"sm":"md";return h.jsx(th.BetStakeV2,{Selector:null!=p?p:a,currencySymbol:S,decreaseButtonState:e,increaseButtonState:N,middleButtonState:d,onBetSelect:V,onDecreaseClick:z,onIncreaseClick:B,stakes:q,Controls:u,controlsTheme:n,selectedValue:I,hideActionButtons:F,withoutBorders:H,label:m,layerStyles:t,currencyCode:Y,size:null!=i?i:X,selectorTitle:P})}));function rn({setNextBetAmount:p}){const g=ig.Tl(ig.R1.BetLabel);return h.jsx(jn,{label:g,selectorTitle:g,onStakeSelect:p})}const Un=aH.S((p=>{const g=Z.useCallback(((g,m)=>{const Z=p.bettingStore.slotBaseBetIndex-m==-1?"increase":p.bettingStore.slotBaseBetIndex-m==1?"decrease":"changed";p.abstractGame.log(MH.bv(p,g,p.bettingStore.betAmount,Z)),p.bettingStore.setBetAmount(g)}),[p]);return h.jsx(rn,{setNextBetAmount:g})}));var Cn=m(872443),xn=m(28230),Rn=m(822381),cn=m(205156);const On="container--a4d47",fn="popupBubble--3ef4f";var _n=m(850449),En=m(864105),Gn=m(572989);const Mn=en.Oe((({state:p,ag:g})=>{const m=mh.DB(p),{CustomBetPerRoundComponent:Z,CustomBottomComponent:H}=En.R9().AutoplayCustomComponents||{},{isLargeScreen:t,isMediumScreen:h,isSmallScreen:k}=Fn.Qo(g.viewport.size.value);return{availableRounds:m.autoplayApiRounds(),currencySymbol:Cn.o2(p),gameTheme:_n.SJ(p),gameDimensions:mh.Ay(p),isDesktop:t,isLandscape:mh.O5(p),isTablet:h,isMobile:k,isRtl:Tm.sU(),CustomBetPerRoundComponent:Z,CustomBottomComponent:H,totalBet:g.balance.totalBet,isSettingsWindowOpen:g.autoplayUI.isSettingsWindowOpen,notification:g.autoplayUI.notification,closeSettings:g.autoplayUI.closeSettings,clearStopReason:g.autoplayUI.clearStopReason,setPreviousTotalBetVisibility:g.autoplayUI.setPreviousTotalBetVisibility}}),(p=>[p.viewport.size]))((({isSettingsWindowOpen:p,children:g,...m})=>{const{closeSettings:Z,isLandscape:H}=m;return h.jsx(xn.f,{position:"TopCenter",width:Rn.o1(42),isSlidingAppearance:!0,isCloseButtonEnabled:!0,isLandscape:H,visible:p,onClose:Z,className:fn,content:h.jsx("div",{className:On,children:h.jsx(cn._,{...m,withTitle:!0})}),wrapContent:!1,children:g})}));Mn.displayName="AutoplaySettingsPopupConnectedToAg";const sn=Gn.s((p=>({isRunning:p.isRunning,limitsEnabled:p.limitsEnabled,lossLimit:p.lossLimit,roundsLeft:p.roundsLeft,selectedRounds:p.selectedRounds,singleWin:p.singleWin,totalBetToRepeat:p.totalBetToRepeat})),(p=>({setLossLimit:p.setLossLimit,setSelectedRounds:p.setSelectedRounds,setSingleWin:p.setSingleWin,start:p.start,stop:p.stop})))(Mn),Tn="container--be488",ln="main--cb7db",An="turbo--ebd89",Ln="autoplay--0e151",on="bet--14fb0",pS="slot--15521",gS=p=>{const{AutoplayButton:g,TurboButton:m,MainButton:Z,BetStake:H,isCentered:t}=p;return h.jsxs("div",{className:Th.A(Tn,!t&&pS),children:[h.jsx("div",{className:ln,children:h.jsx(Z,{})}),h.jsx("div",{className:An,children:h.jsx(m,{})}),h.jsx("div",{className:Ln,children:h.jsx(sn,{children:h.jsx(g,{})})}),h.jsx("div",{className:on,children:h.jsx(H,{})})]})},mS=aH.S(((p,g)=>{const m=p.ui.uiState.isTopUpGame||p.ui.uiState.isMovingToBonusGamePhase;return h.jsx(gS,{...g,isCentered:m})})),ZS="container--46f34",HS="main--16a29",tS="turbo--e6702",hS="autoplay--55d14",kS="bet--9e0bc",nS="mainContainer--0bcf6",SS="slot--313ae",qS=aH.S(((p,g)=>{const{AutoplayButton:m,TurboButton:Z,MainButton:H,BetStake:t}=g,k=p.ui.uiState.isTopUpGame||p.ui.uiState.isMovingToBonusGamePhase,n=p.ui.ctaButtonScaleFactor;return h.jsxs("div",{className:Th.A(ZS,!k&&SS),"data-role":"bet-controls-tablet",children:[h.jsxs("div",{className:nS,style:{"--scaleFactor":`${n}`},children:[h.jsx("div",{className:tS,children:h.jsx(Z,{})}),h.jsx("div",{className:HS,children:h.jsx(H,{})}),h.jsx("div",{className:hS,children:h.jsx(m,{})})]}),h.jsx("div",{className:kS,children:h.jsx(t,{})})]})})),DS="container--e43e6",IS="wrapper--d2f04",bS="main--e536a",eS="turbo--1948e",NS="autoplay--48aee",dS="mainContainer--f2ad7",QS="bet--d54cb",$S=aH.S(((p,g)=>{const{AutoplayButton:m,TurboButton:Z,MainButton:H,BetStake:k}=g,n=Math.max(p.ui.ctaButtonScaleFactor,t.vQ);return h.jsx("div",{className:DS,children:h.jsxs("div",{className:IS,children:[h.jsxs("div",{className:dS,style:{"--scaleFactor":`${n}`},children:[h.jsx("div",{className:eS,children:h.jsx(Z,{})}),h.jsx("div",{className:bS,children:h.jsx(H,{})}),h.jsx("div",{className:NS,children:h.jsx(m,{})})]}),h.jsx("div",{className:QS,children:h.jsx(k,{})})]})})}));var wS=m(382348),YS=m(542040);const iS="betControlContainer--46120",PS="visible--9a7a2",JS="hidden--3ac5d",yS="disablePointerEvents--97396",WS="enableFadeTransition--1899c";function vS(p){const g=Z.useRef(null),{fadeDuration:m,enableFadeInTransition:H,visible:t,DS:k}=p,[n,S]=Z.useState(!t),q=Z.useMemo((()=>{const p={MainButton:wS.O,TurboButton:YS.v,AutoplayButton:bn,BetStake:Un};switch(k.PLATFORM){case b.OD.Desktop:return h.jsx(mS,{...p});case b.OD.Tablet:return h.jsx(qS,{...p});default:return h.jsx($S,{...p})}}),[k.PLATFORM]),D=Z.useCallback((p=>{p.target===g.current&&S(!t)}),[g,t]),I={"--fadeDuration":`${m}s`};return h.jsx("div",{ref:g,className:Th.A(iS,{[WS]:H,[PS]:t,[JS]:!t,[yS]:n||!t}),style:I,onTransitionEnd:D,children:q})}const VS=aH.S((p=>{const g=!!p.phase.prevPhase,m=p.gameView.animationTimings.slotFadeinDurationSec,Z=p.ui.areBetControlsVisible;return h.jsx(vS,{fadeDuration:m,enableFadeInTransition:g,visible:Z,DS:p.device.DS})}));var zS=m(757069);const BS="countdownContainer--e25e6",uS="Phone--2f5cb",aS="Tablet--31e8e",FS="countdown--64cc1",XS="visible--0838d",KS="hidden--b1084",jS="nextRaceIn--37e0e",rS="timeRemainingRow--7243d",US="timeRemaining--a4b06",CS="ribbon--6d55c",xS="left--d65ca",RS="middle--fdca6",cS="right--838dc";function OS({isDisplayed:p,timeRemaining:g,shouldAnimate:m,isStuckInTopUpPhase:H,ribbonWidth:t}){const k=p,n=k||m?void 0:{display:"none"},S=H?ig.R1.WaitBonusRoundBegins:ig.R1.NextRaceIn,[q,D]=function(p,g){const[m,H]=Z.useState(null),[t,h]=Z.useState(null),k=zS.Z(g);return Z.useEffect((()=>{if(yp.I())return;if(!m||!t)return;let Z;if(!g&&p)Z=setTimeout((()=>{const p="transform: scale(1)";m.setAttribute("style",p),t.setAttribute("style",p)}),1e3);else if(g){const g=`transform: scaleX(0); transition: transform ${p}s linear;`;m.setAttribute("style",g),t.setAttribute("style",g)}return()=>{clearTimeout(Z)}}),[g,k,p,m,t]),[H,h]}(g,k),I={width:`${t}px`};return h.jsxs("div",{className:Th.A(FS,{[XS]:k,[KS]:!k}),style:n,children:[h.jsx("div",{className:jS,children:ig.Tl(S)}),!H&&h.jsxs("div",{className:rS,children:[h.jsx("div",{className:xS,ref:q,children:h.jsx("div",{className:CS,style:I})}),h.jsx("div",{className:RS,children:h.jsx("div",{className:US,children:null!=g?g:0})}),h.jsx("div",{className:cS,ref:D,children:h.jsx("div",{className:CS,style:I})})]})]})}const fS=.5,_S=2,ES=aH.S((p=>{const{isTopUpGame:g,state:m}=p.ui.uiState,[H,t]=Z.useState([Rp.MovingToTopUpRound,Rp.TopUpRound].includes(m)&&!p.bonusGameStore.nextBonusRoundStartsIn),n=Z.useRef(),S=Z.useRef(null),{timeUntilNextRace:q}=p.bonusGameStore,D=zS.Z(m),I=g||[Rp.MovingToTopUpRound,Rp.TopUpRound].includes(D),b=k.EW((()=>p.abstractGame.gameDimensions.width*zH[f.DS.PLATFORM].totalSpaceWidth/_S*fS)).get();return Z.useEffect((()=>g?(n.current||(n.current=setTimeout((()=>{1&&t(!0)}),yp.I()?0:fp)),()=>{clearTimeout(n.current),n.current=void 0}):(clearTimeout(n.current),void(n.current=void 0))),[H,g,q,p.bonusGameStore.nextBonusRoundStartsIn,S]),Z.useLayoutEffect((()=>{if(!g)return;const m=k.mJ((()=>p.abstractGame.gameDimensions),(()=>{S.current&&p.ui.topUpBalloons.setSafeZoneOffset(S.current.getBoundingClientRect())}),{fireImmediately:!0});return()=>{p.ui.topUpBalloons.setSafeZoneOffset(void 0),m()}}),[g,S]),h.jsx("div",{ref:S,className:Th.A(BS,{[uS]:p.device.isPhone,[aS]:p.device.isTablet}),children:h.jsx(OS,{isDisplayed:g&&(!!q&&q>1||H),timeRemaining:q,shouldAnimate:I,isStuckInTopUpPhase:H,ribbonWidth:b})})})),GS=aH.S((p=>{const g=p.ui.uiState.state;return[Rp.MovingToTopUpRound,Rp.TopUpRound,Rp.MovingToBonusRound].includes(g)?h.jsx(ES,{}):null}));var MS=m(866302),sS=m(715907),TS=m(235874),lS=m(327299);const AS="featureScreenControls--eae09",LS="pageIndicators--1c81c",oS="Phone--19de1",pq="Tablet--ded10",gq="controls--2b756",mq="pageIndicator--a3867",Zq="active--cc124",Hq="playContainer--20efd",tq=({onPlayClick:p,currentPageIndex:g,pageCount:m,setCurrentPageIndex:H,isPhone:t,isTablet:k})=>{const S=Z.useCallback((()=>{H(0===g?m-1:g-1)}),[g,H,m]),q=Z.useCallback((()=>{H(g===m-1?0:g+1)}),[g,H,m]),D=Z.useCallback((p=>{H(p)}),[H]),I=[];for(let p=0;p<m;p++)I.push(h.jsx("div",{"data-role":`page-indicator-${p}`,className:Th.A(mq,{[Zq]:p===g}),onClick:()=>D(p)},`page-indicator-${p}`));const b=t?"S":"L";return h.jsxs("div",{className:Th.A(AS,{[oS]:t,[pq]:k}),"data-role":"feature-screen-controls",children:[h.jsx("div",{className:LS,"data-role":"feature-screen-page-indicators",children:I}),h.jsxs("div",{className:gq,children:[h.jsx(sS.$,{role:"feature-screen-previous",onClick:S,iconComponent:h.jsx(TS.M,{}),size:b,layerStyles:n.Eh.customizableButton}),h.jsx("div",{className:Hq,children:h.jsx(sS.$,{role:"feature-screen-play",onClick:p,label:"button.playNow.uppercase",size:b,fitWidth:!0,labelPosition:"Inside",layerStyles:n.Eh.customizableButton})}),h.jsx(sS.$,{role:"feature-screen-next",onClick:q,iconComponent:h.jsx(lS.x,{}),size:b,layerStyles:n.Eh.customizableButton})]})]})},hq="gradientText--16ee2",kq="fill--a0fba",nq="stroke--d2675",Sq="shadow--84078",qq=({text:p,className:g})=>h.jsxs("div",{className:Th.A(hq,g),children:[h.jsx("span",{className:Sq,children:p}),h.jsx("span",{className:nq,children:p}),h.jsx("span",{className:kq,children:p})]}),Dq=m.p+"images/balloonrac.21bc4677.webp",Iq=m.p+"images/balloonrac.d8e295ce.webp",bq=m.p+"images/maxmultipl.71267ff7.webp",eq=m.p+"images/qualificat.61a8248c.webp",Nq=m.p+"images/qualificat.1128e551.webp",dq=m.p+"images/topupballo.667cd2ed.webp",Qq=m.p+"images/topupballo.73ee9abc.webp",$q="featureScreenWrapper--a7ba4",wq="Phone--67778",Yq="swipeContainer--fdf07",iq="featureScreen--90aa2",Pq="Tablet--fcf50",Jq="stars--bacd7",yq="controlsContainer--7a33b",Wq="titleContainer--3536e",vq="welcomePage--b064a",Vq="title--a536a",zq="blueText--aa692",Bq="pinkGradient--49134",uq="gameFlowContainer--40ee4",aq="Phone--59a29",Fq="section--148c8",Xq="sectionWithArrow--9b42f",Kq="bonusGameLabel--7ff67",jq="bonusGameLabelText--d26cc",rq="labelContent--1682a",Uq="sectionTitle--1224c",Cq="bulletPointNumber--c9276",xq="bulletPointText--fd120",Rq="sectionDescription--68efd",cq="qualificationSymbolsImg--cea4c",Oq="topUpBalloonsImg--8eaaa",fq="balloonRaceImg--5f12b",_q="maxMultiplier--c34b6",Eq=({isPhone:p})=>{const g=Z.useMemo((()=>{const p=ig.Tl(ig.R1.BalloonRaceLiveDescription),[g,m]=p.split("{maxMultiplier}");return h.jsxs(h.Fragment,{children:[g,h.jsx("img",{src:bq,className:_q}),m]})}),[]),m=ig.Tl(ig.R1.BonusUppercase);return h.jsxs("div",{className:Th.A(iq,Jq,{[wq]:p}),"data-role":"game-flow-page",children:[h.jsx("div",{className:Wq,children:h.jsx("div",{className:Vq,children:h.jsx(qq,{text:ig.Tl(ig.R1.EnjoyThreeGames)})})}),h.jsxs("div",{className:Th.A(uq,{[aq]:p}),children:[h.jsxs("div",{className:Th.A(Fq,Xq),children:[h.jsx("img",{src:p?Nq:eq,className:cq}),h.jsxs("div",{className:Uq,children:[h.jsx("div",{className:Cq,children:h.jsx(qq,{text:"1."})}),h.jsx(qq,{text:ig.Tl(ig.R1.QualificationUppercase)})]}),h.jsx("div",{className:Th.A(zq,Rq),children:ig.Tl(ig.R1.QualificationDescription)})]}),h.jsxs("div",{className:Th.A(Fq,Xq),children:[h.jsx("img",{src:p?Qq:dq,className:Oq}),h.jsxs("div",{className:Uq,children:[h.jsx("div",{className:Cq,children:h.jsx(qq,{text:"2."})}),h.jsx(qq,{text:ig.Tl(ig.R1.TopUpUppercase)})]}),h.jsx("div",{className:Th.A(zq,Rq),children:ig.Tl(ig.R1.TopUpDescription)})]}),h.jsxs("div",{className:Fq,children:[h.jsx("img",{src:p?Iq:Dq,className:fq}),h.jsxs("div",{className:Uq,children:[h.jsx("div",{className:Cq,children:h.jsx(qq,{text:"3."})}),h.jsx(qq,{text:ig.Tl(ig.R1.BalloonRaceLive),className:xq})]}),h.jsx("div",{className:Th.A(zq,Rq),children:g}),h.jsx("div",{className:Kq,children:h.jsx("div",{className:jq,"data-text":m,children:h.jsx("span",{className:rq,children:m})})})]})]})]})};var Gq=m(457946);const Mq="symbolWinsContainer--dde3f",sq="symbolWins--9d183",Tq="Phone--d433f",lq="symbolPayout--62c89",Aq="symbol--1c8bc",Lq="equalSign--c75b4",oq="payout--02d34",pD="wildInfoContainer--8ac9f",gD="wildInfo--e6bc6",mD="expandedWildSymbol--8441e",ZD="wildSymbolLetter--aa87c",HD="scatterSymbol--4ac33",tD=[c._e.SilverRibbon,c._e.BronzeRibbon,c._e.Ace,c._e.King,c._e.Queen,c._e.Jack,c._e.Ten],hD=()=>h.jsxs("div",{className:mD,children:[h.jsx("div",{className:ZD,children:h.jsx(th.SlotSymbolImage,{symbol:th.BalloonRaceSpriteSymbol.LetterW})}),h.jsx("div",{className:ZD,children:h.jsx(th.SlotSymbolImage,{symbol:th.BalloonRaceSpriteSymbol.LetterI})}),h.jsx("div",{className:ZD,children:h.jsx(th.SlotSymbolImage,{symbol:th.BalloonRaceSpriteSymbol.LetterL})}),h.jsx("div",{className:ZD,children:h.jsx(th.SlotSymbolImage,{symbol:th.BalloonRaceSpriteSymbol.LetterD})})]}),kD=({isPhone:p})=>{const g=Z.useRef(null),m=Z.useRef(null),H=p?1.6:2.5,{styleToFitTextInOneLine:k}=Gq.X(H,g,m,!0,2,.01),n=Z.useMemo((()=>h.jsx("div",{className:sq,children:tD.map((p=>{const g=th.mapSymbolIdToSprite[p],[m,Z,H]=t.nR[p];return h.jsx("div",{className:lq,children:h.jsxs("div",{className:zq,children:[h.jsx("div",{className:Aq,children:h.jsx(th.SlotSymbolImage,{symbol:g})}),h.jsxs("div",{className:oq,children:[h.jsx(qq,{text:"x5"}),h.jsx("span",{className:Lq,children:"="}),H,"x"]}),h.jsxs("div",{className:oq,children:[h.jsx(qq,{text:"x4"}),h.jsx("span",{className:Lq,children:"="}),Z,"x"]}),h.jsxs("div",{className:oq,children:[h.jsx(qq,{text:"x3"}),h.jsx("span",{className:Lq,children:"="}),m,"x"]})]})},`symbol-payout-${p}`)}))})),[]);return h.jsxs("div",{className:Th.A(iq,Jq,{[wq]:p}),"data-role":"symbol-wins-page",children:[h.jsx("div",{className:Wq,children:h.jsx("span",{className:Vq,children:h.jsx(qq,{text:ig.Tl(ig.R1.SymbolWinsTitle)})})}),h.jsxs("div",{className:Th.A(Mq,{[Tq]:p}),children:[n,h.jsx("div",{className:pD,ref:g,children:h.jsxs("div",{className:Th.A(gD,zq),style:k,ref:m,children:[h.jsx(hD,{}),ig.Tl(ig.R1.WildSymbolDescription),h.jsx("div",{className:HD,children:h.jsx(th.SlotSymbolImage,{symbol:th.BalloonRaceSpriteSymbol.Scatter})})]})})]})]})},nD=m.p+"images/logo.a59ac1a3.webp",SD=m.p+"images/bgwelcomed.2f930200.webp",qD=m.p+"images/bgwelcomep.a95d7f83.webp",DD=m.p+"images/gamepresen.e9ba614c.webp",ID=m.p+"images/yellowball.b60813ff.webp",bD=m.p+"images/yellowball.e3a394ac.webp",eD="welcomePageContainer--6e652",ND="welcomePageTitle--bcb04",dD="ballMachineGradient--517bc",QD="logo--8cb74",$D="logoGradient--6ce3c",wD="Phone--d9383",YD="yellowBalloon--d0d58",iD="hide--f6075",PD="gamePresenter--57977",JD="backgroundImage--c5fb3",yD=({isPhone:p,activePage:g})=>{const m=Z.useRef(null),H=Z.useRef(null),t=p?1.9:3.4,{styleToFitTextInOneLine:k}=Gq.X(t,m,H,!0);return h.jsxs("div",{className:Th.A(iq,vq,{[wq]:p}),"data-role":"welcome-page",children:[h.jsx("div",{className:Wq,ref:m,children:h.jsx("div",{className:Vq,style:k,ref:H,children:h.jsx(qq,{text:ig.Tl(ig.R1.WelcomeTitle),className:ND})})}),h.jsxs("div",{className:Th.A(eD,{[wD]:p}),children:[h.jsx("img",{src:p?qD:SD,className:JD}),h.jsx("img",{src:p?bD:ID,className:Th.A(YD,{[iD]:!g})}),p&&h.jsx("img",{src:DD,className:PD}),!p&&h.jsx("div",{className:dD}),h.jsx("div",{className:$D}),h.jsx("img",{src:nD,className:QD})]})]})},WD=m.p+"images/arrow.993c4878.webp",vD=m.p+"images/winlinesla.660faf85.webp",VD=m.p+"images/winlinespo.6a09ebd1.webp",zD="winLinesContainer--7942d",BD="Phone--0c39a",uD="winLinesImage--aaa3f",aD="arrowImage--0f063",FD="winlinesDescription--3ff1c",XD=({isPhone:p})=>h.jsxs("div",{className:Th.A(iq,Jq,{[wq]:p}),"data-role":"winlines-page",children:[h.jsx("div",{className:Wq,children:h.jsx("div",{className:Vq,children:h.jsx(qq,{text:ig.Tl(ig.R1.InfoWinLinesTitle)})})}),h.jsxs("div",{className:Th.A(zD,{[BD]:p}),children:[h.jsx("img",{src:p?VD:vD,alt:"Win Lines",className:uD}),h.jsx("img",{src:WD,alt:"Arrow",className:aD}),h.jsx("span",{className:Th.A(FD,zq),children:ig.Tl(ig.R1.InfoWinLinesText)})]})]});var KD=m(104411);const jD="xxxtremeModesContainer--a1e5d",rD="Phone--dd8dc",UD="logoWrapper--4695d",CD="logo--66e65",xD="logoHalo--453b1";var RD=m(322517);const cD=({isPhone:p})=>h.jsxs("div",{className:Th.A(iq,Jq,{[wq]:p}),"data-role":"xxxtreme-spins-page",children:[h.jsxs("div",{className:Th.A(Wq),children:[h.jsx("span",{className:Vq,children:h.jsx(qq,{text:ig.Tl(ig.R1.QualifyFasterWith)})}),h.jsxs("div",{className:Th.A(UD,{[rD]:p}),children:[h.jsx("div",{className:xD}),h.jsx("img",{className:CD,src:RD})]})]}),h.jsxs("div",{className:Th.A(jD,{[rD]:p}),children:[h.jsx(KD.A,{isPhone:p,mode:t.ow.XXXtremeSpin}),h.jsx(KD.A,{isPhone:p,mode:t.ow.SuperXXXtremeSpin})]})]}),OD=627,fD=100,_D=({onClose:p,onPageChange:g,isPhone:m,isTablet:H,isDesktop:t,gameDimensions:k,xxxtremeSpinsEnabled:n})=>{const[S,q]=Z.useState(0),D=Z.useMemo((()=>function(p,g){if(g&&p.height<OD){const g=p.height/OD,m=fD*(1-g)*2;return(p.height-m)/OD}return 1}(k,m)),[k,m]),I=Z.useMemo((()=>[h.jsx(yD,{isPhone:m,activePage:0===S},"welcome-page"),h.jsx(Eq,{isPhone:m},"game-flow-page"),n?h.jsx(cD,{isPhone:m},"xxxtreme-spins-page"):void 0,h.jsx(kD,{isPhone:m},"symbol-wins-page"),h.jsx(XD,{isPhone:m},"winlines-page")].filter(Boolean)),[m,S,n]),b=Z.useCallback((p=>{g(p,S),q(p)}),[S]),e=Z.useCallback((()=>{p(S)}),[S]),N=h.jsx("div",{className:Th.A(yq,{[wq]:m}),children:h.jsx(tq,{onPlayClick:e,currentPageIndex:S,pageCount:I.length,isPhone:m,isTablet:H,setCurrentPageIndex:b})});return h.jsx("div",{className:Th.A($q,{[wq]:m,[Pq]:H}),"data-role":"feature-screen",children:h.jsxs("div",{className:Th.A(Yq),children:[h.jsx(MS.A,{style:{height:"100%",width:"100%"},containerStyle:{height:"100%",width:"100%",fontSize:`${D}em`},axis:"x",enableMouseEvents:!0,index:S,resistance:!0,onChangeIndex:b,slideStyle:{overflow:"visible"},children:I}),!m&&h.jsx("div",{className:Bq}),!t&&h.jsx(gh.MobileSafeContainerConnected,{isRng:!1,children:N}),t&&N]})})},ED=aH.S((p=>{const{isTablet:g,isPhone:m,isDesktop:Z}=p.device,{isVisible:H}=p.featureScreen;return H?h.jsx(_D,{onPageChange:p.ui.featureScreen.onPageChange,onClose:p.ui.featureScreen.close,isPhone:m,isTablet:g,isDesktop:Z,gameDimensions:p.abstractGame.gameDimensions,xxxtremeSpinsEnabled:p.settings.XXXtremeSpinsEnabled}):null})),GD="overlay--823bc",MD="visible--09fcf",sD=aH.S((p=>h.jsx("div",{className:Th.A(GD,{[MD]:p.ui.xxxtremeDrawer.isVisible})}))),TD={HotAirBalloons:"HotAirBalloons--374a2",balloon:"balloon--1827b",colorY:"colorY--53482",colorP:"colorP--84539",colorG:"colorG--8f94f",colorR:"colorR--bffac"},lD=p=>{const{progressPercentage:g,color:m}=p,Z={bottom:`${g}%`};return h.jsx("div",{className:Th.A(TD.balloon,TD[`color${m}`]),style:Z})},AD=aH.S((p=>{if(!p.settings.frontendBalloonRace)return null;const{game:g,bonusRound:m}=p.gameStore;if(Yg.isBonusGame(g)&&[wp.TU.BallDrawing,wp.TU.Resolved].includes(null==m?void 0:m.phase)){const g=(null==m?void 0:m.balloonsProgress)||{},k=(Z=p.gameView.columnWidth,H=p.gameView.app.view.height,t={platform:p.ag.platform,gameDimensions:p.ag.gameDimensions,videoAspectRatio:p.video.aspectRatio,videoTopOverflow:p.video.topOverflow},1-function(p,g,m){return hp(p,g,m)/g}(Z,H,t));return h.jsx("div",{className:TD.HotAirBalloons,children:wp.lm.map((p=>{var m;const Z=k*(null!==(m=g[p])&&void 0!==m?m:0)*100;return h.jsx(lD,{progressPercentage:Z,color:p},p)}))})}var Z,H,t;return null})),LD=Z.memo((p=>{const{application:g,shouldResizeToParent:m=!0,style:H}=p,t=Z.useCallback((p=>{p&&(m&&(g.resizeTo=p),p.appendChild(g.view))}),[g,m]);return h.jsx("div",{ref:t,style:{width:"100%",height:"100%",pointerEvents:"none"===g.stage.eventMode?"none":"auto",...H}})}));LD.displayName="DirectPixiRoot";const oD="pixiGameContainer--4d9e0";function pI({application:p}){return h.jsx("div",{"data-role":"pixi-game-container",className:oD,children:h.jsx(LD,{application:p})})}const gI=aH.S((p=>{const g=p.gameView.app;return h.jsx(pI,{application:g})})),mI="scatterCornerSpotContainer--5f4b1",ZI="mobile--f5db3",HI="tablet--14b26",tI="scatterCornerSpot--4ab32";function hI({setRef:p}){return h.jsx("div",{className:tI,ref:p})}const kI=aH.S((p=>{const g=Z.useCallback((g=>{g&&p.ui.setScatterCornerSpotRef(g)}),[p.ui]);return h.jsx("div",{className:Th.A(mI,{[ZI]:p.device.isPhone,[HI]:p.device.isTablet}),children:h.jsx(hI,{setRef:g})})})),nI="totalWinSpot--9c13b",SI=aH.S((p=>{const g=Z.useCallback((g=>{g&&p.ui.setTotalWinSpotRef(g)}),[p.ui]);return h.jsx("div",{className:nI,ref:g})})),qI=()=>h.jsx("div",{style:{width:"100%",height:"100%",background:`#0047BB`,backgroundSize:"110%",backgroundPosition:"center"}}),DI=m.p+"images/background.cea2365e.webp",II=()=>h.jsx("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center"},children:h.jsx("div",{"data-role":"video-placeholder",style:{position:"relative",aspectRatio:"16 / 9",height:"100%"},children:h.jsx("div",{style:{backgroundImage:`url(${DI})`,backgroundSize:"cover",position:"absolute",top:0,left:0,bottom:0,right:0}})})});var bI=m(462566);const eI=m.p+"images/xxxtreme.31501a18.webp",NI="xxxtremeButton--683d2",dI="Mobile--f4693",QI="enableFadeTransition--62460",$I="background--1b82c",wI="disabled--467fd",YI="activated--1668f",iI="label--eb2d8",PI="text--d569a",JI="hidden--0ce3d",yI="xxxtreme--ff70a",WI="xxxtreme-button",vI=bI.u((({fadeDuration:p,enableFadeInTransition:g,isVisible:m,isActivated:H,isDisabled:t,isDesktop:k,onClick:n,label:S,tooltipComponent:q,showTooltip:D})=>{const I={"--fadeDuration":`${p}s`},b=Z.useCallback((()=>null==D?void 0:D()),[D]);return h.jsxs("div",{className:Th.A(NI,{[QI]:g,[JI]:!m,[YI]:H,[wI]:t,[dI]:!k}),style:I,"data-role":WI,onClick:b,children:[q,h.jsxs("div",{className:iI,onClick:n,children:[h.jsx("div",{className:PI,children:S}),h.jsx("img",{src:eI,className:yI,alt:"XXXtreme"})]}),h.jsx("div",{className:$I})]})}),{persistAfterClick:!0,shouldShowImmediately:!0,hasAnchor:!1}),VI=aH.S((p=>{const{isDisabled:g,isVisible:m,isActivated:Z,onClick:H}=p.ui.xxxtremeButton,t=ig.Tl(Z?ig.R1.Deactivate:ig.R1.Activate),k=p.device.isDesktop,n=g||p.autoplayStore.isAutoplayRunning,S=[Rp.Qualifying,Rp.MovingToTopUpRound].includes(p.ui.uiState.state)?p.gameView.animationTimings.slotFadeinDurationSec:0,q=p.spinModeStore.isXXXtremeAvailable;return h.jsx(vI,{fadeDuration:S,enableFadeInTransition:!!p.phase.prevPhase,isActivated:Z,isDisabled:n,isVisible:m,isDesktop:k,onClick:H,label:t,tooltip:q?void 0:ig.R1.BalanceTooLowTooltip})})),zI="animatedCounter--14cf4",BI="previousNumber--086c0",uI="currentNumber--ac54d";var aI;(function(p){p["Increasing"]="increasing",p["Decreasing"]="decreasing"})(aI||(aI={}));const FI={[aI.Increasing]:"increasing--bd306",[aI.Decreasing]:"decreasing--ceaa9"},XI=({count:p})=>{const g=zS.Z(p),m=g&&p>g?aI.Increasing:aI.Decreasing;return h.jsxs("div",{className:Th.A(zI,FI[m]),children:[h.jsx("div",{className:uI,children:p}),h.jsx("div",{className:BI,children:g})]},`animated-count-${p}`)};var KI=m(454342);const jI="qualifiedPlayers--ce384",rI="playerCount--ff1e9",UI="qualifiedText--5e5c2",CI="qualifiedPlayerIcon--e14a2",xI="lockpick--adaaa",RI=p=>{const{playerCount:g}=p;return h.jsxs("div",{className:jI,children:[h.jsx("div",{className:xI}),h.jsx("div",{className:rI,children:h.jsx(XI,{count:g})}),h.jsx(KI.m,{className:CI}),h.jsx("div",{className:UI,children:ig.Tl(ig.R1.Qualified)})]})},cI=aH.S((p=>{const g={playerCount:p.qualifiedPlayers.totalPlayers};return h.jsx(RI,{...g})})),OI="qualifiedPlayersWrapper--982af",fI="visible--09ae3",_I=aH.S((p=>h.jsx("div",{className:Th.A(OI,{[fI]:p.qualifiedPlayers.visible}),children:h.jsx(cI,{})})));var EI=m(300754);const GI="immersiveGameLayout--9820c",MI="xxxtremeButtonContainer--824dd",sI="totalWinSpot--712b1",TI="immersive-game-overlay";function lI({useRegularVideoPlaceholder:p,useBlueScreenVideoPlaceholder:g}){return h.jsxs(h.Fragment,{children:[h.jsxs("div",{"data-role":TI,className:GI,children:[g&&h.jsx(qI,{}),p&&h.jsx(II,{}),h.jsx(kI,{}),h.jsx(AD,{}),h.jsx(gI,{}),h.jsx(_I,{}),h.jsx(GS,{}),h.jsx("div",{className:MI,children:h.jsx(VI,{})}),h.jsx("div",{className:sI,children:h.jsx(SI,{})}),h.jsx(VS,{}),h.jsx(sD,{}),h.jsx(EI.v,{})]}),h.jsx(ED,{})]})}const AI=aH.S((p=>h.jsx(lI,{useRegularVideoPlaceholder:p.settings.useRegularVideoPlaceholder,useBlueScreenVideoPlaceholder:p.settings.useBlueScreenVideoPlaceholder})));function LI(){return h.jsx(AI,{})}const oI=()=>({LayoutBottomRightButtons:[Uh.H],LayoutBetLimitsHeader:qn,LayoutBetLimitsBody:nn,...Mh(),GameOverlays:LI});var pb=m(132006),gb=m(25581),mb=m(744327);const Zb=({betMinLimit:p,betMaxLimit:g,currencySymbol:m,tableMinLimit:H,tableMaxLimit:t,tableName:k,tBodyComponent:n,preSection:S,areLimitsInlined:q=!1,hideTitle:D=!1,isTablet:I=!1,showPayouts:b,legacyMenuMode:e})=>{const N=Z.useContext(pb.lv),d=Z.useMemo((()=>ak.Q({lowerLimit:p,upperLimit:g,currencySymbol:m})),[p,g,m]),Q=Z.useMemo((()=>{if(t&&H)return ak.Q({lowerLimit:H,upperLimit:t,currencySymbol:m})}),[H,t,m]);return h.jsxs(h.Fragment,{children:[h.jsx(gb.y,{className:mb.A.container,useMobileScrollable:!0,dataRole:e?void 0:"drawer-scrollable",hasContentFadeOut:!e,refCallback:null==N?void 0:N.assignScrollable,children:h.jsxs("div",{className:mb.A.scrollContainer,children:[!D&&h.jsxs("div",{className:Th.A(mb.A.tableInfo,{[mb.A.tablet]:I}),children:[h.jsxs("div",{children:[`${Tm.Tl("table")}: `,h.jsx("span",{className:mb.A.tableName,children:k})]}),h.jsxs("div",{children:[h.jsx("span",{children:Tm.Tl("betlimits3")})," ",h.jsx("span",{className:mb.A.limits,children:d})]}),!!Q&&h.jsxs("div",{"data-role":"table-limits",children:[h.jsx("span",{children:Tm.Tl("tableLimits3")})," ",h.jsx("span",{className:mb.A.limits,children:Q})]})]}),S,h.jsxs("table",{className:mb.A.table,children:[h.jsx(Sn.V,{isMobile:!0,areLimitsInlined:q,showPayouts:b,legacyMenuMode:e}),n]})]})}),e&&h.jsx("div",{className:Th.A(mb.A.shadow,{[mb.A.tablet]:I})})]})};Zb.displayName="MobileBetLimitsAndPayoutsTable";const Hb=p=>{const{currencySymbol:g,isTablet:m,tableName:Z,tableBetLimits:H}=p;return h.jsx(Zb,{showPayouts:!1,currencySymbol:g,betMinLimit:H[0],betMaxLimit:H[1],isTablet:m,tableName:Z,tBodyComponent:h.jsx(kn,{...p})})},tb=aH.S((p=>{const g=p.gameView.assetsBox.get();if(!g)return null;const m={betLimitsForGroup:p.settings.betLimitsForGroup,payoutLimit:cp.A(p.settings.payoutLimit,p.abstractGame.currencySymbol),tableBetLimits:p.settings.titleTableBetLimits,currencySymbol:p.abstractGame.currencySymbol,isTablet:p.device.isTablet,tableName:p.settings.tableName,isMobile:!0,xxxtremeSpinsEnabled:p.settings.XXXtremeSpinsEnabled,renderer:p.gameView.app.renderer,assets:g};return h.jsx(Hb,{...m})})),hb="slotArea--10a2a",kb=aH.S(((p,{children:g})=>{const m=p.ui.slotUIStore.slotArea.area;return h.jsx("div",{className:hb,style:{left:`${m.x}px`,top:`${m.y}px`,width:`${m.width}px`,height:`${m.height}px`},children:g})})),nb="bottomGradient--df42f",Sb="gradient1--07969",qb="gradient2--3603b",Db="animate--01227",Ib="visible--854ce",bb={[eH.QualificationLandscape]:1,[eH.QualificationPortrait]:1,[eH.TopUpLandscape]:2,[eH.TopUpPortrait]:2,[eH.BonusGameLandscape]:2,[eH.BonusGamePortrait]:2},eb=aH.S((p=>{const g=k.EW((()=>bb[p.ag.video.currentStreamId])).get(),m=zS.Z(g),Z=k.EW((()=>!!m&&!yp.I()&&"Qualifying"!==p.ui.uiState.state)).get(),H=p.video.bottomOffset;return H?h.jsxs("div",{"data-role":"bottom-gradient",className:nb,style:{transform:`translate(0, 76%) translate(0, -${H}px)`},children:[h.jsx("div",{style:{background:p.settings.portraitBottomGradient1},className:Th.A(Sb,{[Db]:Z,[Ib]:1===g})}),h.jsx("div",{style:{background:p.settings.portraitBottomGradient2},className:Th.A(qb,{[Db]:Z,[Ib]:2===g})})]}):null})),Nb="container--6218f",db=()=>h.jsx("div",{className:Nb,children:h.jsx(eb,{})}),Qb="container--ff4a8",$b="gradient--552f6",wb=()=>h.jsxs("div",{className:Qb,children:[h.jsx("div",{className:$b}),h.jsx(sD,{})]}),Yb="qualifiedPlayersWrapper--d37e4",ib="visible--f39f5",Pb="tablet--35c1c",Jb=aH.S((p=>h.jsx("div",{className:Th.A(Yb,{[ib]:p.qualifiedPlayers.visible,[Pb]:f.DS.IS_TABLET}),children:h.jsx(cI,{})}))),yb="xxxtremeButtonWrapper--ec320",Wb="Phone--ed8ff",vb=aH.S((p=>{const g=f.DS.IS_PHONE?p.ui.ctaButtonScaleFactor:1;return h.jsx("div",{className:Th.A(yb,{[Wb]:f.DS.IS_PHONE}),style:{"--scaleFactor":`${g}`},children:h.jsx(VI,{})})}));var Vb=m(102178);const zb="gameLayout--ca2e4",Bb="infoButtonContainer--30b71",ub="Phone--68e7e",ab="Tablet--69673",Fb="totalWinSpot--69e69";function Xb({isPhone:p,isTablet:g,setMenuButtonRef:m,scaleFactor:H}){const t={[ub]:p,[ab]:g},k=Vb.X();Z.useEffect((()=>{var p;(null===(p=null==k?void 0:k.menuButtonRef)||void 0===p?void 0:p.current)&&m(k.menuButtonRef.current)}),[k,m]);const n=h.jsxs(h.Fragment,{children:[h.jsx("div",{className:Th.A(Fb,t),style:{"--scaleFactor":`${H}`},children:h.jsx(SI,{})}),h.jsx(vb,{})]});return h.jsxs(h.Fragment,{children:[p&&h.jsx(db,{}),h.jsx(gI,{}),h.jsx(ED,{}),p&&h.jsx(kb,{children:n}),h.jsx(gh.MobileSafeContainerConnected,{isRng:!1,children:h.jsxs("div",{className:Th.A(zb,t),children:[h.jsx(GS,{}),h.jsx(kI,{}),h.jsx("div",{className:Bb,children:h.jsx(Uh.H,{})}),g&&n,h.jsx(VS,{}),h.jsx(Jb,{})]})}),g&&h.jsxs(h.Fragment,{children:[h.jsx(wb,{}),h.jsx(EI.v,{})]})]})}const Kb=aH.S((p=>{const g=p.device.isPhone?p.ui.ctaButtonScaleFactor:1;return h.jsx(Xb,{setMenuButtonRef:p.ui.setMenuButtonRef,isPhone:p.device.isPhone,isTablet:p.device.isTablet,scaleFactor:g})}));var jb=m(945436);const rb="overlays--5f528",Ub="videoWrapper--1ca15",Cb="animate--d0bd4";var xb;(function(p){p[p["Loading"]=0]="Loading",p[p["Playing"]=1]="Playing",p[p["Stopped"]=2]="Stopped",p[p["Error"]=3]="Error"})(xb||(xb={}));class Rb extends Z.PureComponent{constructor(){super(...arguments),this.eleRef=Z.createRef(),this.playVideoButton=null,this.handleTransform=p=>{if(!p)return;const{videoScale:g,videoTranslate:m="0px, 0px",videoScaleTransformOrigin:Z="center center",shouldApplyTransform:H}=this.props,[,t]=g,h=H?t:1,[k,n]=H?m.split(",").map((p=>parseInt(p,10))):[0,0];p.style.setProperty("--origin",Z),p.style.setProperty("--scale",h.toString()),p.style.setProperty("--translateX",`${k}`),p.style.setProperty("--translateY",`${n}`)},this.handleOverlayClick=p=>{this.playVideoButton&&p.target===p.currentTarget&&this.playVideoButton.dispatchEvent(new Event("click",{bubbles:!0}))},this.setPlayVideoButton=()=>{const{isVideoPaused:p}=this.props;p&&(this.playVideoButton=document.querySelector(".video-play-btn"))},this.onPlaybackStateChange=p=>{p===xb.Stopped&&this.setPlayVideoButton()}}componentDidMount(){const{setScalingContainerHtmlElement:p}=this.props,{current:g}=this.eleRef;p(g),this.handleTransform(g)}componentDidUpdate(){this.handleTransform(this.eleRef.current)}render(){const{width:p,height:g,videoScale:m,animateVideoScaling:H,gradientComponents:t=[],overlays:k=[],customVideoProps:n,isInPiP:S}=this.props,[,q]=m,D={width:p,height:g*q,margin:"auto"},I={width:p,height:g};return h.jsxs(h.Fragment,{children:[h.jsx("div",{style:D,children:h.jsx("div",{ref:this.eleRef,"data-role":"scaled-video-container",style:I,className:Th.A(Ub,H&&Cb),children:h.jsx(jb.$6,{customVideoProps:{...n,onPlaybackStateChange:this.onPlaybackStateChange}})})}),t.map(((p,g)=>h.jsx(Z.Fragment,{children:h.jsx(p,{isInPiP:S})},g))),k.length>0&&h.jsx("div",{className:rb,onClick:this.handleOverlayClick,children:k.map(((p,g)=>h.jsx(Z.Fragment,{children:h.jsx(p,{})},g)))})]})}}const cb=9/16,Ob=en.Ne((({state:p,ag:g})=>{const m=mh.rm(p),Z=mh.V6(p),H=th.selectRequestedVideoStreamId(p),t=Z===zZ.t.Portrait,h=t?m.width*cb:m.height;return{width:t&&$H.includes(H)?h*cb:m.width,height:h,animateVideoScaling:g.video.mobile.shouldAnimateScale.value,videoScale:g.video.mobile.scale.value,isVideoPaused:!th.selectVideoEnabled(p),videoScaleTransformOrigin:g.video.mobile.transformOrigin.value,videoTranslate:g.video.mobile.translate.value,gradientComponents:En.R9().MobileVideoGradients,overlays:En.R9().MobileVideoOverlays,aspectRatio:$H.includes(H)?"9:16":"16:9",shouldApplyTransform:g.video.mobile.shouldApplyTransform.value,setScalingContainerHtmlElement:g.video.mobile.setScalingContainerHtmlElement}}),(p=>[p.video.mobile.shouldAnimateScale,p.video.mobile.shouldApplyTransform,p.video.mobile.scale,p.video.mobile.transformOrigin,p.video.mobile.translate]))(Rb),fb=(p=!1)=>({...Mh(),MobileVideoOverlays:p?[II]:[],MobileVideoWithOverlay:Ob,MobileGameOverlayContainer:Kb,MobileMenuNavigationMap:{betLimits:tb}});var _b=m(809024),Eb=m(441650),Gb=m(671837),Mb=m(357947);window.EVO_LOADER.publishApplication("/frontend/evo/r2/","balloonrace",{initialize:async function(p){const g={gameLoaderParams:p};"desktop"===p.deviceType||(g.animation=Eb.hp.FromLeftToRight,g.backgroundGradientColor=Gb.n(p));const m=Mb.K(g),{layout:h,videoIsReady:k,dispose:n}=function(p,g){return rh({params:p,createComponentsMap:f.DS.IS_DESKTOP?oI:fb,lobby:g,gameConfig:t.LF,randomFn:Math.random})}(p,m),S=H.H(p.getRoot());return S.render(Z.createElement(h)),await k,{abstractGameDispose:n,root:S}},dispose:_b.L,applicationType:"game"})},824657:(p,g,m)=>{m.d(g,{l:()=>J});var Z=m(64922),H=m(699695),t=m(377810),h=m(816531),k=m(417674),n=m(457946),S=m(973214),q=m(693206);const D=m.p+"images/xxxtremehe.1594572a.webp",I="xxxtremeSelectionHeader--3b57a",b="title--02eef",e="fill--b6e16",N="stroke--98b66",d="logo--34d4f",Q=t.memo((()=>{const p=S.Tl(S.R1.QualifyFasterWith),g=t.useRef(null),m=t.useRef(null),{styleToFitTextInOneLine:H}=n.X(1.2,g,m);return Z.jsxs("div",{className:I,children:[Z.jsxs("span",{className:b,ref:g,"data-text":p,style:H,children:[Z.jsx("span",{className:q.A.unsafeSizeRef,ref:m,children:p}),Z.jsxs("span",{className:N,children:[" ",p," "]}),Z.jsxs("span",{className:e,children:[" ",p," "]})]}),Z.jsx("img",{className:d,src:D})]})})),$="xxxtremeContainer--350f8",w="Tablet--472a2",Y="selectionContainer--eee9b",i="Phone--3b797",P="landscape--40b3c",J=t.forwardRef(((p,g)=>{const{currencySymbol:m,isLandscape:t,isPhone:n,isTablet:S,xxxtremeBetPerSpin:q,xxxtremeBaseBet:D,isXXXtremeBetIncreaseEnabled:I,increaseXXXtremeBet:b,isXXXtremeDecreaseEnabled:e,decreaseXXXtremeBet:N,isXXXtremeSelectionAvailable:d,superxxxtremeBetPerSpin:J,superxxxtremeBaseBet:y,isSuperXXXtremeBetIncreaseEnabled:W,increaseSuperXXXtremeBet:v,decreaseSuperXXXtremeBet:V,isSuperXXXtremeSelectionAvailable:z,setSpinMode:B,isSuperXXXtremeBetDecreaseEnabled:u,getDisabledBetSelectorTooltip:a}=p;return Z.jsxs("div",{className:H.A($,{[P]:t,[i]:n,[w]:S}),ref:g,children:[Z.jsx(Q,{}),Z.jsxs("div",{className:Y,children:[Z.jsx(h.D,{isPhone:n,isTablet:S,mode:k.ow.XXXtremeSpin,betPerSpin:q,baseBet:D,currencySymbol:m,isIncreaseEnabled:I,onIncrease:b,isDecreaseEnabled:e,onDecrease:N,isSelectionEnabled:d,onSelect:B,getDisabledBetSelectorTooltip:a}),Z.jsx(h.D,{isPhone:n,isTablet:S,mode:k.ow.SuperXXXtremeSpin,betPerSpin:J,baseBet:y,currencySymbol:m,isIncreaseEnabled:W,onIncrease:v,isDecreaseEnabled:u,onDecrease:V,isSelectionEnabled:z,onSelect:B,getDisabledBetSelectorTooltip:a})]})]})}))},127241:(p,g,m)=>{m.d(g,{l:()=>Q});var Z=m(64922),H=m(377810),t=m(742257),h=m(632205),k=m(346160),n=m(523219),S=m(39968),q=m(489186),D=m(999780),I=m(626239);const b={openHeight:50},e={snapPoints:["50%",S.t$]},N={height:95,breakpoint:65},d={openWidth:50},Q=H.memo((({children:p,isOpen:g,onClose:m,currencyCode:S,title:Q=k.Tl("betlabel.lowercase")})=>{const $=H.useMemo((()=>S?Z.jsx(q.p,{currencyCode:S}):void 0),[S]);return n.W0.useLiteMobileDrawer()?Z.jsx(t.Q,{titleText:Q,onCloseTransitionEnd:m,portrait:e,id:"betSelector",titleIcon:$,isOpen:g,children:Z.jsx(D.y,{children:p})}):g?Z.jsx(h.u,{titleText:Q,isRtl:k.sU(),onClose:m,portrait:b,landscape:d,fullscreen:N,id:"betSelector",titleIcon:$,children:Z.jsx(I.Xl,{children:p})}):null}));Q.displayName="DefaultMobileSelector"},417183:(p,g,m)=>{m.d(g,{DL:()=>H,Vz:()=>t,fM:()=>k,qx:()=>n,tF:()=>S,vf:()=>h});var Z=m(511576);function H(p,g){return`${p}-${g}`}function t(p,g){return new RegExp(`^${p}-.+`,"s").test(g)}function h(p,g){const m=new RegExp(`^${p}-`);return g.replace(m,"")}function k(p,g,m){return`${Z.$r}${p}-${g}-${m}`}function n(p,g){return new RegExp(`^${p}-.+`,"s").test(g.replace(Z.$r,""))}function S(p,g,m){var H;const t=(null!==(H=m.split("/").pop())&&void 0!==H?H:m).replace(Z.$r,""),h=new RegExp(`^${p}-${g}-`);return t.replace(h,"")}},810957:(p,g,m)=>{m.d(g,{De:()=>q,ED:()=>n,Wz:()=>S,X$:()=>h,hC:()=>D,qO:()=>t,sx:()=>k});var Z=m(417183),H=m(511576);function t(p,g){const m=p.atlases[0],t=p.jsons[0],h=m.content.split("\n");for(let m=0;m<h.length;m++){if(!H._b.find((p=>h[m].endsWith(p))))continue;const t=h[m],k=p.images.find((({name:p})=>p===t));if(!k)continue;const n=Z.fM(g,p.assetName,k.name);h[m]=n}return{url:Z.fM(g,p.assetName,t.name),atlasRawData:`\n${h.join("\n")}`}}function h(p,g){const m=p.jsons[0],H=Z.fM(g,p.assetName,m.name),t=p.images[0];return{textureUrl:Z.fM(g,p.assetName,t.name),url:H}}function k(p,g){const m=p.images[0];return Z.fM(g,p.assetName,m.name)}function n(p,g){const m=p.images[0];return Z.fM(g,p.assetName,m.name)}function S(p,g){const m=p.bitmaps[0];return Z.fM(g,p.assetName,m.name)}function q(p,g){const m=p.jsons[0];return Z.fM(g,p.assetName,m.name)}function D(p,g=!1){const m=[],Z=p.split("\n");for(const p of Z)(H._b.find((g=>p.endsWith(g)))||g&&p.startsWith("data:"+"image"))&&m.push(p);return m}},511576:(p,g,m)=>{m.d(g,{$r:()=>H,Tw:()=>Z,_b:()=>h,g8:()=>t,pU:()=>k});const Z=`${"evo-cache-v"}${2}`,H="assets-cache-prefix-",t="remote-cache-prefix-",h=["png","jpg","jpeg","webp","avif","svg"],k=new RegExp(`("|')\\S+\\.(${h.join("|")})("|')`,"gm")},721120:(p,g,m)=>{function Z(p,g){return(1-g)**2*g*3*p+3*(1-g)*g*g*p}function H(p,g,m,Z){const H=1-Z;return H**3*p+H**2*Z*3*(p+m)+3*H*Z*Z*(g+m)+Z*Z*Z*g}function t(p,g,m,Z){const H=2*Math.PI/3,t=function(p,g,m){return(1-m)*p+m*g}(p,g,Z);return t+2**(-10*Z)*Math.sin(10*Z*H)*m}m.d(g,{Cj:()=>t,a7:()=>H,ub:()=>Z}),m(228174)},59181:(p,g,m)=>{m.d(g,{y:()=>d,l:()=>e});var Z=m(974486),H=m(212429),t=m(484802),h=m(810957);let k;var n=m(535475),S=m(511576),q=m(933233);function D(p,g,m,Z){if(function(p){return(null==p?void 0:p.startsWith("data:"))||!1}(p)||function(p){return(null==p?void 0:p.startsWith("blob:"))||!1}(p))return p;const H=q.w(p);return H.searchParams.wRetryCount=g.toString(),H.searchParams.wRetryDelay=m.toString(),H.searchParams.wRetryBackoffFactor=Z.toString(),H.toString()}function*I(p){return yield p}const b={[n.i.PixiSpine]:function*(p){const g={...p,url:yield p.url},m=h.hC(p.atlasRawData);for(const p of m)yield`${window.location.origin}${p}`;return g},[n.i.PlainImage]:I,[n.i.PixiTexture]:I,[n.i.PixiSpriteSheet]:function*(p){return{...p,url:yield p.url,textureUrl:yield p.textureUrl}},[n.i.PixiBitmap]:function*(p){return yield p},[n.i.PixiEmitter]:I};var e;let N;(function(p){p["AllLowQualityAssetsAreReady"]="allLowQualityAssetsAreReady",p["ConsumersShouldReloadAssets"]="consumersShouldReloadAssets",p["NewAssetWasRegistered"]="newAssetWasRegistered",p["NewBrandingOptionIsAvailable"]="newBrandingOptionIsAvailable",p["LowQualitySwitchWasToggled"]="lowQualitySwitchWasToggled",p["BrandingWasChanged"]="brandingWasChanged",p["Inited"]="inited"})(e||(e={}));class d{static get instance(){var p;return null!==(p=this._instance)&&void 0!==p||(this._instance=new d),this._instance}constructor(){this.eventEmitter=new Z.b,this.brandingOptions=new Set,this.registeredAssets={[n.i.PlainImage]:[],[n.i.PixiSpine]:[],[n.i.PixiTexture]:[],[n.i.PixiSpriteSheet]:[],[n.i.PixiBitmap]:[],[n.i.PixiEmitter]:[]},this._currentBranding=null,this._useLowQualityAssets=!1,this.retryCount=3,this.retryDelay=100,this.retryBackoffFactor=1.5,this._cacheStorageUrlsSet=new Set,this.pendingLowQualityAssets=new Set;const p=window.EVO_LOADER.instance;if("empty"===p.kind)throw new H.gE("ConfigurationManager can't be initialized before app is ready. Please make sure that you don't use it in the module scope");p.subscribe("disposing",(()=>{this.reset(),d._instance=null}))}async init(p,g){this._currentGameType=p,(window.EVO_VERBOSE()||null!==g)&&(N=await async function(){try{return k||(k=await m.e(27672).then(m.bind(m,827672))),k}catch(p){return void console.error(p)}}(),await(null==N?void 0:N.initAssetsCache(g))),this._cacheStorageUrlsSet=await async function(){try{const p=new Set,g=await window.caches.open(S.Tw);return(await g.keys()).forEach((({url:g})=>p.add(g))),p}catch(p){return console.error(p),new Set}}(),this.eventEmitter.emit(e.Inited)}get gameType(){if(!this._currentGameType)throw new H.gE("ConfigurationManager wasn't inited: empty gameType");return this._currentGameType}get gameTypeSafe(){return this._currentGameType}get useLowQualityAssets(){return this._useLowQualityAssets}set useLowQualityAssets(p){p!==this._useLowQualityAssets&&(this._useLowQualityAssets=p,this.updateConfigurations(),this.eventEmitter.emit(e.LowQualitySwitchWasToggled),this.eventEmitter.emit(e.ConsumersShouldReloadAssets))}get currentBranding(){return this._currentBranding}set currentBranding(p){p!==this._currentBranding&&(this._currentBranding=p,this.updateConfigurations(),this.eventEmitter.emit(e.BrandingWasChanged),this.eventEmitter.emit(e.ConsumersShouldReloadAssets))}registerPlainImage(p,g,m=null,Z={}){return this.registerAsset(n.i.PlainImage,p,g,m,Z)}registerPixiSpine(p,g,m=null,Z={}){return this.registerAsset(n.i.PixiSpine,p,g,m,Z)}registerPixiBitmap(p,g,m=null,Z={}){return this.registerAsset(n.i.PixiBitmap,p,g,m,Z)}registerPixiTexture(p,g,m=null,Z={}){return this.registerAsset(n.i.PixiTexture,p,g,m,Z)}registerPixiSpriteSheet(p,g,m=null,Z={}){return this.registerAsset(n.i.PixiSpriteSheet,p,g,m,Z)}registerPixiEmitter(p,g){return this.registerAsset(n.i.PixiEmitter,p,g)}reportPlainImageLoaded(p){this.reportAssetLoaded(n.i.PlainImage,p)}reportPixiSpineLoaded(p){this.reportAssetLoaded(n.i.PixiSpine,p)}reportPixiBitmapLoaded(p){this.reportAssetLoaded(n.i.PixiBitmap,p)}reportPixiTextureLoaded(p){this.reportAssetLoaded(n.i.PixiTexture,p)}reportPixiSpriteSheetLoaded(p){this.reportAssetLoaded(n.i.PixiSpriteSheet,p)}setRetryCount(p){this.retryCount=p}setRetryDelay(p){this.retryDelay=p}setRetryBackoffFactor(p){this.retryBackoffFactor=p}registerAsset(p,g,m,Z=null,H={}){const h=this.getAssetId(p,g),k=b[p],n=this.updateConfigurationWithWorkerParams(m,k),S=Z?this.updateConfigurationWithWorkerParams(Z,k):null,q={},D=this.brandingOptions.size;for(const[p,g]of Object.entries(H))q[p]=this.updateConfigurationWithWorkerParams(g,k),this.brandingOptions.add(p);this.brandingOptions.size!==D&&this.eventEmitter.emit(e.NewBrandingOptionIsAvailable);const I=this.registeredAssets[p],d=I.find((p=>p.name===g));if(d)return this.pendingLowQualityAssets.delete(h),d.variants.originalConfig=n,d.variants.branding=q,d.variants.lowQualityConfig=S,d.currentConfig.value=this.getEffectiveConfigForAsset(d,p),d.currentConfig.value===S&&this.pendingLowQualityAssets.add(h),d.currentConfig;let Q=null;N&&(Q=N.getAssetsCacheConfigByName(this.gameTypeSafe,g,p));const $={name:g,currentConfig:new t.L(n),variants:{originalConfig:n,branding:q,externalConfigOverride:new t.L(Q),lowQualityConfig:S}};return I.push($),$.currentConfig.value=this.getEffectiveConfigForAsset($,p),$.variants.externalConfigOverride.subscribe((()=>{$.currentConfig.value=this.getEffectiveConfigForAsset($,p),this.eventEmitter.emit(e.ConsumersShouldReloadAssets)}),!1),$.currentConfig.value===S&&this.pendingLowQualityAssets.add(h),this.eventEmitter.emit(e.NewAssetWasRegistered),$.currentConfig}getEffectiveConfigForAsset(p,g){const m=b[g];if(p.variants.externalConfigOverride.value)return p.variants.externalConfigOverride.value;if(this.useLowQualityAssets&&p.variants.lowQualityConfig){const g=function(p,g,m,Z){try{const g=m(p.variants.originalConfig);let H=g.next();for(;!H.done;){if(!Z.has(H.value))return!1;H=g.next()}return!0}catch(p){console.error(p)}return!1}(p,0,m,this._cacheStorageUrlsSet);return g?p.variants.originalConfig:p.variants.lowQualityConfig}return this.currentBranding&&p.variants.branding[this.currentBranding]||p.variants.originalConfig}reportAssetLoaded(p,g){if(!this.useLowQualityAssets||0===this.pendingLowQualityAssets.size)return;const m=this.getAssetId(p,g);this.pendingLowQualityAssets.delete(m),0===this.pendingLowQualityAssets.size&&this.eventEmitter.emit(e.AllLowQualityAssetsAreReady)}updateConfigurations(){for(const[p,g]of Object.entries(this.registeredAssets))for(const m of g)m.currentConfig.value=this.getEffectiveConfigForAsset(m,p)}updateConfigurationWithWorkerParams(p,g){if(0===this.retryCount)return p;const m=g(p);let Z=m.next();for(;!Z.done;)Z=m.next(D(Z.value,this.retryCount,this.retryDelay,this.retryBackoffFactor));return Z.value}getAssetId(p,g){return`${p}__${g}`}reset(){this.eventEmitter.removeAllListeners();for(const p of Object.keys(this.registeredAssets))this.registeredAssets[p]=[]}}d._instance=null},535475:(p,g,m)=>{var Z;m.d(g,{i:()=>Z}),function(p){p["PlainImage"]="plainImage",p["PixiSpine"]="pixiSpine",p["PixiTexture"]="pixiTexture",p["PixiSpriteSheet"]="pixiSpriteSheet",p["PixiBitmap"]="pixiBitmap",p["PixiEmitter"]="pixiEmitter"}(Z||(Z={}))},898668:(p,g,m)=>{m.d(g,{I:()=>H});var Z=m(276111);class H{constructor(p=[]){this.curvePoints=p.map((p=>({point:p.point,easing:p.easing||"linear"})))}sample(p){if(0===this.curvePoints.length)return 1;if(1===this.curvePoints.length)return this.curvePoints[0].point[1];if(p>=this.curvePoints[this.curvePoints.length-1].point[0])return this.curvePoints[this.curvePoints.length-1].point[1];const g=2===this.curvePoints.length?0:this.findKeyIndexAt(p),m=this.curvePoints[g].point,H=this.curvePoints[g+1].point,t=Math.abs(H[0]-m[0]);let h;h=0===t?1:Math.min(Math.max((p-m[0])/t,0),1);const k=(0,Z.d9[this.curvePoints[g+1].easing||"linear"])(h);return m[1]*(1-k)+k*H[1]}addPoint(p,g="linear"){const m=this.curvePoints;if(0===m.length)m.push({point:p,easing:g});else if(m[0].point[0]>p[0])m.unshift({point:p,easing:g});else if(m[m.length-1].point[0]<p[0])m.push({point:p,easing:g});else{const m=this.findKeyIndexAt(p[0]);this.curvePoints=[...this.curvePoints.slice(0,m+1),{point:[p[0],p[1]],easing:g},...this.curvePoints.slice(m+1)]}}setPoint(p){const g=this.curvePoints.indexOf(p);-1!==g&&(this.curvePoints[g]=p,this.sortPoints())}removePoint(p){const g=this.getCurvePointIndex(p);-1!==g&&this.curvePoints.splice(g,1)}sortPoints(){this.curvePoints.sort(((p,g)=>p.point[0]-g.point[0]))}getCurvePointIndex(p){return this.curvePoints.findIndex((g=>g.point[0]===p[0]&&g.point[1]===p[1]))}toJson(){return this.curvePoints}findKeyIndexAt(p){if(p<=this.curvePoints[0].point[0])return 0;const g=this.curvePoints.length;if(p>=this.curvePoints[g-1].point[0])return g-2;let m=0,Z=g;for(;m!==Z;){const g=m+Math.floor((Z-m)/2);this.curvePoints[g].point[0]>=p?Z=g:m=g+1}return m-1}}},335914:(p,g,m)=>{m.d(g,{Od:()=>J,hZ:()=>V});var Z=m(974486),H=m(230135);class t{constructor(){this.type=H.V.donut}init(p){this.emitterConfig=p}setPosition(p,g){const m=g.next()*Math.PI*2;let Z=g.next()+g.next();const H=this.emitterConfig.innerRadius/this.emitterConfig.outerRadius;Z>1&&(Z=2-Z),Z<H&&(Z=H+Z*((1-H)/H));const t=this.emitterConfig.outerRadius*Z;p[0]+=Math.cos(m)*t,p[1]+=Math.sin(m)*t}update(p){this.emitterConfig=p}}class h{constructor(){this.type=H.V.ellipse}init(p){this.emitterConfig=p}setPosition(p,g){const m=g.next()*Math.PI*2;if(this.emitterConfig.height===this.emitterConfig.width){const Z=this.emitterConfig.width*Math.sqrt(g.next());p[0]+=Math.cos(m)*Z,p[1]+=Math.sin(m)*Z}else{const Z=Math.sqrt(g.next()),H=Z*Math.cos(m),t=Z*Math.sin(m);p[0]+=H*this.emitterConfig.width/2,p[1]+=t*this.emitterConfig.height/2}}update(p){this.emitterConfig=p}}class k{constructor(){this.type=H.V.frame,this.outerWidth=0,this.outerHeight=0,this.innerWidth=0,this.innerHeight=0,this.squares=[{square:0,w:0,h:0,xShift:0,yShift:0},{square:0,w:0,h:0,xShift:0,yShift:0},{square:0,w:0,h:0,xShift:0,yShift:0},{square:0,w:0,h:0,xShift:0,yShift:0}]}init(p){this.outerWidth=p.outerWidth,this.outerHeight=p.outerHeight,this.innerWidth=p.innerWidth,this.innerHeight=p.innerHeight,this.calcFrameRectangles()}setPosition(p,g){let m=g.next();for(let Z=0;Z<this.squares.length;Z+=1)if(m-=this.squares[Z].square,m<=0||3===Z){p[0]+=this.squares[Z].xShift,p[1]+=this.squares[Z].yShift,p[0]+=(g.next()-.5)*this.squares[Z].w,p[1]+=(g.next()-.5)*this.squares[Z].h;break}}update(p){this.outerWidth===p.outerWidth&&this.outerHeight===p.outerHeight&&this.innerWidth===p.innerWidth&&this.innerHeight===p.innerHeight||(this.outerWidth=p.outerWidth,this.outerHeight=p.outerHeight,this.innerWidth=p.innerWidth,this.innerHeight=p.innerHeight,this.calcFrameRectangles())}calcFrameRectangles(){const p=this.outerHeight-this.innerHeight,g=this.outerWidth-this.innerWidth,m=p/2,Z=this.outerWidth*m,H=this.outerWidth*m,t=g/2,h=this.innerHeight*t,k=this.innerHeight*t,n=Z+H+h+k;this.squares[0].w=this.outerWidth,this.squares[0].h=m,this.squares[0].xShift=0,this.squares[0].yShift=-(this.innerHeight/2+m/2),this.squares[0].square=Z/n,this.squares[1].w=t,this.squares[1].h=this.innerHeight,this.squares[1].xShift=this.innerWidth/2+t/2,this.squares[1].yShift=0,this.squares[1].square=k/n,this.squares[2].w=this.outerWidth,this.squares[2].h=m,this.squares[2].xShift=0,this.squares[2].yShift=this.innerHeight/2+m/2,this.squares[2].square=H/n,this.squares[3].w=t,this.squares[3].h=this.innerHeight,this.squares[3].xShift=-(this.innerWidth/2+t/2),this.squares[3].yShift=0,this.squares[3].square=h/n}}var n=m(351673);class S{constructor(){this.type=H.V.image,this.vectors=[],this.image=null,this.scale=[1,1],this.threshold=0}init(p){var g;this.emitterConfig=p,p.image&&p.image instanceof Image&&(this.updatePixelPositions(p.image,null!==(g=p.threshold)&&void 0!==g?g:0),this.updateScale(this.emitterConfig))}setPosition(p,g){if(!this.image)return;const m=0|g.nextInRange(0,this.vectors.length),Z=this.vectors[m];p[0]+=(Z[0]-this.image.width/2)*this.scale[0],p[1]+=(Z[1]-this.image.height/2)*this.scale[1]}update(p){var g;this.emitterConfig={...this.emitterConfig,...p};const m=p.image||this.image,Z=null!==(g=p.threshold)&&void 0!==g?g:this.threshold;!m||m===this.image&&this.threshold===Z||this.updatePixelPositions(m,Z),this.updateScale(this.emitterConfig)}updateScale(p){this.image&&(void 0!==p.scale?this.scale="number"==typeof p.scale?[p.scale,p.scale]:[...p.scale]:void 0!==p.width&&void 0!==p.height&&(this.scale=[p.width/this.image.width,p.height/this.image.height]))}updatePixelPositions(p,g){this.vectors=[],this.image=null,this.threshold=g;const m=n.M5(p);if(!m)return;this.image=p;const{width:Z,height:H}=m,t=m.data;for(let p=0;p<Z;p++)for(let g=0;g<H;g++)t[4*(g*Z+p)+3]>this.threshold&&this.vectors.push([p,g])}}class q{constructor(){this.type=H.V.point}init(){}setPosition(){}update(){}}class D{constructor(){this.type=H.V.rectangle}init(p){this.emitterConfig=p}setPosition(p,g){p[0]+=(g.next()-.5)*this.emitterConfig.width,p[1]+=(g.next()-.5)*this.emitterConfig.height}update(p){this.emitterConfig=p}}class I{constructor(){this.type=H.V.triangle,this.cornersSize=0,this.cornersPosition=[0,0],this.corners=[[0,0],[0,0],[0,0]]}init(p){this.emitterConfig=p}setPosition(p,g){var m;this.emitterConfig.size===this.cornersSize&&this.cornersPosition[0]===p[0]&&this.cornersPosition[1]===p[1]||(this.cornersSize=null!==(m=this.emitterConfig.size)&&void 0!==m?m:100,this.cornersPosition[0]=p[0],this.cornersPosition[1]=p[1],function(p,g,m){const Z=b*g/2,H=-2/3*Z,t=-g/2,h=1/3*Z,k=g/2,n=1/3*Z;m[0][0]=p[0]+0,m[0][1]=p[1]+H,m[1][0]=p[0]+t,m[1][1]=p[1]+h,m[2][0]=p[0]+k,m[2][1]=p[1]+n}(p,this.cornersSize,this.corners));const Z=g.next(),H=g.next(),t=Math.sqrt(Z),[h,k,n]=this.corners;p[0]=(1-t)*h[0]+t*(1-H)*k[0]+t*H*n[0],p[1]=(1-t)*h[1]+t*(1-H)*k[1]+t*H*n[1]}update(p){this.emitterConfig=p}}const b=Math.sqrt(3);function e(p){switch(p){case H.V.ellipse:return new h;case H.V.rectangle:return new D;case H.V.donut:return new t;case H.V.triangle:return new I;case H.V.frame:return new k;case H.V.point:return new q;case H.V.image:return new S;default:return console.warn(`Unknown emitter type: "${p}"!`),new q}}var N=m(233387);class d{constructor(){this.scale=[1,1],this.rotation=0,this.position=[0,0]}applyToPoint(p,g){const m=g;m[0]=p[0],m[1]=p[1];const Z=Math.sin(this.rotation),H=Math.cos(this.rotation);return m[0]=N.eL(m[0],m[1],Z,H),m[1]=N.Z8(m[0],m[1],Z,H),m[0]*=this.scale[0],m[1]*=this.scale[1],m[0]+=this.position[0],m[1]+=this.position[1],m}reset(){this.scale[0]=1,this.scale[1]=1,this.rotation=0,this.position[0]=0,this.position[1]=0}}const Q=[0,0];class ${constructor(p,g,m=!1){this.config=p,this.controller=g,this.isAlive=m,this.customProperties=new Map,this.transform=new d,this.freezePosition=!1,this.opacity=0,this.opacityInit=0,this.progress=0,this.directionVector=[0,0],this.velocity=[0,0],this.initialPosition=[0,0],this.angularVelocity=0,this.initialVelocity=0,this.linearAcceleration=0,this.tangentialAcceleration=0,this.radialAcceleration=0,this.scale=0,this.lifetime=0,this.lifetimeLeft=0,this.acceleration=[0,0]}awake(p,g,m,Z){this.isAlive=Z,this.config=p,this.freezePosition=!1,this.transform.reset();const H=this.controller.random,t=p.angularVelocity,h=p.initialRotation;this.angularVelocity=H.next()*(t.max-t.min)+t.min,this.transform.rotation=H.next()*(h.max-h.min)+h.min,this.initialPosition[0]=g.position[0]*m.width,this.initialPosition[1]=g.position[1]*m.height,this.controller.emitter.setPosition(this.initialPosition,H),this.transform.position[0]=this.initialPosition[0],this.transform.position[1]=this.initialPosition[1];const k=p.spread*Math.PI/180,n=(2*H.next()-1)*k,S=Math.sin(n),q=Math.cos(n);this.directionVector[0]=q*p.directionVector[0]-S*p.directionVector[1],this.directionVector[1]=S*p.directionVector[0]+q*p.directionVector[1],N.hF(this.directionVector),this.color=this.controller.colorsManager.getInitParticleColor(this.initialPosition,m,this.controller.random);const D=p.initialVelocity;this.initialVelocity=H.next()*(D.max-D.min)+D.min;const I=p.linearAcceleration;this.linearAcceleration=H.next()*(I.max-I.min)+I.min,this.velocity[0]=this.initialVelocity*this.directionVector[0],this.velocity[1]=this.initialVelocity*this.directionVector[1],this.acceleration[0]=0,this.acceleration[1]=0;const b=p.tangentialAcceleration;this.tangentialAcceleration=H.next()*(b.max-b.min)+b.min;const e=p.radialAcceleration;this.radialAcceleration=H.next()*(e.max-e.min)+e.min;const d=p.scale,Q=d.curve.sample(0);this.scale=H.next()*(d.max-d.min)+d.min,this.transform.scale[0]=this.scale*Q,this.transform.scale[1]=this.scale*Q;const $=p.opacity;this.opacityInit=H.next()*($.max-$.min)+$.min,this.opacity=this.opacityInit*$.curve.sample(0);const w=p.lifetime;this.lifetime=H.next()*(w.max-w.min)+w.min,this.lifetimeLeft=this.lifetime}addAcceleration(p,g){this.acceleration[0]+=p,this.acceleration[1]+=g}addVelocity(p,g){this.velocity[0]+=p,this.velocity[1]+=g}update(p,g){if(!this.isAlive||this.lifetimeLeft<0||p>=this.lifetimeLeft)return this.isAlive=!1,this.lifetimeLeft=0,this.progress=1,!1;const m=(this.lifetime-this.lifetimeLeft)/this.lifetime;this.progress=m;const Z=this.config;if(this.lifetimeLeft-=p,!this.freezePosition){const H=Z.linearAcceleration.curve.sample(m)*this.linearAcceleration;if(0!==H){const p=Q;p[0]=this.velocity[0],p[1]=this.velocity[1],N.hF(p),this.acceleration[0]+=p[0]*H,this.acceleration[1]+=p[1]*H}if((this.tangentialAcceleration||this.radialAcceleration)&&this.transform.position[0]!==this.initialPosition[0]||this.transform.position[1]!==this.initialPosition[1]){const p=Q;p[0]=this.transform.position[0]-this.initialPosition[0],p[1]=this.transform.position[1]-this.initialPosition[1],N.hF(p);const g=Z.tangentialAcceleration.curve.sample(m)*this.tangentialAcceleration;0!==g&&(this.acceleration[0]+=-p[1]*g,this.acceleration[1]+=p[0]*g),0!=Z.radialAcceleration.curve.sample(m)*this.radialAcceleration&&(this.acceleration[0]+=p[0]*this.radialAcceleration,this.acceleration[1]+=p[1]*this.radialAcceleration)}this.acceleration[0]+=Z.gravityVector[0],this.acceleration[1]+=Z.gravityVector[1],this.acceleration[0]*=p,this.acceleration[1]*=p,this.velocity[0]+=this.acceleration[0],this.velocity[1]+=this.acceleration[1],this.velocity[0]*=g,this.velocity[1]*=g;const t=this.transform.position[0],h=this.transform.position[1];if(this.transform.position[0]+=this.velocity[0]*p,this.transform.position[1]+=this.velocity[1]*p,this.acceleration[0]=0,this.acceleration[1]=0,Z.initialRotation.syncWithDirection){const p=Math.atan2(this.transform.position[1]-h,this.transform.position[0]-t);this.transform.rotation=p+Z.initialRotation.min}}if(!Z.initialRotation.syncWithDirection){const g=Z.angularVelocity.curve.sample(m);this.transform.rotation+=this.angularVelocity*g*p}const H=Z.scale.curve.sample(m);this.transform.scale[0]=this.scale*H,this.transform.scale[1]=this.scale*H,this.color=this.controller.colorsManager.getUpdateParticleColor(this.transform.position,this.controller.system.systemSize,m)||this.color,this.opacity=this.opacityInit*Z.opacity.curve.sample(m);for(const g of this.customProperties.values())g.update(p);return!0}dispose(){for(const p of this.customProperties.values())p.dispose();this.customProperties.clear()}}var w=m(918973),Y=m(481900);const i={r:255,g:255,b:255};class P{constructor(p){this.init(p),this.gradient=p.gradient,this.mode=p.mode,this.colors=[...p.colors]}update(p){if(this.gradient!==p.gradient)this.init(p);else if(this.colors.length!==p.colors.length)this.init(p);else for(let g=0;g<p.colors.length;g+=1)if(p.colors[g]!==this.colors[g]){this.init(p);break}this.gradient=p.gradient,this.mode=p.mode,this.colors=[...p.colors]}getInitParticleColor(p,g,m){var Z;if(this.mode===w.F.Off)return i;if(this.mode===w.F.Random){const p=Math.floor(m.next()*this.gradientColors.length);return null!==(Z=this.gradientColors[p])&&void 0!==Z?Z:i}return this.getUpdateParticleColor(p,g,0)}getUpdateParticleColor(p,g,m){var Z;if(this.mode===w.F.Off)return i;if(this.mode===w.F.Random)return;let H=0;const t=this.gradientColors.length-1;return this.mode===w.F.OverLife?H=Math.floor(m*t):this.mode===w.F.OverX?H=Math.floor(p[0]/g.width*t):this.mode===w.F.OverY&&(H=Math.floor(p[1]/g.height*t)),H=Math.min(Math.max(0,H),t),null!==(Z=this.gradientColors[H])&&void 0!==Z?Z:i}init(p){if(p.mode===w.F.Off)return void(this.gradientColors=[]);const g=this.getColorsDiffSize(p.colors);if(p.gradient&&p.colors.length>1&&g>0){const m=g,Z=g*(p.colors.length-1);let H=0;this.gradientColors=new Array(Z);for(let g=1;g<p.colors.length;g+=1){const Z=Y.iN(p.colors[g-1]),t=Y.iN(p.colors[g]);for(let p=0;p<=m;p+=1){const g=p/m;this.gradientColors[H]={r:Math.round(Z.r*(1-g)+t.r*g),g:Math.round(Z.g*(1-g)+t.g*g),b:Math.round(Z.b*(1-g)+t.b*g)},H+=1}}}else this.gradientColors=p.colors.map(Y.iN)}getColorsDiffSize(p){let g=0;for(let m=1;m<p.length;m+=1){const Z=Y.iN(p[m-1]),H=Y.iN(p[m]);g=Math.max(g,Math.abs(Z.r-H.r),Math.abs(Z.g-H.g),Math.abs(Z.b-H.b))}return g}}var J,y,W=m(23299),v=m(894962);(function(p){p["OnParticleEmitted"]="onParticleEmitter",p["OnParticleDisposed"]="onParticleDisposed",p["OnBeforeParticleUpdated"]="onBeforeParticleUpdated",p["OnAfterParticleUpdated"]="onAfterParticleUpdated",p["OnStarted"]="onStarted",p["OnFinished"]="onFinished",p["OnPluginAdded"]="onPluginAdded",p["OnPluginRemoved"]="onPluginRemoved",p["OnBeforeAllParticlesUpdated"]="onBeforeAllParticlesUpdated",p["OnAfterAllParticlesUpdated"]="onAfterAllParticlesUpdated"})(J||(J={})),function(p){p["Active"]="Active",p["Paused"]="Paused",p["Done"]="Done",p["Disposed"]="Disposed"}(y||(y={}));class V{get isPaused(){return this.state===y.Paused}get isDone(){return this.state===y.Done}get isActive(){return this.state===y.Active}get isDisposed(){return this.state===y.Disposed}get isEmitting(){return this.aliveParticlesCount>0||this.config.loop||this.emitAmount>0}get aliveParticles(){return this.aliveParticlesCount}get random(){return this.system.random}constructor(p,g,m,H){var t,h,k;this.controllerId=p,this.configId=g,this.eventEmitter=new Z.b,this.plugins=new Map,this.excludeFromSerialization=!1,this.hideInEditor=!1,this.aliveParticlesCount=0,this.state=y.Done,this.emitAmount=0,this.onConfigUpdated=()=>{if(this.colorsManager.update(this.config.particle.colors),this.config.emitter.type!==this.emitter.type?(this.emitter=e(this.config.emitter.type),this.emitter.init(this.config.emitter)):this.emitter.update(this.config.emitter),this.totalAmount!==this.config.amount){if(this.particlesPool.length>this.config.amount){for(let p=this.config.amount;p<this.particlesPool.length;p+=1)this.particlesPool[p].dispose();this.particlesPool.length=this.config.amount,this.aliveParticlesCount=Math.min(this.config.amount,this.aliveParticlesCount)}else{let p=this.config.amount-this.particlesPool.length;for(;p>0;)this.particlesPool.push(this.createParticle(!1)),p-=1}this.totalAmount=this.config.amount,this.emitAmount=this.config.amount}},this.system=m,this.config=this.system.getConfigOrThrow(g),this.config.eventEmitter.on(W.Y$.ConfigChanged,this.onConfigUpdated,!1),this.totalAmount=this.config.amount,this.emissionDelay=0,this.emitAmount=this.totalAmount,this.graphics=H.graphics,this.graphics.init(this.system.renderer,this),this.excludeFromSerialization=null!==(t=H.excludeFromSerialization)&&void 0!==t&&t,this.hideInEditor=null!==(h=H.hideInEditor)&&void 0!==h&&h,this.colorsManager=new P(this.config.particle.colors),this.emitter=null!==(k=null==H?void 0:H.emitter)&&void 0!==k?k:e(this.config.emitter.type),this.emitter.init(this.config.emitter),this.initParticles(),this.config.autoStart&&this.start()}setGraphics(p){var g,m;p!==this.graphics&&this.graphics.dispose(),this.graphics=p,this.graphics.init(this.system.renderer,this),this.isEmitting&&(null===(m=(g=this.graphics).onActivate)||void 0===m||m.call(g))}addPlugin(p,g){const m=this.plugins.get(p);m&&m!==g&&m.dispose(),g.init(this),this.plugins.set(p,g),this.eventEmitter.emit(J.OnPluginAdded),this.system.eventEmitter.emit(v.hc.OnControllerPluginAdded)}removePlugin(p){const g=this.plugins.get(p);g&&(g.dispose(),this.plugins.delete(p),this.eventEmitter.emit(J.OnPluginRemoved),this.system.eventEmitter.emit(v.hc.OnControllerPluginRemoved))}start(){var p,g;this.eventEmitter.emit(J.OnStarted),this.state===y.Done&&(null===(g=(p=this.graphics).onActivate)||void 0===g||g.call(p)),this.state=y.Active}pause(){this.state=y.Paused}finish(){var p,g;this.eventEmitter.emit(J.OnFinished),null===(g=(p=this.graphics).onDeactivate)||void 0===g||g.call(p),this.state=y.Done}reset(){this.aliveParticlesCount=0;for(const p of this.particlesPool)p.isAlive&&(p.isAlive=!1,this.eventEmitter.emit(J.OnParticleDisposed,p));this.emitAmount=this.totalAmount}update(p){if(this.isPaused||this.isDone)return;if(!this.isEmitting&&this.state===y.Active)return void this.finish();this.eventEmitter.emit(J.OnBeforeAllParticlesUpdated,this,p),0===this.emitAmount&&this.config.loop&&(this.emitAmount=this.totalAmount);let g=Math.min(this.emitAmount,this.config.particlesPerWave);this.emissionDelay>p?(this.emissionDelay-=p,g=0):this.emissionDelay=this.config.emissionDelay;const m=this.config.particle,Z=this.config.emitter,H=this.config.explosiveness,t=this.system.systemSize;let h=1;m.damping<1&&(h=m.damping**p);let k=0;for(;k<this.aliveParticlesCount;){const n=this.particlesPool[k];this.eventEmitter.emit(J.OnBeforeParticleUpdated,n,p);const S=n.update(p,h);S?this.eventEmitter.emit(J.OnAfterParticleUpdated,n,p):this.eventEmitter.emit(J.OnParticleDisposed,n),S?k+=1:g>0&&!H?(g-=1,this.emitAmount-=1,n.awake(m,Z,t,!0),this.eventEmitter.emit(J.OnParticleEmitted,n),k+=1):(this.particlesPool[k]=this.particlesPool[this.aliveParticlesCount-1],this.particlesPool[this.aliveParticlesCount-1]=n,this.aliveParticlesCount-=1)}if(H&&this.aliveParticlesCount>0)return void this.eventEmitter.emit(J.OnAfterAllParticlesUpdated,this,p);const n=Math.min(this.aliveParticlesCount+g,this.totalAmount);for(let p=this.aliveParticlesCount;p<n;p+=1)this.particlesPool[p].awake(m,Z,t,!0),this.eventEmitter.emit(J.OnParticleEmitted,this.particlesPool[p]),this.aliveParticlesCount+=1,this.emitAmount-=1;this.eventEmitter.emit(J.OnAfterAllParticlesUpdated,this,p)}dispose(){for(const p of this.particlesPool)p.dispose();for(const p of this.plugins.values())p.dispose();this.eventEmitter.removeAllListeners(),this.graphics.dispose(),this.state=y.Disposed}toJSON(p){const g={};for(const[m,Z]of this.plugins){const H=Z.toJSON(p);if(!H)continue;const t=Z.constructor;t.id&&(g[m]={pluginParams:H,pluginId:t.id})}return{plugins:g}}initParticles(){this.particlesPool=[...Array(this.totalAmount)].map((()=>this.createParticle(!1)))}createParticle(p){const g=new $(this.config.particle,this,p);return g.awake(this.config.particle,this.config.emitter,this.system.systemSize,p),g}}},23299:(p,g,m)=>{m.d(g,{XR:()=>S,Y$:()=>Z});var Z,H=m(974486),t=m(918973),h=m(230135),k=m(898668);(function(p){p["ConfigChanged"]="configChanged"})(Z||(Z={}));const n=new k.I;class S{constructor(){this.eventEmitter=new H.b,this._excludeFromSerialization=!1,this._autoStart=!0,this._loop=!0,this._explosiveness=!1,this._amount=1e3,this._emissionDelay=0,this._particlesPerWave=10,this._particle={colors:{mode:t.F.Random,gradient:!1,colors:["#ffffff"]},initialVelocity:{min:0,max:100},linearAcceleration:{min:0,max:100,curve:n},tangentialAcceleration:{min:0,max:0,curve:n},radialAcceleration:{min:0,max:0,curve:n},initialRotation:{min:0,max:0,syncWithDirection:!1},angularVelocity:{min:0,max:0,curve:n},scale:{min:1,max:1,curve:n},gravityVector:[0,1e3],damping:1,directionVector:[0,-1],spread:0,opacity:{min:1,max:1,curve:n},lifetime:{min:.5,max:1}},this._emitter={position:[0,0],type:h.V.point}}get excludeFromSerialization(){return this._excludeFromSerialization}set excludeFromSerialization(p){this._excludeFromSerialization=p}get autoStart(){return this._autoStart}set autoStart(p){this._autoStart=p,this.eventEmitter.emit(Z.ConfigChanged)}get loop(){return this._loop}set loop(p){this._loop=p,this.eventEmitter.emit(Z.ConfigChanged)}get explosiveness(){return this._explosiveness}set explosiveness(p){this._explosiveness=p,this.eventEmitter.emit(Z.ConfigChanged)}get amount(){return this._amount}set amount(p){this._amount=p,this.eventEmitter.emit(Z.ConfigChanged)}get emissionDelay(){return this._emissionDelay}set emissionDelay(p){this._emissionDelay=p,this.eventEmitter.emit(Z.ConfigChanged)}get particlesPerWave(){return this._particlesPerWave}set particlesPerWave(p){this._particlesPerWave=p,this.eventEmitter.emit(Z.ConfigChanged)}get particle(){return this._particle}set particle(p){this._particle=p,this.eventEmitter.emit(Z.ConfigChanged)}get emitter(){return this._emitter}set emitter(p){this._emitter=p,this.eventEmitter.emit(Z.ConfigChanged)}setFromJson(p){var g;this.autoStart=null===(g=p.autoStart)||void 0===g||g,this.loop=p.loop,this.explosiveness=p.explosiveness,this.amount=p.amount,this.emissionDelay=p.emissionDelay,this.particlesPerWave=p.particlesPerWave,this.particle=this.particleConfigFromJson(p.particle),this.emitter=p.emitter,this.eventEmitter.emit(Z.ConfigChanged)}particleConfigFromJson(p){var g;return{...p,initialRotation:{...p.initialRotation,syncWithDirection:null!==(g=p.initialRotation.syncWithDirection)&&void 0!==g&&g},angularVelocity:{...p.angularVelocity,curve:new k.I(p.angularVelocity.curve)},scale:{...p.scale,curve:new k.I(p.scale.curve)},radialAcceleration:{...p.radialAcceleration,curve:new k.I(p.radialAcceleration.curve)},tangentialAcceleration:{...p.tangentialAcceleration,curve:new k.I(p.tangentialAcceleration.curve)},linearAcceleration:{...p.linearAcceleration,curve:new k.I(p.linearAcceleration.curve)},opacity:{...p.opacity,curve:new k.I(p.opacity.curve)}}}particleConfigToJson(p){return{...p,angularVelocity:{...p.angularVelocity,curve:p.angularVelocity.curve.toJson()},scale:{...p.scale,curve:p.scale.curve.toJson()},radialAcceleration:{...p.radialAcceleration,curve:p.radialAcceleration.curve.toJson()},tangentialAcceleration:{...p.tangentialAcceleration,curve:p.tangentialAcceleration.curve.toJson()},linearAcceleration:{...p.linearAcceleration,curve:p.linearAcceleration.curve.toJson()},opacity:{...p.opacity,curve:p.opacity.curve.toJson()}}}onManuallyUpdated(){this.eventEmitter.emit(Z.ConfigChanged)}toJson(){const p={autoStart:this.autoStart,loop:this.loop,explosiveness:this.explosiveness,amount:this.amount,emissionDelay:this.emissionDelay,particlesPerWave:this.particlesPerWave,particle:this.particleConfigToJson(this.particle),emitter:this.emitter};return JSON.parse(JSON.stringify(p))}clone(){const p=new S;return p.setFromJson(this.toJson()),p}dispose(){this.eventEmitter.removeAllListeners()}}},894962:(p,g,m)=>{m.d(g,{hc:()=>S,ok:()=>q});var Z=m(974486),H=m(23299);class t{get seed(){return this._seed}set seed(p){p!==this._seed&&(this._seed=p,this.setSeed())}constructor(p){this._seed="",this.randomValueGenerator=Math.random,this.seed=p||""}next(){return this.randomValueGenerator()}nextInRange(p,g){return p+(g-p)*this.next()}reset(){if(!this._seed)return;const p=function(p){let g=1779033703^p.length;for(let m=0;m<p.length;m++)g=Math.imul(g^p.charCodeAt(m),3432918353),g=g<<13|g>>>19;return()=>(g=Math.imul(g^g>>>16,2246822507),g=Math.imul(g^g>>>13,3266489909),(g^=g>>>16)>>>0)}(this._seed);var g,m,Z,H;this.randomValueGenerator=(g=p(),m=p(),Z=p(),H=p(),()=>{const p=((g|=0)+(m|=0)|0)+(H|=0)|0;return H=H+1|0,g=m^m>>>9,m=(Z|=0)+(Z<<3)|0,Z=(Z=Z<<21|Z>>>11)+p|0,(p>>>0)/4294967296})}setSeed(){this._seed?this.reset():this.randomValueGenerator=Math.random}}var h=m(893015),k=m(425009);const n=250;var S;(function(p){p["OnControllerAdded"]="onControllerAdded",p["OnControllerRemoved"]="onControllerRemoved",p["OnControllerPluginAdded"]="onControllerPluginAdded",p["OnControllerPluginRemoved"]="onControllerPluginRemoved",p["OnSystemSizeUpdated"]="onSystemSizeUpdated"})(S||(S={}));class q{static getDefaultJson(p,g,m=600,Z=400,t={fps:60,randomFrameStart:!1,frames:[],textureId:null}){return{fps:60,fixedDt:!1,randomSeed:"",blendMode:h.V.Default,systemSize:{width:m,height:Z},controllerConfigs:{[p]:(new H.XR).toJson()},graphicsConfig:{[g]:t},controllerIdToConfigId:{[g]:p},controllers:{}}}static calcScaleBySizes(p,g){const m=g.width/p.width,Z=g.height/p.height;return Math.min(m,Z)}constructor(p){var g,m,H,h;this.eventEmitter=new Z.A,this.timeScale=1,this.systemScale=1,this.controllerConfigs=new Map,this.controllers=new Map,this.animate=p=>{this.tick(p)},this.renderer=p.renderer,this.ticker=null!==(g=p.ticker)&&void 0!==g?g:k.a.shared,this.random=new t,this.timeScale=null!==(m=p.timeScale)&&void 0!==m?m:1,this.systemSize=p.systemSize,this.systemScale=p.systemScale,this.init(p),(null===(H=p.autoStart)||void 0===H||H)&&(this.clearTickCallback=this.ticker.add(this.animate)),this.disposeOnFinish=null!==(h=p.disposeOnFinish)&&void 0!==h&&h,this.renderer.init(this)}updateSystemScale(p){this.systemScale!==p&&(this.systemScale=p,this.renderer.updateSystemScale(this.systemScale,this.systemSize))}updateSystemSize(p){this.systemSize.width===p.width&&this.systemSize.height===p.height||(this.systemSize.width=p.width,this.systemSize.height=p.height,this.renderer.updateSystemScale(this.systemScale,this.systemSize),this.eventEmitter.emit(S.OnSystemSizeUpdated,this.systemSize))}setParams(p){this.init(p),this.reset()}get fps(){return Math.round(1e3/this.dt)}set fps(p){this.dt=1/p*1e3}start(){this.clearTickCallback||(this.clearTickCallback=this.ticker.add(this.animate));for(const p of this.controllers.values())p.start()}pause(){this.clearTickCallback&&(this.clearTickCallback(),this.clearTickCallback=void 0);for(const p of this.controllers.values())p.pause()}finish(){this.clearTickCallback&&(this.clearTickCallback(),this.clearTickCallback=void 0);for(const p of this.controllers.values())p.finish();this.disposeOnFinish&&this.dispose()}reset(){for(const p of this.controllers.values())p.reset()}dispose(){this.clearTickCallback&&(this.clearTickCallback(),this.clearTickCallback=void 0);for(const p of this.controllers.values())p.dispose();this.controllers.clear();for(const p of this.controllerConfigs.values())p.dispose();this.controllerConfigs.clear(),this.eventEmitter.removeAllListeners(),this.renderer.dispose()}setRenderer(p){this.renderer=p,this.renderer.init(this)}addConfig(p,g){this.controllerConfigs.set(p,g)}getConfig(p){return this.controllerConfigs.get(p)||null}getConfigOrThrow(p){const g=this.getConfig(p);if(!g)throw new Error(`Config with id ${p} not found`);return g}removeConfig(p){const g=this.controllerConfigs.get(p);g&&(g.dispose(),this.controllerConfigs.delete(p))}addController(p,g){this.controllers.set(p,g),this.eventEmitter.emit(S.OnControllerAdded,p,g)}getController(p){return this.controllers.get(p)||null}getControllerOrThrow(p){const g=this.getController(p);if(!g)throw new Error(`Controller with id ${p} not found`);return g}removeController(p){const g=this.controllers.get(p);g&&(g.dispose(),this.controllers.delete(p),this.eventEmitter.emit(S.OnControllerRemoved,p,g))}tick(p){if(this.accumulator+=p,this.accumulator>=this.dt){for(this.accumulator>n&&(this.accumulator=n);this.accumulator>=this.dt;){const p=this.fixedDt?this.dt:this.accumulator,g=p/1e3*this.timeScale;for(const p of this.controllers.values())p.update(g);this.accumulator-=p}const p=[];for(const g of this.controllers.values())g.isDone||p.push({particles:g.particlesPool,graphics:g.graphics});if(0===p.length&&this.disposeOnFinish)return void this.dispose();this.renderer.render(p)}}toJSON(p){const g={};for(const[p,m]of this.controllerConfigs)m.excludeFromSerialization||(g[p]=m.toJson());const m={};for(const[g,Z]of this.controllers)Z.excludeFromSerialization||(m[g]=Z.graphics.toJson(p));const Z={};for(const[p,g]of this.controllers)g.excludeFromSerialization||(Z[p]=g.configId);const H={};for(const[g,m]of this.controllers)m.excludeFromSerialization||(H[g]=m.toJSON(p));return{systemSize:this.systemSize,fps:this.fps,fixedDt:this.fixedDt,randomSeed:this.random.seed,blendMode:this.renderer.getBlendMode(),controllerConfigs:g,graphicsConfig:m,controllerIdToConfigId:Z,controllers:H}}init(p){var g;this.accumulator=0,this.dt=1/(p.fps||60)*1e3,this.fixedDt=null===(g=p.fixedDt)||void 0===g||g,this.random.seed=p.randomSeed||"",p.systemSize&&(this.systemSize.width=p.systemSize.width,this.systemSize.height=p.systemSize.height)}}},352427:(p,g,m)=>{m.d(g,{p:()=>t});var Z=m(669842);const H=[];class t{constructor(p){this.random=p,this.frames=H,this.frameId=0,this.fps=60,this.frame={h:0,w:0,x:0,y:0},this.accumulator=0}get isAnimated(){return this.frames.length>0}init(p,g){var m;this.texture=p,this.config=g,this.frames=(null==g?void 0:g.frames)||H,this.fps=null!==(m=null==g?void 0:g.fps)&&void 0!==m?m:60,this.accumulator=0,this.frameId=0,(null==g?void 0:g.randomFrameStart)&&this.frames.length>0&&(this.frameId=Math.floor(this.random.next()*this.frames.length)),this.frame.x=0,this.frame.y=0,this.frame.w=(null==p?void 0:p.width)||Z.k,this.frame.h=(null==p?void 0:p.height)||Z.d,this.updateFrame()}update(p){if(!this.isAnimated||!this.fps)return;this.accumulator+=p;const g=1/this.fps,m=Math.floor(this.accumulator/g);this.accumulator-=m*g,this.frameId=(this.frameId+m)%this.frames.length,this.updateFrame()}dispose(){}updateFrame(){if(this.isAnimated){const p=this.frames[this.frameId];this.frame.x=p.x,this.frame.y=p.y,this.frame.w=p.w,this.frame.h=p.h}}}t.propertyId=Symbol("TextureManager")},669842:(p,g,m)=>{m.d(g,{d:()=>H,k:()=>Z});const Z=10,H=10},346471:(p,g,m)=>{m.d(g,{O:()=>Z});class Z{constructor(p){const g=(new DOMParser).parseFromString(p,"image/svg+xml").firstChild,m=g.querySelector("path");if(!m)throw Error("<path> tag not found");this.sourceSvg=g,this.path=m,this.width=g.viewBox.baseVal.width,this.height=g.viewBox.baseVal.height,this.pathLength=m.getTotalLength()}getPosition(p){const g=this.path.getPointAtLength(p);return[g.x/this.width,g.y/this.height]}toJSON(){return{id:Z.id,data:this.sourceSvg.outerHTML}}}Z.id="EmitterMotionPathSvgMotionPath"},774145:(p,g,m)=>{m.d(g,{_:()=>q});var Z=m(898668),H=m(335914),t=m(894962),h=m(346471),k=m(633921);let n=null;const S=[1,1];class q{static async renderOnPane(p,g,Z){n||(n=await m.e(45444).then(m.bind(m,645444))),n.renderOnPane(p,g,Z)}static fromJSON(p){const g=p;return new q({motionPath:g.motionPath&&g.motionPath.id===h.O.id?new h.O(g.motionPath.data):null,loop:g.loop,customScale:g.customScale,scaleType:g.scaleType,speed:{value:g.speed.value,curve:new Z.I(g.speed.curve)}})}constructor(p){var g;this.pathPosition=0,this.onSystemSizeUpdated=p=>{this.motionPath&&(this.scale[0]=this.motionPath.width/p.width,this.scale[1]=this.motionPath.height/p.height)},this.onBeforeAllParticlesUpdate=(p,g)=>{if(!this.motionPath)return;if(this.pathPosition<=this.motionPath.pathLength){const p=this.pathPosition/this.motionPath.pathLength,m=this.speed.curve.sample(p);this.pathPosition+=m*this.speed.value*g}else{if(!this.loop)return;this.pathPosition=0}const[m,Z]=this.motionPath.getPosition(this.pathPosition);this.scaleType===k.U.Fill?(p.config.emitter.position[0]=m,p.config.emitter.position[1]=Z):(p.config.emitter.position[0]=m*this.scale[0]*this.customScale[0],p.config.emitter.position[1]=Z*this.scale[1]*this.customScale[1]),p.config.onManuallyUpdated()},this.motionPath=p.motionPath,this.speed=p.speed,this.scaleType=p.scaleType,this.customScale=p.customScale,this.loop=null!==(g=p.loop)&&void 0!==g&&g,this.scale=[...S]}init(p){this.controller=p,this.pathPosition=0,p.eventEmitter.on(H.Od.OnBeforeAllParticlesUpdated,this.onBeforeAllParticlesUpdate),p.system.eventEmitter.on(t.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated),this.motionPath&&(this.scale[0]=this.motionPath.width/p.system.systemSize.width,this.scale[1]=this.motionPath.height/p.system.systemSize.height)}dispose(){this.controller.eventEmitter.off(H.Od.OnBeforeAllParticlesUpdated,this.onBeforeAllParticlesUpdate),this.controller.system.eventEmitter.off(t.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated)}toJSON(){return{motionPath:this.motionPath?this.motionPath.toJSON():null,loop:this.loop,scaleType:this.scaleType,customScale:this.customScale,speed:{value:this.speed.value,curve:this.speed.curve.toJson()}}}}q.id="EmitterMotionPath"},633921:(p,g,m)=>{var Z;m.d(g,{U:()=>Z}),function(p){p["Fill"]="fill",p["Custom"]="custom"}(Z||(Z={}))},963678:(p,g,m)=>{m.d(g,{O:()=>k});var Z=m(898668),H=m(335914),t=m(894962);let h=null;class k{static async renderOnPane(p,g,Z){h||(h=await m.e(14291).then(m.bind(m,914291))),h.renderOnPane(p,g,Z)}static fromJSON(p){const g=p;return new k({position:g.position,gravity:g.gravity,catchRadius:g.catchRadius,toward:g.toward,multiplyVelocity:g.multiplyVelocity,forceMultiplierCurve:new Z.I(g.forceMultiplierCurve)})}constructor(p){this.scaledPosition=[0,0],this.scaledCatchRadius=0,this.onSystemSizeUpdated=p=>{this.scaledPosition[0]=this.position[0]*p.width,this.scaledPosition[1]=this.position[1]*p.height,this.scaledCatchRadius=this.controller.system.systemScale*this.catchRadius,this.systemSize=p},this.onBeforeParticleUpdated=p=>{if(p.freezePosition)return;const g=p.transform.position[0]-this.scaledPosition[0],m=p.transform.position[1]-this.scaledPosition[1],Z=Math.sqrt(g*g+m*m);if(this.toward&&Z<=this.scaledCatchRadius)return void(p.freezePosition=!0);let H=this.gravity/(Z*Z+1e-4);this.toward&&(H*=-1);const t=Math.min(Z/this.systemSize.width,Z/this.systemSize.height),h=this.forceMultiplierCurve.sample(t);H*=h,this.multiplyVelocity&&(p.velocity[0]*=h,p.velocity[1]*=h),p.addAcceleration(g*H,m*H)},this.position=p.position,this.gravity=p.gravity,this.catchRadius=p.catchRadius,this.toward=p.toward,this.multiplyVelocity=p.multiplyVelocity,this.forceMultiplierCurve=p.forceMultiplierCurve}init(p){this.controller=p,p.eventEmitter.on(H.Od.OnBeforeParticleUpdated,this.onBeforeParticleUpdated),p.system.eventEmitter.on(t.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated),this.systemSize=p.system.systemSize,this.scaledPosition[0]=this.position[0]*p.system.systemSize.width,this.scaledPosition[1]=this.position[1]*p.system.systemSize.height,this.scaledCatchRadius=p.system.systemScale*this.catchRadius}dispose(){this.controller.eventEmitter.off(H.Od.OnBeforeParticleUpdated,this.onBeforeParticleUpdated),this.controller.system.eventEmitter.off(t.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated)}toJSON(){return{position:this.position,gravity:this.gravity,catchRadius:this.catchRadius,toward:this.toward,multiplyVelocity:this.multiplyVelocity,forceMultiplierCurve:this.forceMultiplierCurve.toJson()}}updatePosition(p,g){this.position[0]=p,this.position[1]=g,this.onSystemSizeUpdated(this.controller.system.systemSize)}updateCatchRadius(p){this.catchRadius=p,this.scaledCatchRadius=this.controller.system.systemScale*this.catchRadius}}k.id="GravityPoint"},104394:(p,g,m)=>{m.d(g,{i:()=>q});var Z=m(879333),H=m(351673),t=m(157757),h=m(335914),k=m(894962);const n=[1,1];let S=null;class q{static async renderOnPane(p,g,Z){S||(S=await m.e(42447).then(m.bind(m,42447))),S.renderOnPane(p,g,Z)}static fromJSON(p,g){let m=null;const{textureId:Z}=p;if(Z&&Z in g){const p=g[Z];p.type===t.b.Texture&&(m=p.value)}return new q({texture:m})}constructor(p){var g,m;this.onSystemSizeUpdated=p=>{this.texture&&(this.scale[0]=this.texture.width/p.width,this.scale[1]=this.texture.height/p.height)},this.onAfterParticleUpdated=p=>{if(!this.texture)return;const g=p.transform.position[0],m=p.transform.position[1],Z=Math.min(g*this.scale[0]|0,this.width-1),H=Math.min(m*this.scale[1]|0,this.height-1),t=3*(Z+this.width*H),h=this.field[t],k=this.field[t+1],n=this.field[t+2];p.color={r:h,g:k,b:n}},this.texture=p.texture,this.width=(null===(g=this.texture)||void 0===g?void 0:g.width)||0,this.height=(null===(m=this.texture)||void 0===m?void 0:m.height)||0,this.scale=[...n]}init(p){this.controller=p,this.texture&&(this.width=this.texture.width,this.height=this.texture.height,p.eventEmitter.on(h.Od.OnAfterParticleUpdated,this.onAfterParticleUpdated),p.eventEmitter.on(h.Od.OnParticleEmitted,this.onAfterParticleUpdated),p.system.eventEmitter.on(k.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated),this.scale[0]=this.texture.width/p.system.systemSize.width,this.scale[1]=this.texture.height/p.system.systemSize.height,this.computeField())}dispose(){this.controller.eventEmitter.off(h.Od.OnAfterParticleUpdated,this.onAfterParticleUpdated),this.controller.eventEmitter.off(h.Od.OnParticleEmitted,this.onAfterParticleUpdated),this.controller.system.eventEmitter.off(k.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated)}toJSON(p){let g=null;return this.texture&&(g=Z.A(),p[g]={type:t.b.Texture,value:this.texture}),{textureId:g}}computeField(){if(this.field=new Uint8Array(this.width*this.height*3),!this.texture)return;const p=H.M5(this.texture);if(!p)return;const g=p.data;for(let p=0;p<this.width;p++)for(let m=0;m<this.height;m++){const Z=4*(p*this.height+m),H=3*(p*this.height+m);this.field[H]=g[Z],this.field[H+1]=g[Z+1],this.field[H+2]=g[Z+2]}}}q.id="ImageColorMap"},99257:(p,g,m)=>{m.d(g,{D:()=>k});var Z=m(335914);function H(p,g){return p[1]>=g[0]&&g[1]>=p[0]}function t(p,g){const m=[p.center[0]-p.radius,p.center[0]+p.radius],Z=[p.center[1]-p.radius,p.center[1]+p.radius],t=[Math.min(g.start[0],g.end[0]),Math.max(g.start[0],g.end[0])],h=[Math.min(g.start[1],g.end[1]),Math.max(g.start[1],g.end[1])];if(!H(m,t)||!H(Z,h))return 0;const k=0===g.normal[0]?Z:m,n=0===g.normal[0]?h:t;return-1===(0===g.normal[0]?g.normal[1]:g.normal[0])?k[1]-n[0]:n[1]-k[0]}let h=null;class k{static async renderOnPane(p,g,Z){h||(h=await m.e(10306).then(m.bind(m,410306))),h.renderOnPane(p,g,Z)}static fromJSON(p){return new k(p)}constructor(p){this.options=p,this.edges=[],this.onAfterParticleUpdated=p=>{const g={center:p.transform.position,radius:this.options.sphereRadius};let m=1/0,Z=null;for(const p of this.edges){const H=t(g,p);0!==H&&H<m&&(m=H,Z=p)}if(null===Z)return;const H=[Math.sign(p.velocity[0])!==Math.sign(Z.normal[0])?Math.abs(p.velocity[0])*Z.normal[0]:0,Math.sign(p.velocity[1])!==Math.sign(Z.normal[1])?Math.abs(p.velocity[1])*Z.normal[1]:0],h=[this.options.bounciness*H[0],this.options.bounciness*H[1]],k=H[0]+h[0],n=H[1]+h[1];p.addVelocity(k,n)}}init(p){this.controller=p,p.eventEmitter.on(Z.Od.OnAfterParticleUpdated,this.onAfterParticleUpdated);const g=p.system.systemSize,m=[this.options.boundingBoxPosition[0]*g.width,this.options.boundingBoxPosition[1]*g.height],H=this.options.boundingBoxDimensions;this.edges=[{start:[m[0]-H[0]/2,m[1]-H[1]/2],end:[m[0]+H[0]/2,m[1]-H[1]/2],normal:[0,-1]},{start:[m[0]+H[0]/2,m[1]-H[1]/2],end:[m[0]+H[0]/2,m[1]+H[1]/2],normal:[1,0]},{start:[m[0]+H[0]/2,m[1]+H[1]/2],end:[m[0]-H[0]/2,m[1]+H[1]/2],normal:[0,1]},{start:[m[0]-H[0]/2,m[1]+H[1]/2],end:[m[0]-H[0]/2,m[1]-H[1]/2],normal:[-1,0]}]}dispose(){this.controller.eventEmitter.off(Z.Od.OnAfterParticleUpdated,this.onAfterParticleUpdated)}toJSON(){return this.options}}k.id="Physics"},653565:(p,g,m)=>{m.d(g,{C:()=>n,f:()=>h});var Z=m(335914);const H=Symbol("ControllerPosUpdaterSymbol");class t{constructor(p,g,m,Z){this.particle=p,this.options=g,this.cleanup=m,this.emitter=Z.config.emitter,this.systemSize=Z.system.systemSize}update(){this.options.syncPosition&&(this.emitter.position[0]=this.particle.transform.position[0]/this.systemSize.width,this.emitter.position[1]=this.particle.transform.position[1]/this.systemSize.height)}dispose(){this.cleanup()}}var h;(function(p){p["OnParticleDeath"]="OnParticleDeath",p["OnParticleSpawn"]="OnParticleSpawn"})(h||(h={}));let k=null;class n{static async renderOnPane(p,g,Z){k||(k=await m.e(37927).then(m.bind(m,737927))),k.renderOnPane(p,g,Z)}static fromJSON(p,g,m){const Z=p,H=m.getControllerOrThrow(Z.referenceControllerId);return new n(H,Z.mode,{syncPosition:Z.syncPosition})}constructor(p,g,m={syncPosition:!0}){this.referenceController=p,this._mode=g,this.options=m,this.disposeQueue=[],this.onAfterParticleEmitted=p=>{if(this.mode===h.OnParticleSpawn){const[g,m]=this.addNewController(p),h=new t(p,this.options,m,g);p.customProperties.set(H,h),g.eventEmitter.on(Z.Od.OnFinished,(()=>{m(),this.disposeQueue.splice(this.disposeQueue.indexOf(m),1)})),this.disposeQueue.push(m)}},this.onAfterParticleDisposed=p=>{if(this.mode===h.OnParticleSpawn){const g=p.customProperties.get(H);g&&(g.dispose(),p.customProperties.delete(H))}else if(this.mode===h.OnParticleDeath){const[g,m]=this.addNewController(p);g.eventEmitter.on(Z.Od.OnFinished,(()=>{m(),this.disposeQueue.splice(this.disposeQueue.indexOf(m),1)})),this.disposeQueue.push(m)}}}set mode(p){this._mode!==p&&(this.dispose(),this._mode=p,this.init(this.controller))}get mode(){return this._mode}init(p){this.controller=p,this.mode===h.OnParticleDeath?(p.eventEmitter.on(Z.Od.OnParticleDisposed,this.onAfterParticleDisposed),this.disposeQueue.push((()=>{p.eventEmitter.off(Z.Od.OnParticleDisposed,this.onAfterParticleDisposed)}))):this.mode===h.OnParticleSpawn&&(p.eventEmitter.on(Z.Od.OnParticleEmitted,this.onAfterParticleEmitted),p.eventEmitter.on(Z.Od.OnParticleDisposed,this.onAfterParticleDisposed),this.disposeQueue.push((()=>{p.eventEmitter.off(Z.Od.OnParticleEmitted,this.onAfterParticleEmitted),p.eventEmitter.off(Z.Od.OnParticleDisposed,this.onAfterParticleDisposed)})))}dispose(){this.disposeQueue.forEach((p=>p())),this.disposeQueue=[]}toJSON(){var p;const g=null===(p=[...this.controller.system.controllers.entries()].find((([,p])=>p===this.referenceController)))||void 0===p?void 0:p[0];return g?{referenceControllerId:g,mode:this.mode,syncPosition:this.options.syncPosition}:null}addNewController(p){const g=Math.round(1e9*performance.now()),m=`config-for-sub-emitter-${g}`,H=`controller-for-sub-emitter-${g}`,t=this.referenceController.config.clone();t.emitter.position[0]=p.transform.position[0]/this.controller.system.systemSize.width,t.emitter.position[1]=p.transform.position[1]/this.controller.system.systemSize.height,t.particle.directionVector=p.directionVector,t.autoStart=!0,t.excludeFromSerialization=!0,this.controller.system.addConfig(m,t);const h=new Z.hZ(H,m,this.controller.system,{graphics:this.referenceController.graphics.clone(),excludeFromSerialization:!0,hideInEditor:!0});return this.controller.system.addController(H,h),[h,()=>{this.controller.system.removeConfig(m),this.controller.system.removeController(H)}]}}n.id="SubEmitter"},362991:(p,g,m)=>{m.d(g,{z:()=>D});var Z=m(879333),H=m(233387),t=m(351673),h=m(157757),k=m(335914),n=m(894962);const S=[1,1];let q=null;class D{static async renderOnPane(p,g,Z){q||(q=await m.e(32184).then(m.bind(m,832184))),q.renderOnPane(p,g,Z)}static fromJSON(p,g){var m;const Z=p;let H=null;if(Z.textureId&&Z.textureId in g){const p=g[Z.textureId];p.type===h.b.Texture&&(H=p.value)}return new D({texture:H,strength:null!==(m=Z.strength)&&void 0!==m?m:1})}constructor(p){var g,m,Z;this.onSystemSizeUpdated=p=>{this.texture&&(this.scale[0]=this.texture.width/p.width,this.scale[1]=this.texture.height/p.height)},this.onBeforeParticleUpdated=p=>{if(!this.texture)return;const g=p.transform.position[0],m=p.transform.position[1],Z=0|H._g(g*this.scale[0],this.width),t=0|H._g(m*this.scale[1],this.height),h=3*(Z+this.width*t),k=this.field[h],n=this.field[h+1],S=this.field[h+2],q=this.strength*k*S,D=this.strength*n*S;p.addAcceleration(q,D)},this.texture=p.texture,this.width=(null===(g=this.texture)||void 0===g?void 0:g.width)||0,this.height=(null===(m=this.texture)||void 0===m?void 0:m.height)||0,this.scale=[...S],this.strength=null!==(Z=p.strength)&&void 0!==Z?Z:1}init(p){if(this.controller=p,!this.texture)return;this.width=this.texture.width,this.height=this.texture.height,p.eventEmitter.on(k.Od.OnBeforeParticleUpdated,this.onBeforeParticleUpdated),p.system.eventEmitter.on(n.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated);const g=this.texture.width/p.system.systemSize.width,m=this.texture.height/p.system.systemSize.height;this.scale[0]=g,this.scale[1]=m,this.computeField()}dispose(){this.controller.eventEmitter.off(k.Od.OnBeforeParticleUpdated,this.onBeforeParticleUpdated),this.controller.system.eventEmitter.off(n.hc.OnSystemSizeUpdated,this.onSystemSizeUpdated)}toJSON(p){let g=null;return this.texture&&(g=Z.A(),p[g]={type:h.b.Texture,value:this.texture}),{strength:this.strength,textureId:g}}computeField(){if(this.field=new Float64Array(this.width*this.height*3),!this.texture)return;const p=t.M5(this.texture);if(!p)return;const g=p.data;for(let p=0;p<this.width;p++)for(let m=0;m<this.height;m++){const Z=4*(p*this.height+m),t=g[Z]/255,h=g[Z+1]/255,k=g[Z+2]/255,n=H.hF([2*t-1,2*h-1]),S=3*(p*this.height+m);this.field[S]=n[0],this.field[S+1]=n[1],this.field[S+2]=k}}}D.id="Turbulence"},434098:(p,g,m)=>{m.d(g,{C:()=>b});var Z=m(335914),H=m(23299),t=m(894962),h=m(774145),k=m(963678),n=m(104394),S=m(99257),q=m(653565),D=m(362991);const I={[q.C.id]:q.C,[S.D.id]:S.D,[D.z.id]:D.z,[n.i.id]:n.i,[k.O.id]:k.O,[h._.id]:h._};class b{static spawnSystemInternal(p,g=Object.create(null)){const{assets:m={},ticker:h,config:k,disposeOnFinish:n,systemScale:S,autoStart:q}=p,D=this.spawnRenderer(p,g),b=new t.ok({renderer:D,fps:k.fps,fixedDt:k.fixedDt,systemSize:k.systemSize,systemScale:S,randomSeed:k.randomSeed||void 0,ticker:h,autoStart:q,disposeOnFinish:n});D.setBlendMode(k.blendMode);for(const[p,g]of Object.entries(k.controllerConfigs)){const m=new H.XR;m.setFromJson(g),b.addConfig(p,m)}for(const[p,H]of Object.entries(k.graphicsConfig)){const t=new Z.hZ(p,k.controllerIdToConfigId[p],b,{graphics:this.spawnGraphics(H,m,g)});b.addController(p,t)}for(const[p,g]of Object.entries(k.controllers)){const Z=b.getControllerOrThrow(p);for(const[p,H]of Object.entries(g.plugins)){const g=I[H.pluginId].fromJSON(H.pluginParams,m,b);Z.addPlugin(p,g)}}return b}static spawnRenderer(p,g){throw new Error("Not implemented")}static spawnGraphics(p,g,m){throw new Error("Not implemented")}}},425009:(p,g,m)=>{m.d(g,{a:()=>Z});class Z{constructor(){this.rafID=-1,this.prevRenderTime=0,this.callbacks=[],this.tick=p=>{const g=p-this.prevRenderTime;for(const p of this.callbacks)p(g);this.prevRenderTime=p,this.rafID=window.requestAnimationFrame(this.tick)}}static get shared(){return this._shared||(this._shared=new Z),this._shared}get isActive(){return-1!==this.rafID}add(p){return this.callbacks.push(p),1===this.callbacks.length&&(this.prevRenderTime=performance.now(),this.rafID=window.requestAnimationFrame(this.tick)),()=>{const g=this.callbacks.indexOf(p);-1!==g&&(this.callbacks.splice(g,1),0===this.callbacks.length&&window.cancelAnimationFrame(this.rafID))}}stop(){this.isActive&&(window.cancelAnimationFrame(this.rafID),this.rafID=-1)}start(){this.isActive||(this.prevRenderTime=performance.now(),this.rafID=window.requestAnimationFrame(this.tick))}}Z._shared=null},918973:(p,g,m)=>{var Z;m.d(g,{F:()=>Z}),function(p){p["Random"]="Random",p["OverX"]="OverX",p["OverY"]="OverY",p["OverLife"]="OverLife",p["Off"]="Off"}(Z||(Z={}))},893015:(p,g,m)=>{var Z;m.d(g,{V:()=>Z}),function(p){p["Default"]="default",p["Add"]="add",p["Multiply"]="multiply",p["Xor"]="xor",p["Screen"]="screen"}(Z||(Z={}))},230135:(p,g,m)=>{m.d(g,{V:()=>Z});const Z={ellipse:"ellipse",donut:"donut",rectangle:"rectangle",point:"point",triangle:"triangle",frame:"frame",image:"image"}},472542:(p,g,m)=>{var Z;m.d(g,{o:()=>Z}),function(p){p["BeforeRender"]="beforeRender",p["AfterRender"]="afterRender"}(Z||(Z={}))},157757:(p,g,m)=>{var Z;m.d(g,{b:()=>Z}),function(p){p["Texture"]="Texture",p["PixiTexture"]="PixiTexture",p["Pixi8Texture"]="Pixi8Texture"}(Z||(Z={}))},481900:(p,g,m)=>{function Z(p){let g=p.replace(/^#/,"");return 3===g.length&&(g=g.split("").map((p=>p+p)).join("")),{r:parseInt(g.slice(0,2),16),g:parseInt(g.slice(2,4),16),b:parseInt(g.slice(4,6),16)}}m.d(g,{iN:()=>Z})},233387:(p,g,m)=>{function Z(p,g,m,Z){return p*Z-g*m}function H(p,g,m,Z){return p*m+g*Z}function t(p){const g=p[0],m=p[1],Z=g*g+m*m;if(Z>0){const g=1/Math.sqrt(Z);p[0]*=g,p[1]*=g}return p}function h(p,g){return(p%g+g)%g}m.d(g,{Z8:()=>H,_g:()=>h,eL:()=>Z,hF:()=>t})},351673:(p,g,m)=>{function Z(p){const g=document.createElement("canvas"),m=g.getContext("2d");return m?(g.width=p.width,g.height=p.height,m.drawImage(p,0,0),m.getImageData(0,0,p.width,p.height)):null}m.d(g,{M5:()=>Z})},798678:(p,g,m)=>{var Z;m.d(g,{x:()=>Z}),function(p){p["Texture"]="texture",p["Spine"]="spine",p["Bitmap"]="bitmap",p["Emitter"]="emitter",p["SpriteSheet"]="spriteSheet",p["ParticleSystemConfig"]="particleSystemConfig"}(Z||(Z={}))},168850:(p,g,m)=>{m.d(g,{c:()=>H});var Z=m(357117);async function H(p){if(Z.ZQ()){const g=await m.e(22421).then(m.bind(m,276432));await g.PixiDevToolsPlugin({application:p,toggleDevTools:t})}}function t(p,g){var m,Z;if(p)null===(m=window.__PIXI_APP_INIT__)||void 0===m||m.call(window,g);else{let p=window;for(;p&&(p.__PIXI_DEVTOOLS__=void 0,null===(Z=p.__PIXI_DEVTOOLS_WRAPPER__)||void 0===Z||Z.reset(),p.parent!==p);)p=p.parent}}},589582:(p,g,m)=>{m.d(g,{g:()=>H});var Z=m(876759);function H(p=.5){return Z.I()?p:Math.random()}},487606:(p,g,m)=>{m.d(g,{By:()=>h,Wx:()=>k,s5:()=>t,th:()=>H});var Z=m(573098);function H(p,g){p.orig=g.orig,p.defaultAnchor=g.defaultAnchor,p.trim=g.trim,p.frame=g.frame,p.rotate=g.rotate,p.updateUvs(),p.baseTexture=g.baseTexture,p.update()}function t(p){const g={};for(const m of p.skins)for(const p of m.attachments)if(p)for(const m of Object.values(p))m.type===Z.wh.Region&&(g[m.name]=m.region);return g}function h(p){return p.reduce(((p,g)=>({...p,[g.name]:g})),{})}function k(p,g){for(const m of Object.keys(p))(Object.getOwnPropertyDescriptor(p,m)||{}).writable&&m in g&&(p[m]=g[m])}},663062:(p,g,m)=>{var Z;m.d(g,{l:()=>Z}),function(p){p[p["None"]=0]="None",p[p["Symbols"]=1]="Symbols",p[p["Dimensions"]=2]="Dimensions",p[p["Outcome"]=4]="Outcome",p[p["Timers"]=8]="Timers"}(Z||(Z={}))},654560:(p,g,m)=>{m.d(g,{He:()=>H,X3:()=>D,bj:()=>t,nU:()=>Z});var Z,H,t,h=m(652958),k=m(746380),n=m(663062),S=m(885580),q=m(415215);(function(p){p[p["Absolute"]=0]="Absolute",p[p["Visible"]=1]="Visible"})(Z||(Z={})),function(p){p[p["SymbolHeight"]=0]="SymbolHeight",p[p["ReelHeight"]=1]="ReelHeight"}(H||(H={})),function(p){p[p["Center"]=0]="Center",p[p["Top"]=1]="Top",p[p["Bottom"]=2]="Bottom"}(t||(t={}));class D{constructor(p,g,m=""){this._timeScale=1,this._isSlowedDown=!1,this._wasSlowedDown=!1,this.forciblyStopped=!1,this.spinMechanics=[],this.currentSpinMechanicIndex=0,this.onStartSequenceBegin=k.lQ,this.onStartSequenceEnd=k.lQ,this.onStopSequenceBegin=k.lQ,this.onStopSequenceEnd=k.lQ,this.onStopBounceBegin=k.lQ,this.onStopBounceEnd=k.lQ,this.id=-1,this.syncSlaves=[],this.nextSequence=h.J.Spin,this.startPromise=Promise.resolve(),this.stopPromise=Promise.resolve(),this.isStarting=!1,this.isStopping=!1;const Z={preBufferSize:null!==(I=null==(D=g)?void 0:D.preBufferSize)&&void 0!==I?I:1,postBufferSize:null!==(b=null==D?void 0:D.postBufferSize)&&void 0!==b?b:1,startDelay:null!==(e=null==D?void 0:D.startDelay)&&void 0!==e?e:0,stopDelay:null!==(N=null==D?void 0:D.stopDelay)&&void 0!==N?N:0,reelStrip:null!==(d=null==D?void 0:D.reelStrip)&&void 0!==d?d:new S.x,normalizeTo:null!==(Q=null==D?void 0:D.normalizeTo)&&void 0!==Q?Q:H.SymbolHeight,alignment:null!==($=null==D?void 0:D.alignment)&&void 0!==$?$:t.Center};var D,I,b,e,N,d,Q,$;this.reelsetName=m,this._data={pool:p,symbolCount:0,visibleHeight:1,preBufferSize:Z.preBufferSize,postBufferSize:Z.postBufferSize,bufferSize:0,spinTimer:new q.C,startDelayTimer:new q.C(k.fP(Z.startDelay)),stopDelayTimer:new q.C(k.fP(Z.stopDelay)),buffer:[],outcome:[],outcomeDimensions:[],reelStrip:Z.reelStrip,synchronizationFlags:n.l.None,normalizeTo:Z.normalizeTo,alignment:Z.alignment,targetHighestPointOffset:0}}desynchronize(){for(let p=0;p<this.syncSlaves.length;++p)this.syncSlaves[p]._syncMaster=void 0,this.syncSlaves[p]._data.synchronizationFlags=n.l.None;this.syncSlaves=[],this._syncMaster=void 0,this._data.synchronizationFlags=n.l.None}synchronize(p,g=n.l.None,m=!0){if(this.desynchronize(),g!==n.l.None){for(let g=0;g<p.length;++g)if(p[g].currentSpinMechanic.id!==this.currentSpinMechanic.id)throw new Error("Can not synchronize reels with different kinds of spin mechanics.");this._data.synchronizationFlags=g;for(let g=0;g<p.length;++g)this.syncSlaves.push(p[g]),p[g]._syncMaster=this,p[g].mimicReel(this,this._data.synchronizationFlags,m)}}mimicReel(p,g,m=!0){this._data.synchronizationFlags=g;const H=k._i(g,n.l.Symbols),t=k._i(g,n.l.Dimensions),h=k._i(g,n.l.Outcome),S=k._i(g,n.l.Timers),{outcome:q,buffer:D}=p._data,I=this._data.buffer;if(this._data.preBufferSize=p._data.preBufferSize,this._data.postBufferSize=p._data.postBufferSize,(t||H)&&this.updateBuffer(p._data.symbolCount),h){this._data.outcome=[];const p=this._data.outcome;for(let g=0;g<q.length;++g)p.push(q[g])}if(m){const p=Math.min(I.length,D.length);for(let g=0;g<p;++g){const p=D[g],m=I[g];if(H&&void 0===p&&void 0!==m)m.isDead=!0;else if(void 0!==p&&(H||t)){const h=void 0===m?void 0:m.id,n=H?p.id:h;if(void 0!==n){const H=t||void 0===m?k.Io(p.dimensions):k.Io(m.dimensions);this.setSymbolByID(n,g,Z.Absolute,{landingPosition:k.a1(p.landingPosition),dimensions:H,isOutcome:p.isOutcome}).position=k.Io(p.position)}}}}S&&this.copyTimers(p),this.reelStrip.synchronize(p._data.reelStrip,null!=g?g:n.l.None)}copyTimers(p){this._data.startDelayTimer.accumulator=p._data.startDelayTimer.accumulator,this._data.startDelayTimer.stopTime=p._data.startDelayTimer.stopTime,this._data.stopDelayTimer.accumulator=p._data.stopDelayTimer.accumulator,this._data.stopDelayTimer.stopTime=p._data.stopDelayTimer.stopTime,this._data.spinTimer.accumulator=p._data.spinTimer.accumulator,this._data.spinTimer.stopTime=p._data.spinTimer.stopTime}updateBuffer(p){const g=0|p;this._data.symbolCount=g;const m=this._data.preBufferSize+g+this._data.postBufferSize,Z=this._data.buffer;this._data.bufferSize=m;for(let p=Z.length;p<m;++p)Z.push(void 0)}clear(p=!1){const g=this._data.buffer;for(let p=0;p<g.length;++p){const m=g[p];void 0!==m&&this.destroySymbol(m),g[p]=void 0}this._data.outcome=[],this._data.outcomeDimensions=[],this._data.buffer=[],this._data.reelStrip=new S.x,this._data.bufferSize=0,this._data.symbolCount=0,this._data.synchronizationFlags=n.l.None,this._data.visibleHeight=0,p&&this.onDispose()}onDispose(){}setSymbol(p,g,m=Z.Visible,H){const t=this._data.buffer,h=g+m*this._data.preBufferSize;if(h<t.length&&h>=0){const g=this.copyAndReplaceSymbol(p,h,{dimensions:H});return void 0!==g&&this.destroySymbol(g),p}throw new Error("Symbol index out of bounds.")}setSymbolByID(p,g,m=Z.Visible,H){const t=this._data.buffer,h=g+m*this._data.preBufferSize,k=t.length;if(h<k&&h>=0){const g=this._data.pool.pop(p),m=this.copyAndReplaceSymbol(g,h,H);return g.onSpawn(),void 0!==m&&this.destroySymbol(m),g}throw new Error(`Symbol index (${h}) out of bounds (${k}).`)}swapSymbol(p,g,m=Z.Visible,H){const t=this._data.buffer,h=g+m*this._data.preBufferSize;if(h<t.length&&h>=0)return this.copyAndReplaceSymbol(p,h,{dimensions:H});throw new Error("Symbol index out of bounds.")}copyAndReplaceSymbol(p,g,m){var Z,H,t;const h=this._data.buffer,k=h[g];let n=!1,S={x:1,y:1},q={reelIndex:this.id,symbolIndex:NaN,reelsetName:this.reelsetName};return void 0!==k&&(n=k.isOutcome,q=k.landingPosition),void 0!==m?(n=null!==(Z=m.isOutcome)&&void 0!==Z?Z:n,q=null!==(H=m.landingPosition)&&void 0!==H?H:q,S=null!==(t=m.dimensions)&&void 0!==t?t:this.currentSpinMechanic.defaultSymbolDimensions()):S=this.currentSpinMechanic.defaultSymbolDimensions(),p.isOutcome=n,p.dimensions={...S},p.landingPosition=q,p.position=this.currentSpinMechanic.getPositionForIndex(g),p.position.x=.5*(p.dimensions.x-1),h[g]=p,this.initializeSymbol(p),p.synchronize({x:0,y:0}),k}getSymbol(p,g=Z.Visible){const m=this._data.buffer,H=this._data.preBufferSize,t=p+g*H;if(t<m.length&&t>=0)return m[p+g*H];console.warn(`Symbol index out of bounds for reel ${this.id}: Index is ${t}, buffer size is ${m.length} (prebufferSize = ${H}, symbolCount = ${this._data.symbolCount}, postBufferSize = ${this._data.postBufferSize}`)}forgetSymbol(p,g=Z.Visible){const m=this._data.buffer,H=this._data.preBufferSize,t=p+g*H;if(t<m.length&&t>=0){const Z=this.getSymbol(p,g);return m[p+g*H]=void 0,Z}throw new Error("Symbol index out of bounds.")}destroySymbol(p){p.onDespawn(),this._data.pool.push(p)}addSpinMechanic(p){const g=this.spinMechanics.length;return this.spinMechanics.push(p),g}setCurrentMechanics(p){this.desynchronize(),this.currentSpinMechanic.onDeactivate(),this.currentSpinMechanicIndex=p,this.currentSpinMechanic.onActivate()}initSymbol(p){this.initializeSymbol(p)}updateSymbolLandingPositions(){for(let p=0;p<this._data.buffer.length;++p){const g=this._data.buffer[p];void 0!==g&&(g.landingPosition={reelIndex:this.id,symbolIndex:g.landingPosition.symbolIndex,reelsetName:this.reelsetName})}}destroyDeadSymbols(){const p=this._data.buffer;for(let g=p.length-1;g>=0;--g){const m=p[g];void 0!==m&&m.isDead&&(p[g]=void 0,this.destroySymbol(m))}}timeStep(p){const g=p*this._timeScale;if(this.isMaster){this.currentSpinMechanic.timeStep(g),this.destroyDeadSymbols();for(let p=0;p<this.syncSlaves.length;++p)this.syncSlaves[p].currentSpinMechanic.timeStep(g),this.syncSlaves[p].destroyDeadSymbols()}}async startSpinInternal(){this.isStarting=!0,this._wasSlowedDown=!1,this.nextSequence=h.J.Spin,await this._data.startDelayTimer.wait(),this.startSequenceBegin(),this.onStartSequenceBegin(this.id),this.currentSpinMechanic.setSpinSequence(h.J.Start);const p=this._data.spinTimer.wait();await p,this.startSequenceEnd(),this.onStartSequenceEnd(this.id),this.currentSpinMechanic.setSpinSequence(this.nextSequence),this.isStarting=!1}async startSpin(){return this.forciblyStopped=!1,this.isStarting||(this.startPromise=this.startSpinInternal()),this.startPromise}applyOutcome(){this.updateBuffer(this.outcome.length);const p=this._data.outcomeDimensions;if(this._data.normalizeTo===H.SymbolHeight)if(0===p.length)this._data.visibleHeight=this._data.outcome.length;else{let g=0;for(let m=0;m<p.length;++m)g+=p[m].y;this._data.visibleHeight=g}this.currentSpinMechanic.onOutcomeUpdated()}forceStop(){this.forciblyStopped=!0,this._data.stopDelayTimer.forceStop()}async stopSpinInternal(p){this.isStopping=!0,await this.startPromise,this.currentSpinMechanic.currentSpinSequence===h.J.Start&&(this.nextSequence=h.J.Stop,await this._data.spinTimer.wait()),p?await p:(this.forciblyStopped&&(this._data.stopDelayTimer.stopTime=0),await this._data.stopDelayTimer.wait()),this.applyOutcome(),this.stopSequenceBegin(),this.onStopSequenceBegin(this.id),this.currentSpinMechanic.setSpinSequence(h.J.Stop),this.levelSyncedReels(),await this._data.spinTimer.wait(),this.stopSequenceEnd(),this.onStopSequenceEnd(this.id),this.currentSpinMechanic.setSpinSequence(h.J.Idle),this.isStopping=!1}async stopSpin(p=null){this.isStopping||(this.stopPromise=this.stopSpinInternal(p)),await this.stopPromise}get currentSpinMechanic(){return this.spinMechanics[this.currentSpinMechanicIndex]}set visibleHeight(p){this._data.visibleHeight=p}get visibleHeight(){return this._data.visibleHeight}set timeScale(p){const g=Math.min(p,1),m=this._timeScale;m<1&&1===g?(this._isSlowedDown=!1,this._wasSlowedDown=!0):1===m&&g<1&&(this._isSlowedDown=!0,this._wasSlowedDown=!1),this._timeScale=g,this.data.spinTimer.timeScale=g,this.data.startDelayTimer.timeScale=g,this.data.stopDelayTimer.timeScale=g}get bufferSize(){return this._data.bufferSize}printState(){console.log(`State for Reel ${this.id}: `),console.log(`Visible height:  ${this._data.visibleHeight} `),console.log("Buffer:"),console.log(this._data.buffer)}setOutcome(p,g=[]){if(g.length>0&&g.length!==p.length)throw new Error(`Outcome dimensions length should be equal to 0 or the same length as outcome. Outcome length is ${p.length} and dimensions length is ${g.length}.`);const m=k._i(this._data.synchronizationFlags,n.l.Outcome);if((this.isMaster||!m)&&(this._data.outcome=p,this._data.outcomeDimensions=g,m))for(let g=0;g<this.syncSlaves.length;++g)this.syncSlaves[g]._data.outcome=p}presentOutcome(){if(this.isMaster||!k._i(this._data.synchronizationFlags,n.l.Outcome)){this.presentOutcomeInternal();for(let p=0;p<this.syncSlaves.length;++p)this.syncSlaves[p].presentOutcomeInternal()}}presentOutcomeInternal(){const p=this.outcome.length;this.applyOutcome();for(let g=0;g<p;++g){const p=this.outcome[g];this.setSymbolByID(p,g,Z.Visible,{isOutcome:!0,landingPosition:{reelIndex:this.id,symbolIndex:g,reelsetName:this.reelsetName},dimensions:this._data.outcomeDimensions.length>0?this._data.outcomeDimensions[g]:void 0})}this._data.reelStrip.isEmpty()||this.currentSpinMechanic.fillWithReelStripSymbols();for(let p=0;p<this._data.bufferSize;++p){const g=this._data.buffer[p];void 0!==g&&(g.position=this.currentSpinMechanic.getPositionForIndex(p),g.synchronize({x:0,y:0}))}}setStartDelay(p,g=!0){if(this.isMaster&&(this.setStartDelayInternal(p,g),k._i(this._data.synchronizationFlags,n.l.Timers)))for(let m=0;m<this.syncSlaves.length;++m)this.syncSlaves[m].setStartDelayInternal(p,g)}setStartDelayInternal(p,g=!0){this._data.startDelayTimer.stopTime=k.fP(p),g&&(this._data.startDelayTimer.accumulator=0)}setStopDelay(p,g=!0){if(this.isMaster&&(this.setStopDelayInternal(p,g),k._i(this._data.synchronizationFlags,n.l.Timers)))for(let m=0;m<this.syncSlaves.length;++m)this.syncSlaves[m].setStopDelayInternal(p,g)}setAvalancheGravity(p){this._data.reelGravity=p}levelSyncedReels(){if(this.isMaster&&k._i(this._data.synchronizationFlags,n.l.Timers)){let p=this.getHighestPoint();for(let g=0;g<this.syncSlaves.length;++g){const m=this.syncSlaves[g].getHighestPoint();m>p&&(p=m)}this.setTargetHighestPoint(p);for(let g=0;g<this.syncSlaves.length;++g)this.syncSlaves[g].setTargetHighestPoint(p)}}getFirstInsertedOutcomeSymbol(){const p=this.getFirstInsertedOutcomeSymbolIndex();return this._data.buffer[p]}getFirstInsertedOutcomeSymbolIndex(){for(let p=this._data.buffer.length-1;p>=0;--p){const g=this._data.buffer[p];if(void 0!==g&&g.isOutcome)return p}return-1}alignOutcome(){var p;const g=k._i(this._data.synchronizationFlags,n.l.Timers);if(!this.isMaster&&g)return;const m=null!==(p=this._syncMaster)&&void 0!==p?p:this,Z=m.getFirstInsertedOutcomeSymbol();if(void 0!==Z)for(let p=0;p<m.syncSlaves.length;++p){const g=m.syncSlaves[p].getFirstInsertedOutcomeSymbolIndex();if(g>-1){const H=m.syncSlaves[p]._data.buffer[g];let t=Z.position.y-.5*Z.dimensions.y;H.position.y=t+.5*H.dimensions.y;let h=H.position.y+.5*H.dimensions.y;for(let Z=g+1;Z<m.syncSlaves[p]._data.buffer.length;++Z){const g=m.syncSlaves[p]._data.buffer[Z];void 0!==g&&(g.position.y=t-.5*g.dimensions.y,t-=g.dimensions.y)}for(let Z=g-1;Z>=0;--Z){const g=m.syncSlaves[p]._data.buffer[Z];void 0!==g&&(g.position.y=h+.5*g.dimensions.y,h+=g.dimensions.y)}}}}setStopDelayInternal(p,g=!0){this._data.stopDelayTimer.stopTime=k.fP(p),g&&(this._data.stopDelayTimer.accumulator=0)}setTargetHighestPoint(p){this.currentSpinMechanic.setTargetHighestPoint(p)}getHighestPoint(){return this.currentSpinMechanic.getHighestPoint()}get startDelay(){return k.Wj(this._data.startDelayTimer.stopTime)}get stopDelay(){return k.Wj(this._data.stopDelayTimer.stopTime)}get symbolCount(){return this._data.symbolCount}get outcomeSymbolCount(){return this.outcome.length}get preBufferSize(){return this._data.preBufferSize}get postBufferSize(){return this._data.postBufferSize}get reelStrip(){return this._data.reelStrip}get isMaster(){return void 0===this._syncMaster}get syncMaster(){return this._syncMaster}get visibleSymbolCountDuringSpin(){const p=this._data.buffer;let g=0;const m=.5*this.visibleHeight,Z=-m;for(let H=0;H<p.length;H++){const t=p[H];if(void 0!==t){const p=.5*t.dimensions.y;t.position.y+p>=Z&&t.position.y-p<=m&&++g}}return g}get outcome(){return this._data.outcome}get data(){return this._data}startSequenceBegin(){k.lQ()}startSequenceEnd(){k.lQ()}stopSequenceBegin(){k.lQ()}stopSequenceEnd(){k.lQ()}get isSlowedDown(){return this._isSlowedDown}get wasSlowedDown(){return this._wasSlowedDown}}},885580:(p,g,m)=>{m.d(g,{H:()=>Z,x:()=>h});var Z,H=m(746380),t=m(663062);(function(p){p[p["Forwards"]=1]="Forwards",p[p["Backwards"]=-1]="Backwards"})(Z||(Z={}));class h{constructor(){this.symbols=[],this.dimensions=[],this._possibleDimensions=[],this.symbolsIndex=0,this.dimensionsIndex=0}getNextSymbol(p){return{id:this.getNextSymbolID(p),dimensions:this.getNextSymbolDimensions(p)}}synchronize(p,g){H._i(g,t.l.Symbols)&&(this.symbols=p.symbols,this.symbolsIndex=p.symbolsIndex),H._i(g,t.l.Dimensions)&&(this.dimensions=p.dimensions,this.dimensionsIndex=p.dimensionsIndex)}getNextSymbolID(p){return this.symbolsIndex+=p,this.wrapSymbolsIndex(),this.symbols[this.symbolsIndex]}getNextSymbolDimensions(p){return this.dimensionsIndex+=p,this.wrapDimensionsIndex(),this.dimensions.length>0?this.dimensions[this.dimensionsIndex]:void 0}getCurrentSymbol(){return{id:this.getCurrentSymbolID(),dimensions:this.getCurrentSymbolDimensions()}}getCurrentSymbolID(){return this.symbols[this.symbolsIndex]}getCurrentSymbolDimensions(){return this.dimensions[this.dimensionsIndex]}setSymbols(p){this.symbols=p,this.symbolsIndex=this.symbols.length-1}setDimensions(p){this.dimensions=p,this.dimensionsIndex=this.dimensions.length-1,this.updatePossibleDimensions()}isEmpty(){return 0===this.symbols.length}applyIndexOffset(p){this.applySymbolIndexOffset(p),this.applyDimensionsIndexOffset(p)}applySymbolIndexOffset(p){this.symbolsIndex+=p,this.wrapSymbolsIndex()}applyDimensionsIndexOffset(p){this.dimensionsIndex+=p,this.wrapDimensionsIndex()}wrapSymbolsIndex(){this.symbolsIndex=H._g(this.symbolsIndex,this.symbols.length)}wrapDimensionsIndex(){this.dimensionsIndex=H._g(this.dimensionsIndex,this.dimensions.length)}get possibleDimensions(){return this._possibleDimensions}updatePossibleDimensions(){this._possibleDimensions=[];for(let p=0;p<this.dimensions.length;++p)void 0===this._possibleDimensions.find((g=>g.x===this.dimensions[p].x&&g.y===this.dimensions[p].y))&&this._possibleDimensions.push(this.dimensions[p])}}},415215:(p,g,m)=>{m.d(g,{C:()=>H});var Z=m(746380);class H{constructor(p=0){this.accumulator=0,this.stopTime=0,this.onStop=Z.lQ,this.promise=Promise.resolve(),this.isActive=!1,this._timeScale=1,this.resolve=Z.lQ,this._isResolved=!1,this.stopTime=p}async wait(p=!0){return this.isActive||(this.promise=new Promise((g=>{this.resolve=g,this.start(p)}))),this.promise}create(){return this.isActive||(this.promise=new Promise((p=>{this.resolve=p}))),this.promise}forceStop(){if(this.resolve(),this._isResolved=!0,this.isActive){const p=H.timers;this.isActive=!1,p.splice(p.indexOf(this),1)}this.onStop()}start(p=!0){p&&(this.accumulator=0,this._isResolved=!1),this._isResolved||H.timers.includes(this)||(this.isActive=!0,H.timers.push(this))}get progress(){const p=this.accumulator/this.stopTime,g=Math.min(Math.max(p,0),1);return Number.isNaN(Number(g))?1:g}timestep(p){const g=p*this._timeScale;if(this.accumulator+=g,this.accumulator>=this.stopTime){this.accumulator=0;const p=H.timers;p.splice(p.indexOf(this),1),this.isActive=!1,this.resolve(),this._isResolved=!0,this.onStop()}}static timestep(p){const g=H.timers;for(let m=g.length-1;m>=0;--m)g[m].timestep(p)}get timeScale(){return this._timeScale}set timeScale(p){this._timeScale=Math.min(p,1)}}H.timers=[]},652958:(p,g,m)=>{var Z;m.d(g,{J:()=>Z}),function(p){p[p["Idle"]=0]="Idle",p[p["Start"]=1]="Start",p[p["Spin"]=2]="Spin",p[p["Stop"]=3]="Stop"}(Z||(Z={}))},821737:(p,g,m)=>{m.d(g,{e:()=>S});var Z,H=m(721120),t=m(654560),h=m(885580),k=m(746380),n=m(206288);(function(p){p[p["SingleBounce"]=0]="SingleBounce",p[p["MultipleBounce"]=1]="MultipleBounce",p[p["BallBounce"]=2]="BallBounce"})(Z||(Z={}));class S extends n.${constructor(p,g){var m,Z,H,t,h;super(p,"NormalSpin"),this.frameDistance=0,this.outcomeSymbolToAddIndex=0,this.accumulatedDistance=0,this.despawnPoint=0,this.isOutcomeLanding=!1,this.accumulatedBounceDistance=0,this.stopBounceThreshold=0,this.hasBounced=!1,this._startBounceDuration=.5,this._stopBounceDuration=.5,this._spinVelocity=5,this.currentVelocity=0,this._spinAcceleration=0,this.stopBounceFactor=.1,this.numberOfBounces=0,this._startBounceFactor=.2,this.lowestOutcomeSymbol=void 0,this.endBounceFunction=this.singleBounce,this.accumulatedFillDistance=0,this.endBounceFunctions=[this.singleBounce,this.multipleBounce,this.ballBounce],this._deaccelerationDistance=0,this._deaccelerationFinalVelocity=0,this.deaccelerationThreshold=0,this.currentAcceleration=0,this.hasStartedDeaccelerating=!1,this.currentDeaccelerationVelocity=0,this._startBounceFactor="number"==typeof g.startBounceFactor?g.startBounceFactor:g.startBounceFactor.normal,this.stopBounceFactor="number"==typeof g.stopBounceFactor?g.stopBounceFactor:g.stopBounceFactor.normal,this.numberOfBounces=null!==(m=g.numberOfBounces)&&void 0!==m?m:0,this.endBounceFunction=this.getEndBounceFunction(g.bounceType),this._deaccelerationDistance=null!==(Z=g.deaccelerationDistance)&&void 0!==Z?Z:0,this._spinVelocity=k.fP("number"==typeof g.spinVelocity?g.spinVelocity:g.spinVelocity.normal),this._spinAcceleration="number"==typeof g.spinAcceleration?g.spinAcceleration:null!==(t=null===(H=g.spinAcceleration)||void 0===H?void 0:H.normal)&&void 0!==t?t:0,this._stopBounceDuration=k.fP("number"==typeof g.stopBounceDuration?g.stopBounceDuration:g.stopBounceDuration.normal),this._startBounceDuration=k.fP("number"==typeof g.startBounceDuration?g.startBounceDuration:g.startBounceDuration.normal),this._deaccelerationFinalVelocity=k.fP(null!==(h=g.deaccelerationFinalVelocity)&&void 0!==h?h:0)}onStartSpin(){this.lowestOutcomeSymbol=void 0,this.data.targetHighestPointOffset=-Number.MAX_VALUE,this.accumulatedDistance=0,this.accumulatedBounceDistance=0,this.data.spinTimer.stopTime=this._startBounceDuration,this.fillWithReelStripSymbols(),this.reel.reelStrip.applyIndexOffset(-this.data.preBufferSize-this.data.postBufferSize),this.snap(),this.hasBounced=!1,this.hasStartedDeaccelerating=!1,this.stopBounceThreshold=Number.POSITIVE_INFINITY,this.deaccelerationThreshold=Number.POSITIVE_INFINITY,this.currentDeaccelerationVelocity=Number.POSITIVE_INFINITY,this.currentAcceleration=Number.POSITIVE_INFINITY;const p=this.data.buffer,g=p.length;for(let m=0;m<g;++m){const g=p[m];void 0!==g&&void 0!==g.onStartSpin&&g.onStartSpin()}}startSpin(){const p=this.accumulatedBounceDistance,g=H.ub(this._startBounceFactor,this.data.spinTimer.progress);this.accumulatedBounceDistance=g,this.frameDistance=p-g,this.spinImplementation(),this.synchronizeSymbols()}onStopSpin(){this.outcomeSymbolToAddIndex=this.data.outcome.length,this.stopBounceThreshold=Number.POSITIVE_INFINITY,this.data.spinTimer.stopTime=Number.POSITIVE_INFINITY,this.data.spinTimer.accumulator=0,this.accumulatedFillDistance=0}onIdle(){this.isOutcomeLanding=!1;const p=this.data.outcome,g=p.length,m=this.data.buffer;this.squashPrebuffer();const Z=this.data.preBufferSize;for(let H=0;H<g;++H){const g=H+Z,h=m[g];void 0!==h&&h.id===p[H]||this.reel.setSymbolByID(p[H],g,t.nU.Absolute,{isOutcome:!0,landingPosition:{reelIndex:this.reel.id,symbolIndex:g,reelsetName:this.reel.reelsetName}})}this.frameDistance=0,this.currentVelocity=0,this.outcomeSymbolToAddIndex=0,this.snap(),this.stopBounceThreshold=Number.POSITIVE_INFINITY,this.synchronizeSymbols();for(let p=0;p<m.length;p++){const g=m[p];void 0!==g&&g.land()}this.reel.onStopBounceEnd(this.reel.id)}stopSpin(p){if(this.fillSymbols())return this.spinImplementation(),void this.synchronizeSymbols();this.calculateStoppingVelocity(p),this.spinImplementation(),this.prependOutcomeSymbols(),this.synchronizeSymbols(),this.calculateStopBounce(),this.checkForDeacceleration()}spin(p){this.setNextFrameDistance(p),this.spinImplementation(),this.prependReelStripSymbols(),this.synchronizeSymbols()}setNextFrameDistance(p){this._spinAcceleration&&this.currentVelocity<this._spinVelocity&&(this.currentVelocity+=this._spinAcceleration),(!this._spinAcceleration||this.currentVelocity>this._spinVelocity)&&(this.currentVelocity=this._spinVelocity),this.frameDistance=this.currentVelocity*p}spinImplementation(){const p=this.data.buffer;this.accumulatedDistance+=Math.abs(this.frameDistance);for(let g=0;g<p.length;g++){const m=p[g];void 0!==m&&(m.position.y-=this.frameDistance)}}onActivate(){this.onOutcomeUpdated()}onOutcomeUpdated(){this.despawnPoint=this.calculateDespawnPoint()}onOutcomeAppeared(p){this.lowestOutcomeSymbol=p,this.stopBounceThreshold=p.position.y-.5*p.dimensions.y-this.calculateVisibleAreaBottom(),this.deaccelerationThreshold=Math.max(0,this.stopBounceThreshold-this._deaccelerationDistance);const g=this._deaccelerationFinalVelocity-this.currentVelocity;this.currentAcceleration=(this.currentVelocity*g+g*g/2)/this._deaccelerationDistance,this.accumulatedDistance=0,this.isOutcomeLanding=!0}getClosestHeightFromReelstrip(p){const g=this.data.reelStrip.possibleDimensions;if(0===g.length)return p;let m=Number.MAX_VALUE,Z=0;for(let H=0;H<g.length;++H){const t=Math.abs(g[H].y-p);t<m&&(m=t,Z=H)}return g[Z].y}fillSymbols(){if(this.accumulatedFillDistance<this.data.targetHighestPointOffset){const p=this.getHighestPoint();this.prependReelStripSymbols(0,{x:1,y:this.getClosestHeightFromReelstrip(this.data.targetHighestPointOffset)});const g=this.getHighestPoint()-p;return this.accumulatedFillDistance+=g,this.data.targetHighestPointOffset-=g,!0}return!1}calculateStoppingVelocity(p){if(this.accumulatedDistance>=this.stopBounceThreshold){const p=this.accumulatedBounceDistance,g=this.endBounceFunction(this.data.spinTimer.progress);this.accumulatedBounceDistance=g,this.frameDistance=g-p}else this.accumulatedDistance>=this.deaccelerationThreshold?(this.frameDistance=this.currentDeaccelerationVelocity*p+this.currentAcceleration*p*p/2,this.currentDeaccelerationVelocity+=this.currentAcceleration*p,this.accumulatedDistance+this.frameDistance>this.stopBounceThreshold&&(this.frameDistance=this.stopBounceThreshold-this.accumulatedDistance)):(this.setNextFrameDistance(p),this.accumulatedDistance+this.frameDistance>this.stopBounceThreshold?this.frameDistance=this.stopBounceThreshold-this.accumulatedDistance:this.accumulatedDistance+this.frameDistance>this.deaccelerationThreshold&&(this.frameDistance=this.deaccelerationThreshold-this.accumulatedDistance))}calculateStopBounce(){!this.hasBounced&&this.accumulatedDistance>=this.stopBounceThreshold&&(this.hasBounced=!0,this.data.spinTimer.accumulator=0,this.data.spinTimer.stopTime=this._stopBounceDuration,this.accumulatedDistance=this.stopBounceThreshold,this.accumulatedBounceDistance=0,this.frameDistance=0,this.notifyBounce())}checkForDeacceleration(){!this.hasStartedDeaccelerating&&this.accumulatedDistance>=this.deaccelerationThreshold&&(this.hasStartedDeaccelerating=!0,this.currentDeaccelerationVelocity=this.currentVelocity)}notifyBounce(){const p=this.data.buffer,g=p.length;for(let m=0;m<g;++m){const g=p[m];void 0!==g&&void 0!==g.bounce&&g.bounce()}this.reel.onStopBounceBegin(this.reel.id)}prependOutcomeSymbols(){var p;if(this.outcomeSymbolToAddIndex<0)return;const g=this.data.outcome,m=this.data.preBufferSize-1,Z=this.data.buffer;let H=Z[m];const k=this.calculateSpawnPoint();for(;void 0===H||H.position.y-.5*H.dimensions.y<=k;){if(--this.outcomeSymbolToAddIndex,this.outcomeSymbolToAddIndex<0){this.shiftSymbolsDown(this.data.preBufferSize);const g=this.data.preBufferSize;for(let m=0;m<g;++m){let H=this.reel.reelStrip.getNextSymbol(h.H.Backwards);for(;null===(p=H.dimensions)||void 0===p?void 0:p.colossalData;){const p=g-m,Z=H.dimensions.colossalData,t=Z.colossalSize.y-Z.positionInColossalSpace.y;if(p>=t)break;this.reel.reelStrip.applyIndexOffset(-(t-1)),H=this.reel.reelStrip.getNextSymbol(h.H.Backwards)}const t=Z[this.prependSymbol(H.id,{dimensions:H.dimensions,landingPosition:{reelIndex:this.reel.id,symbolIndex:NaN,reelsetName:this.reel.reelsetName},isOutcome:!1})];this.clampPrependedSymbolPosition(t)}break}const k=g[this.outcomeSymbolToAddIndex];this.shiftSymbolsDown(1);const n=this.prependSymbol(k,{dimensions:0===this.data.outcomeDimensions.length||this.data.normalizeTo===t.He.ReelHeight?this.defaultSymbolDimensions():this.data.outcomeDimensions[this.outcomeSymbolToAddIndex],landingPosition:{reelIndex:this.reel.id,symbolIndex:this.outcomeSymbolToAddIndex,reelsetName:this.reel.reelsetName},isOutcome:!0});if(n>-1){const p=Z[n];this.clampPrependedSymbolPosition(p),this.outcomeSymbolToAddIndex===g.length-1&&this.onOutcomeAppeared(p)}H=Z[m]}void 0!==this.lowestOutcomeSymbol&&(this.reel.alignOutcome(),this.onOutcomeAppeared(this.lowestOutcomeSymbol))}despawnSymbols(){const p=this.data.buffer,g=p.length;for(let m=this.isOutcomeLanding?this.data.bufferSize:0;m<g;++m){const g=p[m];void 0!==g&&g.position.y+.5*g.dimensions.y<this.despawnPoint&&(g.isDead=!0)}}clampPrependedSymbolPosition(p){void 0!==p&&p.position.y+.5*p.dimensions.y<this.despawnPoint&&(p.position.y=this.despawnPoint)}prependReelStripSymbols(p=0,g=void 0){const m=this.data.buffer,Z=this.data.preBufferSize-1;let H=m[Z];const t=this.calculateSpawnPoint();let k=0;for(;void 0===H||H.position.y-.5*H.dimensions.y<t;){this.squashPrebuffer();const t=this.reel.reelStrip.getNextSymbol(h.H.Backwards);this.shiftSymbolsDown(1);const n=m[this.prependSymbol(t.id,{dimensions:null!=g?g:t.dimensions,isOutcome:!1,landingPosition:{reelIndex:this.reel.id,symbolIndex:NaN,reelsetName:this.reel.reelsetName}})];if(this.clampPrependedSymbolPosition(n),H=m[Z],p>0&&++k>=p)break}}synchronizeSymbols(){this.despawnSymbols();for(let p=0;p<this.data.buffer.length;p++){const g=this.data.buffer[p];void 0!==g&&g.synchronize({x:0,y:this.frameDistance})}}set startBounceDuration(p){this._startBounceDuration=k.fP(p)}get startBounceDuration(){return k.Wj(this._startBounceDuration)}set stopBounceDuration(p){this._stopBounceDuration=k.fP(p)}get stopBounceDuration(){return k.Wj(this._stopBounceDuration)}set spinVelocity(p){this._spinVelocity=k.fP(p)}get spinVelocity(){return k.Wj(this._spinVelocity)}set spinAcceleration(p){this._spinAcceleration=p}set startBounceFactor(p){this._startBounceFactor=p}setTargetHighestPoint(p){this.accumulatedFillDistance=0;const g=p-this.getHighestPoint();g>k.A1&&(this.data.targetHighestPointOffset=g)}getEndBounceFunction(p){return void 0===p?this.endBounceFunctions[0]:this.endBounceFunctions[p]}setEndBounceFunction(p){this.endBounceFunction=this.getEndBounceFunction(p)}singleBounce(p){return H.a7(0,0,this.stopBounceFactor,p)}multipleBounce(p){return H.Cj(0,0,this.stopBounceFactor,p)}ballBounce(p){return k.ys(this.stopBounceFactor,this.numberOfBounces,p)}}},206288:(p,g,m)=>{m.d(g,{$:()=>k});var Z=m(654560),H=m(885580),t=m(746380),h=m(652958);class k{constructor(p,g){this.timestepFunction=t.lQ,this._spinMode=0,this._currentSpinSequence=h.J.Idle,this._id=g,this.reel=p,this.data=p.data}timeStep(p){this.timestepFunction(p)}setSpinSequence(p){if(p!==this.currentSpinSequence)switch(p){case h.J.Start:this._currentSpinSequence=h.J.Start,this.onStartSpin(),this.timestepFunction=this.startSpin.bind(this);break;case h.J.Stop:this._currentSpinSequence=h.J.Stop,this.onStopSpin(),this.timestepFunction=this.stopSpin.bind(this);break;case h.J.Spin:this._currentSpinSequence=h.J.Spin,this.onSpin(),this.timestepFunction=this.spin.bind(this);break;default:this._currentSpinSequence=h.J.Idle,this.onIdle(),this.timestepFunction=t.lQ}}synchronizeSymbols(){for(let p=0;p<this.data.buffer.length;p++){const g=this.data.buffer[p];void 0!==g&&g.synchronize({x:0,y:0})}}onIdle(){t.lQ()}onStartSpin(){t.lQ()}onSpin(){t.lQ()}onStopSpin(){t.lQ()}defaultSymbolDimensions(){const p={x:1,y:1};return this.data.normalizeTo===Z.He.ReelHeight&&(p.y=this.data.visibleHeight/this.data.symbolCount),p}getPostBufferIndex(){return this.data.preBufferSize+this.data.symbolCount}getDimensionsForIndex(p){var g,m;return null!==(m=null===(g=this.data.buffer[p])||void 0===g?void 0:g.dimensions)&&void 0!==m?m:this.defaultSymbolDimensions()}getPositionForIndex(p){let g=0,m=0,H=0;const t=this.getPostBufferIndex();let h,k=0;for(let Z=0;Z<this.data.bufferSize;++Z){const h=this.getDimensionsForIndex(Z).y;g+=h,Z<this.data.preBufferSize&&(m+=h),Z>=t&&(H+=h),Z<p&&(k+=h)}return h=this.data.alignment===Z.bj.Bottom?this.calculateVisibleAreaBottom()-H+g-k-.5*this.getDimensionsForIndex(p).y:this.calculateVisibleAreaTop()+m-k-.5*this.getDimensionsForIndex(p).y,{x:0,y:h}}fillWithReelStripSymbols(){const p=this.reel.reelStrip,g=this.data.preBufferSize,m=this.data.bufferSize,t=this.data.buffer,h=this.getPostBufferIndex(),k=this.reel;for(let m=0;m<g;++m)if(void 0===t[m]){const t=p.getNextSymbol(H.H.Backwards);k.setSymbolByID(t.id,m-g,Z.nU.Visible,{dimensions:t.dimensions})}p.applyIndexOffset(g);for(let g=h;g<m;++g)if(void 0===t[g]){const m=p.getNextSymbol(H.H.Forwards);k.setSymbolByID(m.id,g,Z.nU.Absolute,{dimensions:m.dimensions})}}trimExcess(){const p=this.data.bufferSize,g=this.data.buffer;for(let m=p;m<g.length;++m)this.tryDestroySymbol(g[m]),g[m]=void 0}trimPreBuffer(){const p=this.data.preBufferSize,g=this.data.buffer;for(let m=0;m<p;++m)this.tryDestroySymbol(g[m]),g[m]=void 0}trimPostBuffer(){const p=this.data.preBufferSize,g=this.data.buffer;for(let m=p+this.data.symbolCount;m<g.length;++m)this.tryDestroySymbol(g[m]),g[m]=void 0}trimOffBuffers(){this.trimPreBuffer(),this.trimPostBuffer()}onActivate(){t.lQ()}onDeactivate(){t.lQ()}appendSymbol(p,g){const m=this.data.buffer,H=this.data.bufferSize-1;let t=H;for(let p=H;p>=0;p--)if(void 0!==m[p]){t=p;break}if(t===H)return-1;const h=t+1,k=this.reel.setSymbolByID(p,h,Z.nU.Absolute,g),n=m[t];return void 0!==n&&(k.position.y=n.position.y-.5*n.dimensions.y-.5*k.dimensions.y,k.synchronize({x:0,y:0})),h}prependSymbol(p,g){let m=0;const H=this.data.buffer,t=this.data.bufferSize;for(let p=0;p<t;++p)if(void 0!==H[p]){m=p;break}if(0===m)return-1;const h=m-1,k=this.reel.setSymbolByID(p,h,Z.nU.Absolute,g),n=H[m];return void 0!==n&&(k.position.y=n.position.y+.5*n.dimensions.y+.5*k.dimensions.y),h}shiftSymbolsDown(p){const g=this.data.buffer;let m=g.length-1,Z=0;for(let H=m;H>=p;--H)if(void 0!==g[H]){Z=H+p;for(let p=m;p<=Z;++p)g.push(void 0),m=g.length-1;break}for(let Z=m;Z>=p;--Z)g[Z]=g[Z-p];for(let m=0;m<p;++m)g[m]=void 0}shiftSymbolsUp(p){if(p<=0)return;const{buffer:g}=this.data,m=Math.min(p,g.length);for(let p=0;p<m;p++)this.tryDestroySymbol(g[p]);g.splice(0,m);for(let p=0;p<m;p++)g.push(void 0)}tryDestroySymbol(p){return void 0!==p&&(p.isDead=!0,this.reel.destroySymbol(p),!0)}setTargetHighestPoint(p){this.data.targetHighestPointOffset=p-this.getHighestPoint()}getHighestPoint(){for(let p=0;p<this.data.buffer.length;++p){const g=this.data.buffer[p];if(void 0!==g)return g.position.y+.5*g.dimensions.y}return 0}snap(){for(let p=0;p<this.data.buffer.length;++p){const g=this.data.buffer[p];void 0!==g&&(g.position.y=this.getPositionForIndex(p).y)}}calculateVisibleAreaTop(){switch(this.data.alignment){case Z.bj.Bottom:return this.data.visibleHeight;case Z.bj.Center:return.5*this.data.visibleHeight;case Z.bj.Top:return 0;default:return.5*this.data.visibleHeight}}calculateVisibleAreaBottom(){switch(this.data.alignment){case Z.bj.Bottom:return 0;case Z.bj.Center:return.5*-this.data.visibleHeight;case Z.bj.Top:return-this.data.visibleHeight;default:return.5*-this.data.visibleHeight}}squashPrebuffer(){for(let p=0;p<this.data.preBufferSize;++p)void 0===this.data.buffer[p]&&this.data.buffer.splice(p,1)}calculateSpawnPoint(){return this.calculateVisibleAreaTop()+this.defaultSymbolDimensions().y*this.data.preBufferSize}calculateDespawnPoint(){return this.calculateVisibleAreaBottom()-this.data.postBufferSize*this.defaultSymbolDimensions().y}onOutcomeUpdated(){t.lQ()}get id(){return this._id}set spinMode(p){this.reel.desynchronize(),this._spinMode=p}get spinMode(){return this._spinMode}get currentSpinSequence(){return this._currentSpinSequence}}},746380:(p,g,m)=>{m.d(g,{A1:()=>I,Io:()=>n,Wj:()=>D,_g:()=>t,_i:()=>k,a1:()=>S,fP:()=>q,lQ:()=>H,yL:()=>b,ys:()=>h});var Z=m(721120);function H(){}const t=(p,g)=>(g+p%g)%g;function h(p,g,m){if(g<=0)return 0;let H=0,t=0;for(let Z=0;Z<g;Z++){const h=1/g*Z,k=1/g*(Z+1),n=1-(1-h)*(1-h),S=1-(1-k)*(1-k);if(m>=n&&m<=S){const g=S-n;H=(m-n)/g,t=p*g;break}}return-Z.ub(t,H)}const k=(p,g)=>(p&g)===g,n=p=>({x:p.x,y:p.y}),S=p=>({symbolIndex:p.symbolIndex,reelIndex:p.reelIndex,reelsetName:void 0===p.reelsetName?"":`${p.reelsetName}`}),q=p=>.001*p,D=p=>1e3*p,I=1e-4;function b(p){return null!==p&&"object"==typeof p&&"function"==typeof p.then&&"function"==typeof p.catch}},33258:(p,g,m)=>{m.d(g,{w:()=>$});var Z=m(64922),H=m(377810),t=m(346160),h=m(168855),k=m(699695),n=m(587698),S=m(764522),q=m(189741);const D="item--cfc33",I="disabled--46d01",b="selected--2ce0d",e=H.memo((({currencySymbol:p,onSelect:g,stake:m,isSelected:t})=>{const{value:h,enabled:e}=m,N=H.useMemo((()=>h>=1e6?n.K3(h,p):n.ej(h,{currencySymbol:p})),[h,p]);return Z.jsx("div",{"data-role":"bet-stake-list-item",className:k.A(D,{[I]:!e,[b]:t}),onClick:()=>{e&&(S.triggerEvent(q._.BetStakeListItemRelease),g(h))},onPointerDown:()=>{e&&S.triggerEvent(q._.BetStakeListItemPress)},children:N})}));e.displayName="BetStakeItem";const N="list--add8a",d=H.memo((({currencySymbol:p,onBetSelect:g,stakes:m,selectedStakeIndex:H})=>Z.jsx("div",{"data-role":"bet-stake-list",className:N,children:m.map(((m,t)=>Z.jsx(e,{onSelect:g,currencySymbol:p,stake:m,isSelected:H===t},m.value)))})));d.displayName="BetStakeList";const Q="betStake--d52f6",$=H.memo((({Controls:p,Selector:g,label:m=t.Tl("betlabel"),controlsTheme:k,currencySymbol:n,currencyCode:S,onBetSelect:q,selectedValue:D,stakes:I,onDecreaseClick:b,onIncreaseClick:e,middleButtonState:N,decreaseButtonState:$,increaseButtonState:w,hideActionButtons:Y,withoutBorders:i,layerStyles:P,size:J,selectorTitle:y})=>{const[W,v]=H.useState(!1),V=H.useRef(null),z=H.useMemo((()=>I.findIndex((p=>p.value===D))),[I,D]),B=H.useCallback((()=>{v(!1)}),[]),u=H.useCallback((()=>{v((p=>!p))}),[]),a=H.useCallback((p=>{q(p),v(!1)}),[q]);H.useEffect((()=>{"disabled"===N&&v(!1)}),[N]);const F=h.F(["betStake","customizableButton","popupBubble"],P);return Z.jsxs("div",{style:F,className:Q,children:[Z.jsx(g,{controlsRef:V,isOpen:W,onClose:B,selectedStakeIndex:z,stakesCount:I.length,currencyCode:S,title:y,children:Z.jsx(d,{currencySymbol:n,onBetSelect:a,selectedStakeIndex:z,stakes:I})}),Z.jsx(p,{label:m,theme:k,currencySymbol:n,onMiddleClick:u,onIncreaseClick:e,onDecreaseClick:b,decreaseButtonState:$,increaseButtonState:w,middleButtonState:N,isSelectorOpen:W,selectedValue:D,hideActionButtons:Y,controlsRef:V,withoutBorders:i,size:J})]})}));$.displayName="BetStakeV2"},596702:(p,g,m)=>{m.d(g,{w:()=>R});var Z=m(64922),H=m(699695),t=m(377810);const h={container:"container--91d91",border:"border--e8497",outerBorder:"outerBorder--52a9d",sm:"sm--64fb2",md:"md--7a948",lg:"lg--8cb3e",midBorderStroke:"midBorderStroke--96e5b",midBorder:"midBorder--751d6",innerBorder:"innerBorder--984b8",promotion:"promotion--70373",ctaPulseKeyframes:"ctaPulseKeyframes--88939"},k=t.memo((({children:p,hideBorders:g,theme:m,size:t})=>g?Z.jsx(Z.Fragment,{children:p}):Z.jsx("div",{"data-role":"bet-stake-borders",className:H.A(h.container,h[t]),children:Z.jsx("div",{className:H.A(h.border,h.outerBorder),children:Z.jsx("div",{className:H.A(h.border,h.midBorderStroke),children:Z.jsx("div",{className:H.A(h.border,h.midBorder),children:Z.jsx("div",{className:H.A(h.border,h.innerBorder,{[h.promotion]:"promo"===m}),children:p})})})})})));k.displayName="Borders";const n="container--3b322",S="layer--c424f",q="midBody--1e2c0",D="promo--ec236",I="callToAction--ac6f3",b="fill--ef235",e="mainLight--345f6",N=t.memo((({theme:p})=>Z.jsx("div",{className:H.A(n,{[I]:"callToAction"===p,[D]:"promo"===p}),children:Z.jsxs("div",{className:H.A(S,q),children:[Z.jsx("div",{className:H.A(S,b)}),Z.jsx("div",{className:H.A(S,e)})]})})));N.displayName="LayerStyles";var d=m(346838),Q=m(843717),$=m(764522),w=m(189741);const Y="tooltipContainer--fdb0e",i="inner--cb561",P=({children:p})=>Z.jsx("div",{className:Y,children:Z.jsx("div",{className:i,children:p})});var J=m(124315),y=m(822381);function W({containerElement:p,textElement:g,minFontSize:m,recalculated:Z}){const H=window.getComputedStyle(g),t=parseFloat(H.fontSize),h=y._V(),k=p.clientWidth,n=g.scrollWidth,S=n>k,q=function(p,g,m){return m*(p/g)}(k,n,t),D=q/h,I=m/h;if(!S)return"";if(q<m){if(Z){const p=D.toFixed(3);return y._m(p)}if(m>h)return y._m(1);const p=I.toFixed(3);return y._m(p)}const b=D.toFixed(3);return y._m(b)}const v={label:"label--e88e2",sm:"sm--9e590",md:"md--c3dc3",lg:"lg--0cbb7"},V=t.memo((({label:p,middleRef:g,size:m})=>{const h=t.useRef(null);return function(p,g,m){const Z=J.i();t.useEffect((()=>{p&&g&&Z&&(g.style.fontSize=W({containerElement:p,textElement:g,minFontSize:10}))}),[p,g,Z,m])}(g.current,h.current,p),Z.jsx("div",{"data-role":"bet-stake-label",ref:h,className:H.A(v.label,v[m]),children:p})}));V.displayName="Label";var z=m(587698);const B={stake:"stake--07c78",sm:"sm--a3cf6",md:"md--a6a1a",lg:"lg--e2e29"},u=t.memo((({middleRef:p,stake:g,currencySymbol:m,size:h})=>{const k=t.useRef(null);(function({containerElement:p,stakeElement:g,currentStake:m,currencySymbol:Z,betStakeSize:H}){const h=J.i();t.useEffect((()=>{p&&g&&h&&function({containerElement:p,amountElement:g,minFontSize:m,currentStake:Z,currencySymbol:H}){g.style.fontSize="";const t=""===H?2:void 0,h=window.getComputedStyle(g),k=document.createElement("div");document.body.appendChild(k),k.style.fontSize=h.fontSize,k.style.fontWeight=h.fontWeight,k.style.whiteSpace="nowrap",k.style.width=h.width,k.style.visibility="hidden",k.textContent=g.textContent,k.style.fontSize=W({containerElement:p,textElement:k,minFontSize:m}),k.scrollWidth-1>p.clientWidth&&(k.textContent=z.ej(Z,{currencySymbol:H,maximumDecimalCount:t}),k.scrollWidth>p.clientWidth&&(k.style.fontSize=W({containerElement:p,textElement:k,minFontSize:m,recalculated:!0}))),g.style.fontSize=k.style.fontSize,g.textContent=k.textContent,document.body.removeChild(k)}({containerElement:p,amountElement:g,minFontSize:"lg"===H||"md"===H?12:11,currentStake:m,currencySymbol:Z})}),[p,Z,m,h,g,H])})({containerElement:p.current,stakeElement:k.current,currencySymbol:m,currentStake:g,betStakeSize:h});const n=t.useMemo((()=>g>=1e6?z.K3(g,m):z.ej(g,{currencySymbol:m})),[g,m]);return Z.jsx("div",{"data-role":"bet-stake-amount",ref:k,className:H.A(B.stake,B[h]),children:n})}));u.displayName="Stake";const a={middle:"middle--cad48",sm:"sm--15882",md:"md--d44ca",lg:"lg--8a8c2",rounded:"rounded--9f5d4",disabled:"disabled--6e31f",active:"active--f1d99",promo:"promo--5390a",callToAction:"callToAction--7c74e",content:"content--5e67f"},F=t.memo((({label:p,state:g,stake:m,currencySymbol:h,rounded:k,onClick:n,theme:S,activated:q,size:D,tooltipProps:I,isSelectorOpen:b})=>{const{onPointerEnter:e,onPointerLeave:N,onPointerUp:Y,tooltipComponent:i,showTooltip:J}=I,y=t.useRef(null),W="disabled"===g,{playSound:v}=d.D();return Z.jsxs("button",{"data-state":g,"data-role":"middle",className:H.A(a.middle,a[D],{[a.rounded]:k,[a.disabled]:W,[a.active]:q,[a.callToAction]:"callToAction"===S,[a.promo]:"promo"===S}),onPointerUp:p=>{"touch"===p.pointerType&&(p.preventDefault(),W&&(null==Y||Y(p))),W?null==J||J():(v(Q.Wo.BetStakeClick),b?$.triggerEvent(w._.BetStakeSelectorCloseRelease):$.triggerEvent(w._.BetStakeSelectorOpenRelease),n())},onPointerEnter:e,onPointerLeave:N,onPointerDown:()=>{W||(b?$.triggerEvent(w._.BetStakeSelectorClosePress):$.triggerEvent(w._.BetStakeSelectorOpenPress))},children:[!!i&&Z.jsx(P,{children:i}),Z.jsxs("div",{ref:y,className:a.content,children:[Z.jsx(V,{label:p,middleRef:y,size:D}),Z.jsx(u,{middleRef:y,currencySymbol:h,stake:m,size:D})]})]})}));F.displayName="Middle";const X=()=>Z.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Z.jsx("path",{d:"M6 9.75H18V14.25H6V9.75Z",fill:"#FEF0CC"})}),K=()=>Z.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Z.jsx("path",{d:"M14.25 9.75V5.25H9.75L9.75 9.75H5.25V14.25H9.75L9.75 18.75H14.25V14.25H18.75V9.75H14.25Z",fill:"#FEF0CC"})}),j={icon:"icon--56dfc",lg:"lg--8473a",button:"button--f8ffa",increase:"increase--b1025",decrease:"decrease--69f2e",disabled:"disabled--3de44",callToAction:"callToAction--3ccc7",promo:"promo--806c4"},r=t.memo((({state:p,onClick:g,type:m,theme:t,size:h,onPointerEnter:k,onPointerLeave:n,showTooltip:S})=>{const{playSound:q}=d.D(),D="disabled"===p,I="decrease"===m?X:K;return Z.jsx("button",{onPointerLeave:n,onPointerEnter:k,"data-state":p,"data-role":`bet-stake-${m}`,className:H.A(j.button,j[m],{[j.disabled]:D,[j.promo]:"promo"===t,[j.callToAction]:"callToAction"===t}),onPointerUp:()=>{if(D)return null==S||S(),q(Q.Wo.BetStakeLimitsReached),void("decrease"===m?$.triggerEvent(w._.BetStakeMinRelease):$.triggerEvent(w._.BetStakeMaxRelease));"decrease"===m?$.triggerEvent(w._.BetStakeDecreaseRelease):$.triggerEvent(w._.BetStakeIncreaseRelease),g()},onPointerDown:()=>{D||("decrease"===m?$.triggerEvent(w._.BetStakeDecreasePress):$.triggerEvent(w._.BetStakeIncreasePress))},children:Z.jsx("span",{className:H.A(j.icon,"lg"===h&&j[h]),children:Z.jsx(I,{})})})}));r.displayName="ActionButton";const U={side:"side--88612",increase:"increase--ba705",decrease:"decrease--dac3e",separatorLine:"separatorLine--5a62c"},C=t.memo((({theme:p,onClick:g,state:m,type:t,size:h,tooltipProps:k})=>{const{tooltipComponent:n,onPointerEnter:S,onPointerLeave:q,onPointerUp:D,showTooltip:I}=k;return Z.jsxs("div",{className:H.A(U.side,U[t]),children:[!!n&&Z.jsx(P,{children:n}),Z.jsx(r,{theme:p,onClick:g,state:m,type:t,size:h,onPointerEnter:S,onPointerLeave:q,onPointerUp:D,showTooltip:I}),Z.jsx("div",{className:H.A(U.separatorLine,U[t])})]})}));C.displayName="SideControl";const x={controls:"controls--2a3b6",ctaPulseKeyframes:"ctaPulseKeyframes--0cd5d",sm:"sm--d3936",hiddenActionButtons:"hiddenActionButtons--542d7",md:"md--b7347",lg:"lg--97295",controlsInner:"controlsInner--97b08"},R=t.memo((({currencySymbol:p,selectedValue:g,middleButtonState:m,decreaseButtonState:t,increaseButtonState:h,label:n,onDecreaseClick:S,onMiddleClick:q,onIncreaseClick:D,isSelectorOpen:I,hideActionButtons:b=!1,theme:e="default",controlsRef:d,withoutBorders:Q=!1,size:$="sm",decreaseButtonTooltipProps:w,middleButtonTooltipProps:Y,increaseButtonTooltipProps:i})=>Z.jsx("div",{className:H.A(x.controls,x[$],{[x.hiddenActionButtons]:b}),ref:d,"data-role":"bet-stake-controls",children:Z.jsx(k,{theme:e,hideBorders:Q,size:$,children:Z.jsxs("div",{className:x.controlsInner,children:[Z.jsx(N,{theme:e}),!b&&Z.jsx(C,{type:"decrease",onClick:S,state:t,theme:e,size:$,tooltipProps:w}),Z.jsx(F,{activated:I,onClick:q,label:n,stake:g,state:m,currencySymbol:p,rounded:b,theme:e,size:$,tooltipProps:Y,isSelectorOpen:I}),!b&&Z.jsx(C,{type:"increase",onClick:D,state:h,theme:e,size:$,tooltipProps:i})]})})})));R.displayName="DefaultControls"},547514:(p,g,m)=>{m.d(g,{P:()=>y});var Z=m(64922),H=m(377810),t=m(346160),h=m(699695),k=m(346838),n=m(843717),S=m(491317),q=m(28230),D=m(25581),I=m(410376);const b="container--e523f",e="titleContainer--9cb00",N="rtl--2dde0",d="icon--df4ba",Q="title--10170",$="content--cc251",w="closeButton--0b14d",Y="scroller--8bcf4",i=({visible:p,onClose:g,titleIcon:m,titleText:t,children:i,isRtl:P,betStakeButtonRef:J,scrollPosition:y,setScrollableRef:W})=>{const{playSound:v}=k.D(),V=H.useRef(null);(function(p,g,m,Z){H.useEffect((()=>{const H=g=>{if(p.current&&(null==Z?void 0:Z.current)){const H=g.target;p.current.contains(H)||Z.current.contains(H)||m()}};if(g)return document.addEventListener("pointerdown",H),()=>{document.removeEventListener("pointerdown",H)}}),[g,Z,p,m])})(V,p,g,J);const z=H.useCallback((()=>{g(),v(n.Wo.ClickUIButton)}),[v,g]),B=Z.jsxs("div",{ref:V,className:b,"data-role":"bet-stake-bubble-content",children:[Z.jsxs("div",{className:h.A(e,{[N]:P}),children:[!!m&&Z.jsx("div",{className:d,"data-role":"betstake-bubble-icon",children:m}),Z.jsx("div",{className:Q,children:t})]}),Z.jsx("div",{className:w,onClick:z,"data-role":"bet-selector-close",children:Z.jsx(S.b,{})}),Z.jsx("div",{className:$,"data-role":"bet-selector-content",children:Z.jsx(D.y,{className:Y,scrollBarBehavior:I.tz.AlwaysHideThumb,hasContentFadeOut:!0,position:y,refCallback:W,children:i})})]});return Z.jsx(q.f,{visible:p,position:"TopCenter",isLandscape:!1,content:B,wrapContent:!1})};var P=m(489186),J=m(607439);const y=H.memo((({children:p,isOpen:g,controlsRef:m,onClose:h,selectedStakeIndex:k,stakesCount:n,currencyCode:S,title:q=t.Tl("betlabel.lowercase")})=>{const D=H.useMemo((()=>S?Z.jsx(P.p,{currencyCode:S}):void 0),[S]),{scrollPosition:I,setScrollableRef:b}=function({itemCount:p,selectedItem:g}){const[m,Z]=H.useState(null),[t,h]=H.useState(0);return H.useLayoutEffect((()=>{if(!m||g<0)return;const Z=m.scrollHeight,H=.5*m.clientHeight,t=100*((g+1)*(Z/p)-H)/(Z-H-H);h(J.A(t,0,100))}),[m,p,g]),{scrollPosition:t,setScrollableRef:Z}}({selectedItem:k,itemCount:n});return Z.jsx(i,{visible:g,onClose:h,titleIcon:D,titleText:q,isRtl:t.sU(),betStakeButtonRef:m,scrollPosition:I,setScrollableRef:b,children:p})}));y.displayName="DefaultDesktopSelector"},50142:(p,g,m)=>{m.d(g,{_:()=>D});var Z=m(64922),H=m(377810),t=m(346160),h=m(827424),k=m(48415),n=m(710928),S=m(894116);function q(p){const{isLargeScreen:g}=h.Qo(k.Q.size.value),{tooltip:m="",tooltipLabel:q="",hideTooltipAfterClick:D=!0,tooltipPositionHorizontal:I=n.hV.Center,tooltipPositionVertical:b=n.Ne.Top,hasAnchor:e=g,tooltipContentRootDivElement:N,onPointerEnter:d,onPointerLeave:Q,onPointerUp:$,tooltipOnTransitionEnd:w,onVisibilityChange:Y,shouldShowImmediately:i=!1}=p,[P,J]=H.useState(!1),[y,W]=H.useState(!0),v=H.useRef(),V=H.useRef(),z=S.o(((p=!0)=>{V.current&&(window.clearTimeout(V.current),V.current=void 0),W(p),J(!1),null==Y||Y(!1)})),B=S.o((()=>{v.current&&(window.clearTimeout(v.current),v.current=void 0),z()})),u=H.useRef(!0),a=S.o((()=>{u.current&&(V.current=window.setTimeout(z,n.p_))})),F=S.o((()=>z()));H.useEffect((()=>()=>{V.current&&window.clearTimeout(V.current),v.current&&window.clearTimeout(v.current),document.removeEventListener("click",B),document.removeEventListener("pointerdown",F)}),[]);const X=S.o(((p=!0,m=!0)=>{P||(u.current=m,J(!0),a(),null==Y||Y(!0),W(p)),g||document.addEventListener("pointerdown",F,{once:!0})})),K=S.o((p=>{"touch"===(null==p?void 0:p.pointerType)&&(X(),null==$||$(p))})),j=S.o((p=>{"touch"!==(null==p?void 0:p.pointerType)&&(g&&D&&document.addEventListener("click",B,{once:!0}),i?X(!0,!1):v.current=window.setTimeout((()=>X(!0,!1)),n.QR),null==d||d(p))})),r=S.o((p=>{"touch"!==(null==p?void 0:p.pointerType)&&(document.removeEventListener("click",B),v.current&&(window.clearTimeout(v.current),v.current=void 0),z(),null==Q||Q(p))}));return H.useMemo((()=>{if(!q&&!m)return{};const p={isVisible:P,label:q||(m?t.Tl(m):""),horizontalPosition:I,verticalPosition:b,onTransitionEnd:w,contentRootDivElement:N,animateTooltip:y,hasAnchor:e};return{tooltipComponent:Z.jsx(n.m_,{...p}),onPointerEnter:j,onPointerLeave:r,onPointerUp:K,showTooltip:X,hideTooltip:z}}),[y,e,z,P,j,r,K,X,m,N,q,w,I,b])}function D({isDecreaseButtonDisabled:p,isMiddleButtonDisabled:g,isIncreaseButtonDisabled:m,decreaseButtonTooltip:Z,increaseButtonTooltip:H,middleButtonTooltip:t}){return{decreaseButtonTooltipProps:q({tooltip:Z,hideTooltipAfterClick:!p}),middleButtonTooltipProps:q({tooltip:t,hideTooltipAfterClick:!g}),increaseButtonTooltipProps:q({tooltip:H,hideTooltipAfterClick:!m})}}},189741:(p,g,m)=>{var Z;m.d(g,{_:()=>Z}),function(p){p["BetStakeSelectorOpenPress"]="BetStakeSelectorOpenPress",p["BetStakeSelectorClosePress"]="BetStakeSelectorClosePress",p["BetStakeSelectorOpenRelease"]="BetStakeSelectorOpenRelease",p["BetStakeSelectorCloseRelease"]="BetStakeSelectorCloseRelease",p["BetStakeIncreasePress"]="BetStakeIncreasePress",p["BetStakeIncreaseRelease"]="BetStakeIncreaseRelease",p["BetStakeDecreasePress"]="BetStakeDecreasePress",p["BetStakeDecreaseRelease"]="BetStakeDecreaseRelease",p["BetStakeMaxRelease"]="BetStakeMaxRelease",p["BetStakeMinRelease"]="BetStakeMinRelease",p["BetStakeListItemPress"]="BetStakeListItemPress",p["BetStakeListItemRelease"]="BetStakeListItemRelease"}(Z||(Z={}))},554267:(p,g,m)=>{var Z;m.d(g,{CX:()=>h,OZ:()=>H,Qz:()=>t,hR:()=>Z}),function(p){p["Normal"]="normal",p["Fast"]="fast",p["Slow"]="slow"}(Z||(Z={}));const H={[Z.Fast]:"fast",[Z.Normal]:"normal",[Z.Slow]:"relax"},t={[Z.Fast]:"fastAllCaps",[Z.Normal]:"normalAllCaps",[Z.Slow]:"relaxAllCaps"},h=[Z.Fast,Z.Normal,Z.Slow];Z.Fast,Z.Normal},636963:(p,g,m)=>{m.d(g,{W:()=>h});var Z=m(64922),H=m(699695);const t={symbol:"symbol--6aa36",ace:"ace--63d65",bronze:"bronze--33c0a",jack:"jack--fc312",king:"king--67fba",letterD:"letterD--e333d",letterI:"letterI--db36d",letterL:"letterL--0e63a",letterW:"letterW--89106",queen:"queen--c4bba",scatter:"scatter--84a75",silver:"silver--c14e4",ten:"ten--e92ee"},h=({symbol:p,className:g})=>p?Z.jsx("div",{className:H.A(t.symbol,t[p],g)}):null},34640:(p,g,m)=>{var Z;m.d(g,{E:()=>H,k:()=>Z}),function(p){p["SilverRibbon"]="silver",p["BronzeRibbon"]="bronze",p["Ace"]="ace",p["King"]="king",p["Queen"]="queen",p["Jack"]="jack",p["Ten"]="ten",p["Scatter"]="scatter",p["LetterW"]="letterW",p["LetterI"]="letterI",p["LetterL"]="letterL",p["LetterD"]="letterD"}(Z||(Z={}));const H={3:Z.SilverRibbon,4:Z.BronzeRibbon,5:Z.Ace,6:Z.King,7:Z.Queen,8:Z.Jack,9:Z.Ten}},545710:(p,g,m)=>{m.d(g,{EJ:()=>H.E,W1:()=>Z.W,_h:()=>t._,kR:()=>H.k});var Z=m(636963),H=m(34640),t=m(710650)},710650:(p,g,m)=>{m.d(g,{_:()=>X});var Z=m(64922),H=m(699695);const t=m.p+"images/cloud0.c31a8031.webp",h=m.p+"images/cloud1.df0da8f4.webp",k=m.p+"images/cloud2.bff0551f.webp",n=m.p+"images/cloud3.59068610.webp",S=m.p+"images/cloud4.735f9da3.webp",q=m.p+"images/cloud5.8f9178e9.webp",D=m.p+"images/cloud6.3d14ee96.webp",I=m.p+"images/cloud7.2edf7eb8.webp",b=m.p+"images/cloud8.401c273f.webp",e=m.p+"images/cloud9.159d98f6.webp",N=m.p+"images/cloudplus.34b86887.webp",d=m.p+"images/cloudx.15017780.webp",Q=m.p+"images/gold0.c10e5ade.webp",$=m.p+"images/gold1.fa145fc9.webp",w=m.p+"images/gold2.f2caed9b.webp",Y=m.p+"images/gold3.875f27fa.webp",i=m.p+"images/gold4.85ba0137.webp",P=m.p+"images/gold5.d84949c8.webp",J=m.p+"images/gold6.e140f131.webp",y=m.p+"images/gold7.05af43db.webp",W=m.p+"images/gold8.aeba2d86.webp",v=m.p+"images/gold9.324e7de6.webp",V=m.p+"images/goldplus.d87eb921.webp",z=m.p+"images/goldx.da5316f2.webp",B={multiplier:"multiplier--f722b"},u={"+":N,0:t,1:h,2:k,3:n,4:S,5:q,6:D,7:I,8:b,9:e,x:d},a={"+":V,0:Q,1:$,2:w,3:Y,4:i,5:P,6:J,7:y,8:W,9:v,x:z},F={x:{marginLeft:"0"}};function X({font:p,text:g,className:m,symbolClassName:t}){const h="cloud"===p?u:a;return g?Z.jsx("span",{className:H.A(B.multiplier,m),children:[...g].map(((p,g)=>Z.jsx("img",{className:t,style:F[p],src:h[p]},g)))}):null}},235874:(p,g,m)=>{m.d(g,{M:()=>k,Y:()=>h});var Z=m(64922),H=m(532836),t=m(33597);const h=({children:p,...g})=>Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:t.A.icon,...g,children:Z.jsx("path",{d:"m15.78 17.31-4.95-4.95 4.95-4.95L14.37 6 8 12.36l6.37 6.36 1.41-1.41Z"})}),k=H.m(h);h.displayName="LeftSVG",k.displayName="Left"},767140:(p,g,m)=>{m.d(g,{Q:()=>I});var Z=m(64922),H=m(699695),t=m(554267),h=m(532836),k=m(33597);const n="M10.5 3.11A10 10 0 0 0 3.34 18h2.42A8 8 0 0 1 10.5 5.14V3.11Zm3 2.03A8 8 0 0 1 18.24 18h2.42A10 10 0 0 0 13.5 3.11v2.03Zm-2.47 10.59c.94.56 2.16.23 2.7-.75.55-.96.23-2.21-.72-2.77C12.07 11.65 7 11 7 11s3.08 4.17 4.03 4.73Z",S="M17.33 4.54c.4.25.8.54 1.16.85l-1.42 1.42a8 8 0 0 0-10.14 0L5.51 5.4a10 10 0 0 1 11.82-.85Zm2.62 9.37a8 8 0 0 1-1.7 4.09h2.41a10 10 0 0 0-.2-10.34L19 9.13a7.98 7.98 0 0 1 .95 4.78ZM4.79 9.54A8 8 0 0 1 5 9.13L3.54 7.66A10 10 0 0 0 3.34 18h2.42a8 8 0 0 1-.97-8.46ZM12 16a2 2 0 1 1 0-4c1.1 0 6 2 6 2s-4.9 2-6 2Z",q="M17.33 4.54c.4.25.8.54 1.16.85l-1.42 1.42a8 8 0 0 0-10.14 0L5.51 5.4a10 10 0 0 1 11.82-.85Zm2.62 9.37a8 8 0 0 1-1.7 4.09h2.41a10 10 0 0 0-.2-10.34L19 9.13a7.98 7.98 0 0 1 .95 4.78ZM4.79 9.54A8 8 0 0 1 5 9.13L3.54 7.66A10 10 0 0 0 3.34 18h2.42a8 8 0 0 1-.97-8.46ZM14 15a2 2 0 1 1-4 0c0-1.1 2-6 2-6s2 4.9 2 6Z";function D({speed:p,speedModeCount:g,className:m,...h}){const D=function(p,g){const m=2===g;switch(p){case t.hR.Slow:return m?n:S;case t.hR.Normal:return m?n:q;case t.hR.Fast:return m?n:S;default:return""}}(p,g),I=2===g&&p===t.hR.Fast||3===g&&p===t.hR.Slow?"scaleX(-1) translateX(-24px)":"scaleX(1) translateX(0)";return Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",className:H.A(k.A.icon,m),"data-role":`speed-icon-${p}`,...h,children:Z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:D,style:{transform:I}})})}const I=h.m(D);D.displayName="SpeedSVG",I.displayName="Speed"},124315:(p,g,m)=>{m.d(g,{i:()=>h});var Z=m(377810);const H=new Set;function t(p){const g=document.fonts.check(p);return g&&!H.has(p)&&H.add(p),g}function h(p="10px / 12px Inter",...g){const m=[p,...g].filter(Boolean),h=m.join(),[k,n]=Z.useState((()=>m.every((p=>t(p)))));return Z.useEffect((()=>{const p=m.filter((p=>!t(p)));0!==p.length?Promise.all(p.map((async p=>await async function(p){const g=!!(await document.fonts.load(p))[0];return g&&H.add(p),g}(p)))).then((p=>{const g=p.every((p=>p));n(g)})):n(!0)}),[h]),k}},322517:(p,g,m)=>{p.exports=m.p+"images/xxxtremehe.7788538b.webp"},845102:(p,g,m)=>{p.exports=m.p+"images/bonusspark.decc33a2.webp"},669316:(p,g,m)=>{p.exports=m.p+"fonts/winmessage.aba8ecca.woff2"},79641:(p,g,m)=>{p.exports=m.p+"data/bonusspark.6296d43c.json"},803756:(p,g,m)=>{p.exports=m.p+"data/nearwin.8f6ff35c.json"},242634:()=>{},301654:p=>{p.exports=function(p){return p&&p.__esModule?p:{default:p}},p.exports.__esModule=!0,p.exports["default"]=p.exports},974486:(p,g,m)=>{m.d(g,{A:()=>H,b:()=>Z});var Z=m(686418);const H=Z},444792:(p,g,m)=>{m.d(g,{A:()=>h});var Z=m(156568),H=m(258214),t="[object Boolean]";const h=function(p){return!0===p||!1===p||H.A(p)&&Z.A(p)==t}},974800:(p,g,m)=>{m.d(g,{bJ:()=>d});var Z=m(179993),H=m(153551),t=m(282033),h=m(316197),k=m(110715),n=m(672076),S=m(209218),q=m(366628),D=m(524065);const I=[0,0,0];class b extends n.k{constructor(){super(...arguments),this.region=null,this.attachment=null}}class e extends S.g{constructor(p,g,m,Z,H){super(p,g,m,Z,H),this.region=null,this.attachment=null}}const N=class extends k.mc{constructor(p){if(super(),!p)throw new Error("The spineData param is required.");if("string"==typeof p)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');this.spineData=p,this.createSkeleton(p),this.slotContainers=[],this.tempClipContainers=[];for(let p=0,g=this.skeleton.slots.length;p<g;p++){const g=this.skeleton.slots[p],m=g.getAttachment(),H=this.newContainer();if(this.slotContainers.push(H),this.addChild(H),this.tempClipContainers.push(null),m)if(m.type===Z.w.Region){const p=m.name,Z=this.createSprite(g,m,p);g.currentSprite=Z,g.currentSpriteName=p,H.addChild(Z)}else if(m.type===Z.w.Mesh){const p=this.createMesh(g,m);g.currentMesh=p,g.currentMeshId=m.id,g.currentMeshName=m.name,H.addChild(p)}else m.type===Z.w.Clipping&&(this.createGraphics(g,m),H.addChild(g.clippingContainer),H.addChild(g.currentGraphics))}this.tintRgb=new Float32Array([1,1,1]),this.autoUpdate=!0,this.visible=!0}get debug(){return this._debug}set debug(p){var g;p!=this._debug&&(null===(g=this._debug)||void 0===g||g.unregisterSpine(this),null==p||p.registerSpine(this),this._debug=p)}get autoUpdate(){return this._autoUpdate}set autoUpdate(p){p!==this._autoUpdate&&(this._autoUpdate=p,this.updateTransform=p?N.prototype.autoUpdateTransform:k.mc.prototype.updateTransform)}get tint(){return h.Wp.rgb2hex(this.tintRgb)}set tint(p){this.tintRgb=h.Wp.hex2rgb(p,this.tintRgb)}get delayLimit(){return(void 0!==this.localDelayLimit?this.localDelayLimit:D.W.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE}update(p){var g;const m=this.delayLimit;if(p>m&&(p=m),this.state.update(p),this.state.apply(this.skeleton),!this.skeleton)return;this.skeleton.updateWorldTransform();const H=this.skeleton.slots,t=this.color;let k=null,n=null;t?(k=t.light,n=t.dark):k=this.tintRgb;for(let p=0,g=H.length;p<g;p++){const g=H[p],m=g.getAttachment(),t=this.slotContainers[p];if(!m){t.visible=!1;continue}let S=null;m.sequence&&m.sequence.apply(g,m);let q=m.region;const D=m.color;switch(null!=m&&m.type){case Z.w.Region:if(t.transform.setFromMatrix(g.bone.matrix),q=m.region,g.currentMesh&&(g.currentMesh.visible=!1,g.currentMesh=null,g.currentMeshId=void 0,g.currentMeshName=void 0),!q){g.currentSprite&&(g.currentSprite.renderable=!1);break}if(!g.currentSpriteName||g.currentSpriteName!==m.name){const p=m.name;if(g.currentSprite&&(g.currentSprite.visible=!1),g.sprites=g.sprites||{},void 0!==g.sprites[p])g.sprites[p].visible=!0;else{const Z=this.createSprite(g,m,p);t.addChild(Z)}g.currentSprite=g.sprites[p],g.currentSpriteName=p}g.currentSprite.renderable=!0,g.hackRegion||this.setSpriteRegion(m,g.currentSprite,q),g.currentSprite.color?S=g.currentSprite.color:(I[0]=k[0]*g.color.r*D.r,I[1]=k[1]*g.color.g*D.g,I[2]=k[2]*g.color.b*D.b,g.currentSprite.tint=h.Wp.rgb2hex(I)),g.currentSprite.blendMode=g.blendMode;break;case Z.w.Mesh:if(g.currentSprite){g.currentSprite.visible=!1,g.currentSprite=null,g.currentSpriteName=void 0;const p=new h.dL;p._parentID=-1,p._worldID=t.transform._worldID,t.transform=p}if(!q){g.currentMesh&&(g.currentMesh.renderable=!1);break}const p=m.id;if(void 0===g.currentMeshId||g.currentMeshId!==p){const Z=p;if(g.currentMesh&&(g.currentMesh.visible=!1),g.meshes=g.meshes||{},void 0!==g.meshes[Z])g.meshes[Z].visible=!0;else{const p=this.createMesh(g,m);t.addChild(p)}g.currentMesh=g.meshes[Z],g.currentMeshName=m.name,g.currentMeshId=Z}g.currentMesh.renderable=!0,m.computeWorldVerticesOld(g,g.currentMesh.vertices),g.currentMesh.color?S=g.currentMesh.color:(I[0]=k[0]*g.color.r*D.r,I[1]=k[1]*g.color.g*D.g,I[2]=k[2]*g.color.b*D.b,g.currentMesh.tint=h.Wp.rgb2hex(I)),g.currentMesh.blendMode=g.blendMode,g.hackRegion||this.setMeshRegion(m,g.currentMesh,q);break;case Z.w.Clipping:g.currentGraphics||(this.createGraphics(g,m),t.addChild(g.clippingContainer),t.addChild(g.currentGraphics)),this.updateGraphics(g,m),t.alpha=1,t.visible=!0;continue;default:t.visible=!1;continue}if(t.visible=!0,S){let p=g.color.r*D.r,m=g.color.g*D.g,Z=g.color.b*D.b;S.setLight(k[0]*p+n[0]*(1-p),k[1]*m+n[1]*(1-m),k[2]*Z+n[2]*(1-Z)),g.darkColor?(p=g.darkColor.r,m=g.darkColor.g,Z=g.darkColor.b):(p=0,m=0,Z=0),S.setDark(k[0]*p+n[0]*(1-p),k[1]*m+n[1]*(1-m),k[2]*Z+n[2]*(1-Z))}t.alpha=g.color.a}const S=this.skeleton.drawOrder;let q=null,D=null;for(let p=0,g=S.length;p<g;p++){const g=H[S[p].data.index],m=this.slotContainers[S[p].data.index];if(D||null!==m.parent&&m.parent!==this&&(m.parent.removeChild(m),m.parent=this),g.currentGraphics&&g.getAttachment())D=g.clippingContainer,q=g.getAttachment(),D.children.length=0,this.children[p]=m,q.endSlot===g.data&&(q.endSlot=null);else if(D){let Z=this.tempClipContainers[p];Z||(Z=this.tempClipContainers[p]=this.newContainer(),Z.visible=!1),this.children[p]=Z,m.parent=null,D.addChild(m),q.endSlot==g.data&&(D.renderable=!0,D=null,q=null)}else this.children[p]=m}null===(g=this._debug)||void 0===g||g.renderDebug(this)}setSpriteRegion(p,g,m){g.attachment===p&&g.region===m||(g.region=m,g.attachment=p,g.texture=m.texture,g.rotation=p.rotation*t.cj.degRad,g.position.x=p.x,g.position.y=p.y,g.alpha=p.color.a,m.size?(g.scale.x=m.size.width/m.originalWidth,g.scale.y=-m.size.height/m.originalHeight):(g.scale.x=p.scaleX*p.width/m.originalWidth,g.scale.y=-p.scaleY*p.height/m.originalHeight))}setMeshRegion(p,g,m){g.attachment===p&&g.region===m||(g.region=m,g.attachment=p,g.texture=m.texture,m.texture.updateUvs(),g.uvBuffer.update(p.regionUVs))}autoUpdateTransform(){if(D.W.GLOBAL_AUTO_UPDATE){this.lastTime=this.lastTime||Date.now();const p=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(p)}else this.lastTime=0;k.mc.prototype.updateTransform.call(this)}createSprite(p,g,m){let Z=g.region;p.hackAttachment===g&&(Z=p.hackRegion);const H=Z?Z.texture:null,t=this.newSprite(H);return t.anchor.set(.5),Z&&this.setSpriteRegion(g,t,g.region),p.sprites=p.sprites||{},p.sprites[m]=t,t}createMesh(p,g){let m=g.region;p.hackAttachment===g&&(m=p.hackRegion,p.hackAttachment=null,p.hackRegion=null);const Z=this.newMesh(m?m.texture:null,new Float32Array(g.regionUVs.length),g.regionUVs,new Uint16Array(g.triangles),h._4.TRIANGLES);return void 0!==Z._canvasPadding&&(Z._canvasPadding=1.5),Z.alpha=g.color.a,Z.region=g.region,m&&this.setMeshRegion(g,Z,m),p.meshes=p.meshes||{},p.meshes[g.id]=Z,Z}createGraphics(p,g){const m=this.newGraphics(),Z=new h.tS([]);return m.clear(),m.beginFill(16777215,1),m.drawPolygon(Z),m.renderable=!1,p.currentGraphics=m,p.clippingContainer=this.newContainer(),p.clippingContainer.mask=p.currentGraphics,m}updateGraphics(p,g){const m=p.currentGraphics.geometry,Z=m.graphicsData[0].shape.points,H=g.worldVerticesLength;Z.length=H,g.computeWorldVertices(p,0,H,Z,0,2),m.invalidate()}hackTextureBySlotIndex(p,g=null,m=null){const Z=this.skeleton.slots[p];if(!Z)return!1;const t=Z.getAttachment();let h=t.region;return g?(h=new H.QL,h.texture=g,h.size=m,Z.hackRegion=h,Z.hackAttachment=t):(Z.hackRegion=null,Z.hackAttachment=null),Z.currentSprite?this.setSpriteRegion(t,Z.currentSprite,h):Z.currentMesh&&this.setMeshRegion(t,Z.currentMesh,h),!0}hackTextureBySlotName(p,g=null,m=null){const Z=this.skeleton.findSlotIndex(p);return-1!=Z&&this.hackTextureBySlotIndex(Z,g,m)}hackTextureAttachment(p,g,m,Z=null){const t=this.skeleton.findSlotIndex(p),h=this.skeleton.getAttachmentByName(p,g);h.region.texture=m;const k=this.skeleton.slots[t];if(!k)return!1;const n=k.getAttachment();if(g===n.name){let p=h.region;return m?(p=new H.QL,p.texture=m,p.size=Z,k.hackRegion=p,k.hackAttachment=n):(k.hackRegion=null,k.hackAttachment=null),k.currentSprite&&k.currentSprite.region!=p?(this.setSpriteRegion(n,k.currentSprite,p),k.currentSprite.region=p):k.currentMesh&&k.currentMesh.region!=p&&this.setMeshRegion(n,k.currentMesh,p),!0}return!1}newContainer(){return new k.mc}newSprite(p){return new b(p)}newGraphics(){return new q.A1}newMesh(p,g,m,Z,H){return new e(p,g,m,Z,H)}transformHack(){return 1}hackAttachmentGroups(p,g,m){if(!p)return;const Z=[],H=[];for(let t=0,h=this.skeleton.slots.length;t<h;t++){const h=this.skeleton.slots[t],k=h.currentSpriteName||h.currentMeshName||"",n=h.currentSprite||h.currentMesh;k.endsWith(p)?(n.parentGroup=g,H.push(n)):m&&n&&(n.parentGroup=m,Z.push(n))}return[Z,H]}destroy(p){this.debug=null;for(let g=0,m=this.skeleton.slots.length;g<m;g++){const m=this.skeleton.slots[g];for(const g in m.meshes)m.meshes[g].destroy(p);m.meshes=null;for(const g in m.sprites)m.sprites[g].destroy(p);m.sprites=null}for(let g=0,m=this.slotContainers.length;g<m;g++)this.slotContainers[g].destroy(p);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,super.destroy(p)}};let d=N;d.clippingPolygon=[],Object.defineProperty(d.prototype,"visible",{get(){return this._visible},set(p){p!==this._visible&&(this._visible=p,p&&(this.lastTime=0))}})},486145:(p,g,m)=>{m(110715),m(366628),m(179993),m(829811)},179993:(p,g,m)=>{m.d(g,{w:()=>Z});var Z=(p=>(p[p["Region"]=0]="Region",p[p["BoundingBox"]=1]="BoundingBox",p[p["Mesh"]=2]="Mesh",p[p["LinkedMesh"]=3]="LinkedMesh",p[p["Path"]=4]="Path",p[p["Point"]=5]="Point",p[p["Clipping"]=6]="Clipping",p))(Z||{})},707847:(p,g,m)=>{m.d(g,{a:()=>Z});class Z{constructor(p,g=new Array,m=0,Z=new DataView(p.buffer)){this.strings=g,this.index=m,this.buffer=Z}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){const p=this.buffer.getInt16(this.index);return this.index+=2,p}readInt32(){const p=this.buffer.getInt32(this.index);return this.index+=4,p}readInt(p){let g=this.readByte(),m=127&g;return 128&g&&(g=this.readByte(),m|=(127&g)<<7,128&g&&(g=this.readByte(),m|=(127&g)<<14,128&g&&(g=this.readByte(),m|=(127&g)<<21,128&g&&(g=this.readByte(),m|=(127&g)<<28)))),p?m:m>>>1^-(1&m)}readStringRef(){const p=this.readInt(!0);return 0==p?null:this.strings[p-1]}readString(){let p=this.readInt(!0);switch(p){case 0:return null;case 1:return""}p--;let g="";for(let m=0;m<p;){const p=this.readUnsignedByte();switch(p>>4){case 12:case 13:g+=String.fromCharCode((31&p)<<6|63&this.readByte()),m+=2;break;case 14:g+=String.fromCharCode((15&p)<<12|(63&this.readByte())<<6|63&this.readByte()),m+=3;break;default:g+=String.fromCharCode(p),m++}}return g}readFloat(){const p=this.buffer.getFloat32(this.index);return this.index+=4,p}readBoolean(){return 0!=this.readByte()}}},873295:(p,g,m)=>{m.d(g,{m:()=>H,q:()=>Z});var Z=(p=>(p[p["setup"]=0]="setup",p[p["first"]=1]="first",p[p["replace"]=2]="replace",p[p["add"]=3]="add",p))(Z||{}),H=(p=>(p[p["mixIn"]=0]="mixIn",p[p["mixOut"]=1]="mixOut",p))(H||{})},10302:(p,g,m)=>{m.d(g,{D:()=>H,p:()=>Z});var Z=(p=>(p[p["Fixed"]=0]="Fixed",p[p["Percent"]=1]="Percent",p))(Z||{}),H=(p=>(p[p["Tangent"]=0]="Tangent",p[p["Chain"]=1]="Chain",p[p["ChainScale"]=2]="ChainScale",p))(H||{})},671218:(p,g,m)=>{m.d(g,{_:()=>Z});var Z=(p=>(p[p["Normal"]=0]="Normal",p[p["OnlyTranslation"]=1]="OnlyTranslation",p[p["NoRotationOrReflection"]=2]="NoRotationOrReflection",p[p["NoScale"]=3]="NoScale",p[p["NoScaleOrReflection"]=4]="NoScaleOrReflection",p))(Z||{})},829811:(p,g,m)=>{m.d(g,{S:()=>t});var Z=m(179993),H=m(282033);class t{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new H.bC((()=>H.Aq.newFloatArray(16)))}update(p,g){if(!p)throw new Error("skeleton cannot be null.");const m=this.boundingBoxes,t=this.polygons,h=this.polygonPool,k=p.slots,n=k.length;m.length=0,h.freeAll(t),t.length=0;for(let p=0;p<n;p++){const g=k[p];if(!g.bone.active)continue;const n=g.getAttachment();if(null!=n&&n.type===Z.w.BoundingBox){const p=n;m.push(p);let Z=h.obtain();Z.length!=p.worldVerticesLength&&(Z=H.Aq.newFloatArray(p.worldVerticesLength)),t.push(Z),p.computeWorldVertices(g,0,p.worldVerticesLength,Z,0,2)}}g?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let p=Number.POSITIVE_INFINITY,g=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY;const H=this.polygons;for(let t=0,h=H.length;t<h;t++){const h=H[t],k=h;for(let H=0,t=h.length;H<t;H+=2){const t=k[H],h=k[H+1];p=Math.min(p,t),g=Math.min(g,h),m=Math.max(m,t),Z=Math.max(Z,h)}}this.minX=p,this.minY=g,this.maxX=m,this.maxY=Z}aabbContainsPoint(p,g){return p>=this.minX&&p<=this.maxX&&g>=this.minY&&g<=this.maxY}aabbIntersectsSegment(p,g,m,Z){const H=this.minX,t=this.minY,h=this.maxX,k=this.maxY;if(p<=H&&m<=H||g<=t&&Z<=t||p>=h&&m>=h||g>=k&&Z>=k)return!1;const n=(Z-g)/(m-p);let S=n*(H-p)+g;if(S>t&&S<k)return!0;if(S=n*(h-p)+g,S>t&&S<k)return!0;let q=(t-g)/n+p;return q>H&&q<h||(q=(k-g)/n+p,q>H&&q<h)}aabbIntersectsSkeleton(p){return this.minX<p.maxX&&this.maxX>p.minX&&this.minY<p.maxY&&this.maxY>p.minY}containsPoint(p,g){const m=this.polygons;for(let Z=0,H=m.length;Z<H;Z++)if(this.containsPointPolygon(m[Z],p,g))return this.boundingBoxes[Z];return null}containsPointPolygon(p,g,m){const Z=p,H=p.length;let t=H-2,h=!1;for(let p=0;p<H;p+=2){const H=Z[p+1],k=Z[t+1];if(H<m&&k>=m||k<m&&H>=m){const n=Z[p];n+(m-H)/(k-H)*(Z[t]-n)<g&&(h=!h)}t=p}return h}intersectsSegment(p,g,m,Z){const H=this.polygons;for(let t=0,h=H.length;t<h;t++)if(this.intersectsSegmentPolygon(H[t],p,g,m,Z))return this.boundingBoxes[t];return null}intersectsSegmentPolygon(p,g,m,Z,H){const t=p,h=p.length,k=g-Z,n=m-H,S=g*H-m*Z;let q=t[h-2],D=t[h-1];for(let p=0;p<h;p+=2){const h=t[p],I=t[p+1],b=q*I-D*h,e=q-h,N=D-I,d=k*N-n*e,Q=(S*e-k*b)/d;if((Q>=q&&Q<=h||Q>=h&&Q<=q)&&(Q>=g&&Q<=Z||Q>=Z&&Q<=g)){const p=(S*N-n*b)/d;if((p>=D&&p<=I||p>=I&&p<=D)&&(p>=m&&p<=H||p>=H&&p<=m))return!0}q=h,D=I}return!1}getPolygon(p){if(!p)throw new Error("boundingBox cannot be null.");const g=this.boundingBoxes.indexOf(p);return-1==g?null:this.polygons[g]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}},880376:(p,g,m)=>{m.d(g,{Lw:()=>h});var Z=m(316197),H=m(153551);class t{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}}class h{constructor(p,g,m){this.pages=new Array,this.regions=new Array,p&&this.addSpineAtlas(p,g,m)}addTexture(p,g){const m=this.pages;let Z=null;for(let p=0;p<m.length;p++)if(m[p].baseTexture===g.baseTexture){Z=m[p];break}if(null===Z){Z=new n,Z.name="texturePage";const p=g.baseTexture;Z.width=p.realWidth,Z.height=p.realHeight,Z.baseTexture=p,Z.minFilter=Z.magFilter=H.O$.Nearest,Z.uWrap=H.w3.ClampToEdge,Z.vWrap=H.w3.ClampToEdge,m.push(Z)}const t=new S;return t.name=p,t.page=Z,t.texture=g,t.index=-1,this.regions.push(t),t}addTextureHash(p,g){for(const m in p)p.hasOwnProperty(m)&&this.addTexture(g&&-1!==m.indexOf(".")?m.substr(0,m.lastIndexOf(".")):m,p[m])}addSpineAtlas(p,g,m){return this.load(p,g,m)}load(p,g,m){if(null==g)throw new Error("textureLoader cannot be null.");const h=new k(p),q=new Array(4);let D=null;const I={};let b=null;I.size=()=>{D.width=parseInt(q[1]),D.height=parseInt(q[2])},I.format=()=>{},I.filter=()=>{D.minFilter=H.ki(q[1]),D.magFilter=H.ki(q[2])},I.repeat=()=>{-1!=q[1].indexOf("x")&&(D.uWrap=H.w3.Repeat),-1!=q[1].indexOf("y")&&(D.vWrap=H.w3.Repeat)},I.pma=()=>{D.pma="true"==q[1]};const e={xy:()=>{b.x=parseInt(q[1]),b.y=parseInt(q[2])},size:()=>{b.width=parseInt(q[1]),b.height=parseInt(q[2])},bounds:()=>{b.x=parseInt(q[1]),b.y=parseInt(q[2]),b.width=parseInt(q[3]),b.height=parseInt(q[4])},offset:()=>{b.offsetX=parseInt(q[1]),b.offsetY=parseInt(q[2])},orig:()=>{b.originalWidth=parseInt(q[1]),b.originalHeight=parseInt(q[2])},offsets:()=>{b.offsetX=parseInt(q[1]),b.offsetY=parseInt(q[2]),b.originalWidth=parseInt(q[3]),b.originalHeight=parseInt(q[4])},rotate:()=>{const p=q[1];let g=0;g="true"==p.toLocaleLowerCase()?6:"false"==p.toLocaleLowerCase()?0:(720-parseFloat(p))%360/45,b.rotate=g},index:()=>{b.index=parseInt(q[1])}};let N=h.readLine();for(;null!=N&&0==N.trim().length;)N=h.readLine();for(;1&&null!=N&&0!=N.trim().length&&0!=h.readEntry(q,N);)N=h.readLine();const d=()=>{for(;1;){if(null==N)return m&&m(this);if(0==N.trim().length)D=null,N=h.readLine();else{if(null===D){for(D=new n,D.name=N.trim();1&&0!=h.readEntry(q,N=h.readLine());){const p=I[q[0]];p&&p()}this.pages.push(D),g(D.name,(p=>{if(null===p)return this.pages.splice(this.pages.indexOf(D),1),m&&m(null);D.baseTexture=p,D.pma&&(p.alphaMode=Z.Gk.PMA),p.valid||p.setSize(D.width,D.height),D.setFilters(),D.width&&D.height||(D.width=p.realWidth,D.height=p.realHeight,D.width&&D.height||console.log(`ERROR spine atlas page ${D.name}: meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)`)),d()}));break}{b=new t;const p=new S;p.name=N,p.page=D;let g=null,m=null;for(;1;){const p=h.readEntry(q,N=h.readLine());if(0==p)break;const Z=e[q[0]];if(Z)Z();else{null==g&&(g=[],m=[]),g.push(q[0]);const Z=[];for(let g=0;g<p;g++)Z.push(parseInt(q[g+1]));m.push(Z)}}0==b.originalWidth&&0==b.originalHeight&&(b.originalWidth=b.width,b.originalHeight=b.height);const H=D.baseTexture.resolution;b.x/=H,b.y/=H,b.width/=H,b.height/=H,b.originalWidth/=H,b.originalHeight/=H,b.offsetX/=H,b.offsetY/=H;const k=b.rotate%4!=0,n=new Z.M_(b.x,b.y,k?b.height:b.width,k?b.width:b.height),I=new Z.M_(0,0,b.originalWidth,b.originalHeight),d=new Z.M_(b.offsetX,b.originalHeight-b.height-b.offsetY,b.width,b.height);p.texture=new Z.gP(p.page.baseTexture,n,I,d,b.rotate),p.index=b.index,p.texture.updateUvs(),this.regions.push(p)}}}};d()}findRegion(p){for(let g=0;g<this.regions.length;g++)if(this.regions[g].name==p)return this.regions[g];return null}dispose(){for(let p=0;p<this.pages.length;p++)this.pages[p].baseTexture.dispose()}}class k{constructor(p){this.index=0,this.lines=p.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(p,g){if(null==g)return 0;if(0==(g=g.trim()).length)return 0;if(g.startsWith("http")||g.startsWith("data:"))return 0;const m=g.indexOf(":");if(-1==m)return 0;p[0]=g.substr(0,m).trim();for(let Z=1,H=m+1;;Z++){const m=g.indexOf(",",H);if(-1==m)return p[Z]=g.substr(H).trim(),Z;if(p[Z]=g.substr(H,m-H).trim(),H=m+1,4==Z)return 4}}}class n{constructor(){this.minFilter=H.O$.Nearest,this.magFilter=H.O$.Nearest,this.uWrap=H.w3.ClampToEdge,this.vWrap=H.w3.ClampToEdge}setFilters(){const p=this.baseTexture,g=this.minFilter;g==H.O$.Linear?p.scaleMode=Z.M6.LINEAR:this.minFilter==H.O$.Nearest?p.scaleMode=Z.M6.NEAREST:(p.mipmap=Z.E8.POW2,g==H.O$.MipMapNearestNearest?p.scaleMode=Z.M6.NEAREST:p.scaleMode=Z.M6.LINEAR)}}class S extends H.QL{}},153551:(p,g,m)=>{function Z(p){switch(p.toLowerCase()){case"nearest":return H.Nearest;case"linear":return H.Linear;case"mipmap":return H.MipMap;case"mipmapnearestnearest":return H.MipMapNearestNearest;case"mipmaplinearnearest":return H.MipMapLinearNearest;case"mipmapnearestlinear":return H.MipMapNearestLinear;case"mipmaplinearlinear":return H.MipMapLinearLinear;default:throw new Error(`Unknown texture filter ${p}`)}}m.d(g,{O$:()=>H,QL:()=>h,ki:()=>Z,w3:()=>t});var H=(p=>(p[p["Nearest"]=9728]="Nearest",p[p["Linear"]=9729]="Linear",p[p["MipMap"]=9987]="MipMap",p[p["MipMapNearestNearest"]=9984]="MipMapNearestNearest",p[p["MipMapLinearNearest"]=9985]="MipMapLinearNearest",p[p["MipMapNearestLinear"]=9986]="MipMapNearestLinear",p[p["MipMapLinearLinear"]=9987]="MipMapLinearLinear",p))(H||{}),t=(p=>(p[p["MirroredRepeat"]=33648]="MirroredRepeat",p[p["ClampToEdge"]=33071]="ClampToEdge",p[p["Repeat"]=10497]="Repeat",p))(t||{});class h{constructor(){this.size=null,this.names=null,this.values=null,this.renderObject=null}get width(){const p=this.texture;return p.trim?p.trim.width:p.orig.width}get height(){const p=this.texture;return p.trim?p.trim.height:p.orig.height}get u(){return this.texture._uvs.x0}get v(){return this.texture._uvs.y0}get u2(){return this.texture._uvs.x2}get v2(){return this.texture._uvs.y2}get offsetX(){const p=this.texture;return p.trim?p.trim.x:0}get offsetY(){return this.spineOffsetY}get pixiOffsetY(){const p=this.texture;return p.trim?p.trim.y:0}get spineOffsetY(){const p=this.texture;return this.originalHeight-this.height-(p.trim?p.trim.y:0)}get originalWidth(){return this.texture.orig.width}get originalHeight(){return this.texture.orig.height}get x(){return this.texture.frame.x}get y(){return this.texture.frame.y}get rotate(){return 0!==this.texture.rotate}get degrees(){return(360-45*this.texture.rotate)%360}}},282033:(p,g,m)=>{m.d(g,{Aq:()=>b,Ff:()=>D,I9:()=>N,ON:()=>Z,Q1:()=>h,bC:()=>e,cj:()=>n,eE:()=>H});class Z{constructor(){this.array=new Array}add(p){const g=this.contains(p);return this.array[0|p]=0|p,!g}contains(p){return null!=this.array[0|p]}remove(p){this.array[0|p]=void 0}clear(){this.array.length=0}}class H{constructor(){this.entries={},this.size=0}add(p){const g=this.entries[p];return this.entries[p]=!0,!g&&(this.size++,!0)}addAll(p){const g=this.size;for(let g=0,m=p.length;g<m;g++)this.add(p[g]);return g!=this.size}contains(p){return this.entries[p]}clear(){this.entries={},this.size=0}}const t=class{constructor(p=0,g=0,m=0,Z=0){this.r=p,this.g=g,this.b=m,this.a=Z}set(p,g,m,Z){return this.r=p,this.g=g,this.b=m,this.a=Z,this.clamp()}setFromColor(p){return this.r=p.r,this.g=p.g,this.b=p.b,this.a=p.a,this}setFromString(p){return p="#"==p.charAt(0)?p.substr(1):p,this.r=parseInt(p.substr(0,2),16)/255,this.g=parseInt(p.substr(2,2),16)/255,this.b=parseInt(p.substr(4,2),16)/255,this.a=8!=p.length?1:parseInt(p.substr(6,2),16)/255,this}add(p,g,m,Z){return this.r+=p,this.g+=g,this.b+=m,this.a+=Z,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(p,g){p.r=((4278190080&g)>>>24)/255,p.g=((16711680&g)>>>16)/255,p.b=((65280&g)>>>8)/255,p.a=(255&g)/255}static rgb888ToColor(p,g){p.r=((16711680&g)>>>16)/255,p.g=((65280&g)>>>8)/255,p.b=(255&g)/255}static fromString(p){return(new t).setFromString(p)}};let h=t;h.WHITE=new t(1,1,1,1),h.RED=new t(1,0,0,1),h.GREEN=new t(0,1,0,1),h.BLUE=new t(0,0,1,1),h.MAGENTA=new t(1,0,1,1);const k=class{static clamp(p,g,m){return p<g?g:p>m?m:p}static cosDeg(p){return Math.cos(p*k.degRad)}static sinDeg(p){return Math.sin(p*k.degRad)}static signum(p){return Math.sign(p)}static toInt(p){return p>0?Math.floor(p):Math.ceil(p)}static cbrt(p){const g=Math.pow(Math.abs(p),1/3);return p<0?-g:g}static randomTriangular(p,g){return k.randomTriangularWith(p,g,.5*(p+g))}static randomTriangularWith(p,g,m){const Z=Math.random(),H=g-p;return Z<=(m-p)/H?p+Math.sqrt(Z*H*(m-p)):g-Math.sqrt((1-Z)*H*(g-m))}static isPowerOfTwo(p){return p&&!(p&p-1)}};let n=k;n.PI=3.1415927,n.PI2=2*k.PI,n.radiansToDegrees=180/k.PI,n.radDeg=k.radiansToDegrees,n.degreesToRadians=k.PI/180,n.degRad=k.degreesToRadians;class S{apply(p,g,m){return p+(g-p)*this.applyInternal(m)}}class q extends S{constructor(p){super(),this.power=2,this.power=p}applyInternal(p){return p<=.5?Math.pow(2*p,this.power)/2:Math.pow(2*(p-1),this.power)/(this.power%2==0?-2:2)+1}}class D extends q{applyInternal(p){return Math.pow(p-1,this.power)*(this.power%2==0?-1:1)+1}}const I=class{static arrayCopy(p,g,m,Z,H){for(let t=g,h=Z;t<g+H;t++,h++)m[h]=p[t]}static arrayFill(p,g,m,Z){for(let H=g;H<m;H++)p[H]=Z}static setArraySize(p,g,m=0){const Z=p.length;if(Z==g)return p;if(p.length=g,Z<g)for(let H=Z;H<g;H++)p[H]=m;return p}static ensureArrayCapacity(p,g,m=0){return p.length>=g?p:I.setArraySize(p,g,m)}static newArray(p,g){const m=new Array(p);for(let Z=0;Z<p;Z++)m[Z]=g;return m}static newFloatArray(p){if(I.SUPPORTS_TYPED_ARRAYS)return new Float32Array(p);const g=new Array(p);for(let p=0;p<g.length;p++)g[p]=0;return g}static newShortArray(p){if(I.SUPPORTS_TYPED_ARRAYS)return new Int16Array(p);const g=new Array(p);for(let p=0;p<g.length;p++)g[p]=0;return g}static toFloatArray(p){return I.SUPPORTS_TYPED_ARRAYS?new Float32Array(p):p}static toSinglePrecision(p){return I.SUPPORTS_TYPED_ARRAYS?Math.fround(p):p}static webkit602BugfixHelper(p,g){}static contains(p,g,m=!0){for(let m=0;m<p.length;m++)if(p[m]==g)return!0;return!1}static enumValue(p,g){return p[g[0].toUpperCase()+g.slice(1)]}};let b=I;b.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array;class e{constructor(p){this.items=new Array,this.instantiator=p}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(p){p.reset&&p.reset(),this.items.push(p)}freeAll(p){for(let g=0;g<p.length;g++)this.free(p[g])}clear(){this.items.length=0}}class N{constructor(p=0,g=0){this.x=p,this.y=g}set(p,g){return this.x=p,this.y=g,this}length(){const p=this.x,g=this.y;return Math.sqrt(p*p+g*g)}normalize(){const p=this.length();return 0!=p&&(this.x/=p,this.y/=p),this}}},367866:(p,g,m)=>{m.d(g,{Aq:()=>S.Aq,Dr:()=>h.D,Ff:()=>S.Ff,I9:()=>S.I9,Lw:()=>n.Lw,ON:()=>S.ON,Q1:()=>S.Q1,S3:()=>q.S,W0:()=>D.W,_C:()=>k._,aG:()=>H.a,bC:()=>S.bC,bJ:()=>I.bJ,cj:()=>S.cj,eE:()=>S.eE,mj:()=>t.m,pw:()=>h.p,qU:()=>t.q,wh:()=>Z.w});var Z=m(179993),H=m(707847),t=m(873295),h=m(10302),k=m(671218),n=m(880376),S=(m(153551),m(282033)),q=m(829811),D=m(524065),I=m(974800);m(486145)},524065:(p,g,m)=>{m.d(g,{W:()=>Z});const Z={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0}},760746:(p,g,m)=>{m.d(g,{b:()=>n});var Z=m(367866),H=m(557108),t=m(316197),h=m(975432);function k(p){return p.hasOwnProperty("bones")}class n{constructor(){}installLoader(){const p=this,g={extension:t.Ag.Asset,loader:{extension:{type:t.Ag.LoadParser,priority:H.T9.Normal},test:p=>H.WO(p,".skel"),async load(p){const g=await t.W0.ADAPTER.fetch(p);return await g.arrayBuffer()},testParse(p,g){var m;const Z=H.WO(g.src,".json")&&k(p),t=H.WO(g.src,".skel")&&p instanceof ArrayBuffer,h=!1===(null===(m=g.data)||void 0===m?void 0:m.spineAtlas);return Promise.resolve(Z&&!h||t)},async parse(g,m,n){var S;const q=t.Wp.path.extname(m.src).toLowerCase(),D=t.Wp.path.basename(m.src,q);let I=t.Wp.path.dirname(m.src);I&&I.lastIndexOf("/")!==I.length-1&&(I+="/");let b=null,e=g;H.WO(m.src,".json")&&k(g)?b=p.createJsonParser():(b=p.createBinaryParser(),e=new Uint8Array(g));const N=m.data||{},d=null!==(S=null==N?void 0:N.spineSkeletonScale)&&void 0!==S?S:null;d&&(b.scale=d);const Q=N.spineAtlas;if(Q&&Q.pages)return p.parseData(b,Q,e);const $=N.atlasRawData;if($){let g=null,m=null;const H=new Promise(((p,Z)=>{g=p,m=Z})),t=new Z.Lw($,h.F(n,I,N.imageMetadata),(p=>{p||m("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),g(t)})),k=await H;return p.parseData(b,k,e)}let w=N.spineAtlasFile;w||(w=`${I+D}.atlas`);const Y=await n.load({src:w,data:N,alias:N.spineAtlasAlias});return p.parseData(b,Y,e)}}};return t.XO.add(g),g}}},975432:(p,g,m)=>{m.d(g,{F:()=>k});var Z=m(367866),H=m(557108),t=m(316197);const h={extension:t.Ag.Asset,loader:{extension:{type:t.Ag.LoadParser,priority:H.T9.Normal},test:p=>H.WO(p,".atlas"),async load(p){const g=await t.W0.ADAPTER.fetch(p);return await g.text()},testParse(p,g){const m=H.WO(g.src,".atlas"),Z="string"==typeof p;return Promise.resolve(m&&Z)},async parse(p,g,m){const H=g.data;let h=t.Wp.path.dirname(g.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let n=null,S=null;const q=new Promise(((p,g)=>{n=p,S=g}));let D;const I=p=>{p||S("Something went terribly wrong loading a spine .atlas file\nMost likely your texture failed to load."),n(D)};if(H.image||H.images){const g=Object.assign(H.image?{default:H.image}:{},H.images);D=new Z.Lw(p,((p,m)=>{const Z=g[p]||g.default;Z&&Z.baseTexture?m(Z.baseTexture):m(Z)}),I)}else D=new Z.Lw(p,k(m,h,H.imageMetadata),I);return await q},unload(p){p.dispose()}}},k=(p,g,m)=>async(g,Z)=>{Z((await p.load({src:g,data:m})).baseTexture)};t.XO.add(h)},680624:(p,g,m)=>{m.d(g,{b:()=>Z.b}),m(975432);var Z=m(760746)},547352:(p,g,m)=>{m.d(g,{y:()=>n});var Z=m(367866),H=m(328791),t=m(925596),h=m(370757),k=m(778228);class n extends Z.bJ{createSkeleton(p){const g=k.J(p.version);let m=null;if(g===k.F.VER37&&(m=t),g===k.F.VER38&&(m=H),g!==k.F.VER40&&g!==k.F.VER41||(m=h),!m){const g=`Cant detect version of spine model ${p.version}`;console.error(g)}this.skeleton=new m.Skeleton(p),this.skeleton.updateWorldTransform(),this.stateData=new m.AnimationStateData(p),this.state=new m.AnimationState(this.stateData)}}},734385:(p,g,m)=>{m.d(g,{r:()=>D});var Z=m(680624),H=m(367866),t=m(328791),h=m(925596),k=m(370757),n=m(778228);class S{constructor(){this.scale=1}readSkeletonData(p,g){let m=null,Z=this.readVersionOldFormat(g),H=n.J(Z);if(H===n.F.VER38&&(m=new t.SkeletonBinary(new t.AtlasAttachmentLoader(p))),Z=this.readVersionNewFormat(g),H=n.J(Z),H!==n.F.VER40&&H!==n.F.VER41||(m=new k.SkeletonBinary(new k.AtlasAttachmentLoader(p))),!m){const p=`Unsupported version of spine model ${Z}, please update pixi-spine`;console.error(p)}return m.scale=this.scale,m.readSkeletonData(g)}readVersionOldFormat(p){const g=new H.aG(p);let m;try{g.readString(),m=g.readString()}catch(p){m=""}return m||""}readVersionNewFormat(p){const g=new H.aG(p);let m;g.readInt32(),g.readInt32();try{m=g.readString()}catch(p){m=""}return m||""}}class q{constructor(){this.scale=1}readSkeletonData(p,g){const m=g.skeleton.spine,Z=n.J(m);let H=null;if(Z===n.F.VER37&&(H=new h.SkeletonJson(new h.AtlasAttachmentLoader(p))),Z===n.F.VER38&&(H=new t.SkeletonJson(new t.AtlasAttachmentLoader(p))),Z!==n.F.VER40&&Z!==n.F.VER41||(H=new k.SkeletonJson(new k.AtlasAttachmentLoader(p))),!H){const p=`Unsupported version of spine model ${m}, please update pixi-spine`;console.error(p)}return H.scale=this.scale,H.readSkeletonData(g)}}class D extends Z.b{createBinaryParser(){return new S}createJsonParser(){return new q}parseData(p,g,m){return{spineData:p.readSkeletonData(g,m),spineAtlas:g}}}},766905:(p,g,m)=>{m.d(g,{yE:()=>H.y}),m(680624);var Z=m(734385),H=m(547352);m(778228),(new Z.r).installLoader()},778228:(p,g,m)=>{m.d(g,{F:()=>Z,J:()=>H});var Z=(p=>(p[p["UNKNOWN"]=0]="UNKNOWN",p[p["VER37"]=37]="VER37",p[p["VER38"]=38]="VER38",p[p["VER40"]=40]="VER40",p[p["VER41"]=41]="VER41",p))(Z||{});function H(p){const g=p.substr(0,3),m=Math.floor(10*Number(g)+.001);return"3.7"===g?37:"3.8"===g?38:"4.0"===g?40:"4.1"===g?41:m<37?37:0}},903369:(p,g,m)=>{m.d(g,{y:()=>k});var Z=m(367866),H=m(270873),t=m(870213),h=m(429205);class k extends Z.bJ{createSkeleton(p){this.skeleton=new H.E(p),this.skeleton.updateWorldTransform(),this.stateData=new h.Q(p),this.state=new t.oA(this.stateData)}}},308754:(p,g,m)=>{m.d(g,{$l:()=>e,I6:()=>F,J9:()=>d,Kn:()=>J,NQ:()=>q,Rh:()=>n,Sr:()=>I,To:()=>V,X5:()=>t,e9:()=>h,i9:()=>b,jQ:()=>i,pA:()=>W,pv:()=>$,qs:()=>P,vl:()=>u,vz:()=>B,zK:()=>w});var Z=m(448886),H=m(367866);m(600126);class t{constructor(p,g,m){if(null==p)throw new Error("name cannot be null.");if(null==g)throw new Error("timelines cannot be null.");this.name=p,this.timelines=g,this.duration=m}apply(p,g,m,Z,H,t,h,k){if(null==p)throw new Error("skeleton cannot be null.");Z&&0!=this.duration&&(m%=this.duration,g>0&&(g%=this.duration));const n=this.timelines;for(let Z=0,S=n.length;Z<S;Z++)n[Z].apply(p,g,m,H,t,h,k)}static binarySearch(p,g,m=1){let Z=0,H=p.length/m-2;if(0==H)return m;let t=H>>>1;for(;1;){if(p[(t+1)*m]<=g?Z=t+1:H=t,Z==H)return(Z+1)*m;t=Z+H>>>1}}static linearSearch(p,g,m){for(let Z=0,H=p.length-m;Z<=H;Z+=m)if(p[Z]>g)return Z;return-1}}var h=(p=>(p[p["rotate"]=0]="rotate",p[p["translate"]=1]="translate",p[p["scale"]=2]="scale",p[p["shear"]=3]="shear",p[p["attachment"]=4]="attachment",p[p["color"]=5]="color",p[p["deform"]=6]="deform",p[p["event"]=7]="event",p[p["drawOrder"]=8]="drawOrder",p[p["ikConstraint"]=9]="ikConstraint",p[p["transformConstraint"]=10]="transformConstraint",p[p["pathConstraintPosition"]=11]="pathConstraintPosition",p[p["pathConstraintSpacing"]=12]="pathConstraintSpacing",p[p["pathConstraintMix"]=13]="pathConstraintMix",p[p["twoColor"]=14]="twoColor",p))(h||{});const k=class{constructor(p){if(p<=0)throw new Error(`frameCount must be > 0: ${p}`);this.curves=H.Aq.newFloatArray((p-1)*k.BEZIER_SIZE)}getFrameCount(){return this.curves.length/k.BEZIER_SIZE+1}setLinear(p){this.curves[p*k.BEZIER_SIZE]=k.LINEAR}setStepped(p){this.curves[p*k.BEZIER_SIZE]=k.STEPPED}getCurveType(p){const g=p*k.BEZIER_SIZE;if(g==this.curves.length)return k.LINEAR;const m=this.curves[g];return m==k.LINEAR?k.LINEAR:m==k.STEPPED?k.STEPPED:k.BEZIER}setCurve(p,g,m,Z,H){const t=.03*(2*-g+Z),h=.03*(2*-m+H),n=.006*(3*(g-Z)+1),S=.006*(3*(m-H)+1);let q=2*t+n,D=2*h+S,I=.3*g+t+.16666667*n,b=.3*m+h+.16666667*S,e=p*k.BEZIER_SIZE;const N=this.curves;N[e++]=k.BEZIER;let d=I,Q=b;for(let p=e+k.BEZIER_SIZE-1;e<p;e+=2)N[e]=d,N[e+1]=Q,I+=q,b+=D,q+=n,D+=S,d+=I,Q+=b}getCurvePercent(p,g){g=H.cj.clamp(g,0,1);const m=this.curves;let Z=p*k.BEZIER_SIZE;const t=m[Z];if(t==k.LINEAR)return g;if(t==k.STEPPED)return 0;Z++;let h=0;for(let p=Z,H=Z+k.BEZIER_SIZE-1;Z<H;Z+=2)if(h=m[Z],h>=g){let H,t;return Z==p?(H=0,t=0):(H=m[Z-2],t=m[Z-1]),t+(m[Z+1]-t)*(g-H)/(h-H)}const n=m[Z-1];return n+(1-n)*(g-h)/(1-h)}};let n=k;n.LINEAR=0,n.STEPPED=1,n.BEZIER=2,n.BEZIER_SIZE=10*2-1;const S=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p<<1)}getPropertyId(){return(0<<24)+this.boneIndex}setFrame(p,g,m){p<<=1,this.frames[p]=g,this.frames[p+S.ROTATION]=m}apply(p,g,m,Z,h,k,n){const q=this.frames,D=p.bones[this.boneIndex];if(m<q[0]){switch(k){case H.qU.setup:return void(D.rotation=D.data.rotation);case H.qU.first:const p=D.data.rotation-D.rotation;D.rotation+=(p-360*(16384-(16384.499999999996-p/360|0)))*h}return}if(m>=q[q.length-S.ENTRIES]){let p=q[q.length+S.PREV_ROTATION];switch(k){case H.qU.setup:D.rotation=D.data.rotation+p*h;break;case H.qU.first:case H.qU.replace:p+=D.data.rotation-D.rotation,p-=360*(16384-(16384.499999999996-p/360|0));case H.qU.add:D.rotation+=p*h}return}const I=t.binarySearch(q,m,S.ENTRIES),b=q[I+S.PREV_ROTATION],e=q[I],N=this.getCurvePercent((I>>1)-1,1-(m-e)/(q[I+S.PREV_TIME]-e));let d=q[I+S.ROTATION]-b;switch(d=b+(d-360*(16384-(16384.499999999996-d/360|0)))*N,k){case H.qU.setup:D.rotation=D.data.rotation+(d-360*(16384-(16384.499999999996-d/360|0)))*h;break;case H.qU.first:case H.qU.replace:d+=D.data.rotation-D.rotation;case H.qU.add:D.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*h}}};let q=S;q.ENTRIES=2,q.PREV_TIME=-2,q.PREV_ROTATION=-1,q.ROTATION=1;const D=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*D.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(p,g,m,Z){p*=D.ENTRIES,this.frames[p]=g,this.frames[p+D.X]=m,this.frames[p+D.Y]=Z}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.bones[this.boneIndex];if(m<S[0]){switch(k){case H.qU.setup:return q.x=q.data.x,void(q.y=q.data.y);case H.qU.first:q.x+=(q.data.x-q.x)*h,q.y+=(q.data.y-q.y)*h}return}let I=0,b=0;if(m>=S[S.length-D.ENTRIES])I=S[S.length+D.PREV_X],b=S[S.length+D.PREV_Y];else{const p=t.binarySearch(S,m,D.ENTRIES);I=S[p+D.PREV_X],b=S[p+D.PREV_Y];const g=S[p],Z=this.getCurvePercent(p/D.ENTRIES-1,1-(m-g)/(S[p+D.PREV_TIME]-g));I+=(S[p+D.X]-I)*Z,b+=(S[p+D.Y]-b)*Z}switch(k){case H.qU.setup:q.x=q.data.x+I*h,q.y=q.data.y+b*h;break;case H.qU.first:case H.qU.replace:q.x+=(q.data.x+I-q.x)*h,q.y+=(q.data.y+b-q.y)*h;break;case H.qU.add:q.x+=I*h,q.y+=b*h}}};let I=D;I.ENTRIES=3,I.PREV_TIME=-3,I.PREV_X=-2,I.PREV_Y=-1,I.X=1,I.Y=2;class b extends I{constructor(p){super(p)}getPropertyId(){return(2<<24)+this.boneIndex}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.bones[this.boneIndex];if(m<S[0]){switch(k){case H.qU.setup:return q.scaleX=q.data.scaleX,void(q.scaleY=q.data.scaleY);case H.qU.first:q.scaleX+=(q.data.scaleX-q.scaleX)*h,q.scaleY+=(q.data.scaleY-q.scaleY)*h}return}let D=0,I=0;if(m>=S[S.length-b.ENTRIES])D=S[S.length+b.PREV_X]*q.data.scaleX,I=S[S.length+b.PREV_Y]*q.data.scaleY;else{const p=t.binarySearch(S,m,b.ENTRIES);D=S[p+b.PREV_X],I=S[p+b.PREV_Y];const g=S[p],Z=this.getCurvePercent(p/b.ENTRIES-1,1-(m-g)/(S[p+b.PREV_TIME]-g));D=(D+(S[p+b.X]-D)*Z)*q.data.scaleX,I=(I+(S[p+b.Y]-I)*Z)*q.data.scaleY}if(1==h)k==H.qU.add?(q.scaleX+=D-q.data.scaleX,q.scaleY+=I-q.data.scaleY):(q.scaleX=D,q.scaleY=I);else{let p=0,g=0;if(n==H.mj.mixOut)switch(k){case H.qU.setup:p=q.data.scaleX,g=q.data.scaleY,q.scaleX=p+(Math.abs(D)*H.cj.signum(p)-p)*h,q.scaleY=g+(Math.abs(I)*H.cj.signum(g)-g)*h;break;case H.qU.first:case H.qU.replace:p=q.scaleX,g=q.scaleY,q.scaleX=p+(Math.abs(D)*H.cj.signum(p)-p)*h,q.scaleY=g+(Math.abs(I)*H.cj.signum(g)-g)*h;break;case H.qU.add:p=q.scaleX,g=q.scaleY,q.scaleX=p+(Math.abs(D)*H.cj.signum(p)-q.data.scaleX)*h,q.scaleY=g+(Math.abs(I)*H.cj.signum(g)-q.data.scaleY)*h}else switch(k){case H.qU.setup:p=Math.abs(q.data.scaleX)*H.cj.signum(D),g=Math.abs(q.data.scaleY)*H.cj.signum(I),q.scaleX=p+(D-p)*h,q.scaleY=g+(I-g)*h;break;case H.qU.first:case H.qU.replace:p=Math.abs(q.scaleX)*H.cj.signum(D),g=Math.abs(q.scaleY)*H.cj.signum(I),q.scaleX=p+(D-p)*h,q.scaleY=g+(I-g)*h;break;case H.qU.add:p=H.cj.signum(D),g=H.cj.signum(I),q.scaleX=Math.abs(q.scaleX)*p+(D-Math.abs(q.data.scaleX)*p)*h,q.scaleY=Math.abs(q.scaleY)*g+(I-Math.abs(q.data.scaleY)*g)*h}}}}class e extends I{constructor(p){super(p)}getPropertyId(){return(3<<24)+this.boneIndex}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.bones[this.boneIndex];if(m<S[0]){switch(k){case H.qU.setup:return q.shearX=q.data.shearX,void(q.shearY=q.data.shearY);case H.qU.first:q.shearX+=(q.data.shearX-q.shearX)*h,q.shearY+=(q.data.shearY-q.shearY)*h}return}let D=0,I=0;if(m>=S[S.length-e.ENTRIES])D=S[S.length+e.PREV_X],I=S[S.length+e.PREV_Y];else{const p=t.binarySearch(S,m,e.ENTRIES);D=S[p+e.PREV_X],I=S[p+e.PREV_Y];const g=S[p],Z=this.getCurvePercent(p/e.ENTRIES-1,1-(m-g)/(S[p+e.PREV_TIME]-g));D+=(S[p+e.X]-D)*Z,I+=(S[p+e.Y]-I)*Z}switch(k){case H.qU.setup:q.shearX=q.data.shearX+D*h,q.shearY=q.data.shearY+I*h;break;case H.qU.first:case H.qU.replace:q.shearX+=(q.data.shearX+D-q.shearX)*h,q.shearY+=(q.data.shearY+I-q.shearY)*h;break;case H.qU.add:q.shearX+=D*h,q.shearY+=I*h}}}const N=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*N.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(p,g,m,Z,H,t){p*=N.ENTRIES,this.frames[p]=g,this.frames[p+N.R]=m,this.frames[p+N.G]=Z,this.frames[p+N.B]=H,this.frames[p+N.A]=t}apply(p,g,m,Z,h,k,n){const S=p.slots[this.slotIndex],q=this.frames;if(m<q[0]){switch(k){case H.qU.setup:return void S.color.setFromColor(S.data.color);case H.qU.first:const p=S.color,g=S.data.color;p.add((g.r-p.r)*h,(g.g-p.g)*h,(g.b-p.b)*h,(g.a-p.a)*h)}return}let D=0,I=0,b=0,e=0;if(m>=q[q.length-N.ENTRIES]){const p=q.length;D=q[p+N.PREV_R],I=q[p+N.PREV_G],b=q[p+N.PREV_B],e=q[p+N.PREV_A]}else{const p=t.binarySearch(q,m,N.ENTRIES);D=q[p+N.PREV_R],I=q[p+N.PREV_G],b=q[p+N.PREV_B],e=q[p+N.PREV_A];const g=q[p],Z=this.getCurvePercent(p/N.ENTRIES-1,1-(m-g)/(q[p+N.PREV_TIME]-g));D+=(q[p+N.R]-D)*Z,I+=(q[p+N.G]-I)*Z,b+=(q[p+N.B]-b)*Z,e+=(q[p+N.A]-e)*Z}if(1==h)S.color.set(D,I,b,e);else{const p=S.color;k==H.qU.setup&&p.setFromColor(S.data.color),p.add((D-p.r)*h,(I-p.g)*h,(b-p.b)*h,(e-p.a)*h)}}};let d=N;d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_R=-4,d.PREV_G=-3,d.PREV_B=-2,d.PREV_A=-1,d.R=1,d.G=2,d.B=3,d.A=4;const Q=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*Q.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(p,g,m,Z,H,t,h,k,n){p*=Q.ENTRIES,this.frames[p]=g,this.frames[p+Q.R]=m,this.frames[p+Q.G]=Z,this.frames[p+Q.B]=H,this.frames[p+Q.A]=t,this.frames[p+Q.R2]=h,this.frames[p+Q.G2]=k,this.frames[p+Q.B2]=n}apply(p,g,m,Z,h,k,n){const S=p.slots[this.slotIndex],q=this.frames;if(m<q[0]){switch(k){case H.qU.setup:return S.color.setFromColor(S.data.color),void S.darkColor.setFromColor(S.data.darkColor);case H.qU.first:const p=S.color,g=S.darkColor,m=S.data.color,Z=S.data.darkColor;p.add((m.r-p.r)*h,(m.g-p.g)*h,(m.b-p.b)*h,(m.a-p.a)*h),g.add((Z.r-g.r)*h,(Z.g-g.g)*h,(Z.b-g.b)*h,0)}return}let D=0,I=0,b=0,e=0,N=0,d=0,$=0;if(m>=q[q.length-Q.ENTRIES]){const p=q.length;D=q[p+Q.PREV_R],I=q[p+Q.PREV_G],b=q[p+Q.PREV_B],e=q[p+Q.PREV_A],N=q[p+Q.PREV_R2],d=q[p+Q.PREV_G2],$=q[p+Q.PREV_B2]}else{const p=t.binarySearch(q,m,Q.ENTRIES);D=q[p+Q.PREV_R],I=q[p+Q.PREV_G],b=q[p+Q.PREV_B],e=q[p+Q.PREV_A],N=q[p+Q.PREV_R2],d=q[p+Q.PREV_G2],$=q[p+Q.PREV_B2];const g=q[p],Z=this.getCurvePercent(p/Q.ENTRIES-1,1-(m-g)/(q[p+Q.PREV_TIME]-g));D+=(q[p+Q.R]-D)*Z,I+=(q[p+Q.G]-I)*Z,b+=(q[p+Q.B]-b)*Z,e+=(q[p+Q.A]-e)*Z,N+=(q[p+Q.R2]-N)*Z,d+=(q[p+Q.G2]-d)*Z,$+=(q[p+Q.B2]-$)*Z}if(1==h)S.color.set(D,I,b,e),S.darkColor.set(N,d,$,1);else{const p=S.color,g=S.darkColor;k==H.qU.setup&&(p.setFromColor(S.data.color),g.setFromColor(S.data.darkColor)),p.add((D-p.r)*h,(I-p.g)*h,(b-p.b)*h,(e-p.a)*h),g.add((N-g.r)*h,(d-g.g)*h,($-g.b)*h,0)}}};let $=Q;$.ENTRIES=8,$.PREV_TIME=-8,$.PREV_R=-7,$.PREV_G=-6,$.PREV_B=-5,$.PREV_A=-4,$.PREV_R2=-3,$.PREV_G2=-2,$.PREV_B2=-1,$.R=1,$.G=2,$.B=3,$.A=4,$.R2=5,$.G2=6,$.B2=7;class w{constructor(p){this.frames=H.Aq.newFloatArray(p),this.attachmentNames=new Array(p)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.attachmentNames[p]=m}apply(p,g,m,Z,h,k,n){const S=p.slots[this.slotIndex];if(n==H.mj.mixOut&&k==H.qU.setup){const g=S.data.attachmentName;return void S.setAttachment(null==g?null:p.getAttachment(this.slotIndex,g))}const q=this.frames;if(m<q[0]){if(k==H.qU.setup||k==H.qU.first){const g=S.data.attachmentName;S.setAttachment(null==g?null:p.getAttachment(this.slotIndex,g))}return}let D=0;D=m>=q[q.length-1]?q.length-1:t.binarySearch(q,m,1)-1;const I=this.attachmentNames[D];p.slots[this.slotIndex].setAttachment(null==I?null:p.getAttachment(this.slotIndex,I))}}let Y=null;class i extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p),this.frameVertices=new Array(p),null==Y&&(Y=H.Aq.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(p,g,m){this.frames[p]=g,this.frameVertices[p]=m}apply(p,g,m,h,k,n,S){const q=p.slots[this.slotIndex],D=q.getAttachment();if(!(D instanceof Z.e&&D.applyDeform(this.attachment)))return;const I=q.attachmentVertices;0==I.length&&(n=H.qU.setup);const b=this.frameVertices,e=b[0].length,N=this.frames;if(m<N[0]){const p=D;switch(n){case H.qU.setup:return void(I.length=0);case H.qU.first:if(1==k){I.length=0;break}const g=H.Aq.setArraySize(I,e);if(null==p.bones){const m=p.vertices;for(let p=0;p<e;p++)g[p]+=(m[p]-g[p])*k}else{k=1-k;for(let p=0;p<e;p++)g[p]*=k}}return}const d=H.Aq.setArraySize(I,e);if(m>=N[N.length-1]){const p=b[N.length-1];if(1==k)if(n==H.qU.add){const g=D;if(null==g.bones){const m=g.vertices;for(let g=0;g<e;g++)d[g]+=p[g]-m[g]}else for(let g=0;g<e;g++)d[g]+=p[g]}else H.Aq.arrayCopy(p,0,d,0,e);else switch(n){case H.qU.setup:{const g=D;if(null==g.bones){const m=g.vertices;for(let g=0;g<e;g++){const Z=m[g];d[g]=Z+(p[g]-Z)*k}}else for(let g=0;g<e;g++)d[g]=p[g]*k;break}case H.qU.first:case H.qU.replace:for(let g=0;g<e;g++)d[g]+=(p[g]-d[g])*k;case H.qU.add:const g=D;if(null==g.bones){const m=g.vertices;for(let g=0;g<e;g++)d[g]+=(p[g]-m[g])*k}else for(let g=0;g<e;g++)d[g]+=p[g]*k}return}const Q=t.binarySearch(N,m),$=b[Q-1],w=b[Q],Y=N[Q],i=this.getCurvePercent(Q-1,1-(m-Y)/(N[Q-1]-Y));if(1==k)if(n==H.qU.add){const p=D;if(null==p.bones){const g=p.vertices;for(let p=0;p<e;p++){const m=$[p];d[p]+=m+(w[p]-m)*i-g[p]}}else for(let p=0;p<e;p++){const g=$[p];d[p]+=g+(w[p]-g)*i}}else for(let p=0;p<e;p++){const g=$[p];d[p]=g+(w[p]-g)*i}else switch(n){case H.qU.setup:{const p=D;if(null==p.bones){const g=p.vertices;for(let p=0;p<e;p++){const m=$[p],Z=g[p];d[p]=Z+(m+(w[p]-m)*i-Z)*k}}else for(let p=0;p<e;p++){const g=$[p];d[p]=(g+(w[p]-g)*i)*k}break}case H.qU.first:case H.qU.replace:for(let p=0;p<e;p++){const g=$[p];d[p]+=(g+(w[p]-g)*i-d[p])*k}break;case H.qU.add:const p=D;if(null==p.bones){const g=p.vertices;for(let p=0;p<e;p++){const m=$[p];d[p]+=(m+(w[p]-m)*i-g[p])*k}}else for(let p=0;p<e;p++){const g=$[p];d[p]+=(g+(w[p]-g)*i)*k}}}}class P{constructor(p){this.frames=H.Aq.newFloatArray(p),this.events=new Array(p)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(p,g){this.frames[p]=g.time,this.events[p]=g}apply(p,g,m,Z,H,h,k){if(null==Z)return;const n=this.frames,S=this.frames.length;if(g>m)this.apply(p,g,Number.MAX_VALUE,Z,H,h,k),g=-1;else if(g>=n[S-1])return;if(m<n[0])return;let q=0;if(g<n[0])q=0;else{q=t.binarySearch(n,g);const p=n[q];for(;q>0&&n[q-1]==p;)q--}for(;q<S&&m>=n[q];q++)Z.push(this.events[q])}}class J{constructor(p){this.frames=H.Aq.newFloatArray(p),this.drawOrders=new Array(p)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.drawOrders[p]=m}apply(p,g,m,Z,h,k,n){const S=p.drawOrder,q=p.slots;if(n==H.mj.mixOut&&k==H.qU.setup)return void H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length);const D=this.frames;if(m<D[0])return void(k!=H.qU.setup&&k!=H.qU.first||H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length));let I=0;I=m>=D[D.length-1]?D.length-1:t.binarySearch(D,m)-1;const b=this.drawOrders[I];if(null==b)H.Aq.arrayCopy(q,0,S,0,q.length);else for(let p=0,g=b.length;p<g;p++)S[p]=q[b[p]]}}const y=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*y.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(p,g,m,Z,H,t){p*=y.ENTRIES,this.frames[p]=g,this.frames[p+y.MIX]=m,this.frames[p+y.BEND_DIRECTION]=Z,this.frames[p+y.COMPRESS]=H?1:0,this.frames[p+y.STRETCH]=t?1:0}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.ikConstraints[this.ikConstraintIndex];if(m<S[0]){switch(k){case H.qU.setup:return q.mix=q.data.mix,q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,void(q.stretch=q.data.stretch);case H.qU.first:q.mix+=(q.data.mix-q.mix)*h,q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,q.stretch=q.data.stretch}return}if(m>=S[S.length-y.ENTRIES])return void(k==H.qU.setup?(q.mix=q.data.mix+(S[S.length+y.PREV_MIX]-q.data.mix)*h,n==H.mj.mixOut?(q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,q.stretch=q.data.stretch):(q.bendDirection=S[S.length+y.PREV_BEND_DIRECTION],q.compress=0!=S[S.length+y.PREV_COMPRESS],q.stretch=0!=S[S.length+y.PREV_STRETCH])):(q.mix+=(S[S.length+y.PREV_MIX]-q.mix)*h,n==H.mj.mixIn&&(q.bendDirection=S[S.length+y.PREV_BEND_DIRECTION],q.compress=0!=S[S.length+y.PREV_COMPRESS],q.stretch=0!=S[S.length+y.PREV_STRETCH])));const D=t.binarySearch(S,m,y.ENTRIES),I=S[D+y.PREV_MIX],b=S[D],e=this.getCurvePercent(D/y.ENTRIES-1,1-(m-b)/(S[D+y.PREV_TIME]-b));k==H.qU.setup?(q.mix=q.data.mix+(I+(S[D+y.MIX]-I)*e-q.data.mix)*h,n==H.mj.mixOut?(q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,q.stretch=q.data.stretch):(q.bendDirection=S[D+y.PREV_BEND_DIRECTION],q.compress=0!=S[D+y.PREV_COMPRESS],q.stretch=0!=S[D+y.PREV_STRETCH])):(q.mix+=(I+(S[D+y.MIX]-I)*e-q.mix)*h,n==H.mj.mixIn&&(q.bendDirection=S[D+y.PREV_BEND_DIRECTION],q.compress=0!=S[D+y.PREV_COMPRESS],q.stretch=0!=S[D+y.PREV_STRETCH]))}};let W=y;W.ENTRIES=5,W.PREV_TIME=-5,W.PREV_MIX=-4,W.PREV_BEND_DIRECTION=-3,W.PREV_COMPRESS=-2,W.PREV_STRETCH=-1,W.MIX=1,W.BEND_DIRECTION=2,W.COMPRESS=3,W.STRETCH=4;const v=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*v.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(p,g,m,Z,H,t){p*=v.ENTRIES,this.frames[p]=g,this.frames[p+v.ROTATE]=m,this.frames[p+v.TRANSLATE]=Z,this.frames[p+v.SCALE]=H,this.frames[p+v.SHEAR]=t}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.transformConstraints[this.transformConstraintIndex];if(m<S[0]){const p=q.data;switch(k){case H.qU.setup:return q.rotateMix=p.rotateMix,q.translateMix=p.translateMix,q.scaleMix=p.scaleMix,void(q.shearMix=p.shearMix);case H.qU.first:q.rotateMix+=(p.rotateMix-q.rotateMix)*h,q.translateMix+=(p.translateMix-q.translateMix)*h,q.scaleMix+=(p.scaleMix-q.scaleMix)*h,q.shearMix+=(p.shearMix-q.shearMix)*h}return}let D=0,I=0,b=0,e=0;if(m>=S[S.length-v.ENTRIES]){const p=S.length;D=S[p+v.PREV_ROTATE],I=S[p+v.PREV_TRANSLATE],b=S[p+v.PREV_SCALE],e=S[p+v.PREV_SHEAR]}else{const p=t.binarySearch(S,m,v.ENTRIES);D=S[p+v.PREV_ROTATE],I=S[p+v.PREV_TRANSLATE],b=S[p+v.PREV_SCALE],e=S[p+v.PREV_SHEAR];const g=S[p],Z=this.getCurvePercent(p/v.ENTRIES-1,1-(m-g)/(S[p+v.PREV_TIME]-g));D+=(S[p+v.ROTATE]-D)*Z,I+=(S[p+v.TRANSLATE]-I)*Z,b+=(S[p+v.SCALE]-b)*Z,e+=(S[p+v.SHEAR]-e)*Z}if(k==H.qU.setup){const p=q.data;q.rotateMix=p.rotateMix+(D-p.rotateMix)*h,q.translateMix=p.translateMix+(I-p.translateMix)*h,q.scaleMix=p.scaleMix+(b-p.scaleMix)*h,q.shearMix=p.shearMix+(e-p.shearMix)*h}else q.rotateMix+=(D-q.rotateMix)*h,q.translateMix+=(I-q.translateMix)*h,q.scaleMix+=(b-q.scaleMix)*h,q.shearMix+=(e-q.shearMix)*h}};let V=v;V.ENTRIES=5,V.PREV_TIME=-5,V.PREV_ROTATE=-4,V.PREV_TRANSLATE=-3,V.PREV_SCALE=-2,V.PREV_SHEAR=-1,V.ROTATE=1,V.TRANSLATE=2,V.SCALE=3,V.SHEAR=4;const z=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*z.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(p,g,m){p*=z.ENTRIES,this.frames[p]=g,this.frames[p+z.VALUE]=m}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.pathConstraints[this.pathConstraintIndex];if(m<S[0]){switch(k){case H.qU.setup:return void(q.position=q.data.position);case H.qU.first:q.position+=(q.data.position-q.position)*h}return}let D=0;if(m>=S[S.length-z.ENTRIES])D=S[S.length+z.PREV_VALUE];else{const p=t.binarySearch(S,m,z.ENTRIES);D=S[p+z.PREV_VALUE];const g=S[p],Z=this.getCurvePercent(p/z.ENTRIES-1,1-(m-g)/(S[p+z.PREV_TIME]-g));D+=(S[p+z.VALUE]-D)*Z}k==H.qU.setup?q.position=q.data.position+(D-q.data.position)*h:q.position+=(D-q.position)*h}};let B=z;B.ENTRIES=2,B.PREV_TIME=-2,B.PREV_VALUE=-1,B.VALUE=1;class u extends B{constructor(p){super(p)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.pathConstraints[this.pathConstraintIndex];if(m<S[0]){switch(k){case H.qU.setup:return void(q.spacing=q.data.spacing);case H.qU.first:q.spacing+=(q.data.spacing-q.spacing)*h}return}let D=0;if(m>=S[S.length-u.ENTRIES])D=S[S.length+u.PREV_VALUE];else{const p=t.binarySearch(S,m,u.ENTRIES);D=S[p+u.PREV_VALUE];const g=S[p],Z=this.getCurvePercent(p/u.ENTRIES-1,1-(m-g)/(S[p+u.PREV_TIME]-g));D+=(S[p+u.VALUE]-D)*Z}k==H.qU.setup?q.spacing=q.data.spacing+(D-q.data.spacing)*h:q.spacing+=(D-q.spacing)*h}}const a=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*a.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(p,g,m,Z){p*=a.ENTRIES,this.frames[p]=g,this.frames[p+a.ROTATE]=m,this.frames[p+a.TRANSLATE]=Z}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.pathConstraints[this.pathConstraintIndex];if(m<S[0]){switch(k){case H.qU.setup:return q.rotateMix=q.data.rotateMix,void(q.translateMix=q.data.translateMix);case H.qU.first:q.rotateMix+=(q.data.rotateMix-q.rotateMix)*h,q.translateMix+=(q.data.translateMix-q.translateMix)*h}return}let D=0,I=0;if(m>=S[S.length-a.ENTRIES])D=S[S.length+a.PREV_ROTATE],I=S[S.length+a.PREV_TRANSLATE];else{const p=t.binarySearch(S,m,a.ENTRIES);D=S[p+a.PREV_ROTATE],I=S[p+a.PREV_TRANSLATE];const g=S[p],Z=this.getCurvePercent(p/a.ENTRIES-1,1-(m-g)/(S[p+a.PREV_TIME]-g));D+=(S[p+a.ROTATE]-D)*Z,I+=(S[p+a.TRANSLATE]-I)*Z}k==H.qU.setup?(q.rotateMix=q.data.rotateMix+(D-q.data.rotateMix)*h,q.translateMix=q.data.translateMix+(I-q.data.translateMix)*h):(q.rotateMix+=(D-q.rotateMix)*h,q.translateMix+=(I-q.translateMix)*h)}};let F=a;F.ENTRIES=3,F.PREV_TIME=-3,F.PREV_ROTATE=-2,F.PREV_TRANSLATE=-1,F.ROTATE=1,F.TRANSLATE=2},870213:(p,g,m)=>{m.d(g,{Bx:()=>D,Cb:()=>q,IT:()=>n,oA:()=>h,xy:()=>I});var Z=m(367866),H=m(308754);const t=class{constructor(p){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new q(this),this.propertyIDs=new Z.ON,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new Z.bC((()=>new n)),this.data=p}update(p){p*=this.timeScale;const g=this.tracks;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(null==Z)continue;Z.animationLast=Z.nextAnimationLast,Z.trackLast=Z.nextTrackLast;let H=p*Z.timeScale;if(Z.delay>0){if(Z.delay-=H,Z.delay>0)continue;H=-Z.delay,Z.delay=0}let t=Z.next;if(null!=t){const g=Z.trackLast-t.delay;if(g>=0){for(t.delay=0,t.trackTime=0==Z.timeScale?0:(g/Z.timeScale+p)*t.timeScale,Z.trackTime+=H,this.setCurrent(m,t,!0);null!=t.mixingFrom;)t.mixTime+=p,t=t.mixingFrom;continue}}else if(Z.trackLast>=Z.trackEnd&&null==Z.mixingFrom){g[m]=null,this.queue.end(Z),this.disposeNext(Z);continue}if(null!=Z.mixingFrom&&this.updateMixingFrom(Z,p)){let p=Z.mixingFrom;for(Z.mixingFrom=null,null!=p&&(p.mixingTo=null);null!=p;)this.queue.end(p),p=p.mixingFrom}Z.trackTime+=H}this.queue.drain()}updateMixingFrom(p,g){const m=p.mixingFrom;if(null==m)return!0;const Z=this.updateMixingFrom(m,g);return m.animationLast=m.nextAnimationLast,m.trackLast=m.nextTrackLast,p.mixTime>0&&p.mixTime>=p.mixDuration?(0!=m.totalAlpha&&0!=p.mixDuration||(p.mixingFrom=m.mixingFrom,null!=m.mixingFrom&&(m.mixingFrom.mixingTo=p),p.interruptAlpha=m.interruptAlpha,this.queue.end(m)),Z):(m.trackTime+=g*m.timeScale,p.mixTime+=g,!1)}apply(p){if(null==p)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();const g=this.events,m=this.tracks;let h=!1;for(let k=0,n=m.length;k<n;k++){const n=m[k];if(null==n||n.delay>0)continue;h=!0;const S=0==k?Z.qU.first:n.mixBlend;let q=n.alpha;null!=n.mixingFrom?q*=this.applyMixingFrom(n,p,S):n.trackTime>=n.trackEnd&&null==n.next&&(q=0);const D=n.animationLast,I=n.getAnimationTime(),b=n.animation.timelines.length,e=n.animation.timelines;if(0==k&&1==q||S==Z.qU.add)for(let m=0;m<b;m++)Z.Aq.webkit602BugfixHelper(q,S),e[m].apply(p,D,I,g,q,S,Z.mj.mixIn);else{const m=n.timelineMode,h=0==n.timelinesRotation.length;h&&Z.Aq.setArraySize(n.timelinesRotation,b<<1,null);const k=n.timelinesRotation;for(let n=0;n<b;n++){const b=e[n],N=m[n]==t.SUBSEQUENT?S:Z.qU.setup;b instanceof H.NQ?this.applyRotateTimeline(b,p,I,q,N,k,n<<1,h):(Z.Aq.webkit602BugfixHelper(q,S),b.apply(p,D,I,g,q,N,Z.mj.mixIn))}}this.queueEvents(n,I),g.length=0,n.nextAnimationLast=I,n.nextTrackLast=n.trackTime}return this.queue.drain(),h}applyMixingFrom(p,g,m){const h=p.mixingFrom;null!=h.mixingFrom&&this.applyMixingFrom(h,g,m);let k=0;0==p.mixDuration?(k=1,m==Z.qU.first&&(m=Z.qU.setup)):(k=p.mixTime/p.mixDuration,k>1&&(k=1),m!=Z.qU.first&&(m=h.mixBlend));const n=k<h.eventThreshold?this.events:null,S=k<h.attachmentThreshold,q=k<h.drawOrderThreshold,D=h.animationLast,I=h.getAnimationTime(),b=h.animation.timelines.length,e=h.animation.timelines,N=h.alpha*p.interruptAlpha,d=N*(1-k);if(m==Z.qU.add)for(let p=0;p<b;p++)e[p].apply(g,D,I,n,d,m,Z.mj.mixOut);else{const p=h.timelineMode,k=h.timelineHoldMix,Q=0==h.timelinesRotation.length;Q&&Z.Aq.setArraySize(h.timelinesRotation,b<<1,null);const $=h.timelinesRotation;h.totalAlpha=0;for(let w=0;w<b;w++){const b=e[w];let Y,i=Z.mj.mixOut,P=0;switch(p[w]){case t.SUBSEQUENT:if(!S&&b instanceof H.zK)continue;if(!q&&b instanceof H.Kn)continue;Y=m,P=d;break;case t.FIRST:Y=Z.qU.setup,P=d;break;case t.HOLD:Y=Z.qU.setup,P=N;break;default:Y=Z.qU.setup;const p=k[w];P=N*Math.max(0,1-p.mixTime/p.mixDuration)}h.totalAlpha+=P,b instanceof H.NQ?this.applyRotateTimeline(b,g,I,P,Y,$,w<<1,Q):(Z.Aq.webkit602BugfixHelper(P,m),Y==Z.qU.setup&&(b instanceof H.zK?S&&(i=Z.mj.mixOut):b instanceof H.Kn&&q&&(i=Z.mj.mixOut)),b.apply(g,D,I,n,P,Y,i))}}return p.mixDuration>0&&this.queueEvents(h,I),this.events.length=0,h.nextAnimationLast=I,h.nextTrackLast=h.trackTime,k}applyRotateTimeline(p,g,m,t,h,k,n,S){if(S&&(k[n]=0),1==t)return void p.apply(g,0,m,null,1,h,Z.mj.mixIn);const q=p,D=q.frames,I=g.bones[q.boneIndex];let b=0,e=0;if(m<D[0])switch(h){case Z.qU.setup:I.rotation=I.data.rotation;default:return;case Z.qU.first:b=I.rotation,e=I.data.rotation}else if(b=h==Z.qU.setup?I.data.rotation:I.rotation,m>=D[D.length-H.NQ.ENTRIES])e=I.data.rotation+D[D.length+H.NQ.PREV_ROTATION];else{const p=H.X5.binarySearch(D,m,H.NQ.ENTRIES),g=D[p+H.NQ.PREV_ROTATION],Z=D[p],t=q.getCurvePercent((p>>1)-1,1-(m-Z)/(D[p+H.NQ.PREV_TIME]-Z));e=D[p+H.NQ.ROTATION]-g,e-=360*(16384-(16384.499999999996-e/360|0)),e=g+e*t+I.data.rotation,e-=360*(16384-(16384.499999999996-e/360|0))}let N=0,d=e-b;if(d-=360*(16384-(16384.499999999996-d/360|0)),0==d)N=k[n];else{let p=0,g=0;S?(p=0,g=d):(p=k[n],g=k[n+1]);const m=d>0;let H=p>=0;Z.cj.signum(g)!=Z.cj.signum(d)&&Math.abs(g)<=90&&(Math.abs(p)>180&&(p+=360*Z.cj.signum(p)),H=m),N=d+p-p%360,H!=m&&(N+=360*Z.cj.signum(p)),k[n]=N}k[n+1]=d,b+=N*t,I.rotation=b-360*(16384-(16384.499999999996-b/360|0))}queueEvents(p,g){const m=p.animationStart,Z=p.animationEnd,H=Z-m,t=p.trackLast%H,h=this.events;let k=0;const n=h.length;for(;k<n;k++){const g=h[k];if(g.time<t)break;g.time>Z||this.queue.event(p,g)}let S=!1;for(S=p.loop?0==H||t>p.trackTime%H:g>=Z&&p.animationLast<Z,S&&this.queue.complete(p);k<n;k++)h[k].time<m||this.queue.event(p,h[k])}clearTracks(){const p=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let p=0,g=this.tracks.length;p<g;p++)this.clearTrack(p);this.tracks.length=0,this.queue.drainDisabled=p,this.queue.drain()}clearTrack(p){if(p>=this.tracks.length)return;const g=this.tracks[p];if(null==g)return;this.queue.end(g),this.disposeNext(g);let m=g;for(;1;){const p=m.mixingFrom;if(null==p)break;this.queue.end(p),m.mixingFrom=null,m.mixingTo=null,m=p}this.tracks[g.trackIndex]=null,this.queue.drain()}setCurrent(p,g,m){const Z=this.expandToIndex(p);this.tracks[p]=g,null!=Z&&(m&&this.queue.interrupt(Z),g.mixingFrom=Z,Z.mixingTo=g,g.mixTime=0,null!=Z.mixingFrom&&Z.mixDuration>0&&(g.interruptAlpha*=Math.min(1,Z.mixTime/Z.mixDuration)),Z.timelinesRotation.length=0),this.queue.start(g)}setAnimation(p,g,m){const Z=this.data.skeletonData.findAnimation(g);if(null==Z)throw new Error(`Animation not found: ${g}`);return this.setAnimationWith(p,Z,m)}setAnimationWith(p,g,m){if(null==g)throw new Error("animation cannot be null.");let Z=!0,H=this.expandToIndex(p);null!=H&&(-1==H.nextTrackLast?(this.tracks[p]=H.mixingFrom,this.queue.interrupt(H),this.queue.end(H),this.disposeNext(H),H=H.mixingFrom,Z=!1):this.disposeNext(H));const t=this.trackEntry(p,g,m,H);return this.setCurrent(p,t,Z),this.queue.drain(),t}addAnimation(p,g,m,Z){const H=this.data.skeletonData.findAnimation(g);if(null==H)throw new Error(`Animation not found: ${g}`);return this.addAnimationWith(p,H,m,Z)}addAnimationWith(p,g,m,Z){if(null==g)throw new Error("animation cannot be null.");let H=this.expandToIndex(p);if(null!=H)for(;null!=H.next;)H=H.next;const t=this.trackEntry(p,g,m,H);if(null==H)this.setCurrent(p,t,!0),this.queue.drain();else if(H.next=t,Z<=0){const p=H.animationEnd-H.animationStart;0!=p?(H.loop?Z+=p*(1+(H.trackTime/p|0)):Z+=Math.max(p,H.trackTime),Z-=this.data.getMix(H.animation,g)):Z=H.trackTime}return t.delay=Z,t}setEmptyAnimation(p,g){const m=this.setAnimationWith(p,t.emptyAnimation,!1);return m.mixDuration=g,m.trackEnd=g,m}addEmptyAnimation(p,g,m){m<=0&&(m-=g);const Z=this.addAnimationWith(p,t.emptyAnimation,!1,m);return Z.mixDuration=g,Z.trackEnd=g,Z}setEmptyAnimations(p){const g=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let g=0,m=this.tracks.length;g<m;g++){const m=this.tracks[g];null!=m&&this.setEmptyAnimation(m.trackIndex,p)}this.queue.drainDisabled=g,this.queue.drain()}expandToIndex(p){return p<this.tracks.length?this.tracks[p]:(Z.Aq.ensureArrayCapacity(this.tracks,p-this.tracks.length+1,null),this.tracks.length=p+1,null)}trackEntry(p,g,m,Z){const H=this.trackEntryPool.obtain();return H.trackIndex=p,H.animation=g,H.loop=m,H.holdPrevious=!1,H.eventThreshold=0,H.attachmentThreshold=0,H.drawOrderThreshold=0,H.animationStart=0,H.animationEnd=g.duration,H.animationLast=-1,H.nextAnimationLast=-1,H.delay=0,H.trackTime=0,H.trackLast=-1,H.nextTrackLast=-1,H.trackEnd=Number.MAX_VALUE,H.timeScale=1,H.alpha=1,H.interruptAlpha=1,H.mixTime=0,H.mixDuration=null==Z?0:this.data.getMix(Z.animation,g),H}disposeNext(p){let g=p.next;for(;null!=g;)this.queue.dispose(g),g=g.next;p.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let p=0,g=this.tracks.length;p<g;p++){let g=this.tracks[p];if(null!=g){for(;null!=g.mixingFrom;)g=g.mixingFrom;do{null!=g.mixingFrom&&g.mixBlend==Z.qU.add||this.setTimelineModes(g),g=g.mixingTo}while(null!=g)}}}setTimelineModes(p){const g=p.mixingTo,m=p.animation.timelines,H=p.animation.timelines.length,h=Z.Aq.setArraySize(p.timelineMode,H);p.timelineHoldMix.length=0;const k=Z.Aq.setArraySize(p.timelineHoldMix,H),n=this.propertyIDs;if(null!=g&&g.holdPrevious)for(let p=0;p<H;p++)n.add(m[p].getPropertyId()),h[p]=t.HOLD;else p:for(let Z=0;Z<H;Z++){const H=m[Z].getPropertyId();if(n.add(H))if(null!=g&&this.hasTimeline(g,H)){for(let m=g.mixingTo;null!=m;m=m.mixingTo)if(!this.hasTimeline(m,H)){if(p.mixDuration>0){h[Z]=t.HOLD_MIX,k[Z]=m;continue p}break}h[Z]=t.HOLD}else h[Z]=t.FIRST;else h[Z]=t.SUBSEQUENT}}hasTimeline(p,g){const m=p.animation.timelines;for(let p=0,Z=m.length;p<Z;p++)if(m[p].getPropertyId()==g)return!0;return!1}getCurrent(p){return p>=this.tracks.length?null:this.tracks[p]}addListener(p){if(null==p)throw new Error("listener cannot be null.");this.listeners.push(p)}removeListener(p){const g=this.listeners.indexOf(p);g>=0&&this.listeners.splice(g,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(p,g,m){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(p,g,m)}addAnimationByName(p,g,m,Z){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(p,g,m,Z)}hasAnimation(p){return null!==this.data.skeletonData.findAnimation(p)}hasAnimationByName(p){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(p)}};let h=t;h.emptyAnimation=new H.X5("<empty>",[],0),h.SUBSEQUENT=0,h.FIRST=1,h.HOLD=2,h.HOLD_MIX=3,h.deprecatedWarning1=!1,h.deprecatedWarning2=!1,h.deprecatedWarning3=!1;const k=class{constructor(){this.mixBlend=Z.qU.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){const p=this.animationEnd-this.animationStart;return 0==p?this.animationStart:this.trackTime%p+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(p){this.animationLast=p,this.nextAnimationLast=p}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}get time(){return k.deprecatedWarning1||(k.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(p){k.deprecatedWarning1||(k.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=p}get endTime(){return k.deprecatedWarning2||(k.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(p){k.deprecatedWarning2||(k.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=p}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}};let n=k;n.deprecatedWarning1=!1,n.deprecatedWarning2=!1;const S=class{constructor(p){this.objects=[],this.drainDisabled=!1,this.animState=p}start(p){this.objects.push(D.start),this.objects.push(p),this.animState.animationsChanged=!0}interrupt(p){this.objects.push(D.interrupt),this.objects.push(p)}end(p){this.objects.push(D.end),this.objects.push(p),this.animState.animationsChanged=!0}dispose(p){this.objects.push(D.dispose),this.objects.push(p)}complete(p){this.objects.push(D.complete),this.objects.push(p)}event(p,g){this.objects.push(D.event),this.objects.push(p),this.objects.push(g)}deprecateStuff(){return S.deprecatedWarning1||(S.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;const p=this.objects,g=this.animState.listeners;for(let m=0;m<p.length;m+=2){const H=p[m],t=p[m+1];switch(H){case D.start:null!=t.listener&&t.listener.start&&t.listener.start(t);for(let p=0;p<g.length;p++)g[p].start&&g[p].start(t);t.onStart&&this.deprecateStuff()&&t.onStart(t.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(t.trackIndex);break;case D.interrupt:null!=t.listener&&t.listener.interrupt&&t.listener.interrupt(t);for(let p=0;p<g.length;p++)g[p].interrupt&&g[p].interrupt(t);break;case D.end:null!=t.listener&&t.listener.end&&t.listener.end(t);for(let p=0;p<g.length;p++)g[p].end&&g[p].end(t);t.onEnd&&this.deprecateStuff()&&t.onEnd(t.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(t.trackIndex);case D.dispose:null!=t.listener&&t.listener.dispose&&t.listener.dispose(t);for(let p=0;p<g.length;p++)g[p].dispose&&g[p].dispose(t);this.animState.trackEntryPool.free(t);break;case D.complete:null!=t.listener&&t.listener.complete&&t.listener.complete(t);for(let p=0;p<g.length;p++)g[p].complete&&g[p].complete(t);const H=Z.cj.toInt(t.loopsCount());t.onComplete&&this.deprecateStuff()&&t.onComplete(t.trackIndex,H),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(t.trackIndex,H);break;case D.event:const h=p[m+++2];null!=t.listener&&t.listener.event&&t.listener.event(t,h);for(let p=0;p<g.length;p++)g[p].event&&g[p].event(t,h);t.onEvent&&this.deprecateStuff()&&t.onEvent(t.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(t.trackIndex,h)}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}};let q=S;q.deprecatedWarning1=!1;var D=(p=>(p[p["start"]=0]="start",p[p["interrupt"]=1]="interrupt",p[p["end"]=2]="end",p[p["dispose"]=3]="dispose",p[p["complete"]=4]="complete",p[p["event"]=5]="event",p))(D||{});class I{start(p){}interrupt(p){}end(p){}dispose(p){}complete(p){}event(p,g){}}},429205:(p,g,m)=>{m.d(g,{Q:()=>H});const Z=class{constructor(p){if(this.animationToMixTime={},this.defaultMix=0,null==p)throw new Error("skeletonData cannot be null.");this.skeletonData=p}setMix(p,g,m){const Z=this.skeletonData.findAnimation(p);if(null==Z)throw new Error(`Animation not found: ${p}`);const H=this.skeletonData.findAnimation(g);if(null==H)throw new Error(`Animation not found: ${g}`);this.setMixWith(Z,H,m)}setMixByName(p,g,m){Z.deprecatedWarning1||(Z.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(p,g,m)}setMixWith(p,g,m){if(null==p)throw new Error("from cannot be null.");if(null==g)throw new Error("to cannot be null.");const Z=`${p.name}.${g.name}`;this.animationToMixTime[Z]=m}getMix(p,g){const m=`${p.name}.${g.name}`,Z=this.animationToMixTime[m];return void 0===Z?this.defaultMix:Z}};let H=Z;H.deprecatedWarning1=!1},149791:(p,g,m)=>{m.d(g,{q:()=>S}),m(448886);var Z=m(896019),H=m(695832),t=m(478477),h=m(203351),k=m(501930),n=m(600126);class S{constructor(p){this.atlas=p}newRegionAttachment(p,g,m){const Z=this.atlas.findRegion(m);if(null==Z)throw new Error(`Region not found in atlas: ${m} (region attachment: ${g})`);const H=new n.Q(g);return H.region=Z,H}newMeshAttachment(p,g,m){const Z=this.atlas.findRegion(m);if(null==Z)throw new Error(`Region not found in atlas: ${m} (mesh attachment: ${g})`);const H=new t.f(g);return H.region=Z,H}newBoundingBoxAttachment(p,g){return new Z.b(g)}newPathAttachment(p,g){return new h.H(g)}newPointAttachment(p,g){return new k.Y(g)}newClippingAttachment(p,g){return new H.K(g)}}},553750:(p,g,m)=>{m.d(g,{$:()=>t});var Z=m(316197),H=m(367866);class t{constructor(p,g,m){if(this.matrix=new Z.uq,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.skeleton=g,this.parent=m,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(p,g,m,Z,t,h,k){this.ax=p,this.ay=g,this.arotation=m,this.ascaleX=Z,this.ascaleY=t,this.ashearX=h,this.ashearY=k,this.appliedValid=!0;const n=this.parent,S=this.matrix,q=this.skeleton.scaleX,D=H.W0.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==n){const n=this.skeleton,I=m+90+k;return S.a=H.cj.cosDeg(m+h)*Z*q,S.c=H.cj.cosDeg(I)*t*q,S.b=H.cj.sinDeg(m+h)*Z*D,S.d=H.cj.sinDeg(I)*t*D,S.tx=p*q+n.x,void(S.ty=g*D+n.y)}let I=n.matrix.a,b=n.matrix.c,e=n.matrix.b,N=n.matrix.d;switch(S.tx=I*p+b*g+n.matrix.tx,S.ty=e*p+N*g+n.matrix.ty,this.data.transformMode){case H._C.Normal:{const p=m+90+k,g=H.cj.cosDeg(m+h)*Z,n=H.cj.cosDeg(p)*t,q=H.cj.sinDeg(m+h)*Z,D=H.cj.sinDeg(p)*t;return S.a=I*g+b*q,S.c=I*n+b*D,S.b=e*g+N*q,void(S.d=e*n+N*D)}case H._C.OnlyTranslation:{const p=m+90+k;S.a=H.cj.cosDeg(m+h)*Z,S.c=H.cj.cosDeg(p)*t,S.b=H.cj.sinDeg(m+h)*Z,S.d=H.cj.sinDeg(p)*t;break}case H._C.NoRotationOrReflection:{let p=I*I+e*e,g=0;p>1e-4?(p=Math.abs(I*N-b*e)/p,b=e*p,N=I*p,g=Math.atan2(e,I)*H.cj.radDeg):(I=0,e=0,g=90-Math.atan2(N,b)*H.cj.radDeg);const n=m+h-g,q=m+k-g+90,D=H.cj.cosDeg(n)*Z,d=H.cj.cosDeg(q)*t,Q=H.cj.sinDeg(n)*Z,$=H.cj.sinDeg(q)*t;S.a=I*D-b*Q,S.c=I*d-b*$,S.b=e*D+N*Q,S.d=e*d+N*$;break}case H._C.NoScale:case H._C.NoScaleOrReflection:{const p=H.cj.cosDeg(m),g=H.cj.sinDeg(m);let n=(I*p+b*g)/q,d=(e*p+N*g)/D,Q=Math.sqrt(n*n+d*d);Q>1e-5&&(Q=1/Q),n*=Q,d*=Q,Q=Math.sqrt(n*n+d*d),this.data.transformMode==H._C.NoScale&&I*N-b*e<0!=(H.W0.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(Q=-Q);const $=Math.PI/2+Math.atan2(d,n),w=Math.cos($)*Q,Y=Math.sin($)*Q,i=H.cj.cosDeg(h)*Z,P=H.cj.cosDeg(90+k)*t,J=H.cj.sinDeg(h)*Z,y=H.cj.sinDeg(90+k)*t;S.a=n*i+w*J,S.c=n*P+w*y,S.b=d*i+Y*J,S.d=d*P+Y*y;break}}S.a*=q,S.c*=q,S.b*=D,S.d*=D}setToSetupPose(){const p=this.data;this.x=p.x,this.y=p.y,this.rotation=p.rotation,this.scaleX=p.scaleX,this.scaleY=p.scaleY,this.shearX=p.shearX,this.shearY=p.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*H.cj.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*H.cj.radDeg}getWorldScaleX(){const p=this.matrix;return Math.sqrt(p.a*p.a+p.c*p.c)}getWorldScaleY(){const p=this.matrix;return Math.sqrt(p.b*p.b+p.d*p.d)}updateAppliedTransform(){this.appliedValid=!0;const p=this.parent,g=this.matrix;if(null==p)return this.ax=g.tx,this.ay=g.ty,this.arotation=Math.atan2(g.b,g.a)*H.cj.radDeg,this.ascaleX=Math.sqrt(g.a*g.a+g.b*g.b),this.ascaleY=Math.sqrt(g.c*g.c+g.d*g.d),this.ashearX=0,void(this.ashearY=Math.atan2(g.a*g.c+g.b*g.d,g.a*g.d-g.b*g.c)*H.cj.radDeg);const m=p.matrix,Z=1/(m.a*m.d-m.b*m.c),t=g.tx-m.tx,h=g.ty-m.ty;this.ax=t*m.d*Z-h*m.c*Z,this.ay=h*m.a*Z-t*m.b*Z;const k=Z*m.d,n=Z*m.a,S=Z*m.c,q=Z*m.b,D=k*g.a-S*g.b,I=k*g.c-S*g.d,b=n*g.b-q*g.a,e=n*g.d-q*g.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(D*D+b*b),this.ascaleX>1e-4){const p=D*e-I*b;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(D*I+b*e,p)*H.cj.radDeg,this.arotation=Math.atan2(b,D)*H.cj.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(I*I+e*e),this.ashearY=0,this.arotation=90-Math.atan2(e,I)*H.cj.radDeg}worldToLocal(p){const g=this.matrix,m=g.a,Z=g.c,H=g.b,t=g.d,h=1/(m*t-Z*H),k=p.x-g.tx,n=p.y-g.ty;return p.x=k*t*h-n*Z*h,p.y=n*m*h-k*H*h,p}localToWorld(p){const g=this.matrix,m=p.x,Z=p.y;return p.x=m*g.a+Z*g.c+g.tx,p.y=m*g.b+Z*g.d+g.ty,p}worldToLocalRotation(p){const g=H.cj.sinDeg(p),m=H.cj.cosDeg(p),Z=this.matrix;return Math.atan2(Z.a*g-Z.b*m,Z.d*m-Z.c*g)*H.cj.radDeg}localToWorldRotation(p){const g=H.cj.sinDeg(p),m=H.cj.cosDeg(p),Z=this.matrix;return Math.atan2(m*Z.b+g*Z.d,m*Z.a+g*Z.c)*H.cj.radDeg}rotateWorld(p){const g=this.matrix,m=g.a,Z=g.c,t=g.b,h=g.d,k=H.cj.cosDeg(p),n=H.cj.sinDeg(p);g.a=k*m-n*t,g.c=k*Z-n*h,g.b=n*m+k*t,g.d=n*Z+k*h,this.appliedValid=!1}}},9022:(p,g,m)=>{m.d(g,{h:()=>H});var Z=m(367866);class H{constructor(p,g,m){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Z._C.Normal,p<0)throw new Error("index must be >= 0.");if(null==g)throw new Error("name cannot be null.");this.index=p,this.name=g,this.parent=m}}},619352:(p,g,m)=>{m.d(g,{J:()=>Z});class Z{constructor(p,g){if(null==g)throw new Error("data cannot be null.");this.time=p,this.data=g}}},298248:(p,g,m)=>{m.d(g,{R:()=>Z});class Z{constructor(p){this.name=p}}},668989:(p,g,m)=>{m.d(g,{c:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.mix=p.mix,this.bendDirection=p.bendDirection,this.compress=p.compress,this.stretch=p.stretch,this.bones=new Array;for(let m=0;m<p.bones.length;m++)this.bones.push(g.findBone(p.bones[m].name));this.target=g.findBone(p.target.name)}getOrder(){return this.data.order}apply(){this.update()}update(){const p=this.target,g=this.bones;switch(g.length){case 1:this.apply1(g[0],p.worldX,p.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(g[0],g[1],p.worldX,p.worldY,this.bendDirection,this.stretch,this.mix)}}apply1(p,g,m,H,t,h,k){p.appliedValid||p.updateAppliedTransform();const n=p.parent.matrix,S=1/(n.a*n.d-n.b*n.c),q=g-n.tx,D=m-n.ty,I=(q*n.d-D*n.c)*S-p.ax,b=(D*n.a-q*n.b)*S-p.ay;let e=Math.atan2(b,I)*Z.cj.radDeg-p.ashearX-p.arotation;p.ascaleX<0&&(e+=180),e>180?e-=360:e<-180&&(e+=360);let N=p.ascaleX,d=p.ascaleY;if(H||t){const g=p.data.length*N,m=Math.sqrt(I*I+b*b);if(H&&m<g||t&&m>g&&g>1e-4){const p=(m/g-1)*k+1;N*=p,h&&(d*=p)}}p.updateWorldTransformWith(p.ax,p.ay,p.arotation+e*k,N,d,p.ashearX,p.ashearY)}apply2(p,g,m,H,t,h,k){if(0==k)return void g.updateWorldTransform();p.appliedValid||p.updateAppliedTransform(),g.appliedValid||g.updateAppliedTransform();const n=p.ax,S=p.ay;let q=p.ascaleX,D=q,I=p.ascaleY,b=g.ascaleX;const e=p.matrix;let N=0,d=0,Q=0;q<0?(q=-q,N=180,Q=-1):(N=0,Q=1),I<0&&(I=-I,Q=-Q),b<0?(b=-b,d=180):d=0;const $=g.ax;let w=0,Y=0,i=0,P=e.a,J=e.c,y=e.b,W=e.d;const v=Math.abs(q-I)<=1e-4;v?(w=g.ay,Y=P*$+J*w+e.tx,i=y*$+W*w+e.ty):(w=0,Y=P*$+e.tx,i=y*$+e.ty);const V=p.parent.matrix;P=V.a,J=V.c,y=V.b,W=V.d;const z=1/(P*W-J*y);let B=m-V.tx,u=H-V.ty;const a=(B*W-u*J)*z-n,F=(u*P-B*y)*z-S,X=a*a+F*F;B=Y-V.tx,u=i-V.ty;const K=(B*W-u*J)*z-n,j=(u*P-B*y)*z-S,r=Math.sqrt(K*K+j*j);let U=g.data.length*b,C=0,x=0;p:if(v){U*=q;let p=(X-r*r-U*U)/(2*r*U);p<-1?p=-1:p>1&&(p=1,h&&r+U>1e-4&&(D*=(Math.sqrt(X)/(r+U)-1)*k+1)),x=Math.acos(p)*t,P=r+U*p,J=U*Math.sin(x),C=Math.atan2(F*P-a*J,a*P+F*J)}else{P=q*U,J=I*U;const p=P*P,g=J*J,m=Math.atan2(F,a);y=g*r*r+p*X-p*g;const H=-2*g*r,h=g-p;if(W=H*H-4*h*y,W>=0){let p=Math.sqrt(W);H<0&&(p=-p),p=-(H+p)/2;const g=p/h,Z=y/p,k=Math.abs(g)<Math.abs(Z)?g:Z;if(k*k<=X){u=Math.sqrt(X-k*k)*t,C=m-Math.atan2(u,k),x=Math.atan2(u/I,(k-r)/q);break p}}let k=Z.cj.PI,n=r-P,S=n*n,D=0,b=0,e=r+P,N=e*e,d=0;y=-P*r/(p-g),y>=-1&&y<=1&&(y=Math.acos(y),B=P*Math.cos(y)+r,u=J*Math.sin(y),W=B*B+u*u,W<S&&(k=y,S=W,n=B,D=u),W>N&&(b=y,N=W,e=B,d=u)),X<=(S+N)/2?(C=m-Math.atan2(D*t,n),x=k*t):(C=m-Math.atan2(d*t,e),x=b*t)}const R=Math.atan2(w,$)*Q;let c=p.arotation;C=(C-R)*Z.cj.radDeg+N-c,C>180?C-=360:C<-180&&(C+=360),p.updateWorldTransformWith(n,S,c+C*k,D,p.ascaleY,0,0),c=g.arotation,x=((x+R)*Z.cj.radDeg-g.ashearX)*Q+d-c,x>180?x-=360:x<-180&&(x+=360),g.updateWorldTransformWith($,w,c+x*k,g.ascaleX,g.ascaleY,g.ashearX,g.ashearY)}}},498125:(p,g,m)=>{m.d(g,{Q:()=>Z});class Z{constructor(p){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=p}}},692984:(p,g,m)=>{m.d(g,{v:()=>k}),m(448886);var Z=m(367866),H=m(203351),t=(m(600126),m(54440));const h=class{constructor(p,g){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.bones=new Array;for(let m=0,Z=p.bones.length;m<Z;m++)this.bones.push(g.findBone(p.bones[m].name));this.target=g.findSlot(p.target.name),this.position=p.position,this.spacing=p.spacing,this.rotateMix=p.rotateMix,this.translateMix=p.translateMix}apply(){this.update()}update(){const p=this.target.getAttachment();if(!(p instanceof H.H))return;const g=this.rotateMix,m=this.translateMix,k=g>0;if(!(m>0||k))return;const n=this.data,S=n.spacingMode,q=S==t.K.Length,D=n.rotateMode,I=D==Z.Dr.Tangent,b=D==Z.Dr.ChainScale,e=this.bones.length,N=I?e:e+1,d=this.bones,Q=Z.Aq.setArraySize(this.spaces,N);let $=null;const w=this.spacing;if(b||q){b&&($=Z.Aq.setArraySize(this.lengths,e));for(let p=0,g=N-1;p<g;){const g=d[p],m=g.data.length;if(m<h.epsilon)b&&($[p]=0),Q[++p]=0;else{const Z=m*g.matrix.a,H=m*g.matrix.b,t=Math.sqrt(Z*Z+H*H);b&&($[p]=t),Q[++p]=(q?m+w:w)*t/m}}}else for(let p=1;p<N;p++)Q[p]=w;const Y=this.computeWorldPositions(p,N,I,n.positionMode==Z.pw.Percent,S==t.K.Percent);let i=Y[0],P=Y[1],J=n.offsetRotation,y=!1;if(0==J)y=D==Z.Dr.Chain;else{y=!1;const p=this.target.bone.matrix;J*=p.a*p.d-p.b*p.c>0?Z.cj.degRad:-Z.cj.degRad}for(let p=0,H=3;p<e;p++,H+=3){const t=d[p],h=t.matrix;h.tx+=(i-h.tx)*m,h.ty+=(P-h.ty)*m;const n=Y[H],S=Y[H+1],q=n-i,D=S-P;if(b){const m=$[p];if(0!=m){const p=(Math.sqrt(q*q+D*D)/m-1)*g+1;h.a*=p,h.b*=p}}if(i=n,P=S,k){const m=h.a,k=h.c,n=h.b,S=h.d;let b=0,e=0,N=0;if(I&&(b=I?Y[H-1]:0==Q[p+1]?Y[H+2]:Math.atan2(D,q)),b-=Math.atan2(n,m),y){e=Math.cos(b),N=Math.sin(b);const p=t.data.length;i+=(p*(e*m-N*n)-q)*g,P+=(p*(N*m+e*n)-D)*g}else b+=J;b>Z.cj.PI?b-=Z.cj.PI2:b<-Z.cj.PI&&(b+=Z.cj.PI2),b*=g,e=Math.cos(b),N=Math.sin(b),h.a=e*m-N*n,h.c=e*k-N*S,h.b=N*m+e*n,h.d=N*k+e*S}t.appliedValid=!1}}computeWorldPositions(p,g,m,H,t){const k=this.target;let n=this.position;const S=this.spaces,q=Z.Aq.setArraySize(this.positions,3*g+2);let D=null;const I=p.closed;let b=p.worldVerticesLength,e=b/6,N=h.NONE;if(!p.constantSpeed){const d=p.lengths;e-=I?1:2;const Q=d[e];if(H&&(n*=Q),t)for(let p=0;p<g;p++)S[p]*=Q;D=Z.Aq.setArraySize(this.world,8);for(let Z=0,H=0,t=0;Z<g;Z++,H+=3){const g=S[Z];n+=g;let $=n;if(I)$%=Q,$<0&&($+=Q),t=0;else{if($<0){N!=h.BEFORE&&(N=h.BEFORE,p.computeWorldVertices(k,2,4,D,0,2)),this.addBeforePosition($,D,0,q,H);continue}if($>Q){N!=h.AFTER&&(N=h.AFTER,p.computeWorldVertices(k,b-6,4,D,0,2)),this.addAfterPosition($-Q,D,0,q,H);continue}}for(;;t++){const p=d[t];if(!($>p)){if(0==t)$/=p;else{const g=d[t-1];$=($-g)/(p-g)}break}}t!=N&&(N=t,I&&t==e?(p.computeWorldVertices(k,b-4,4,D,0,2),p.computeWorldVertices(k,0,4,D,4,2)):p.computeWorldVertices(k,6*t+2,8,D,0,2)),this.addCurvePosition($,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],q,H,m||Z>0&&0==g)}return q}I?(b+=2,D=Z.Aq.setArraySize(this.world,b),p.computeWorldVertices(k,2,b-4,D,0,2),p.computeWorldVertices(k,0,2,D,b-4,2),D[b-2]=D[0],D[b-1]=D[1]):(e--,b-=4,D=Z.Aq.setArraySize(this.world,b),p.computeWorldVertices(k,2,b,D,0,2));const d=Z.Aq.setArraySize(this.curves,e);let Q=0,$=D[0],w=D[1],Y=0,i=0,P=0,J=0,y=0,W=0,v=0,V=0,z=0,B=0,u=0,a=0,F=0,X=0;for(let p=0,g=2;p<e;p++,g+=6)Y=D[g],i=D[g+1],P=D[g+2],J=D[g+3],y=D[g+4],W=D[g+5],v=.1875*($-2*Y+P),V=.1875*(w-2*i+J),z=.09375*(3*(Y-P)-$+y),B=.09375*(3*(i-J)-w+W),u=2*v+z,a=2*V+B,F=.75*(Y-$)+v+.16666667*z,X=.75*(i-w)+V+.16666667*B,Q+=Math.sqrt(F*F+X*X),F+=u,X+=a,u+=z,a+=B,Q+=Math.sqrt(F*F+X*X),F+=u,X+=a,Q+=Math.sqrt(F*F+X*X),F+=u+z,X+=a+B,Q+=Math.sqrt(F*F+X*X),d[p]=Q,$=y,w=W;if(H&&(n*=Q),t)for(let p=0;p<g;p++)S[p]*=Q;const K=this.segments;let j=0;for(let p=0,Z=0,H=0,t=0;p<g;p++,Z+=3){const g=S[p];n+=g;let h=n;if(I)h%=Q,h<0&&(h+=Q),H=0;else{if(h<0){this.addBeforePosition(h,D,0,q,Z);continue}if(h>Q){this.addAfterPosition(h-Q,D,b-4,q,Z);continue}}for(;;H++){const p=d[H];if(!(h>p)){if(0==H)h/=p;else{const g=d[H-1];h=(h-g)/(p-g)}break}}if(H!=N){N=H;let p=6*H;for($=D[p],w=D[p+1],Y=D[p+2],i=D[p+3],P=D[p+4],J=D[p+5],y=D[p+6],W=D[p+7],v=.03*($-2*Y+P),V=.03*(w-2*i+J),z=.006*(3*(Y-P)-$+y),B=.006*(3*(i-J)-w+W),u=2*v+z,a=2*V+B,F=.3*(Y-$)+v+.16666667*z,X=.3*(i-w)+V+.16666667*B,j=Math.sqrt(F*F+X*X),K[0]=j,p=1;p<8;p++)F+=u,X+=a,u+=z,a+=B,j+=Math.sqrt(F*F+X*X),K[p]=j;F+=u,X+=a,j+=Math.sqrt(F*F+X*X),K[8]=j,F+=u+z,X+=a+B,j+=Math.sqrt(F*F+X*X),K[9]=j,t=0}for(h*=j;;t++){const p=K[t];if(!(h>p)){if(0==t)h/=p;else{const g=K[t-1];h=t+(h-g)/(p-g)}break}}this.addCurvePosition(.1*h,$,w,Y,i,P,J,y,W,q,Z,m||p>0&&0==g)}return q}addBeforePosition(p,g,m,Z,H){const t=g[m],h=g[m+1],k=g[m+2]-t,n=g[m+3]-h,S=Math.atan2(n,k);Z[H]=t+p*Math.cos(S),Z[H+1]=h+p*Math.sin(S),Z[H+2]=S}addAfterPosition(p,g,m,Z,H){const t=g[m+2],h=g[m+3],k=t-g[m],n=h-g[m+1],S=Math.atan2(n,k);Z[H]=t+p*Math.cos(S),Z[H+1]=h+p*Math.sin(S),Z[H+2]=S}addCurvePosition(p,g,m,Z,H,t,h,k,n,S,q,D){(0==p||isNaN(p))&&(p=1e-4);const I=p*p,b=I*p,e=1-p,N=e*e,d=N*e,Q=e*p,$=3*Q,w=e*$,Y=$*p,i=g*d+Z*w+t*Y+k*b,P=m*d+H*w+h*Y+n*b;S[q]=i,S[q+1]=P,D&&(S[q+2]=Math.atan2(P-(m*N+H*Q*2+h*I),i-(g*N+Z*Q*2+t*I)))}getOrder(){return this.data.order}};let k=h;k.NONE=-1,k.BEFORE=-2,k.AFTER=-3,k.epsilon=1e-5},54440:(p,g,m)=>{m.d(g,{K:()=>H,r:()=>Z});class Z{constructor(p){this.order=0,this.bones=new Array,this.name=p}}var H=(p=>(p[p["Length"]=0]="Length",p[p["Fixed"]=1]="Fixed",p[p["Percent"]=2]="Percent",p))(H||{})},270873:(p,g,m)=>{m.d(g,{E:()=>b}),m(448886);var Z=m(367866),H=m(478477),t=m(203351),h=m(600126),k=m(553750),n=m(678216),S=m(668989),q=m(816361),D=m(692984);const I=class{constructor(p){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==p)throw new Error("data cannot be null.");this.data=p,this.bones=new Array;for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z;if(null==m.parent)Z=new k.$(m,this,null);else{const p=this.bones[m.parent.index];Z=new k.$(m,this,p),p.children.push(Z)}this.bones.push(Z)}this.slots=new Array,this.drawOrder=new Array;for(let g=0;g<p.slots.length;g++){const m=p.slots[g],Z=this.bones[m.boneData.index],H=new n.D(m,Z);this.slots.push(H),this.drawOrder.push(H)}this.ikConstraints=new Array;for(let g=0;g<p.ikConstraints.length;g++){const m=p.ikConstraints[g];this.ikConstraints.push(new S.c(m,this))}this.transformConstraints=new Array;for(let g=0;g<p.transformConstraints.length;g++){const m=p.transformConstraints[g];this.transformConstraints.push(new q.U(m,this))}this.pathConstraints=new Array;for(let g=0;g<p.pathConstraints.length;g++){const m=p.pathConstraints[g];this.pathConstraints.push(new D.v(m,this))}this.color=new Z.Q1(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0,this.updateCacheReset.length=0;const p=this.bones;for(let g=0,m=p.length;g<m;g++)p[g].sorted=!1;const g=this.ikConstraints,m=this.transformConstraints,Z=this.pathConstraints,H=g.length,t=m.length,h=Z.length,k=H+t+h;p:for(let p=0;p<k;p++){for(let m=0;m<H;m++){const Z=g[m];if(Z.data.order==p){this.sortIkConstraint(Z);continue p}}for(let g=0;g<t;g++){const Z=m[g];if(Z.data.order==p){this.sortTransformConstraint(Z);continue p}}for(let g=0;g<h;g++){const m=Z[g];if(m.data.order==p){this.sortPathConstraint(m);continue p}}}for(let g=0,m=p.length;g<m;g++)this.sortBone(p[g])}sortIkConstraint(p){const g=p.target;this.sortBone(g);const m=p.bones,Z=m[0];if(this.sortBone(Z),m.length>1){const p=m[m.length-1];this._updateCache.indexOf(p)>-1||this.updateCacheReset.push(p)}this._updateCache.push(p),this.sortReset(Z.children),m[m.length-1].sorted=!0}sortPathConstraint(p){const g=p.target,m=g.data.index,Z=g.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,m,Z),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,m,Z);for(let p=0,g=this.data.skins.length;p<g;p++)this.sortPathConstraintAttachment(this.data.skins[p],m,Z);const H=g.getAttachment();H instanceof t.H&&this.sortPathConstraintAttachmentWith(H,Z);const h=p.bones,k=h.length;for(let p=0;p<k;p++)this.sortBone(h[p]);this._updateCache.push(p);for(let p=0;p<k;p++)this.sortReset(h[p].children);for(let p=0;p<k;p++)h[p].sorted=!0}sortTransformConstraint(p){this.sortBone(p.target);const g=p.bones,m=g.length;if(p.data.local)for(let p=0;p<m;p++){const m=g[p];this.sortBone(m.parent),this._updateCache.indexOf(m)>-1||this.updateCacheReset.push(m)}else for(let p=0;p<m;p++)this.sortBone(g[p]);this._updateCache.push(p);for(let p=0;p<m;p++)this.sortReset(g[p].children);for(let p=0;p<m;p++)g[p].sorted=!0}sortPathConstraintAttachment(p,g,m){const Z=p.attachments[g];if(Z)for(const p in Z)this.sortPathConstraintAttachmentWith(Z[p],m)}sortPathConstraintAttachmentWith(p,g){if(!(p instanceof t.H))return;const m=p.bones;if(null==m)this.sortBone(g);else{const p=this.bones;let g=0;for(;g<m.length;){const Z=m[g++];for(let H=g+Z;g<H;g++){const Z=m[g];this.sortBone(p[Z])}}}}sortBone(p){if(p.sorted)return;const g=p.parent;null!=g&&this.sortBone(g),p.sorted=!0,this._updateCache.push(p)}sortReset(p){for(let g=0,m=p.length;g<m;g++){const m=p[g];m.sorted&&this.sortReset(m.children),m.sorted=!1}}updateWorldTransform(){const p=this.updateCacheReset;for(let g=0,m=p.length;g<m;g++){const m=p[g];m.ax=m.x,m.ay=m.y,m.arotation=m.rotation,m.ascaleX=m.scaleX,m.ascaleY=m.scaleY,m.ashearX=m.shearX,m.ashearY=m.shearY,m.appliedValid=!0}const g=this._updateCache;for(let p=0,m=g.length;p<m;p++)g[p].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){const p=this.bones;for(let g=0,m=p.length;g<m;g++)p[g].setToSetupPose();const g=this.ikConstraints;for(let p=0,m=g.length;p<m;p++){const m=g[p];m.bendDirection=m.data.bendDirection,m.mix=m.data.mix}const m=this.transformConstraints;for(let p=0,g=m.length;p<g;p++){const g=m[p],Z=g.data;g.rotateMix=Z.rotateMix,g.translateMix=Z.translateMix,g.scaleMix=Z.scaleMix,g.shearMix=Z.shearMix}const Z=this.pathConstraints;for(let p=0,g=Z.length;p<g;p++){const g=Z[p],m=g.data;g.position=m.position,g.spacing=m.spacing,g.rotateMix=m.rotateMix,g.translateMix=m.translateMix}}setSlotsToSetupPose(){const p=this.slots;Z.Aq.arrayCopy(p,0,this.drawOrder,0,p.length);for(let g=0,m=p.length;g<m;g++)p[g].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findBoneIndex(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++)if(g[m].data.name==p)return m;return-1}findSlot(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findSlotIndex(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++)if(g[m].data.name==p)return m;return-1}setSkinByName(p){const g=this.data.findSkin(p);if(null==g)throw new Error(`Skin not found: ${p}`);this.setSkin(g)}setSkin(p){if(null!=p)if(null!=this.skin)p.attachAll(this,this.skin);else{const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m],H=Z.data.attachmentName;if(null!=H){const g=p.getAttachment(m,H);null!=g&&Z.setAttachment(g)}}}this.skin=p}getAttachmentByName(p,g){return this.getAttachment(this.data.findSlotIndex(p),g)}getAttachment(p,g){if(null==g)throw new Error("attachmentName cannot be null.");if(null!=this.skin){const m=this.skin.getAttachment(p,g);if(null!=m)return m}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(p,g):null}setAttachment(p,g){if(null==p)throw new Error("slotName cannot be null.");const m=this.slots;for(let Z=0,H=m.length;Z<H;Z++){const H=m[Z];if(H.data.name==p){let m=null;if(null!=g&&(m=this.getAttachment(Z,g),null==m))throw new Error(`Attachment not found: ${g}, for slot: ${p}`);return void H.setAttachment(m)}}throw new Error(`Slot not found: ${p}`)}findIkConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.ikConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findTransformConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.transformConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findPathConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}getBounds(p,g,m){if(null==p)throw new Error("offset cannot be null.");if(null==g)throw new Error("size cannot be null.");const t=this.drawOrder;let k=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,q=Number.NEGATIVE_INFINITY;for(let p=0,g=t.length;p<g;p++){const g=t[p];let D=0,I=null;const b=g.getAttachment();if(b instanceof h.Q)D=8,I=Z.Aq.setArraySize(m,D,0),b.computeWorldVertices(g.bone,I,0,2);else if(b instanceof H.f){const p=b;D=p.worldVerticesLength,I=Z.Aq.setArraySize(m,D,0),p.computeWorldVertices(g,0,D,I,0,2)}if(null!=I)for(let p=0,g=I.length;p<g;p+=2){const g=I[p],m=I[p+1];k=Math.min(k,g),n=Math.min(n,m),S=Math.max(S,g),q=Math.max(q,m)}}p.set(k,n),g.set(S-k,q-n)}update(p){this.time+=p}get flipX(){return-1==this.scaleX}set flipX(p){I.deprecatedWarning1||(I.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=p?1:-1}get flipY(){return-1==this.scaleY}set flipY(p){I.deprecatedWarning1||(I.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=p?1:-1}};let b=I;b.deprecatedWarning1=!1},953070:(p,g,m)=>{m.d(g,{V:()=>H});var Z=m(367866);class H extends Z.S3{}},769721:(p,g,m)=>{m.d(g,{Y:()=>Z});class Z{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findBoneIndex(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}findSlot(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findSlotIndex(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}findSkin(p){if(null==p)throw new Error("skinName cannot be null.");const g=this.skins;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findEvent(p){if(null==p)throw new Error("eventDataName cannot be null.");const g=this.events;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findAnimation(p){if(null==p)throw new Error("animationName cannot be null.");const g=this.animations;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findIkConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.ikConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findTransformConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.transformConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findPathConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findPathConstraintIndex(p){if(null==p)throw new Error("pathConstraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}}},896015:(p,g,m)=>{m.d(g,{m:()=>N});var Z=m(619352),H=m(769721),t=m(150424),h=m(9022),k=m(498125),n=m(668585),S=m(54440),q=m(143535),D=m(298248),I=m(308754),b=m(367866),e=m(316197);class N{constructor(p){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=p}readSkeletonData(p){const g=this.scale,m=new H.Y,Z="string"==typeof p?JSON.parse(p):p,I=Z.skeleton;if(null!=I&&(m.hash=I.hash,m.version=I.spine,m.width=I.width,m.height=I.height,m.fps=I.fps,m.imagesPath=I.images),Z.bones)for(let p=0;p<Z.bones.length;p++){const H=Z.bones[p];let t=null;const k=this.getValue(H,"parent",null);if(null!=k&&(t=m.findBone(k),null==t))throw new Error(`Parent bone not found: ${k}`);const n=new h.h(m.bones.length,H.name,t);n.length=this.getValue(H,"length",0)*g,n.x=this.getValue(H,"x",0)*g,n.y=this.getValue(H,"y",0)*g,n.rotation=this.getValue(H,"rotation",0),n.scaleX=this.getValue(H,"scaleX",1),n.scaleY=this.getValue(H,"scaleY",1),n.shearX=this.getValue(H,"shearX",0),n.shearY=this.getValue(H,"shearY",0),n.transformMode=N.transformModeFromString(this.getValue(H,"transform","normal")),m.bones.push(n)}if(Z.slots)for(let p=0;p<Z.slots.length;p++){const g=Z.slots[p],H=g.name,h=g.bone,k=m.findBone(h);if(null==k)throw new Error(`Slot bone not found: ${h}`);const n=new t.P(m.slots.length,H,k),S=this.getValue(g,"color",null);null!=S&&n.color.setFromString(S);const q=this.getValue(g,"dark",null);null!=q&&(n.darkColor=new b.Q1(1,1,1,1),n.darkColor.setFromString(q)),n.attachmentName=this.getValue(g,"attachment",null),n.blendMode=N.blendModeFromString(this.getValue(g,"blend","normal")),m.slots.push(n)}if(Z.ik)for(let p=0;p<Z.ik.length;p++){const g=Z.ik[p],H=new k.Q(g.name);H.order=this.getValue(g,"order",0);for(let p=0;p<g.bones.length;p++){const Z=g.bones[p],t=m.findBone(Z);if(null==t)throw new Error(`IK bone not found: ${Z}`);H.bones.push(t)}const t=g.target;if(H.target=m.findBone(t),null==H.target)throw new Error(`IK target bone not found: ${t}`);H.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,H.mix=this.getValue(g,"mix",1),m.ikConstraints.push(H)}if(Z.transform)for(let p=0;p<Z.transform.length;p++){const H=Z.transform[p],t=new n._(H.name);t.order=this.getValue(H,"order",0);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(null==Z)throw new Error(`Transform constraint bone not found: ${g}`);t.bones.push(Z)}const h=H.target;if(t.target=m.findBone(h),null==t.target)throw new Error(`Transform constraint target bone not found: ${h}`);t.local=this.getValue(H,"local",!1),t.relative=this.getValue(H,"relative",!1),t.offsetRotation=this.getValue(H,"rotation",0),t.offsetX=this.getValue(H,"x",0)*g,t.offsetY=this.getValue(H,"y",0)*g,t.offsetScaleX=this.getValue(H,"scaleX",0),t.offsetScaleY=this.getValue(H,"scaleY",0),t.offsetShearY=this.getValue(H,"shearY",0),t.rotateMix=this.getValue(H,"rotateMix",1),t.translateMix=this.getValue(H,"translateMix",1),t.scaleMix=this.getValue(H,"scaleMix",1),t.shearMix=this.getValue(H,"shearMix",1),m.transformConstraints.push(t)}if(Z.path)for(let p=0;p<Z.path.length;p++){const H=Z.path[p],t=new S.r(H.name);t.order=this.getValue(H,"order",0);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(null==Z)throw new Error(`Transform constraint bone not found: ${g}`);t.bones.push(Z)}const h=H.target;if(t.target=m.findSlot(h),null==t.target)throw new Error(`Path target slot not found: ${h}`);t.positionMode=N.positionModeFromString(this.getValue(H,"positionMode","percent")),t.spacingMode=N.spacingModeFromString(this.getValue(H,"spacingMode","length")),t.rotateMode=N.rotateModeFromString(this.getValue(H,"rotateMode","tangent")),t.offsetRotation=this.getValue(H,"rotation",0),t.position=this.getValue(H,"position",0),t.positionMode==b.pw.Fixed&&(t.position*=g),t.spacing=this.getValue(H,"spacing",0),t.spacingMode!=S.K.Length&&t.spacingMode!=S.K.Fixed||(t.spacing*=g),t.rotateMix=this.getValue(H,"rotateMix",1),t.translateMix=this.getValue(H,"translateMix",1),m.pathConstraints.push(t)}if(Z.skins)for(const p in Z.skins){const g=Z.skins[p],H=new q.M(p);for(const p in g){const Z=m.findSlotIndex(p);if(-1==Z)throw new Error(`Slot not found: ${p}`);const t=g[p];for(const p in t){const g=this.readAttachment(t[p],H,Z,p,m);null!=g&&H.addAttachment(Z,p,g)}}m.skins.push(H),"default"==H.name&&(m.defaultSkin=H)}for(let p=0,g=this.linkedMeshes.length;p<g;p++){const g=this.linkedMeshes[p],Z=null==g.skin?m.defaultSkin:m.findSkin(g.skin);if(null==Z)throw new Error(`Skin not found: ${g.skin}`);const H=Z.getAttachment(g.slotIndex,g.parent);if(null==H)throw new Error(`Parent mesh not found: ${g.parent}`);g.mesh.setParentMesh(H)}if(this.linkedMeshes.length=0,Z.events)for(const p in Z.events){const g=Z.events[p],H=new D.R(p);H.intValue=this.getValue(g,"int",0),H.floatValue=this.getValue(g,"float",0),H.stringValue=this.getValue(g,"string",""),H.audioPath=this.getValue(g,"audio",null),null!=H.audioPath&&(H.volume=this.getValue(g,"volume",1),H.balance=this.getValue(g,"balance",0)),m.events.push(H)}if(Z.animations)for(const p in Z.animations){const g=Z.animations[p];this.readAnimation(g,p,m)}return m}readAttachment(p,g,m,Z,H){const t=this.scale;switch(Z=this.getValue(p,"name",Z),this.getValue(p,"type","region")){case"region":{const m=this.getValue(p,"path",Z),H=this.attachmentLoader.newRegionAttachment(g,Z,m);if(null==H)return null;H.path=m,H.x=this.getValue(p,"x",0)*t,H.y=this.getValue(p,"y",0)*t,H.scaleX=this.getValue(p,"scaleX",1),H.scaleY=this.getValue(p,"scaleY",1),H.rotation=this.getValue(p,"rotation",0),H.width=p.width*t,H.height=p.height*t;const h=this.getValue(p,"color",null);return null!=h&&H.color.setFromString(h),H}case"boundingbox":{const m=this.attachmentLoader.newBoundingBoxAttachment(g,Z);if(null==m)return null;this.readVertices(p,m,p.vertexCount<<1);const H=this.getValue(p,"color",null);return null!=H&&m.color.setFromString(H),m}case"mesh":case"linkedmesh":{const H=this.getValue(p,"path",Z),t=this.attachmentLoader.newMeshAttachment(g,Z,H);if(null==t)return null;t.path=H;const h=this.getValue(p,"color",null);null!=h&&t.color.setFromString(h);const k=this.getValue(p,"parent",null);if(null!=k)return t.inheritDeform=this.getValue(p,"deform",!0),this.linkedMeshes.push(new d(t,this.getValue(p,"skin",null),m,k)),t;const n=p.uvs;return this.readVertices(p,t,n.length),t.triangles=p.triangles,t.regionUVs=new Float32Array(n),t.hullLength=2*this.getValue(p,"hull",0),t}case"path":{const m=this.attachmentLoader.newPathAttachment(g,Z);if(null==m)return null;m.closed=this.getValue(p,"closed",!1),m.constantSpeed=this.getValue(p,"constantSpeed",!0);const H=p.vertexCount;this.readVertices(p,m,H<<1);const h=b.Aq.newArray(H/3,0);for(let g=0;g<p.lengths.length;g++)h[g]=p.lengths[g]*t;m.lengths=h;const k=this.getValue(p,"color",null);return null!=k&&m.color.setFromString(k),m}case"point":{const m=this.attachmentLoader.newPointAttachment(g,Z);if(null==m)return null;m.x=this.getValue(p,"x",0)*t,m.y=this.getValue(p,"y",0)*t,m.rotation=this.getValue(p,"rotation",0);const H=this.getValue(p,"color",null);return null!=H&&m.color.setFromString(H),m}case"clipping":{const m=this.attachmentLoader.newClippingAttachment(g,Z);if(null==m)return null;const t=this.getValue(p,"end",null);if(null!=t){const p=H.findSlot(t);if(null==p)throw new Error(`Clipping end slot not found: ${t}`);m.endSlot=p}const h=p.vertexCount;this.readVertices(p,m,h<<1);const k=this.getValue(p,"color",null);return null!=k&&m.color.setFromString(k),m}}return null}readVertices(p,g,m){const Z=this.scale;g.worldVerticesLength=m;const H=p.vertices;if(m==H.length){const p=b.Aq.toFloatArray(H);if(1!=Z)for(let g=0,m=H.length;g<m;g++)p[g]*=Z;return void(g.vertices=p)}const t=new Array,h=new Array;for(let p=0,g=H.length;p<g;){const g=H[p++];h.push(g);for(let m=p+4*g;p<m;p+=4)h.push(H[p]),t.push(H[p+1]*Z),t.push(H[p+2]*Z),t.push(H[p+3])}g.bones=h,g.vertices=b.Aq.toFloatArray(t)}readAnimation(p,g,m){const H=this.scale,t=new Array;let h=0;if(p.slots)for(const g in p.slots){const Z=p.slots[g],H=m.findSlotIndex(g);if(-1==H)throw new Error(`Slot not found: ${g}`);for(const p in Z){const m=Z[p];if("attachment"==p){const p=new I.zK(m.length);p.slotIndex=H;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z];p.setFrame(g++,H.time,H.name)}t.push(p),h=Math.max(h,p.frames[p.getFrameCount()-1])}else if("color"==p){const p=new I.J9(m.length);p.slotIndex=H;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z],t=new b.Q1;t.setFromString(H.color||"ffffffff"),p.setFrame(g,H.time,t.r,t.g,t.b,t.a),this.readCurve(H,p,g),g++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.J9.ENTRIES])}else{if("twoColor"!=p)throw new Error(`Invalid timeline type for a slot: ${p} (${g})`);{const p=new I.pv(m.length);p.slotIndex=H;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z],t=new b.Q1,h=new b.Q1;t.setFromString(H.light),h.setFromString(H.dark),p.setFrame(g,H.time,t.r,t.g,t.b,t.a,h.r,h.g,h.b),this.readCurve(H,p,g),g++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.pv.ENTRIES])}}}}if(p.bones)for(const g in p.bones){const Z=p.bones[g],k=m.findBoneIndex(g);if(-1==k)throw new Error(`Bone not found: ${g}`);for(const p in Z){const m=Z[p];if("rotate"===p){const p=new I.NQ(m.length);p.boneIndex=k;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z];p.setFrame(g,H.time,H.angle),this.readCurve(H,p,g),g++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.NQ.ENTRIES])}else{if("translate"!==p&&"scale"!==p&&"shear"!==p)throw new Error(`Invalid timeline type for a bone: ${p} (${g})`);{let g=null,Z=1;"scale"===p?g=new I.i9(m.length):"shear"===p?g=new I.$l(m.length):(g=new I.Sr(m.length),Z=H),g.boneIndex=k;let n=0;for(let p=0;p<m.length;p++){const H=m[p],t=this.getValue(H,"x",0),h=this.getValue(H,"y",0);g.setFrame(n,H.time,t*Z,h*Z),this.readCurve(H,g,n),n++}t.push(g),h=Math.max(h,g.frames[(g.getFrameCount()-1)*I.Sr.ENTRIES])}}}}if(p.ik)for(const g in p.ik){const Z=p.ik[g],H=m.findIkConstraint(g),k=new I.pA(Z.length);k.ikConstraintIndex=m.ikConstraints.indexOf(H);let n=0;for(let p=0;p<Z.length;p++){const g=Z[p];k.setFrame(n,g.time,this.getValue(g,"mix",1),this.getValue(g,"bendPositive",!0)?1:-1,this.getValue(g,"compress",!1),this.getValue(g,"stretch",!1)),this.readCurve(g,k,n),n++}t.push(k),h=Math.max(h,k.frames[(k.getFrameCount()-1)*I.pA.ENTRIES])}if(p.transform)for(const g in p.transform){const Z=p.transform[g],H=m.findTransformConstraint(g),k=new I.To(Z.length);k.transformConstraintIndex=m.transformConstraints.indexOf(H);let n=0;for(let p=0;p<Z.length;p++){const g=Z[p];k.setFrame(n,g.time,this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1),this.getValue(g,"scaleMix",1),this.getValue(g,"shearMix",1)),this.readCurve(g,k,n),n++}t.push(k),h=Math.max(h,k.frames[(k.getFrameCount()-1)*I.To.ENTRIES])}if(p.paths)for(const g in p.paths){const Z=p.paths[g],k=m.findPathConstraintIndex(g);if(-1==k)throw new Error(`Path constraint not found: ${g}`);const n=m.pathConstraints[k];for(const p in Z){const g=Z[p];if("position"===p||"spacing"===p){let m=null,Z=1;"spacing"===p?(m=new I.vl(g.length),n.spacingMode!=S.K.Length&&n.spacingMode!=S.K.Fixed||(Z=H)):(m=new I.vz(g.length),n.positionMode==b.pw.Fixed&&(Z=H)),m.pathConstraintIndex=k;let q=0;for(let H=0;H<g.length;H++){const t=g[H];m.setFrame(q,t.time,this.getValue(t,p,0)*Z),this.readCurve(t,m,q),q++}t.push(m),h=Math.max(h,m.frames[(m.getFrameCount()-1)*I.vz.ENTRIES])}else if("mix"===p){const p=new I.I6(g.length);p.pathConstraintIndex=k;let m=0;for(let Z=0;Z<g.length;Z++){const H=g[Z];p.setFrame(m,H.time,this.getValue(H,"rotateMix",1),this.getValue(H,"translateMix",1)),this.readCurve(H,p,m),m++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.I6.ENTRIES])}}}if(p.deform)for(const g in p.deform){const Z=p.deform[g],k=m.findSkin(g);if(null!=k)for(const p in Z){const g=Z[p],n=m.findSlotIndex(p);if(-1==n)throw new Error(`Slot not found: ${g.name}`);for(const p in g){const m=g[p],Z=k.getAttachment(n,p);if(null==Z)throw new Error(`Deform attachment not found: ${m.name}`);const S=null!=Z.bones,q=Z.vertices,D=S?q.length/3*2:q.length,e=new I.jQ(m.length);e.slotIndex=n,e.attachment=Z;let N=0;for(let p=0;p<m.length;p++){const g=m[p];let Z;const t=this.getValue(g,"vertices",null);if(null==t)Z=S?b.Aq.newFloatArray(D):q;else{Z=b.Aq.newFloatArray(D);const p=this.getValue(g,"offset",0);if(b.Aq.arrayCopy(t,0,Z,p,t.length),1!=H)for(let g=p,m=g+t.length;g<m;g++)Z[g]*=H;if(!S)for(let p=0;p<D;p++)Z[p]+=q[p]}e.setFrame(N,g.time,Z),this.readCurve(g,e,N),N++}t.push(e),h=Math.max(h,e.frames[e.getFrameCount()-1])}}else if(b.W0.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${g}`)}let k=p.drawOrder;if(null==k&&(k=p.draworder),null!=k){const p=new I.Kn(k.length),g=m.slots.length;let Z=0;for(let H=0;H<k.length;H++){const t=k[H];let h=null;const n=this.getValue(t,"offsets",null);if(null!=n){h=b.Aq.newArray(g,-1);const p=b.Aq.newArray(g-n.length,0);let Z=0,H=0;for(let g=0;g<n.length;g++){const t=n[g],k=m.findSlotIndex(t.slot);if(-1==k)throw new Error(`Slot not found: ${t.slot}`);for(;Z!=k;)p[H++]=Z++;h[Z+t.offset]=Z++}for(;Z<g;)p[H++]=Z++;for(let m=g-1;m>=0;m--)-1==h[m]&&(h[m]=p[--H])}p.setFrame(Z++,t.time,h)}t.push(p),h=Math.max(h,p.frames[p.getFrameCount()-1])}if(p.events){const g=new I.qs(p.events.length);let H=0;for(let t=0;t<p.events.length;t++){const h=p.events[t],k=m.findEvent(h.name);if(null==k)throw new Error(`Event not found: ${h.name}`);const n=new Z.J(b.Aq.toSinglePrecision(h.time),k);n.intValue=this.getValue(h,"int",k.intValue),n.floatValue=this.getValue(h,"float",k.floatValue),n.stringValue=this.getValue(h,"string",k.stringValue),null!=n.data.audioPath&&(n.volume=this.getValue(h,"volume",1),n.balance=this.getValue(h,"balance",0)),g.setFrame(H++,n)}t.push(g),h=Math.max(h,g.frames[g.getFrameCount()-1])}if(isNaN(h))throw new Error("Error while parsing animation, duration is NaN");m.animations.push(new I.X5(g,t,h))}readCurve(p,g,m){if(p.curve)if("stepped"===p.curve)g.setStepped(m);else if("[object Array]"===Object.prototype.toString.call(p.curve)){const Z=p.curve;g.setCurve(m,Z[0],Z[1],Z[2],Z[3])}}getValue(p,g,m){return void 0!==p[g]?p[g]:m}static blendModeFromString(p){if("normal"==(p=p.toLowerCase()))return e.B9.NORMAL;if("additive"==p)return e.B9.ADD;if("multiply"==p)return e.B9.MULTIPLY;if("screen"==p)return e.B9.SCREEN;throw new Error(`Unknown blend mode: ${p}`)}static positionModeFromString(p){if("fixed"==(p=p.toLowerCase()))return b.pw.Fixed;if("percent"==p)return b.pw.Percent;throw new Error(`Unknown position mode: ${p}`)}static spacingModeFromString(p){if("length"==(p=p.toLowerCase()))return S.K.Length;if("fixed"==p)return S.K.Fixed;if("percent"==p)return S.K.Percent;throw new Error(`Unknown position mode: ${p}`)}static rotateModeFromString(p){if("tangent"==(p=p.toLowerCase()))return b.Dr.Tangent;if("chain"==p)return b.Dr.Chain;if("chainscale"==p)return b.Dr.ChainScale;throw new Error(`Unknown rotate mode: ${p}`)}static transformModeFromString(p){if("normal"==(p=p.toLowerCase()))return b._C.Normal;if("onlytranslation"==p)return b._C.OnlyTranslation;if("norotationorreflection"==p)return b._C.NoRotationOrReflection;if("noscale"==p)return b._C.NoScale;if("noscaleorreflection"==p)return b._C.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${p}`)}}class d{constructor(p,g,m,Z){this.mesh=p,this.skin=g,this.slotIndex=m,this.parent=Z}}},143535:(p,g,m)=>{m.d(g,{M:()=>Z});class Z{constructor(p){if(this.attachments=new Array,null==p)throw new Error("name cannot be null.");this.name=p}addAttachment(p,g,m){if(null==m)throw new Error("attachment cannot be null.");const Z=this.attachments;p>=Z.length&&(Z.length=p+1),Z[p]||(Z[p]={}),Z[p][g]=m}getAttachment(p,g){const m=this.attachments[p];return m?m[g]:null}attachAll(p,g){let m=0;for(let Z=0;Z<p.slots.length;Z++){const H=p.slots[Z],t=H.getAttachment();if(t&&m<g.attachments.length){const p=g.attachments[m];for(const g in p)if(t==p[g]){const p=this.getAttachment(m,g);null!=p&&H.setAttachment(p);break}}m++}}}},678216:(p,g,m)=>{m.d(g,{D:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.attachmentVertices=new Array,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("bone cannot be null.");this.data=p,this.bone=g,this.color=new Z.Q1,this.darkColor=null==p.darkColor?null:new Z.Q1,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(p){this.attachment!=p&&(this.attachment=p,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}setAttachmentTime(p){this.attachmentTime=this.bone.skeleton.time-p}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}},150424:(p,g,m)=>{m.d(g,{P:()=>H});var Z=m(367866);class H{constructor(p,g,m){if(this.color=new Z.Q1(1,1,1,1),p<0)throw new Error("index must be >= 0.");if(null==g)throw new Error("name cannot be null.");if(null==m)throw new Error("boneData cannot be null.");this.index=p,this.name=g,this.boneData=m}}},816361:(p,g,m)=>{m.d(g,{U:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Z.I9,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.rotateMix=p.rotateMix,this.translateMix=p.translateMix,this.scaleMix=p.scaleMix,this.shearMix=p.shearMix,this.bones=new Array;for(let m=0;m<p.bones.length;m++)this.bones.push(g.findBone(p.bones[m].name));this.target=g.findBone(p.target.name)}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,H=this.shearMix,t=this.target,h=t.matrix,k=h.a,n=h.c,S=h.b,q=h.d,D=k*q-n*S>0?Z.cj.degRad:-Z.cj.degRad,I=this.data.offsetRotation*D,b=this.data.offsetShearY*D,e=this.bones;for(let h=0,D=e.length;h<D;h++){const D=e[h];let N=!1;const d=D.matrix;if(0!=p){const g=d.a,m=d.c,H=d.b,t=d.d;let h=Math.atan2(S,k)-Math.atan2(H,g)+I;h>Z.cj.PI?h-=Z.cj.PI2:h<-Z.cj.PI&&(h+=Z.cj.PI2),h*=p;const n=Math.cos(h),q=Math.sin(h);d.a=n*g-q*H,d.c=n*m-q*t,d.b=q*g+n*H,d.d=q*m+n*t,N=!0}if(0!=g){const p=this.temp;t.localToWorld(p.set(this.data.offsetX,this.data.offsetY)),d.tx+=(p.x-d.tx)*g,d.ty+=(p.y-d.ty)*g,N=!0}if(m>0){let p=Math.sqrt(d.a*d.a+d.b*d.b),g=Math.sqrt(k*k+S*S);p>1e-5&&(p=(p+(g-p+this.data.offsetScaleX)*m)/p),d.a*=p,d.b*=p,p=Math.sqrt(d.c*d.c+d.d*d.d),g=Math.sqrt(n*n+q*q),p>1e-5&&(p=(p+(g-p+this.data.offsetScaleY)*m)/p),d.c*=p,d.d*=p,N=!0}if(H>0){const p=d.c,g=d.d,m=Math.atan2(g,p);let t=Math.atan2(q,n)-Math.atan2(S,k)-(m-Math.atan2(d.b,d.a));t>Z.cj.PI?t-=Z.cj.PI2:t<-Z.cj.PI&&(t+=Z.cj.PI2),t=m+(t+b)*H;const h=Math.sqrt(p*p+g*g);d.c=Math.cos(t)*h,d.d=Math.sin(t)*h,N=!0}N&&(D.appliedValid=!1)}}applyRelativeWorld(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,H=this.shearMix,t=this.target,h=t.matrix,k=h.a,n=h.c,S=h.b,q=h.d,D=k*q-n*S>0?Z.cj.degRad:-Z.cj.degRad,I=this.data.offsetRotation*D,b=this.data.offsetShearY*D,e=this.bones;for(let h=0,D=e.length;h<D;h++){const D=e[h];let N=!1;const d=D.matrix;if(0!=p){const g=d.a,m=d.c,H=d.b,t=d.d;let h=Math.atan2(S,k)+I;h>Z.cj.PI?h-=Z.cj.PI2:h<-Z.cj.PI&&(h+=Z.cj.PI2),h*=p;const n=Math.cos(h),q=Math.sin(h);d.a=n*g-q*H,d.c=n*m-q*t,d.b=q*g+n*H,d.d=q*m+n*t,N=!0}if(0!=g){const p=this.temp;t.localToWorld(p.set(this.data.offsetX,this.data.offsetY)),d.tx+=p.x*g,d.ty+=p.y*g,N=!0}if(m>0){let p=(Math.sqrt(k*k+S*S)-1+this.data.offsetScaleX)*m+1;d.a*=p,d.b*=p,p=(Math.sqrt(n*n+q*q)-1+this.data.offsetScaleY)*m+1,d.c*=p,d.d*=p,N=!0}if(H>0){let p=Math.atan2(q,n)-Math.atan2(S,k);p>Z.cj.PI?p-=Z.cj.PI2:p<-Z.cj.PI&&(p+=Z.cj.PI2);const g=d.c,m=d.d;p=Math.atan2(m,g)+(p-Z.cj.PI/2+b)*H;const t=Math.sqrt(g*g+m*m);d.c=Math.cos(p)*t,d.d=Math.sin(p)*t,N=!0}N&&(D.appliedValid=!1)}}applyAbsoluteLocal(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,Z=this.shearMix,H=this.target;H.appliedValid||H.updateAppliedTransform();const t=this.bones;for(let h=0,k=t.length;h<k;h++){const k=t[h];k.appliedValid||k.updateAppliedTransform();let n=k.arotation;if(0!=p){let g=H.arotation-n+this.data.offsetRotation;g-=360*(16384-(16384.499999999996-g/360|0)),n+=g*p}let S=k.ax,q=k.ay;0!=g&&(S+=(H.ax-S+this.data.offsetX)*g,q+=(H.ay-q+this.data.offsetY)*g);let D=k.ascaleX,I=k.ascaleY;m>0&&(D>1e-5&&(D=(D+(H.ascaleX-D+this.data.offsetScaleX)*m)/D),I>1e-5&&(I=(I+(H.ascaleY-I+this.data.offsetScaleY)*m)/I));const b=k.ashearY;if(Z>0){let p=H.ashearY-b+this.data.offsetShearY;p-=360*(16384-(16384.499999999996-p/360|0)),k.shearY+=p*Z}k.updateWorldTransformWith(S,q,n,D,I,k.ashearX,b)}}applyRelativeLocal(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,Z=this.shearMix,H=this.target;H.appliedValid||H.updateAppliedTransform();const t=this.bones;for(let h=0,k=t.length;h<k;h++){const k=t[h];k.appliedValid||k.updateAppliedTransform();let n=k.arotation;0!=p&&(n+=(H.arotation+this.data.offsetRotation)*p);let S=k.ax,q=k.ay;0!=g&&(S+=(H.ax+this.data.offsetX)*g,q+=(H.ay+this.data.offsetY)*g);let D=k.ascaleX,I=k.ascaleY;m>0&&(D>1e-5&&(D*=(H.ascaleX-1+this.data.offsetScaleX)*m+1),I>1e-5&&(I*=(H.ascaleY-1+this.data.offsetScaleY)*m+1));let b=k.ashearY;Z>0&&(b+=(H.ashearY+this.data.offsetShearY)*Z),k.updateWorldTransformWith(S,q,n,D,I,k.ashearX,b)}}getOrder(){return this.data.order}}},668585:(p,g,m)=>{m.d(g,{_:()=>Z});class Z{constructor(p){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==p)throw new Error("name cannot be null.");this.name=p}}},448886:(p,g,m)=>{m.d(g,{e:()=>t,o:()=>Z});class Z{constructor(p){if(null==p)throw new Error("name cannot be null.");this.name=p}}const H=class extends Z{constructor(p){super(p),this.id=(65535&H.nextID++)<<11,this.worldVerticesLength=0}computeWorldVerticesOld(p,g){this.computeWorldVertices(p,0,this.worldVerticesLength,g,0,2)}computeWorldVertices(p,g,m,Z,H,t){m=H+(m>>1)*t;const h=p.bone.skeleton,k=p.attachmentVertices;let n=this.vertices;const S=this.bones;if(null==S){k.length>0&&(n=k);const h=p.bone.matrix,S=h.tx,q=h.ty,D=h.a,I=h.c,b=h.b,e=h.d;for(let p=g,h=H;h<m;p+=2,h+=t){const g=n[p],m=n[p+1];Z[h]=g*D+m*I+S,Z[h+1]=g*b+m*e+q}return}let q=0,D=0;for(let p=0;p<g;p+=2){const p=S[q];q+=p+1,D+=p}const I=h.bones;if(0==k.length)for(let p=H,g=3*D;p<m;p+=t){let m=0,H=0,t=S[q++];for(t+=q;q<t;q++,g+=3){const p=I[S[q]].matrix,Z=n[g],t=n[g+1],h=n[g+2];m+=(Z*p.a+t*p.c+p.tx)*h,H+=(Z*p.b+t*p.d+p.ty)*h}Z[p]=m,Z[p+1]=H}else{const p=k;for(let g=H,h=3*D,k=D<<1;g<m;g+=t){let m=0,H=0,t=S[q++];for(t+=q;q<t;q++,h+=3,k+=2){const g=I[S[q]].matrix,Z=n[h]+p[k],t=n[h+1]+p[k+1],D=n[h+2];m+=(Z*g.a+t*g.c+g.tx)*D,H+=(Z*g.b+t*g.d+g.ty)*D}Z[g]=m,Z[g+1]=H}}}applyDeform(p){return this==p}};let t=H;t.nextID=0},896019:(p,g,m)=>{m.d(g,{b:()=>t});var Z=m(448886),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.BoundingBox,this.color=new H.Q1(1,1,1,1)}}},695832:(p,g,m)=>{m.d(g,{K:()=>t});var Z=m(448886),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Clipping,this.color=new H.Q1(.2275,.2275,.8078,1)}}},478477:(p,g,m)=>{m.d(g,{f:()=>t});var Z=m(448886),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Mesh,this.color=new H.Q1(1,1,1,1),this.inheritDeform=!1,this.tempColor=new H.Q1(0,0,0,0)}applyDeform(p){return this==p||this.inheritDeform&&this.parentMesh==p}getParentMesh(){return this.parentMesh}setParentMesh(p){this.parentMesh=p,null!=p&&(this.bones=p.bones,this.vertices=p.vertices,this.worldVerticesLength=p.worldVerticesLength,this.regionUVs=p.regionUVs,this.triangles=p.triangles,this.hullLength=p.hullLength,this.worldVerticesLength=p.worldVerticesLength)}}},203351:(p,g,m)=>{m.d(g,{H:()=>t});var Z=m(448886),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Path,this.closed=!1,this.constantSpeed=!1,this.color=new H.Q1(1,1,1,1)}}},501930:(p,g,m)=>{m.d(g,{Y:()=>t});var Z=m(448886),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Point,this.color=new H.Q1(.38,.94,0,1)}computeWorldPosition(p,g){const m=p.matrix;return g.x=this.x*m.a+this.y*m.c+p.worldX,g.y=this.x*m.b+this.y*m.d+p.worldY,g}computeWorldRotation(p){const g=p.matrix,m=H.cj.cosDeg(this.rotation),Z=H.cj.sinDeg(this.rotation),t=m*g.a+Z*g.c,h=m*g.b+Z*g.d;return Math.atan2(h,t)*H.cj.radDeg}}},600126:(p,g,m)=>{m.d(g,{Q:()=>k});var Z=m(448886),H=m(367866),t=m(678216);const h=class extends Z.o{constructor(p){super(p),this.type=H.wh.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new H.Q1(1,1,1,1),this.offset=H.Aq.newFloatArray(8),this.uvs=H.Aq.newFloatArray(8),this.tempColor=new H.Q1(1,1,1,1)}updateOffset(){const p=this.width/this.region.originalWidth*this.scaleX,g=this.height/this.region.originalHeight*this.scaleY,m=-this.width/2*this.scaleX+this.region.offsetX*p,Z=-this.height/2*this.scaleY+this.region.offsetY*g,H=m+this.region.width*p,t=Z+this.region.height*g,k=this.rotation*Math.PI/180,n=Math.cos(k),S=Math.sin(k),q=m*n+this.x,D=m*S,I=Z*n+this.y,b=Z*S,e=H*n+this.x,N=H*S,d=t*n+this.y,Q=t*S,$=this.offset;$[h.OX1]=q-b,$[h.OY1]=I+D,$[h.OX2]=q-Q,$[h.OY2]=d+D,$[h.OX3]=e-Q,$[h.OY3]=d+N,$[h.OX4]=e-b,$[h.OY4]=I+N}setRegion(p){this.region=p;const g=this.uvs;p.rotate?(g[2]=p.u,g[3]=p.v2,g[4]=p.u,g[5]=p.v,g[6]=p.u2,g[7]=p.v,g[0]=p.u2,g[1]=p.v2):(g[0]=p.u,g[1]=p.v2,g[2]=p.u,g[3]=p.v,g[4]=p.u2,g[5]=p.v,g[6]=p.u2,g[7]=p.v2)}computeWorldVertices(p,g,m,Z){const H=this.offset,k=p instanceof t.D?p.bone.matrix:p.matrix,n=k.tx,S=k.ty,q=k.a,D=k.c,I=k.b,b=k.d;let e=0,N=0;e=H[h.OX1],N=H[h.OY1],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S,m+=Z,e=H[h.OX2],N=H[h.OY2],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S,m+=Z,e=H[h.OX3],N=H[h.OY3],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S,m+=Z,e=H[h.OX4],N=H[h.OY4],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S}};let k=h;k.OX1=0,k.OY1=1,k.OX2=2,k.OY2=3,k.OX3=4,k.OY3=5,k.OX4=6,k.OY4=7,k.X1=0,k.Y1=1,k.C1R=2,k.C1G=3,k.C1B=4,k.C1A=5,k.U1=6,k.V1=7,k.X2=8,k.Y2=9,k.C2R=10,k.C2G=11,k.C2B=12,k.C2A=13,k.U2=14,k.V2=15,k.X3=16,k.Y3=17,k.C3R=18,k.C3G=19,k.C3B=20,k.C3A=21,k.U3=22,k.V3=23,k.X4=24,k.Y4=25,k.C4R=26,k.C4G=27,k.C4B=28,k.C4A=29,k.U4=30,k.V4=31},428978:(p,g,m)=>{m.d(g,{m:()=>H});var Z=m(367866);class H{constructor(p,g){this.jitterX=0,this.jitterY=0,this.jitterX=p,this.jitterY=g}begin(p){}transform(p,g,m,H){p.x+=Z.cj.randomTriangular(-this.jitterX,this.jitterY),p.y+=Z.cj.randomTriangular(-this.jitterX,this.jitterY)}end(){}}},941999:(p,g,m)=>{m.d(g,{$:()=>t});var Z=m(367866);const H=class{constructor(p){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=p}begin(p){this.worldX=p.x+this.centerX,this.worldY=p.y+this.centerY}transform(p,g,m,t){const h=this.angle*Z.cj.degreesToRadians,k=p.x-this.worldX,n=p.y-this.worldY,S=Math.sqrt(k*k+n*n);if(S<this.radius){const g=H.interpolation.apply(0,h,(this.radius-S)/this.radius),m=Math.cos(g),Z=Math.sin(g);p.x=m*k-Z*n+this.worldX,p.y=Z*k+m*n+this.worldY}}end(){}};let t=H;t.interpolation=new Z.Ff(2)},925596:(p,g,m)=>{m.r(g),m.d(g,{Animation:()=>I.X5,AnimationState:()=>b.oA,AnimationStateAdapter2:()=>b.xy,AnimationStateData:()=>e.Q,AtlasAttachmentLoader:()=>N.q,Attachment:()=>Z.o,AttachmentTimeline:()=>I.zK,Bone:()=>d.$,BoneData:()=>Q.h,BoundingBoxAttachment:()=>H.b,ClippingAttachment:()=>t.K,ColorTimeline:()=>I.J9,CurveTimeline:()=>I.Rh,DeformTimeline:()=>I.jQ,DrawOrderTimeline:()=>I.Kn,Event:()=>$.J,EventData:()=>w.R,EventQueue:()=>b.Cb,EventTimeline:()=>I.qs,EventType:()=>b.Bx,IkConstraint:()=>Y.c,IkConstraintData:()=>i.Q,IkConstraintTimeline:()=>I.pA,JitterEffect:()=>q.m,MeshAttachment:()=>h.f,PathAttachment:()=>k.H,PathConstraint:()=>P.v,PathConstraintData:()=>J.r,PathConstraintMixTimeline:()=>I.I6,PathConstraintPositionTimeline:()=>I.vz,PathConstraintSpacingTimeline:()=>I.vl,PointAttachment:()=>n.Y,RegionAttachment:()=>S.Q,RotateTimeline:()=>I.NQ,ScaleTimeline:()=>I.i9,ShearTimeline:()=>I.$l,Skeleton:()=>y.E,SkeletonBounds:()=>W.V,SkeletonData:()=>v.Y,SkeletonJson:()=>V.m,Skin:()=>z.M,Slot:()=>B.D,SlotData:()=>u.P,SpacingMode:()=>J.K,Spine:()=>X.y,SwirlEffect:()=>D.$,TimelineType:()=>I.e9,TrackEntry:()=>b.IT,TransformConstraint:()=>a.U,TransformConstraintData:()=>F._,TransformConstraintTimeline:()=>I.To,TranslateTimeline:()=>I.Sr,TwoColorTimeline:()=>I.pv,VertexAttachment:()=>Z.e});var Z=m(448886),H=m(896019),t=m(695832),h=m(478477),k=m(203351),n=m(501930),S=m(600126),q=m(428978),D=m(941999),I=m(308754),b=m(870213),e=m(429205),N=m(149791),d=m(553750),Q=m(9022),$=m(619352),w=m(298248),Y=m(668989),i=m(498125),P=m(692984),J=m(54440),y=m(270873),W=m(953070),v=m(769721),V=m(896015),z=m(143535),B=m(678216),u=m(150424),a=m(816361),F=m(668585),X=m(903369)},987890:(p,g,m)=>{m.d(g,{y:()=>k});var Z=m(367866),H=m(242426),t=m(180858),h=m(936130);class k extends Z.bJ{createSkeleton(p){this.skeleton=new H.E(p),this.skeleton.updateWorldTransform(),this.stateData=new h.Q(p),this.state=new t.oA(this.stateData)}}},607815:(p,g,m)=>{m.d(g,{$l:()=>e,I6:()=>F,J9:()=>d,Kn:()=>J,NQ:()=>q,Rh:()=>n,Sr:()=>I,To:()=>V,X5:()=>t,e9:()=>h,i9:()=>b,jQ:()=>i,pA:()=>W,pv:()=>$,qs:()=>P,vl:()=>u,vz:()=>B,zK:()=>w});var Z=m(880713),H=m(367866);m(915157);class t{constructor(p,g,m){if(null==p)throw new Error("name cannot be null.");if(null==g)throw new Error("timelines cannot be null.");this.name=p,this.timelines=g,this.timelineIds=[];for(let p=0;p<g.length;p++)this.timelineIds[g[p].getPropertyId()]=!0;this.duration=m}hasTimeline(p){return 1==this.timelineIds[p]}apply(p,g,m,Z,H,t,h,k){if(null==p)throw new Error("skeleton cannot be null.");Z&&0!=this.duration&&(m%=this.duration,g>0&&(g%=this.duration));const n=this.timelines;for(let Z=0,S=n.length;Z<S;Z++)n[Z].apply(p,g,m,H,t,h,k)}static binarySearch(p,g,m=1){let Z=0,H=p.length/m-2;if(0==H)return m;let t=H>>>1;for(;1;){if(p[(t+1)*m]<=g?Z=t+1:H=t,Z==H)return(Z+1)*m;t=Z+H>>>1}}static linearSearch(p,g,m){for(let Z=0,H=p.length-m;Z<=H;Z+=m)if(p[Z]>g)return Z;return-1}}var h=(p=>(p[p["rotate"]=0]="rotate",p[p["translate"]=1]="translate",p[p["scale"]=2]="scale",p[p["shear"]=3]="shear",p[p["attachment"]=4]="attachment",p[p["color"]=5]="color",p[p["deform"]=6]="deform",p[p["event"]=7]="event",p[p["drawOrder"]=8]="drawOrder",p[p["ikConstraint"]=9]="ikConstraint",p[p["transformConstraint"]=10]="transformConstraint",p[p["pathConstraintPosition"]=11]="pathConstraintPosition",p[p["pathConstraintSpacing"]=12]="pathConstraintSpacing",p[p["pathConstraintMix"]=13]="pathConstraintMix",p[p["twoColor"]=14]="twoColor",p))(h||{});const k=class{constructor(p){if(p<=0)throw new Error(`frameCount must be > 0: ${p}`);this.curves=H.Aq.newFloatArray((p-1)*k.BEZIER_SIZE)}getFrameCount(){return this.curves.length/k.BEZIER_SIZE+1}setLinear(p){this.curves[p*k.BEZIER_SIZE]=k.LINEAR}setStepped(p){this.curves[p*k.BEZIER_SIZE]=k.STEPPED}getCurveType(p){const g=p*k.BEZIER_SIZE;if(g==this.curves.length)return k.LINEAR;const m=this.curves[g];return m==k.LINEAR?k.LINEAR:m==k.STEPPED?k.STEPPED:k.BEZIER}setCurve(p,g,m,Z,H){const t=.03*(2*-g+Z),h=.03*(2*-m+H),n=.006*(3*(g-Z)+1),S=.006*(3*(m-H)+1);let q=2*t+n,D=2*h+S,I=.3*g+t+.16666667*n,b=.3*m+h+.16666667*S,e=p*k.BEZIER_SIZE;const N=this.curves;N[e++]=k.BEZIER;let d=I,Q=b;for(let p=e+k.BEZIER_SIZE-1;e<p;e+=2)N[e]=d,N[e+1]=Q,I+=q,b+=D,q+=n,D+=S,d+=I,Q+=b}getCurvePercent(p,g){g=H.cj.clamp(g,0,1);const m=this.curves;let Z=p*k.BEZIER_SIZE;const t=m[Z];if(t==k.LINEAR)return g;if(t==k.STEPPED)return 0;Z++;let h=0;for(let p=Z,H=Z+k.BEZIER_SIZE-1;Z<H;Z+=2)if(h=m[Z],h>=g){let H,t;return Z==p?(H=0,t=0):(H=m[Z-2],t=m[Z-1]),t+(m[Z+1]-t)*(g-H)/(h-H)}const n=m[Z-1];return n+(1-n)*(g-h)/(1-h)}};let n=k;n.LINEAR=0,n.STEPPED=1,n.BEZIER=2,n.BEZIER_SIZE=10*2-1;const S=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p<<1)}getPropertyId(){return(0<<24)+this.boneIndex}setFrame(p,g,m){p<<=1,this.frames[p]=g,this.frames[p+S.ROTATION]=m}apply(p,g,m,Z,h,k,n){const q=this.frames,D=p.bones[this.boneIndex];if(!D.active)return;if(m<q[0]){switch(k){case H.qU.setup:return void(D.rotation=D.data.rotation);case H.qU.first:const p=D.data.rotation-D.rotation;D.rotation+=(p-360*(16384-(16384.499999999996-p/360|0)))*h}return}if(m>=q[q.length-S.ENTRIES]){let p=q[q.length+S.PREV_ROTATION];switch(k){case H.qU.setup:D.rotation=D.data.rotation+p*h;break;case H.qU.first:case H.qU.replace:p+=D.data.rotation-D.rotation,p-=360*(16384-(16384.499999999996-p/360|0));case H.qU.add:D.rotation+=p*h}return}const I=t.binarySearch(q,m,S.ENTRIES),b=q[I+S.PREV_ROTATION],e=q[I],N=this.getCurvePercent((I>>1)-1,1-(m-e)/(q[I+S.PREV_TIME]-e));let d=q[I+S.ROTATION]-b;switch(d=b+(d-360*(16384-(16384.499999999996-d/360|0)))*N,k){case H.qU.setup:D.rotation=D.data.rotation+(d-360*(16384-(16384.499999999996-d/360|0)))*h;break;case H.qU.first:case H.qU.replace:d+=D.data.rotation-D.rotation;case H.qU.add:D.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*h}}};let q=S;q.ENTRIES=2,q.PREV_TIME=-2,q.PREV_ROTATION=-1,q.ROTATION=1;const D=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*D.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(p,g,m,Z){p*=D.ENTRIES,this.frames[p]=g,this.frames[p+D.X]=m,this.frames[p+D.Y]=Z}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.bones[this.boneIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return q.x=q.data.x,void(q.y=q.data.y);case H.qU.first:q.x+=(q.data.x-q.x)*h,q.y+=(q.data.y-q.y)*h}return}let I=0,b=0;if(m>=S[S.length-D.ENTRIES])I=S[S.length+D.PREV_X],b=S[S.length+D.PREV_Y];else{const p=t.binarySearch(S,m,D.ENTRIES);I=S[p+D.PREV_X],b=S[p+D.PREV_Y];const g=S[p],Z=this.getCurvePercent(p/D.ENTRIES-1,1-(m-g)/(S[p+D.PREV_TIME]-g));I+=(S[p+D.X]-I)*Z,b+=(S[p+D.Y]-b)*Z}switch(k){case H.qU.setup:q.x=q.data.x+I*h,q.y=q.data.y+b*h;break;case H.qU.first:case H.qU.replace:q.x+=(q.data.x+I-q.x)*h,q.y+=(q.data.y+b-q.y)*h;break;case H.qU.add:q.x+=I*h,q.y+=b*h}}};let I=D;I.ENTRIES=3,I.PREV_TIME=-3,I.PREV_X=-2,I.PREV_Y=-1,I.X=1,I.Y=2;class b extends I{constructor(p){super(p)}getPropertyId(){return(2<<24)+this.boneIndex}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.bones[this.boneIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return q.scaleX=q.data.scaleX,void(q.scaleY=q.data.scaleY);case H.qU.first:q.scaleX+=(q.data.scaleX-q.scaleX)*h,q.scaleY+=(q.data.scaleY-q.scaleY)*h}return}let D=0,I=0;if(m>=S[S.length-b.ENTRIES])D=S[S.length+b.PREV_X]*q.data.scaleX,I=S[S.length+b.PREV_Y]*q.data.scaleY;else{const p=t.binarySearch(S,m,b.ENTRIES);D=S[p+b.PREV_X],I=S[p+b.PREV_Y];const g=S[p],Z=this.getCurvePercent(p/b.ENTRIES-1,1-(m-g)/(S[p+b.PREV_TIME]-g));D=(D+(S[p+b.X]-D)*Z)*q.data.scaleX,I=(I+(S[p+b.Y]-I)*Z)*q.data.scaleY}if(1==h)k==H.qU.add?(q.scaleX+=D-q.data.scaleX,q.scaleY+=I-q.data.scaleY):(q.scaleX=D,q.scaleY=I);else{let p=0,g=0;if(n==H.mj.mixOut)switch(k){case H.qU.setup:p=q.data.scaleX,g=q.data.scaleY,q.scaleX=p+(Math.abs(D)*H.cj.signum(p)-p)*h,q.scaleY=g+(Math.abs(I)*H.cj.signum(g)-g)*h;break;case H.qU.first:case H.qU.replace:p=q.scaleX,g=q.scaleY,q.scaleX=p+(Math.abs(D)*H.cj.signum(p)-p)*h,q.scaleY=g+(Math.abs(I)*H.cj.signum(g)-g)*h;break;case H.qU.add:p=q.scaleX,g=q.scaleY,q.scaleX=p+(Math.abs(D)*H.cj.signum(p)-q.data.scaleX)*h,q.scaleY=g+(Math.abs(I)*H.cj.signum(g)-q.data.scaleY)*h}else switch(k){case H.qU.setup:p=Math.abs(q.data.scaleX)*H.cj.signum(D),g=Math.abs(q.data.scaleY)*H.cj.signum(I),q.scaleX=p+(D-p)*h,q.scaleY=g+(I-g)*h;break;case H.qU.first:case H.qU.replace:p=Math.abs(q.scaleX)*H.cj.signum(D),g=Math.abs(q.scaleY)*H.cj.signum(I),q.scaleX=p+(D-p)*h,q.scaleY=g+(I-g)*h;break;case H.qU.add:p=H.cj.signum(D),g=H.cj.signum(I),q.scaleX=Math.abs(q.scaleX)*p+(D-Math.abs(q.data.scaleX)*p)*h,q.scaleY=Math.abs(q.scaleY)*g+(I-Math.abs(q.data.scaleY)*g)*h}}}}class e extends I{constructor(p){super(p)}getPropertyId(){return(3<<24)+this.boneIndex}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.bones[this.boneIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return q.shearX=q.data.shearX,void(q.shearY=q.data.shearY);case H.qU.first:q.shearX+=(q.data.shearX-q.shearX)*h,q.shearY+=(q.data.shearY-q.shearY)*h}return}let D=0,I=0;if(m>=S[S.length-e.ENTRIES])D=S[S.length+e.PREV_X],I=S[S.length+e.PREV_Y];else{const p=t.binarySearch(S,m,e.ENTRIES);D=S[p+e.PREV_X],I=S[p+e.PREV_Y];const g=S[p],Z=this.getCurvePercent(p/e.ENTRIES-1,1-(m-g)/(S[p+e.PREV_TIME]-g));D+=(S[p+e.X]-D)*Z,I+=(S[p+e.Y]-I)*Z}switch(k){case H.qU.setup:q.shearX=q.data.shearX+D*h,q.shearY=q.data.shearY+I*h;break;case H.qU.first:case H.qU.replace:q.shearX+=(q.data.shearX+D-q.shearX)*h,q.shearY+=(q.data.shearY+I-q.shearY)*h;break;case H.qU.add:q.shearX+=D*h,q.shearY+=I*h}}}const N=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*N.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(p,g,m,Z,H,t){p*=N.ENTRIES,this.frames[p]=g,this.frames[p+N.R]=m,this.frames[p+N.G]=Z,this.frames[p+N.B]=H,this.frames[p+N.A]=t}apply(p,g,m,Z,h,k,n){const S=p.slots[this.slotIndex];if(!S.bone.active)return;const q=this.frames;if(m<q[0]){switch(k){case H.qU.setup:return void S.color.setFromColor(S.data.color);case H.qU.first:const p=S.color,g=S.data.color;p.add((g.r-p.r)*h,(g.g-p.g)*h,(g.b-p.b)*h,(g.a-p.a)*h)}return}let D=0,I=0,b=0,e=0;if(m>=q[q.length-N.ENTRIES]){const p=q.length;D=q[p+N.PREV_R],I=q[p+N.PREV_G],b=q[p+N.PREV_B],e=q[p+N.PREV_A]}else{const p=t.binarySearch(q,m,N.ENTRIES);D=q[p+N.PREV_R],I=q[p+N.PREV_G],b=q[p+N.PREV_B],e=q[p+N.PREV_A];const g=q[p],Z=this.getCurvePercent(p/N.ENTRIES-1,1-(m-g)/(q[p+N.PREV_TIME]-g));D+=(q[p+N.R]-D)*Z,I+=(q[p+N.G]-I)*Z,b+=(q[p+N.B]-b)*Z,e+=(q[p+N.A]-e)*Z}if(1==h)S.color.set(D,I,b,e);else{const p=S.color;k==H.qU.setup&&p.setFromColor(S.data.color),p.add((D-p.r)*h,(I-p.g)*h,(b-p.b)*h,(e-p.a)*h)}}};let d=N;d.ENTRIES=5,d.PREV_TIME=-5,d.PREV_R=-4,d.PREV_G=-3,d.PREV_B=-2,d.PREV_A=-1,d.R=1,d.G=2,d.B=3,d.A=4;const Q=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*Q.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(p,g,m,Z,H,t,h,k,n){p*=Q.ENTRIES,this.frames[p]=g,this.frames[p+Q.R]=m,this.frames[p+Q.G]=Z,this.frames[p+Q.B]=H,this.frames[p+Q.A]=t,this.frames[p+Q.R2]=h,this.frames[p+Q.G2]=k,this.frames[p+Q.B2]=n}apply(p,g,m,Z,h,k,n){const S=p.slots[this.slotIndex];if(!S.bone.active)return;const q=this.frames;if(m<q[0]){switch(k){case H.qU.setup:return S.color.setFromColor(S.data.color),void S.darkColor.setFromColor(S.data.darkColor);case H.qU.first:const p=S.color,g=S.darkColor,m=S.data.color,Z=S.data.darkColor;p.add((m.r-p.r)*h,(m.g-p.g)*h,(m.b-p.b)*h,(m.a-p.a)*h),g.add((Z.r-g.r)*h,(Z.g-g.g)*h,(Z.b-g.b)*h,0)}return}let D=0,I=0,b=0,e=0,N=0,d=0,$=0;if(m>=q[q.length-Q.ENTRIES]){const p=q.length;D=q[p+Q.PREV_R],I=q[p+Q.PREV_G],b=q[p+Q.PREV_B],e=q[p+Q.PREV_A],N=q[p+Q.PREV_R2],d=q[p+Q.PREV_G2],$=q[p+Q.PREV_B2]}else{const p=t.binarySearch(q,m,Q.ENTRIES);D=q[p+Q.PREV_R],I=q[p+Q.PREV_G],b=q[p+Q.PREV_B],e=q[p+Q.PREV_A],N=q[p+Q.PREV_R2],d=q[p+Q.PREV_G2],$=q[p+Q.PREV_B2];const g=q[p],Z=this.getCurvePercent(p/Q.ENTRIES-1,1-(m-g)/(q[p+Q.PREV_TIME]-g));D+=(q[p+Q.R]-D)*Z,I+=(q[p+Q.G]-I)*Z,b+=(q[p+Q.B]-b)*Z,e+=(q[p+Q.A]-e)*Z,N+=(q[p+Q.R2]-N)*Z,d+=(q[p+Q.G2]-d)*Z,$+=(q[p+Q.B2]-$)*Z}if(1==h)S.color.set(D,I,b,e),S.darkColor.set(N,d,$,1);else{const p=S.color,g=S.darkColor;k==H.qU.setup&&(p.setFromColor(S.data.color),g.setFromColor(S.data.darkColor)),p.add((D-p.r)*h,(I-p.g)*h,(b-p.b)*h,(e-p.a)*h),g.add((N-g.r)*h,(d-g.g)*h,($-g.b)*h,0)}}};let $=Q;$.ENTRIES=8,$.PREV_TIME=-8,$.PREV_R=-7,$.PREV_G=-6,$.PREV_B=-5,$.PREV_A=-4,$.PREV_R2=-3,$.PREV_G2=-2,$.PREV_B2=-1,$.R=1,$.G=2,$.B=3,$.A=4,$.R2=5,$.G2=6,$.B2=7;class w{constructor(p){this.frames=H.Aq.newFloatArray(p),this.attachmentNames=new Array(p)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.attachmentNames[p]=m}apply(p,g,m,Z,h,k,n){const S=p.slots[this.slotIndex];if(!S.bone.active)return;if(n==H.mj.mixOut)return void(k==H.qU.setup&&this.setAttachment(p,S,S.data.attachmentName));const q=this.frames;if(m<q[0])return void(k!=H.qU.setup&&k!=H.qU.first||this.setAttachment(p,S,S.data.attachmentName));let D=0;D=m>=q[q.length-1]?q.length-1:t.binarySearch(q,m,1)-1;const I=this.attachmentNames[D];p.slots[this.slotIndex].setAttachment(null==I?null:p.getAttachment(this.slotIndex,I))}setAttachment(p,g,m){g.setAttachment(null==m?null:p.getAttachment(this.slotIndex,m))}}let Y=null;class i extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p),this.frameVertices=new Array(p),null==Y&&(Y=H.Aq.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(p,g,m){this.frames[p]=g,this.frameVertices[p]=m}apply(p,g,m,h,k,n,S){const q=p.slots[this.slotIndex];if(!q.bone.active)return;const D=q.getAttachment();if(!(D instanceof Z.e)||D.deformAttachment!=this.attachment)return;const I=q.deform;0==I.length&&(n=H.qU.setup);const b=this.frameVertices,e=b[0].length,N=this.frames;if(m<N[0]){const p=D;switch(n){case H.qU.setup:return void(I.length=0);case H.qU.first:if(1==k){I.length=0;break}const g=H.Aq.setArraySize(I,e);if(null==p.bones){const m=p.vertices;for(let p=0;p<e;p++)g[p]+=(m[p]-g[p])*k}else{k=1-k;for(let p=0;p<e;p++)g[p]*=k}}return}const d=H.Aq.setArraySize(I,e);if(m>=N[N.length-1]){const p=b[N.length-1];if(1==k)if(n==H.qU.add){const g=D;if(null==g.bones){const m=g.vertices;for(let g=0;g<e;g++)d[g]+=p[g]-m[g]}else for(let g=0;g<e;g++)d[g]+=p[g]}else H.Aq.arrayCopy(p,0,d,0,e);else switch(n){case H.qU.setup:{const g=D;if(null==g.bones){const m=g.vertices;for(let g=0;g<e;g++){const Z=m[g];d[g]=Z+(p[g]-Z)*k}}else for(let g=0;g<e;g++)d[g]=p[g]*k;break}case H.qU.first:case H.qU.replace:for(let g=0;g<e;g++)d[g]+=(p[g]-d[g])*k;break;case H.qU.add:const g=D;if(null==g.bones){const m=g.vertices;for(let g=0;g<e;g++)d[g]+=(p[g]-m[g])*k}else for(let g=0;g<e;g++)d[g]+=p[g]*k}return}const Q=t.binarySearch(N,m),$=b[Q-1],w=b[Q],Y=N[Q],i=this.getCurvePercent(Q-1,1-(m-Y)/(N[Q-1]-Y));if(1==k)if(n==H.qU.add){const p=D;if(null==p.bones){const g=p.vertices;for(let p=0;p<e;p++){const m=$[p];d[p]+=m+(w[p]-m)*i-g[p]}}else for(let p=0;p<e;p++){const g=$[p];d[p]+=g+(w[p]-g)*i}}else for(let p=0;p<e;p++){const g=$[p];d[p]=g+(w[p]-g)*i}else switch(n){case H.qU.setup:{const p=D;if(null==p.bones){const g=p.vertices;for(let p=0;p<e;p++){const m=$[p],Z=g[p];d[p]=Z+(m+(w[p]-m)*i-Z)*k}}else for(let p=0;p<e;p++){const g=$[p];d[p]=(g+(w[p]-g)*i)*k}break}case H.qU.first:case H.qU.replace:for(let p=0;p<e;p++){const g=$[p];d[p]+=(g+(w[p]-g)*i-d[p])*k}break;case H.qU.add:const p=D;if(null==p.bones){const g=p.vertices;for(let p=0;p<e;p++){const m=$[p];d[p]+=(m+(w[p]-m)*i-g[p])*k}}else for(let p=0;p<e;p++){const g=$[p];d[p]+=(g+(w[p]-g)*i)*k}}}}class P{constructor(p){this.frames=H.Aq.newFloatArray(p),this.events=new Array(p)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(p,g){this.frames[p]=g.time,this.events[p]=g}apply(p,g,m,Z,H,h,k){if(null==Z)return;const n=this.frames,S=this.frames.length;if(g>m)this.apply(p,g,Number.MAX_VALUE,Z,H,h,k),g=-1;else if(g>=n[S-1])return;if(m<n[0])return;let q=0;if(g<n[0])q=0;else{q=t.binarySearch(n,g);const p=n[q];for(;q>0&&n[q-1]==p;)q--}for(;q<S&&m>=n[q];q++)Z.push(this.events[q])}}class J{constructor(p){this.frames=H.Aq.newFloatArray(p),this.drawOrders=new Array(p)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.drawOrders[p]=m}apply(p,g,m,Z,h,k,n){const S=p.drawOrder,q=p.slots;if(n==H.mj.mixOut&&k==H.qU.setup)return void H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length);const D=this.frames;if(m<D[0])return void(k!=H.qU.setup&&k!=H.qU.first||H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length));let I=0;I=m>=D[D.length-1]?D.length-1:t.binarySearch(D,m)-1;const b=this.drawOrders[I];if(null==b)H.Aq.arrayCopy(q,0,S,0,q.length);else for(let p=0,g=b.length;p<g;p++)S[p]=q[b[p]]}}const y=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*y.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(p,g,m,Z,H,t,h){p*=y.ENTRIES,this.frames[p]=g,this.frames[p+y.MIX]=m,this.frames[p+y.SOFTNESS]=Z,this.frames[p+y.BEND_DIRECTION]=H,this.frames[p+y.COMPRESS]=t?1:0,this.frames[p+y.STRETCH]=h?1:0}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.ikConstraints[this.ikConstraintIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return q.mix=q.data.mix,q.softness=q.data.softness,q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,void(q.stretch=q.data.stretch);case H.qU.first:q.mix+=(q.data.mix-q.mix)*h,q.softness+=(q.data.softness-q.softness)*h,q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,q.stretch=q.data.stretch}return}if(m>=S[S.length-y.ENTRIES])return void(k==H.qU.setup?(q.mix=q.data.mix+(S[S.length+y.PREV_MIX]-q.data.mix)*h,q.softness=q.data.softness+(S[S.length+y.PREV_SOFTNESS]-q.data.softness)*h,n==H.mj.mixOut?(q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,q.stretch=q.data.stretch):(q.bendDirection=S[S.length+y.PREV_BEND_DIRECTION],q.compress=0!=S[S.length+y.PREV_COMPRESS],q.stretch=0!=S[S.length+y.PREV_STRETCH])):(q.mix+=(S[S.length+y.PREV_MIX]-q.mix)*h,q.softness+=(S[S.length+y.PREV_SOFTNESS]-q.softness)*h,n==H.mj.mixIn&&(q.bendDirection=S[S.length+y.PREV_BEND_DIRECTION],q.compress=0!=S[S.length+y.PREV_COMPRESS],q.stretch=0!=S[S.length+y.PREV_STRETCH])));const D=t.binarySearch(S,m,y.ENTRIES),I=S[D+y.PREV_MIX],b=S[D+y.PREV_SOFTNESS],e=S[D],N=this.getCurvePercent(D/y.ENTRIES-1,1-(m-e)/(S[D+y.PREV_TIME]-e));k==H.qU.setup?(q.mix=q.data.mix+(I+(S[D+y.MIX]-I)*N-q.data.mix)*h,q.softness=q.data.softness+(b+(S[D+y.SOFTNESS]-b)*N-q.data.softness)*h,n==H.mj.mixOut?(q.bendDirection=q.data.bendDirection,q.compress=q.data.compress,q.stretch=q.data.stretch):(q.bendDirection=S[D+y.PREV_BEND_DIRECTION],q.compress=0!=S[D+y.PREV_COMPRESS],q.stretch=0!=S[D+y.PREV_STRETCH])):(q.mix+=(I+(S[D+y.MIX]-I)*N-q.mix)*h,q.softness+=(b+(S[D+y.SOFTNESS]-b)*N-q.softness)*h,n==H.mj.mixIn&&(q.bendDirection=S[D+y.PREV_BEND_DIRECTION],q.compress=0!=S[D+y.PREV_COMPRESS],q.stretch=0!=S[D+y.PREV_STRETCH]))}};let W=y;W.ENTRIES=6,W.PREV_TIME=-6,W.PREV_MIX=-5,W.PREV_SOFTNESS=-4,W.PREV_BEND_DIRECTION=-3,W.PREV_COMPRESS=-2,W.PREV_STRETCH=-1,W.MIX=1,W.SOFTNESS=2,W.BEND_DIRECTION=3,W.COMPRESS=4,W.STRETCH=5;const v=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*v.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(p,g,m,Z,H,t){p*=v.ENTRIES,this.frames[p]=g,this.frames[p+v.ROTATE]=m,this.frames[p+v.TRANSLATE]=Z,this.frames[p+v.SCALE]=H,this.frames[p+v.SHEAR]=t}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.transformConstraints[this.transformConstraintIndex];if(!q.active)return;if(m<S[0]){const p=q.data;switch(k){case H.qU.setup:return q.rotateMix=p.rotateMix,q.translateMix=p.translateMix,q.scaleMix=p.scaleMix,void(q.shearMix=p.shearMix);case H.qU.first:q.rotateMix+=(p.rotateMix-q.rotateMix)*h,q.translateMix+=(p.translateMix-q.translateMix)*h,q.scaleMix+=(p.scaleMix-q.scaleMix)*h,q.shearMix+=(p.shearMix-q.shearMix)*h}return}let D=0,I=0,b=0,e=0;if(m>=S[S.length-v.ENTRIES]){const p=S.length;D=S[p+v.PREV_ROTATE],I=S[p+v.PREV_TRANSLATE],b=S[p+v.PREV_SCALE],e=S[p+v.PREV_SHEAR]}else{const p=t.binarySearch(S,m,v.ENTRIES);D=S[p+v.PREV_ROTATE],I=S[p+v.PREV_TRANSLATE],b=S[p+v.PREV_SCALE],e=S[p+v.PREV_SHEAR];const g=S[p],Z=this.getCurvePercent(p/v.ENTRIES-1,1-(m-g)/(S[p+v.PREV_TIME]-g));D+=(S[p+v.ROTATE]-D)*Z,I+=(S[p+v.TRANSLATE]-I)*Z,b+=(S[p+v.SCALE]-b)*Z,e+=(S[p+v.SHEAR]-e)*Z}if(k==H.qU.setup){const p=q.data;q.rotateMix=p.rotateMix+(D-p.rotateMix)*h,q.translateMix=p.translateMix+(I-p.translateMix)*h,q.scaleMix=p.scaleMix+(b-p.scaleMix)*h,q.shearMix=p.shearMix+(e-p.shearMix)*h}else q.rotateMix+=(D-q.rotateMix)*h,q.translateMix+=(I-q.translateMix)*h,q.scaleMix+=(b-q.scaleMix)*h,q.shearMix+=(e-q.shearMix)*h}};let V=v;V.ENTRIES=5,V.PREV_TIME=-5,V.PREV_ROTATE=-4,V.PREV_TRANSLATE=-3,V.PREV_SCALE=-2,V.PREV_SHEAR=-1,V.ROTATE=1,V.TRANSLATE=2,V.SCALE=3,V.SHEAR=4;const z=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*z.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(p,g,m){p*=z.ENTRIES,this.frames[p]=g,this.frames[p+z.VALUE]=m}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.pathConstraints[this.pathConstraintIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return void(q.position=q.data.position);case H.qU.first:q.position+=(q.data.position-q.position)*h}return}let D=0;if(m>=S[S.length-z.ENTRIES])D=S[S.length+z.PREV_VALUE];else{const p=t.binarySearch(S,m,z.ENTRIES);D=S[p+z.PREV_VALUE];const g=S[p],Z=this.getCurvePercent(p/z.ENTRIES-1,1-(m-g)/(S[p+z.PREV_TIME]-g));D+=(S[p+z.VALUE]-D)*Z}k==H.qU.setup?q.position=q.data.position+(D-q.data.position)*h:q.position+=(D-q.position)*h}};let B=z;B.ENTRIES=2,B.PREV_TIME=-2,B.PREV_VALUE=-1,B.VALUE=1;class u extends B{constructor(p){super(p)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.pathConstraints[this.pathConstraintIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return void(q.spacing=q.data.spacing);case H.qU.first:q.spacing+=(q.data.spacing-q.spacing)*h}return}let D=0;if(m>=S[S.length-u.ENTRIES])D=S[S.length+u.PREV_VALUE];else{const p=t.binarySearch(S,m,u.ENTRIES);D=S[p+u.PREV_VALUE];const g=S[p],Z=this.getCurvePercent(p/u.ENTRIES-1,1-(m-g)/(S[p+u.PREV_TIME]-g));D+=(S[p+u.VALUE]-D)*Z}k==H.qU.setup?q.spacing=q.data.spacing+(D-q.data.spacing)*h:q.spacing+=(D-q.spacing)*h}}const a=class extends n{constructor(p){super(p),this.frames=H.Aq.newFloatArray(p*a.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(p,g,m,Z){p*=a.ENTRIES,this.frames[p]=g,this.frames[p+a.ROTATE]=m,this.frames[p+a.TRANSLATE]=Z}apply(p,g,m,Z,h,k,n){const S=this.frames,q=p.pathConstraints[this.pathConstraintIndex];if(!q.active)return;if(m<S[0]){switch(k){case H.qU.setup:return q.rotateMix=q.data.rotateMix,void(q.translateMix=q.data.translateMix);case H.qU.first:q.rotateMix+=(q.data.rotateMix-q.rotateMix)*h,q.translateMix+=(q.data.translateMix-q.translateMix)*h}return}let D=0,I=0;if(m>=S[S.length-a.ENTRIES])D=S[S.length+a.PREV_ROTATE],I=S[S.length+a.PREV_TRANSLATE];else{const p=t.binarySearch(S,m,a.ENTRIES);D=S[p+a.PREV_ROTATE],I=S[p+a.PREV_TRANSLATE];const g=S[p],Z=this.getCurvePercent(p/a.ENTRIES-1,1-(m-g)/(S[p+a.PREV_TIME]-g));D+=(S[p+a.ROTATE]-D)*Z,I+=(S[p+a.TRANSLATE]-I)*Z}k==H.qU.setup?(q.rotateMix=q.data.rotateMix+(D-q.data.rotateMix)*h,q.translateMix=q.data.translateMix+(I-q.data.translateMix)*h):(q.rotateMix+=(D-q.rotateMix)*h,q.translateMix+=(I-q.translateMix)*h)}};let F=a;F.ENTRIES=3,F.PREV_TIME=-3,F.PREV_ROTATE=-2,F.PREV_TRANSLATE=-1,F.ROTATE=1,F.TRANSLATE=2},180858:(p,g,m)=>{m.d(g,{Bx:()=>D,Cb:()=>q,IT:()=>n,b5:()=>I,oA:()=>h});var Z=m(367866),H=m(607815);const t=class{constructor(p){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new q(this),this.propertyIDs=new Z.ON,this.animationsChanged=!1,this.trackEntryPool=new Z.bC((()=>new n)),this.data=p}update(p){p*=this.timeScale;const g=this.tracks;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(null==Z)continue;Z.animationLast=Z.nextAnimationLast,Z.trackLast=Z.nextTrackLast;let H=p*Z.timeScale;if(Z.delay>0){if(Z.delay-=H,Z.delay>0)continue;H=-Z.delay,Z.delay=0}let t=Z.next;if(null!=t){const g=Z.trackLast-t.delay;if(g>=0){for(t.delay=0,t.trackTime+=0==Z.timeScale?0:(g/Z.timeScale+p)*t.timeScale,Z.trackTime+=H,this.setCurrent(m,t,!0);null!=t.mixingFrom;)t.mixTime+=p,t=t.mixingFrom;continue}}else if(Z.trackLast>=Z.trackEnd&&null==Z.mixingFrom){g[m]=null,this.queue.end(Z),this.disposeNext(Z);continue}if(null!=Z.mixingFrom&&this.updateMixingFrom(Z,p)){let p=Z.mixingFrom;for(Z.mixingFrom=null,null!=p&&(p.mixingTo=null);null!=p;)this.queue.end(p),p=p.mixingFrom}Z.trackTime+=H}this.queue.drain()}updateMixingFrom(p,g){const m=p.mixingFrom;if(null==m)return!0;const Z=this.updateMixingFrom(m,g);return m.animationLast=m.nextAnimationLast,m.trackLast=m.nextTrackLast,p.mixTime>0&&p.mixTime>=p.mixDuration?(0!=m.totalAlpha&&0!=p.mixDuration||(p.mixingFrom=m.mixingFrom,null!=m.mixingFrom&&(m.mixingFrom.mixingTo=p),p.interruptAlpha=m.interruptAlpha,this.queue.end(m)),Z):(m.trackTime+=g*m.timeScale,p.mixTime+=g,!1)}apply(p){if(null==p)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();const g=this.events,m=this.tracks;let h=!1;for(let k=0,n=m.length;k<n;k++){const n=m[k];if(null==n||n.delay>0)continue;h=!0;const S=0==k?Z.qU.first:n.mixBlend;let q=n.alpha;null!=n.mixingFrom?q*=this.applyMixingFrom(n,p,S):n.trackTime>=n.trackEnd&&null==n.next&&(q=0);const D=n.animationLast,I=n.getAnimationTime(),b=n.animation.timelines.length,e=n.animation.timelines;if(0==k&&1==q||S==Z.qU.add)for(let m=0;m<b;m++){Z.Aq.webkit602BugfixHelper(q,S);const t=e[m];t instanceof H.zK?this.applyAttachmentTimeline(t,p,I,S,!0):t.apply(p,D,I,g,q,S,Z.mj.mixIn)}else{const m=n.timelineMode,h=0==n.timelinesRotation.length;h&&Z.Aq.setArraySize(n.timelinesRotation,b<<1,null);const k=n.timelinesRotation;for(let n=0;n<b;n++){const b=e[n],N=m[n]==t.SUBSEQUENT?S:Z.qU.setup;b instanceof H.NQ?this.applyRotateTimeline(b,p,I,q,N,k,n<<1,h):b instanceof H.zK?this.applyAttachmentTimeline(b,p,I,S,!0):(Z.Aq.webkit602BugfixHelper(q,S),b.apply(p,D,I,g,q,N,Z.mj.mixIn))}}this.queueEvents(n,I),g.length=0,n.nextAnimationLast=I,n.nextTrackLast=n.trackTime}const k=this.unkeyedState+t.SETUP,n=p.slots;for(let g=0,m=p.slots.length;g<m;g++){const m=n[g];if(m.attachmentState==k){const g=m.data.attachmentName;m.setAttachment(null==g?null:p.getAttachment(m.data.index,g))}}return this.unkeyedState+=2,this.queue.drain(),h}applyMixingFrom(p,g,m){const h=p.mixingFrom;null!=h.mixingFrom&&this.applyMixingFrom(h,g,m);let k=0;0==p.mixDuration?(k=1,m==Z.qU.first&&(m=Z.qU.setup)):(k=p.mixTime/p.mixDuration,k>1&&(k=1),m!=Z.qU.first&&(m=h.mixBlend));const n=k<h.eventThreshold?this.events:null,S=k<h.attachmentThreshold,q=k<h.drawOrderThreshold,D=h.animationLast,I=h.getAnimationTime(),b=h.animation.timelines.length,e=h.animation.timelines,N=h.alpha*p.interruptAlpha,d=N*(1-k);if(m==Z.qU.add)for(let p=0;p<b;p++)e[p].apply(g,D,I,n,d,m,Z.mj.mixOut);else{const p=h.timelineMode,k=h.timelineHoldMix,Q=0==h.timelinesRotation.length;Q&&Z.Aq.setArraySize(h.timelinesRotation,b<<1,null);const $=h.timelinesRotation;h.totalAlpha=0;for(let w=0;w<b;w++){const b=e[w];let Y,i=Z.mj.mixOut,P=0;switch(p[w]){case t.SUBSEQUENT:if(!q&&b instanceof H.Kn)continue;Y=m,P=d;break;case t.FIRST:Y=Z.qU.setup,P=d;break;case t.HOLD_SUBSEQUENT:Y=m,P=N;break;case t.HOLD_FIRST:Y=Z.qU.setup,P=N;break;default:Y=Z.qU.setup;const p=k[w];P=N*Math.max(0,1-p.mixTime/p.mixDuration)}h.totalAlpha+=P,b instanceof H.NQ?this.applyRotateTimeline(b,g,I,P,Y,$,w<<1,Q):b instanceof H.zK?this.applyAttachmentTimeline(b,g,I,Y,S):(Z.Aq.webkit602BugfixHelper(P,m),q&&b instanceof H.Kn&&Y==Z.qU.setup&&(i=Z.mj.mixIn),b.apply(g,D,I,n,P,Y,i))}}return p.mixDuration>0&&this.queueEvents(h,I),this.events.length=0,h.nextAnimationLast=I,h.nextTrackLast=h.trackTime,k}applyAttachmentTimeline(p,g,m,h,k){const n=g.slots[p.slotIndex];if(!n.bone.active)return;const S=p.frames;if(m<S[0])h!=Z.qU.setup&&h!=Z.qU.first||this.setAttachment(g,n,n.data.attachmentName,k);else{let Z;Z=m>=S[S.length-1]?S.length-1:H.X5.binarySearch(S,m)-1,this.setAttachment(g,n,p.attachmentNames[Z],k)}n.attachmentState<=this.unkeyedState&&(n.attachmentState=this.unkeyedState+t.SETUP)}setAttachment(p,g,m,Z){g.setAttachment(null==m?null:p.getAttachment(g.data.index,m)),Z&&(g.attachmentState=this.unkeyedState+t.CURRENT)}applyRotateTimeline(p,g,m,t,h,k,n,S){if(S&&(k[n]=0),1==t)return void p.apply(g,0,m,null,1,h,Z.mj.mixIn);const q=p,D=q.frames,I=g.bones[q.boneIndex];if(!I.active)return;let b=0,e=0;if(m<D[0])switch(h){case Z.qU.setup:I.rotation=I.data.rotation;default:return;case Z.qU.first:b=I.rotation,e=I.data.rotation}else if(b=h==Z.qU.setup?I.data.rotation:I.rotation,m>=D[D.length-H.NQ.ENTRIES])e=I.data.rotation+D[D.length+H.NQ.PREV_ROTATION];else{const p=H.X5.binarySearch(D,m,H.NQ.ENTRIES),g=D[p+H.NQ.PREV_ROTATION],Z=D[p],t=q.getCurvePercent((p>>1)-1,1-(m-Z)/(D[p+H.NQ.PREV_TIME]-Z));e=D[p+H.NQ.ROTATION]-g,e-=360*(16384-(16384.499999999996-e/360|0)),e=g+e*t+I.data.rotation,e-=360*(16384-(16384.499999999996-e/360|0))}let N=0,d=e-b;if(d-=360*(16384-(16384.499999999996-d/360|0)),0==d)N=k[n];else{let p=0,g=0;S?(p=0,g=d):(p=k[n],g=k[n+1]);const m=d>0;let H=p>=0;Z.cj.signum(g)!=Z.cj.signum(d)&&Math.abs(g)<=90&&(Math.abs(p)>180&&(p+=360*Z.cj.signum(p)),H=m),N=d+p-p%360,H!=m&&(N+=360*Z.cj.signum(p)),k[n]=N}k[n+1]=d,b+=N*t,I.rotation=b-360*(16384-(16384.499999999996-b/360|0))}queueEvents(p,g){const m=p.animationStart,Z=p.animationEnd,H=Z-m,t=p.trackLast%H,h=this.events;let k=0;const n=h.length;for(;k<n;k++){const g=h[k];if(g.time<t)break;g.time>Z||this.queue.event(p,g)}let S=!1;for(S=p.loop?0==H||t>p.trackTime%H:g>=Z&&p.animationLast<Z,S&&this.queue.complete(p);k<n;k++)h[k].time<m||this.queue.event(p,h[k])}clearTracks(){const p=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let p=0,g=this.tracks.length;p<g;p++)this.clearTrack(p);this.tracks.length=0,this.queue.drainDisabled=p,this.queue.drain()}clearTrack(p){if(p>=this.tracks.length)return;const g=this.tracks[p];if(null==g)return;this.queue.end(g),this.disposeNext(g);let m=g;for(;1;){const p=m.mixingFrom;if(null==p)break;this.queue.end(p),m.mixingFrom=null,m.mixingTo=null,m=p}this.tracks[g.trackIndex]=null,this.queue.drain()}setCurrent(p,g,m){const Z=this.expandToIndex(p);this.tracks[p]=g,null!=Z&&(m&&this.queue.interrupt(Z),g.mixingFrom=Z,Z.mixingTo=g,g.mixTime=0,null!=Z.mixingFrom&&Z.mixDuration>0&&(g.interruptAlpha*=Math.min(1,Z.mixTime/Z.mixDuration)),Z.timelinesRotation.length=0),this.queue.start(g)}setAnimation(p,g,m){const Z=this.data.skeletonData.findAnimation(g);if(null==Z)throw new Error(`Animation not found: ${g}`);return this.setAnimationWith(p,Z,m)}setAnimationWith(p,g,m){if(null==g)throw new Error("animation cannot be null.");let Z=!0,H=this.expandToIndex(p);null!=H&&(-1==H.nextTrackLast?(this.tracks[p]=H.mixingFrom,this.queue.interrupt(H),this.queue.end(H),this.disposeNext(H),H=H.mixingFrom,Z=!1):this.disposeNext(H));const t=this.trackEntry(p,g,m,H);return this.setCurrent(p,t,Z),this.queue.drain(),t}addAnimation(p,g,m,Z){const H=this.data.skeletonData.findAnimation(g);if(null==H)throw new Error(`Animation not found: ${g}`);return this.addAnimationWith(p,H,m,Z)}addAnimationWith(p,g,m,Z){if(null==g)throw new Error("animation cannot be null.");let H=this.expandToIndex(p);if(null!=H)for(;null!=H.next;)H=H.next;const t=this.trackEntry(p,g,m,H);if(null==H)this.setCurrent(p,t,!0),this.queue.drain();else if(H.next=t,Z<=0){const p=H.animationEnd-H.animationStart;0!=p?(H.loop?Z+=p*(1+(H.trackTime/p|0)):Z+=Math.max(p,H.trackTime),Z-=this.data.getMix(H.animation,g)):Z=H.trackTime}return t.delay=Z,t}setEmptyAnimation(p,g){const m=this.setAnimationWith(p,t.emptyAnimation,!1);return m.mixDuration=g,m.trackEnd=g,m}addEmptyAnimation(p,g,m){m<=0&&(m-=g);const Z=this.addAnimationWith(p,t.emptyAnimation,!1,m);return Z.mixDuration=g,Z.trackEnd=g,Z}setEmptyAnimations(p){const g=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let g=0,m=this.tracks.length;g<m;g++){const m=this.tracks[g];null!=m&&this.setEmptyAnimation(m.trackIndex,p)}this.queue.drainDisabled=g,this.queue.drain()}expandToIndex(p){return p<this.tracks.length?this.tracks[p]:(Z.Aq.ensureArrayCapacity(this.tracks,p+1,null),this.tracks.length=p+1,null)}trackEntry(p,g,m,H){const t=this.trackEntryPool.obtain();return t.trackIndex=p,t.animation=g,t.loop=m,t.holdPrevious=!1,t.eventThreshold=0,t.attachmentThreshold=0,t.drawOrderThreshold=0,t.animationStart=0,t.animationEnd=g.duration,t.animationLast=-1,t.nextAnimationLast=-1,t.delay=0,t.trackTime=0,t.trackLast=-1,t.nextTrackLast=-1,t.trackEnd=Number.MAX_VALUE,t.timeScale=1,t.alpha=1,t.interruptAlpha=1,t.mixTime=0,t.mixDuration=null==H?0:this.data.getMix(H.animation,g),t.mixBlend=Z.qU.replace,t}disposeNext(p){let g=p.next;for(;null!=g;)this.queue.dispose(g),g=g.next;p.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let p=0,g=this.tracks.length;p<g;p++){let g=this.tracks[p];if(null!=g){for(;null!=g.mixingFrom;)g=g.mixingFrom;do{null!=g.mixingFrom&&g.mixBlend==Z.qU.add||this.computeHold(g),g=g.mixingTo}while(null!=g)}}}computeHold(p){const g=p.mixingTo,m=p.animation.timelines,h=p.animation.timelines.length,k=Z.Aq.setArraySize(p.timelineMode,h);p.timelineHoldMix.length=0;const n=Z.Aq.setArraySize(p.timelineHoldMix,h),S=this.propertyIDs;if(null!=g&&g.holdPrevious)for(let p=0;p<h;p++)k[p]=S.add(m[p].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else p:for(let Z=0;Z<h;Z++){const h=m[Z],q=h.getPropertyId();if(S.add(q))if(null==g||h instanceof H.zK||h instanceof H.Kn||h instanceof H.qs||!g.animation.hasTimeline(q))k[Z]=t.FIRST;else{for(let m=g.mixingTo;null!=m;m=m.mixingTo)if(!m.animation.hasTimeline(q)){if(p.mixDuration>0){k[Z]=t.HOLD_MIX,n[Z]=m;continue p}break}k[Z]=t.HOLD_FIRST}else k[Z]=t.SUBSEQUENT}}getCurrent(p){return p>=this.tracks.length?null:this.tracks[p]}addListener(p){if(null==p)throw new Error("listener cannot be null.");this.listeners.push(p)}removeListener(p){const g=this.listeners.indexOf(p);g>=0&&this.listeners.splice(g,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(p,g,m){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(p,g,m)}addAnimationByName(p,g,m,Z){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(p,g,m,Z)}hasAnimation(p){return null!==this.data.skeletonData.findAnimation(p)}hasAnimationByName(p){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(p)}};let h=t;h.emptyAnimation=new H.X5("<empty>",[],0),h.SUBSEQUENT=0,h.FIRST=1,h.HOLD_SUBSEQUENT=2,h.HOLD_FIRST=3,h.HOLD_MIX=4,h.SETUP=1,h.CURRENT=2,h.deprecatedWarning1=!1,h.deprecatedWarning2=!1,h.deprecatedWarning3=!1;const k=class{constructor(){this.mixBlend=Z.qU.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){const p=this.animationEnd-this.animationStart;return 0==p?this.animationStart:this.trackTime%p+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(p){this.animationLast=p,this.nextAnimationLast=p}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}get time(){return k.deprecatedWarning1||(k.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(p){k.deprecatedWarning1||(k.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=p}get endTime(){return k.deprecatedWarning2||(k.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(p){k.deprecatedWarning2||(k.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=p}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}};let n=k;n.deprecatedWarning1=!1,n.deprecatedWarning2=!1;const S=class{constructor(p){this.objects=[],this.drainDisabled=!1,this.animState=p}start(p){this.objects.push(D.start),this.objects.push(p),this.animState.animationsChanged=!0}interrupt(p){this.objects.push(D.interrupt),this.objects.push(p)}end(p){this.objects.push(D.end),this.objects.push(p),this.animState.animationsChanged=!0}dispose(p){this.objects.push(D.dispose),this.objects.push(p)}complete(p){this.objects.push(D.complete),this.objects.push(p)}event(p,g){this.objects.push(D.event),this.objects.push(p),this.objects.push(g)}deprecateStuff(){return S.deprecatedWarning1||(S.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;const p=this.objects,g=this.animState.listeners;for(let m=0;m<p.length;m+=2){const H=p[m],t=p[m+1];switch(H){case D.start:null!=t.listener&&t.listener.start&&t.listener.start(t);for(let p=0;p<g.length;p++)g[p].start&&g[p].start(t);t.onStart&&this.deprecateStuff()&&t.onStart(t.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(t.trackIndex);break;case D.interrupt:null!=t.listener&&t.listener.interrupt&&t.listener.interrupt(t);for(let p=0;p<g.length;p++)g[p].interrupt&&g[p].interrupt(t);break;case D.end:null!=t.listener&&t.listener.end&&t.listener.end(t);for(let p=0;p<g.length;p++)g[p].end&&g[p].end(t);t.onEnd&&this.deprecateStuff()&&t.onEnd(t.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(t.trackIndex);case D.dispose:null!=t.listener&&t.listener.dispose&&t.listener.dispose(t);for(let p=0;p<g.length;p++)g[p].dispose&&g[p].dispose(t);this.animState.trackEntryPool.free(t);break;case D.complete:null!=t.listener&&t.listener.complete&&t.listener.complete(t);for(let p=0;p<g.length;p++)g[p].complete&&g[p].complete(t);const H=Z.cj.toInt(t.loopsCount());t.onComplete&&this.deprecateStuff()&&t.onComplete(t.trackIndex,H),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(t.trackIndex,H);break;case D.event:const h=p[m+++2];null!=t.listener&&t.listener.event&&t.listener.event(t,h);for(let p=0;p<g.length;p++)g[p].event&&g[p].event(t,h);t.onEvent&&this.deprecateStuff()&&t.onEvent(t.trackIndex,h),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(t.trackIndex,h)}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}};let q=S;q.deprecatedWarning1=!1;var D=(p=>(p[p["start"]=0]="start",p[p["interrupt"]=1]="interrupt",p[p["end"]=2]="end",p[p["dispose"]=3]="dispose",p[p["complete"]=4]="complete",p[p["event"]=5]="event",p))(D||{});class I{start(p){}interrupt(p){}end(p){}dispose(p){}complete(p){}event(p,g){}}},936130:(p,g,m)=>{m.d(g,{Q:()=>H});const Z=class{constructor(p){if(this.animationToMixTime={},this.defaultMix=0,null==p)throw new Error("skeletonData cannot be null.");this.skeletonData=p}setMix(p,g,m){const Z=this.skeletonData.findAnimation(p);if(null==Z)throw new Error(`Animation not found: ${p}`);const H=this.skeletonData.findAnimation(g);if(null==H)throw new Error(`Animation not found: ${g}`);this.setMixWith(Z,H,m)}setMixByName(p,g,m){Z.deprecatedWarning1||(Z.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(p,g,m)}setMixWith(p,g,m){if(null==p)throw new Error("from cannot be null.");if(null==g)throw new Error("to cannot be null.");const Z=`${p.name}.${g.name}`;this.animationToMixTime[Z]=m}getMix(p,g){const m=`${p.name}.${g.name}`,Z=this.animationToMixTime[m];return void 0===Z?this.defaultMix:Z}};let H=Z;H.deprecatedWarning1=!1},504914:(p,g,m)=>{m.d(g,{q:()=>S}),m(880713);var Z=m(79938),H=m(395903),t=m(456758),h=m(19536),k=m(562279),n=m(915157);class S{constructor(p){this.atlas=p}newRegionAttachment(p,g,m){const Z=this.atlas.findRegion(m);if(null==Z)throw new Error(`Region not found in atlas: ${m} (region attachment: ${g})`);const H=new n.Q(g);return H.region=Z,H}newMeshAttachment(p,g,m){const Z=this.atlas.findRegion(m);if(null==Z)throw new Error(`Region not found in atlas: ${m} (mesh attachment: ${g})`);const H=new t.f(g);return H.region=Z,H}newBoundingBoxAttachment(p,g){return new Z.b(g)}newPathAttachment(p,g){return new h.H(g)}newPointAttachment(p,g){return new k.Y(g)}newClippingAttachment(p,g){return new H.K(g)}}},403389:(p,g,m)=>{m.d(g,{$:()=>t});var Z=m(316197),H=m(367866);class t{constructor(p,g,m){if(this.matrix=new Z.uq,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.skeleton=g,this.parent=m,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}isActive(){return this.active}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(p,g,m,Z,t,h,k){this.ax=p,this.ay=g,this.arotation=m,this.ascaleX=Z,this.ascaleY=t,this.ashearX=h,this.ashearY=k,this.appliedValid=!0;const n=this.parent,S=this.matrix,q=this.skeleton.scaleX,D=H.W0.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==n){const n=this.skeleton,I=m+90+k;return S.a=H.cj.cosDeg(m+h)*Z*q,S.c=H.cj.cosDeg(I)*t*q,S.b=H.cj.sinDeg(m+h)*Z*D,S.d=H.cj.sinDeg(I)*t*D,S.tx=p*q+n.x,void(S.ty=g*D+n.y)}let I=n.matrix.a,b=n.matrix.c,e=n.matrix.b,N=n.matrix.d;switch(S.tx=I*p+b*g+n.matrix.tx,S.ty=e*p+N*g+n.matrix.ty,this.data.transformMode){case H._C.Normal:{const p=m+90+k,g=H.cj.cosDeg(m+h)*Z,n=H.cj.cosDeg(p)*t,q=H.cj.sinDeg(m+h)*Z,D=H.cj.sinDeg(p)*t;return S.a=I*g+b*q,S.c=I*n+b*D,S.b=e*g+N*q,void(S.d=e*n+N*D)}case H._C.OnlyTranslation:{const p=m+90+k;S.a=H.cj.cosDeg(m+h)*Z,S.c=H.cj.cosDeg(p)*t,S.b=H.cj.sinDeg(m+h)*Z,S.d=H.cj.sinDeg(p)*t;break}case H._C.NoRotationOrReflection:{let p=I*I+e*e,g=0;p>1e-4?(p=Math.abs(I*N-b*e)/p,I/=this.skeleton.scaleX,e/=this.skeleton.scaleY,b=e*p,N=I*p,g=Math.atan2(e,I)*H.cj.radDeg):(I=0,e=0,g=90-Math.atan2(N,b)*H.cj.radDeg);const n=m+h-g,q=m+k-g+90,D=H.cj.cosDeg(n)*Z,d=H.cj.cosDeg(q)*t,Q=H.cj.sinDeg(n)*Z,$=H.cj.sinDeg(q)*t;S.a=I*D-b*Q,S.c=I*d-b*$,S.b=e*D+N*Q,S.d=e*d+N*$;break}case H._C.NoScale:case H._C.NoScaleOrReflection:{const p=H.cj.cosDeg(m),g=H.cj.sinDeg(m);let n=(I*p+b*g)/q,d=(e*p+N*g)/D,Q=Math.sqrt(n*n+d*d);Q>1e-5&&(Q=1/Q),n*=Q,d*=Q,Q=Math.sqrt(n*n+d*d),this.data.transformMode==H._C.NoScale&&I*N-b*e<0!=(H.W0.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(Q=-Q);const $=Math.PI/2+Math.atan2(d,n),w=Math.cos($)*Q,Y=Math.sin($)*Q,i=H.cj.cosDeg(h)*Z,P=H.cj.cosDeg(90+k)*t,J=H.cj.sinDeg(h)*Z,y=H.cj.sinDeg(90+k)*t;S.a=n*i+w*J,S.c=n*P+w*y,S.b=d*i+Y*J,S.d=d*P+Y*y;break}}S.a*=q,S.c*=q,S.b*=D,S.d*=D}setToSetupPose(){const p=this.data;this.x=p.x,this.y=p.y,this.rotation=p.rotation,this.scaleX=p.scaleX,this.scaleY=p.scaleY,this.shearX=p.shearX,this.shearY=p.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*H.cj.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*H.cj.radDeg}getWorldScaleX(){const p=this.matrix;return Math.sqrt(p.a*p.a+p.c*p.c)}getWorldScaleY(){const p=this.matrix;return Math.sqrt(p.b*p.b+p.d*p.d)}updateAppliedTransform(){this.appliedValid=!0;const p=this.parent,g=this.matrix;if(null==p)return this.ax=g.tx,this.ay=g.ty,this.arotation=Math.atan2(g.b,g.a)*H.cj.radDeg,this.ascaleX=Math.sqrt(g.a*g.a+g.b*g.b),this.ascaleY=Math.sqrt(g.c*g.c+g.d*g.d),this.ashearX=0,void(this.ashearY=Math.atan2(g.a*g.c+g.b*g.d,g.a*g.d-g.b*g.c)*H.cj.radDeg);const m=p.matrix,Z=1/(m.a*m.d-m.b*m.c),t=g.tx-m.tx,h=g.ty-m.ty;this.ax=t*m.d*Z-h*m.c*Z,this.ay=h*m.a*Z-t*m.b*Z;const k=Z*m.d,n=Z*m.a,S=Z*m.c,q=Z*m.b,D=k*g.a-S*g.b,I=k*g.c-S*g.d,b=n*g.b-q*g.a,e=n*g.d-q*g.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(D*D+b*b),this.ascaleX>1e-4){const p=D*e-I*b;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(D*I+b*e,p)*H.cj.radDeg,this.arotation=Math.atan2(b,D)*H.cj.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(I*I+e*e),this.ashearY=0,this.arotation=90-Math.atan2(e,I)*H.cj.radDeg}worldToLocal(p){const g=this.matrix,m=g.a,Z=g.c,H=g.b,t=g.d,h=1/(m*t-Z*H),k=p.x-g.tx,n=p.y-g.ty;return p.x=k*t*h-n*Z*h,p.y=n*m*h-k*H*h,p}localToWorld(p){const g=this.matrix,m=p.x,Z=p.y;return p.x=m*g.a+Z*g.c+g.tx,p.y=m*g.b+Z*g.d+g.ty,p}worldToLocalRotation(p){const g=H.cj.sinDeg(p),m=H.cj.cosDeg(p),Z=this.matrix;return Math.atan2(Z.a*g-Z.b*m,Z.d*m-Z.c*g)*H.cj.radDeg}localToWorldRotation(p){const g=H.cj.sinDeg(p),m=H.cj.cosDeg(p),Z=this.matrix;return Math.atan2(m*Z.b+g*Z.d,m*Z.a+g*Z.c)*H.cj.radDeg}rotateWorld(p){const g=this.matrix,m=g.a,Z=g.c,t=g.b,h=g.d,k=H.cj.cosDeg(p),n=H.cj.sinDeg(p);g.a=k*m-n*t,g.c=k*Z-n*h,g.b=n*m+k*t,g.d=n*Z+k*h,this.appliedValid=!1}}},131853:(p,g,m)=>{m.d(g,{h:()=>H});var Z=m(367866);class H{constructor(p,g,m){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Z._C.Normal,this.skinRequired=!1,this.color=new Z.Q1,p<0)throw new Error("index must be >= 0.");if(null==g)throw new Error("name cannot be null.");this.index=p,this.name=g,this.parent=m}}},191526:(p,g,m)=>{m.d(g,{q:()=>Z});class Z{constructor(p,g,m){this.name=p,this.order=g,this.skinRequired=m}}},561117:(p,g,m)=>{m.d(g,{J:()=>Z});class Z{constructor(p,g){if(null==g)throw new Error("data cannot be null.");this.time=p,this.data=g}}},828397:(p,g,m)=>{m.d(g,{R:()=>Z});class Z{constructor(p){this.name=p}}},497314:(p,g,m)=>{m.d(g,{c:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.mix=p.mix,this.softness=p.softness,this.bendDirection=p.bendDirection,this.compress=p.compress,this.stretch=p.stretch,this.bones=new Array;for(let m=0;m<p.bones.length;m++)this.bones.push(g.findBone(p.bones[m].name));this.target=g.findBone(p.target.name)}isActive(){return this.active}apply(){this.update()}update(){const p=this.target,g=this.bones;switch(g.length){case 1:this.apply1(g[0],p.worldX,p.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(g[0],g[1],p.worldX,p.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}apply1(p,g,m,H,t,h,k){p.appliedValid||p.updateAppliedTransform();const n=p.parent.matrix,S=n.a;let q=n.c;const D=n.b;let I=n.d,b=-p.ashearX-p.arotation,e=0,N=0;switch(p.data.transformMode){case Z._C.OnlyTranslation:e=g-p.worldX,N=m-p.worldY;break;case Z._C.NoRotationOrReflection:const H=Math.abs(S*I-q*D)/(S*S+D*D),t=S/p.skeleton.scaleX,h=D/p.skeleton.scaleY;q=-h*H*p.skeleton.scaleX,I=t*H*p.skeleton.scaleY,b+=Math.atan2(h,t)*Z.cj.radDeg;default:const k=g-n.tx,d=m-n.ty,Q=S*I-q*D;e=(k*I-d*q)/Q-p.ax,N=(d*S-k*D)/Q-p.ay}b+=Math.atan2(N,e)*Z.cj.radDeg,p.ascaleX<0&&(b+=180),b>180?b-=360:b<-180&&(b+=360);let d=p.ascaleX,Q=p.ascaleY;if(H||t){switch(p.data.transformMode){case Z._C.NoScale:case Z._C.NoScaleOrReflection:e=g-p.worldX,N=m-p.worldY}const n=p.data.length*d,S=Math.sqrt(e*e+N*N);if(H&&S<n||t&&S>n&&n>1e-4){const p=(S/n-1)*k+1;d*=p,h&&(Q*=p)}}p.updateWorldTransformWith(p.ax,p.ay,p.arotation+b*k,d,Q,p.ashearX,p.ashearY)}apply2(p,g,m,H,t,h,k,n){if(0==n)return void g.updateWorldTransform();p.appliedValid||p.updateAppliedTransform(),g.appliedValid||g.updateAppliedTransform();const S=p.ax,q=p.ay;let D=p.ascaleX,I=D,b=p.ascaleY,e=g.ascaleX;const N=p.matrix;let d=0,Q=0,$=0;D<0?(D=-D,d=180,$=-1):(d=0,$=1),b<0&&(b=-b,$=-$),e<0?(e=-e,Q=180):Q=0;const w=g.ax;let Y=0,i=0,P=0,J=N.a,y=N.c,W=N.b,v=N.d;const V=Math.abs(D-b)<=1e-4;V?(Y=g.ay,i=J*w+y*Y+N.tx,P=W*w+v*Y+N.ty):(Y=0,i=J*w+N.tx,P=W*w+N.ty);const z=p.parent.matrix;J=z.a,y=z.c,W=z.b,v=z.d;const B=1/(J*v-y*W);let u=i-z.tx,a=P-z.ty;const F=(u*v-a*y)*B-S,X=(a*J-u*W)*B-q,K=Math.sqrt(F*F+X*X);let j,r,U=g.data.length*e;if(K<1e-4)return this.apply1(p,m,H,!1,h,!1,n),void g.updateWorldTransformWith(w,Y,0,g.ascaleX,g.ascaleY,g.ashearX,g.ashearY);u=m-z.tx,a=H-z.ty;let C=(u*v-a*y)*B-S,x=(a*J-u*W)*B-q,R=C*C+x*x;if(0!=k){k*=D*(e+1)/2;const p=Math.sqrt(R),g=p-K-U*D+k;if(g>0){let m=Math.min(1,g/(2*k))-1;m=(g-k*(1-m*m))/p,C-=m*C,x-=m*x,R=C*C+x*x}}p:if(V){U*=D;let p=(R-K*K-U*U)/(2*K*U);p<-1?p=-1:p>1&&(p=1,h&&(I*=(Math.sqrt(R)/(K+U)-1)*n+1)),r=Math.acos(p)*t,J=K+U*p,y=U*Math.sin(r),j=Math.atan2(x*J-C*y,C*J+x*y)}else{J=D*U,y=b*U;const p=J*J,g=y*y,m=Math.atan2(x,C);W=g*K*K+p*R-p*g;const H=-2*g*K,h=g-p;if(v=H*H-4*h*W,v>=0){let p=Math.sqrt(v);H<0&&(p=-p),p=-(H+p)/2;const g=p/h,Z=W/p,k=Math.abs(g)<Math.abs(Z)?g:Z;if(k*k<=R){a=Math.sqrt(R-k*k)*t,j=m-Math.atan2(a,k),r=Math.atan2(a/b,(k-K)/D);break p}}let k=Z.cj.PI,n=K-J,S=n*n,q=0,I=0,e=K+J,N=e*e,d=0;W=-J*K/(p-g),W>=-1&&W<=1&&(W=Math.acos(W),u=J*Math.cos(W)+K,a=y*Math.sin(W),v=u*u+a*a,v<S&&(k=W,S=v,n=u,q=a),v>N&&(I=W,N=v,e=u,d=a)),R<=(S+N)/2?(j=m-Math.atan2(q*t,n),r=k*t):(j=m-Math.atan2(d*t,e),r=I*t)}const c=Math.atan2(Y,w)*$;let O=p.arotation;j=(j-c)*Z.cj.radDeg+d-O,j>180?j-=360:j<-180&&(j+=360),p.updateWorldTransformWith(S,q,O+j*n,I,p.ascaleY,0,0),O=g.arotation,r=((r+c)*Z.cj.radDeg-g.ashearX)*$+Q-O,r>180?r-=360:r<-180&&(r+=360),g.updateWorldTransformWith(w,Y,O+r*n,g.ascaleX,g.ascaleY,g.ashearX,g.ashearY)}}},919050:(p,g,m)=>{m.d(g,{Q:()=>H});var Z=m(191526);class H extends Z.q{constructor(p){super(p,0,!1),this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}}},60431:(p,g,m)=>{m.d(g,{v:()=>k}),m(880713);var Z=m(367866),H=m(19536),t=(m(915157),m(164023));const h=class{constructor(p,g){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.bones=new Array;for(let m=0,Z=p.bones.length;m<Z;m++)this.bones.push(g.findBone(p.bones[m].name));this.target=g.findSlot(p.target.name),this.position=p.position,this.spacing=p.spacing,this.rotateMix=p.rotateMix,this.translateMix=p.translateMix}isActive(){return this.active}apply(){this.update()}update(){const p=this.target.getAttachment();if(!(p instanceof H.H))return;const g=this.rotateMix,m=this.translateMix,k=g>0;if(!(m>0||k))return;const n=this.data,S=n.spacingMode,q=S==t.K.Length,D=n.rotateMode,I=D==Z.Dr.Tangent,b=D==Z.Dr.ChainScale,e=this.bones.length,N=I?e:e+1,d=this.bones,Q=Z.Aq.setArraySize(this.spaces,N);let $=null;const w=this.spacing;if(b||q){b&&($=Z.Aq.setArraySize(this.lengths,e));for(let p=0,g=N-1;p<g;){const g=d[p],m=g.data.length;if(m<h.epsilon)b&&($[p]=0),Q[++p]=0;else{const Z=m*g.matrix.a,H=m*g.matrix.b,t=Math.sqrt(Z*Z+H*H);b&&($[p]=t),Q[++p]=(q?m+w:w)*t/m}}}else for(let p=1;p<N;p++)Q[p]=w;const Y=this.computeWorldPositions(p,N,I,n.positionMode==Z.pw.Percent,S==t.K.Percent);let i=Y[0],P=Y[1],J=n.offsetRotation,y=!1;if(0==J)y=D==Z.Dr.Chain;else{y=!1;const p=this.target.bone.matrix;J*=p.a*p.d-p.b*p.c>0?Z.cj.degRad:-Z.cj.degRad}for(let p=0,H=3;p<e;p++,H+=3){const t=d[p],h=t.matrix;h.tx+=(i-h.tx)*m,h.ty+=(P-h.ty)*m;const n=Y[H],S=Y[H+1],q=n-i,D=S-P;if(b){const m=$[p];if(0!=m){const p=(Math.sqrt(q*q+D*D)/m-1)*g+1;h.a*=p,h.b*=p}}if(i=n,P=S,k){const m=h.a,k=h.c,n=h.b,S=h.d;let b=0,e=0,N=0;if(I&&(b=I?Y[H-1]:0==Q[p+1]?Y[H+2]:Math.atan2(D,q)),b-=Math.atan2(n,m),y){e=Math.cos(b),N=Math.sin(b);const p=t.data.length;i+=(p*(e*m-N*n)-q)*g,P+=(p*(N*m+e*n)-D)*g}else b+=J;b>Z.cj.PI?b-=Z.cj.PI2:b<-Z.cj.PI&&(b+=Z.cj.PI2),b*=g,e=Math.cos(b),N=Math.sin(b),h.a=e*m-N*n,h.c=e*k-N*S,h.b=N*m+e*n,h.d=N*k+e*S}t.appliedValid=!1}}computeWorldPositions(p,g,m,H,t){const k=this.target;let n=this.position;const S=this.spaces,q=Z.Aq.setArraySize(this.positions,3*g+2);let D=null;const I=p.closed;let b=p.worldVerticesLength,e=b/6,N=h.NONE;if(!p.constantSpeed){const d=p.lengths;e-=I?1:2;const Q=d[e];if(H&&(n*=Q),t)for(let p=0;p<g;p++)S[p]*=Q;D=Z.Aq.setArraySize(this.world,8);for(let Z=0,H=0,t=0;Z<g;Z++,H+=3){const g=S[Z];n+=g;let $=n;if(I)$%=Q,$<0&&($+=Q),t=0;else{if($<0){N!=h.BEFORE&&(N=h.BEFORE,p.computeWorldVertices(k,2,4,D,0,2)),this.addBeforePosition($,D,0,q,H);continue}if($>Q){N!=h.AFTER&&(N=h.AFTER,p.computeWorldVertices(k,b-6,4,D,0,2)),this.addAfterPosition($-Q,D,0,q,H);continue}}for(;;t++){const p=d[t];if(!($>p)){if(0==t)$/=p;else{const g=d[t-1];$=($-g)/(p-g)}break}}t!=N&&(N=t,I&&t==e?(p.computeWorldVertices(k,b-4,4,D,0,2),p.computeWorldVertices(k,0,4,D,4,2)):p.computeWorldVertices(k,6*t+2,8,D,0,2)),this.addCurvePosition($,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],q,H,m||Z>0&&0==g)}return q}I?(b+=2,D=Z.Aq.setArraySize(this.world,b),p.computeWorldVertices(k,2,b-4,D,0,2),p.computeWorldVertices(k,0,2,D,b-4,2),D[b-2]=D[0],D[b-1]=D[1]):(e--,b-=4,D=Z.Aq.setArraySize(this.world,b),p.computeWorldVertices(k,2,b,D,0,2));const d=Z.Aq.setArraySize(this.curves,e);let Q=0,$=D[0],w=D[1],Y=0,i=0,P=0,J=0,y=0,W=0,v=0,V=0,z=0,B=0,u=0,a=0,F=0,X=0;for(let p=0,g=2;p<e;p++,g+=6)Y=D[g],i=D[g+1],P=D[g+2],J=D[g+3],y=D[g+4],W=D[g+5],v=.1875*($-2*Y+P),V=.1875*(w-2*i+J),z=.09375*(3*(Y-P)-$+y),B=.09375*(3*(i-J)-w+W),u=2*v+z,a=2*V+B,F=.75*(Y-$)+v+.16666667*z,X=.75*(i-w)+V+.16666667*B,Q+=Math.sqrt(F*F+X*X),F+=u,X+=a,u+=z,a+=B,Q+=Math.sqrt(F*F+X*X),F+=u,X+=a,Q+=Math.sqrt(F*F+X*X),F+=u+z,X+=a+B,Q+=Math.sqrt(F*F+X*X),d[p]=Q,$=y,w=W;if(H&&(n*=Q),t)for(let p=0;p<g;p++)S[p]*=Q;const K=this.segments;let j=0;for(let p=0,Z=0,H=0,t=0;p<g;p++,Z+=3){const g=S[p];n+=g;let h=n;if(I)h%=Q,h<0&&(h+=Q),H=0;else{if(h<0){this.addBeforePosition(h,D,0,q,Z);continue}if(h>Q){this.addAfterPosition(h-Q,D,b-4,q,Z);continue}}for(;;H++){const p=d[H];if(!(h>p)){if(0==H)h/=p;else{const g=d[H-1];h=(h-g)/(p-g)}break}}if(H!=N){N=H;let p=6*H;for($=D[p],w=D[p+1],Y=D[p+2],i=D[p+3],P=D[p+4],J=D[p+5],y=D[p+6],W=D[p+7],v=.03*($-2*Y+P),V=.03*(w-2*i+J),z=.006*(3*(Y-P)-$+y),B=.006*(3*(i-J)-w+W),u=2*v+z,a=2*V+B,F=.3*(Y-$)+v+.16666667*z,X=.3*(i-w)+V+.16666667*B,j=Math.sqrt(F*F+X*X),K[0]=j,p=1;p<8;p++)F+=u,X+=a,u+=z,a+=B,j+=Math.sqrt(F*F+X*X),K[p]=j;F+=u,X+=a,j+=Math.sqrt(F*F+X*X),K[8]=j,F+=u+z,X+=a+B,j+=Math.sqrt(F*F+X*X),K[9]=j,t=0}for(h*=j;;t++){const p=K[t];if(!(h>p)){if(0==t)h/=p;else{const g=K[t-1];h=t+(h-g)/(p-g)}break}}this.addCurvePosition(.1*h,$,w,Y,i,P,J,y,W,q,Z,m||p>0&&0==g)}return q}addBeforePosition(p,g,m,Z,H){const t=g[m],h=g[m+1],k=g[m+2]-t,n=g[m+3]-h,S=Math.atan2(n,k);Z[H]=t+p*Math.cos(S),Z[H+1]=h+p*Math.sin(S),Z[H+2]=S}addAfterPosition(p,g,m,Z,H){const t=g[m+2],h=g[m+3],k=t-g[m],n=h-g[m+1],S=Math.atan2(n,k);Z[H]=t+p*Math.cos(S),Z[H+1]=h+p*Math.sin(S),Z[H+2]=S}addCurvePosition(p,g,m,Z,H,t,h,k,n,S,q,D){(0==p||isNaN(p))&&(p=1e-4);const I=p*p,b=I*p,e=1-p,N=e*e,d=N*e,Q=e*p,$=3*Q,w=e*$,Y=$*p,i=g*d+Z*w+t*Y+k*b,P=m*d+H*w+h*Y+n*b;S[q]=i,S[q+1]=P,D&&(S[q+2]=Math.atan2(P-(m*N+H*Q*2+h*I),i-(g*N+Z*Q*2+t*I)))}};let k=h;k.NONE=-1,k.BEFORE=-2,k.AFTER=-3,k.epsilon=1e-5},164023:(p,g,m)=>{m.d(g,{K:()=>t,r:()=>H});var Z=m(191526);class H extends Z.q{constructor(p){super(p,0,!1),this.bones=new Array}}var t=(p=>(p[p["Length"]=0]="Length",p[p["Fixed"]=1]="Fixed",p[p["Percent"]=2]="Percent",p))(t||{})},242426:(p,g,m)=>{m.d(g,{E:()=>b}),m(880713);var Z=m(367866),H=m(456758),t=m(19536),h=m(915157),k=m(403389),n=m(472259),S=m(497314),q=m(400048),D=m(60431);const I=class{constructor(p){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==p)throw new Error("data cannot be null.");this.data=p,this.bones=new Array;for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z;if(null==m.parent)Z=new k.$(m,this,null);else{const p=this.bones[m.parent.index];Z=new k.$(m,this,p),p.children.push(Z)}this.bones.push(Z)}this.slots=new Array,this.drawOrder=new Array;for(let g=0;g<p.slots.length;g++){const m=p.slots[g],Z=this.bones[m.boneData.index],H=new n.D(m,Z);this.slots.push(H),this.drawOrder.push(H)}this.ikConstraints=new Array;for(let g=0;g<p.ikConstraints.length;g++){const m=p.ikConstraints[g];this.ikConstraints.push(new S.c(m,this))}this.transformConstraints=new Array;for(let g=0;g<p.transformConstraints.length;g++){const m=p.transformConstraints[g];this.transformConstraints.push(new q.U(m,this))}this.pathConstraints=new Array;for(let g=0;g<p.pathConstraints.length;g++){const m=p.pathConstraints[g];this.pathConstraints.push(new D.v(m,this))}this.color=new Z.Q1(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0,this.updateCacheReset.length=0;const p=this.bones;for(let g=0,m=p.length;g<m;g++){const m=p[g];m.sorted=m.data.skinRequired,m.active=!m.sorted}if(null!=this.skin){const p=this.skin.bones;for(let g=0,m=this.skin.bones.length;g<m;g++){let m=this.bones[p[g].index];do{m.sorted=!1,m.active=!0,m=m.parent}while(null!=m)}}const g=this.ikConstraints,m=this.transformConstraints,Z=this.pathConstraints,H=g.length,t=m.length,h=Z.length,k=H+t+h;p:for(let p=0;p<k;p++){for(let m=0;m<H;m++){const Z=g[m];if(Z.data.order==p){this.sortIkConstraint(Z);continue p}}for(let g=0;g<t;g++){const Z=m[g];if(Z.data.order==p){this.sortTransformConstraint(Z);continue p}}for(let g=0;g<h;g++){const m=Z[g];if(m.data.order==p){this.sortPathConstraint(m);continue p}}}for(let g=0,m=p.length;g<m;g++)this.sortBone(p[g])}sortIkConstraint(p){if(p.active=p.target.isActive()&&(!p.data.skinRequired||null!=this.skin&&Z.Aq.contains(this.skin.constraints,p.data,!0)),!p.active)return;const g=p.target;this.sortBone(g);const m=p.bones,H=m[0];if(this.sortBone(H),m.length>1){const p=m[m.length-1];this._updateCache.indexOf(p)>-1||this.updateCacheReset.push(p)}this._updateCache.push(p),this.sortReset(H.children),m[m.length-1].sorted=!0}sortPathConstraint(p){if(p.active=p.target.bone.isActive()&&(!p.data.skinRequired||null!=this.skin&&Z.Aq.contains(this.skin.constraints,p.data,!0)),!p.active)return;const g=p.target,m=g.data.index,H=g.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,m,H),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,m,H);for(let p=0,g=this.data.skins.length;p<g;p++)this.sortPathConstraintAttachment(this.data.skins[p],m,H);const h=g.getAttachment();h instanceof t.H&&this.sortPathConstraintAttachmentWith(h,H);const k=p.bones,n=k.length;for(let p=0;p<n;p++)this.sortBone(k[p]);this._updateCache.push(p);for(let p=0;p<n;p++)this.sortReset(k[p].children);for(let p=0;p<n;p++)k[p].sorted=!0}sortTransformConstraint(p){if(p.active=p.target.isActive()&&(!p.data.skinRequired||null!=this.skin&&Z.Aq.contains(this.skin.constraints,p.data,!0)),!p.active)return;this.sortBone(p.target);const g=p.bones,m=g.length;if(p.data.local)for(let p=0;p<m;p++){const m=g[p];this.sortBone(m.parent),this._updateCache.indexOf(m)>-1||this.updateCacheReset.push(m)}else for(let p=0;p<m;p++)this.sortBone(g[p]);this._updateCache.push(p);for(let p=0;p<m;p++)this.sortReset(g[p].children);for(let p=0;p<m;p++)g[p].sorted=!0}sortPathConstraintAttachment(p,g,m){const Z=p.attachments[g];if(Z)for(const p in Z)this.sortPathConstraintAttachmentWith(Z[p],m)}sortPathConstraintAttachmentWith(p,g){if(!(p instanceof t.H))return;const m=p.bones;if(null==m)this.sortBone(g);else{const p=this.bones;let g=0;for(;g<m.length;){const Z=m[g++];for(let H=g+Z;g<H;g++){const Z=m[g];this.sortBone(p[Z])}}}}sortBone(p){if(p.sorted)return;const g=p.parent;null!=g&&this.sortBone(g),p.sorted=!0,this._updateCache.push(p)}sortReset(p){for(let g=0,m=p.length;g<m;g++){const m=p[g];m.active&&(m.sorted&&this.sortReset(m.children),m.sorted=!1)}}updateWorldTransform(){const p=this.updateCacheReset;for(let g=0,m=p.length;g<m;g++){const m=p[g];m.ax=m.x,m.ay=m.y,m.arotation=m.rotation,m.ascaleX=m.scaleX,m.ascaleY=m.scaleY,m.ashearX=m.shearX,m.ashearY=m.shearY,m.appliedValid=!0}const g=this._updateCache;for(let p=0,m=g.length;p<m;p++)g[p].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){const p=this.bones;for(let g=0,m=p.length;g<m;g++)p[g].setToSetupPose();const g=this.ikConstraints;for(let p=0,m=g.length;p<m;p++){const m=g[p];m.mix=m.data.mix,m.softness=m.data.softness,m.bendDirection=m.data.bendDirection,m.compress=m.data.compress,m.stretch=m.data.stretch}const m=this.transformConstraints;for(let p=0,g=m.length;p<g;p++){const g=m[p],Z=g.data;g.rotateMix=Z.rotateMix,g.translateMix=Z.translateMix,g.scaleMix=Z.scaleMix,g.shearMix=Z.shearMix}const Z=this.pathConstraints;for(let p=0,g=Z.length;p<g;p++){const g=Z[p],m=g.data;g.position=m.position,g.spacing=m.spacing,g.rotateMix=m.rotateMix,g.translateMix=m.translateMix}}setSlotsToSetupPose(){const p=this.slots;Z.Aq.arrayCopy(p,0,this.drawOrder,0,p.length);for(let g=0,m=p.length;g<m;g++)p[g].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findBoneIndex(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++)if(g[m].data.name==p)return m;return-1}findSlot(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findSlotIndex(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++)if(g[m].data.name==p)return m;return-1}setSkinByName(p){const g=this.data.findSkin(p);if(null==g)throw new Error(`Skin not found: ${p}`);this.setSkin(g)}setSkin(p){if(p!=this.skin){if(null!=p)if(null!=this.skin)p.attachAll(this,this.skin);else{const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m],H=Z.data.attachmentName;if(null!=H){const g=p.getAttachment(m,H);null!=g&&Z.setAttachment(g)}}}this.skin=p,this.updateCache()}}getAttachmentByName(p,g){return this.getAttachment(this.data.findSlotIndex(p),g)}getAttachment(p,g){if(null==g)throw new Error("attachmentName cannot be null.");if(null!=this.skin){const m=this.skin.getAttachment(p,g);if(null!=m)return m}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(p,g):null}setAttachment(p,g){if(null==p)throw new Error("slotName cannot be null.");const m=this.slots;for(let Z=0,H=m.length;Z<H;Z++){const H=m[Z];if(H.data.name==p){let m=null;if(null!=g&&(m=this.getAttachment(Z,g),null==m))throw new Error(`Attachment not found: ${g}, for slot: ${p}`);return void H.setAttachment(m)}}throw new Error(`Slot not found: ${p}`)}findIkConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.ikConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findTransformConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.transformConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findPathConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}getBounds(p,g,m=new Array(2)){if(null==p)throw new Error("offset cannot be null.");if(null==g)throw new Error("size cannot be null.");const t=this.drawOrder;let k=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,q=Number.NEGATIVE_INFINITY;for(let p=0,g=t.length;p<g;p++){const g=t[p];if(!g.bone.active)continue;let D=0,I=null;const b=g.getAttachment();if(b instanceof h.Q)D=8,I=Z.Aq.setArraySize(m,D,0),b.computeWorldVertices(g.bone,I,0,2);else if(b instanceof H.f){const p=b;D=p.worldVerticesLength,I=Z.Aq.setArraySize(m,D,0),p.computeWorldVertices(g,0,D,I,0,2)}if(null!=I)for(let p=0,g=I.length;p<g;p+=2){const g=I[p],m=I[p+1];k=Math.min(k,g),n=Math.min(n,m),S=Math.max(S,g),q=Math.max(q,m)}}p.set(k,n),g.set(S-k,q-n)}update(p){this.time+=p}get flipX(){return-1==this.scaleX}set flipX(p){I.deprecatedWarning1||(I.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=p?1:-1}get flipY(){return-1==this.scaleY}set flipY(p){I.deprecatedWarning1||(I.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=p?1:-1}};let b=I;b.deprecatedWarning1=!1},84885:(p,g,m)=>{m.d(g,{t:()=>d});var Z=m(561117),H=m(635970),t=m(680523),h=m(131853),k=m(919050),n=m(752960),S=m(164023),q=m(783e3),D=m(828397),I=m(607815),b=m(367866),e=m(316197);const N=class{constructor(p){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=p}readSkeletonData(p){const g=this.scale,m=new H.Y;m.name="";const Z=new b.aG(p);if(m.hash=Z.readString(),m.version=Z.readString(),"3.8.75"===m.version){const p=`Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.`;console.error(p)}m.x=Z.readFloat(),m.y=Z.readFloat(),m.width=Z.readFloat(),m.height=Z.readFloat();const q=Z.readBoolean();q&&(m.fps=Z.readFloat(),m.imagesPath=Z.readString(),m.audioPath=Z.readString());let I=0;I=Z.readInt(!0);for(let p=0;p<I;p++)Z.strings.push(Z.readString());I=Z.readInt(!0);for(let p=0;p<I;p++){const H=Z.readString(),t=0==p?null:m.bones[Z.readInt(!0)],k=new h.h(p,H,t);k.rotation=Z.readFloat(),k.x=Z.readFloat()*g,k.y=Z.readFloat()*g,k.scaleX=Z.readFloat(),k.scaleY=Z.readFloat(),k.shearX=Z.readFloat(),k.shearY=Z.readFloat(),k.length=Z.readFloat()*g,k.transformMode=N.TransformModeValues[Z.readInt(!0)],k.skinRequired=Z.readBoolean(),q&&b.Q1.rgba8888ToColor(k.color,Z.readInt32()),m.bones.push(k)}I=Z.readInt(!0);for(let p=0;p<I;p++){const g=Z.readString(),H=m.bones[Z.readInt(!0)],h=new t.P(p,g,H);b.Q1.rgba8888ToColor(h.color,Z.readInt32());const k=Z.readInt32();-1!=k&&b.Q1.rgb888ToColor(h.darkColor=new b.Q1,k),h.attachmentName=Z.readStringRef(),h.blendMode=N.BlendModeValues[Z.readInt(!0)],m.slots.push(h)}I=Z.readInt(!0);for(let p,H=0;H<I;H++){const H=new k.Q(Z.readString());H.order=Z.readInt(!0),H.skinRequired=Z.readBoolean(),p=Z.readInt(!0);for(let g=0;g<p;g++)H.bones.push(m.bones[Z.readInt(!0)]);H.target=m.bones[Z.readInt(!0)],H.mix=Z.readFloat(),H.softness=Z.readFloat()*g,H.bendDirection=Z.readByte(),H.compress=Z.readBoolean(),H.stretch=Z.readBoolean(),H.uniform=Z.readBoolean(),m.ikConstraints.push(H)}I=Z.readInt(!0);for(let p,H=0;H<I;H++){const H=new n._(Z.readString());H.order=Z.readInt(!0),H.skinRequired=Z.readBoolean(),p=Z.readInt(!0);for(let g=0;g<p;g++)H.bones.push(m.bones[Z.readInt(!0)]);H.target=m.bones[Z.readInt(!0)],H.local=Z.readBoolean(),H.relative=Z.readBoolean(),H.offsetRotation=Z.readFloat(),H.offsetX=Z.readFloat()*g,H.offsetY=Z.readFloat()*g,H.offsetScaleX=Z.readFloat(),H.offsetScaleY=Z.readFloat(),H.offsetShearY=Z.readFloat(),H.rotateMix=Z.readFloat(),H.translateMix=Z.readFloat(),H.scaleMix=Z.readFloat(),H.shearMix=Z.readFloat(),m.transformConstraints.push(H)}I=Z.readInt(!0);for(let p,H=0;H<I;H++){const H=new S.r(Z.readString());H.order=Z.readInt(!0),H.skinRequired=Z.readBoolean(),p=Z.readInt(!0);for(let g=0;g<p;g++)H.bones.push(m.bones[Z.readInt(!0)]);H.target=m.slots[Z.readInt(!0)],H.positionMode=N.PositionModeValues[Z.readInt(!0)],H.spacingMode=N.SpacingModeValues[Z.readInt(!0)],H.rotateMode=N.RotateModeValues[Z.readInt(!0)],H.offsetRotation=Z.readFloat(),H.position=Z.readFloat(),H.positionMode==b.pw.Fixed&&(H.position*=g),H.spacing=Z.readFloat(),H.spacingMode!=S.K.Length&&H.spacingMode!=S.K.Fixed||(H.spacing*=g),H.rotateMix=Z.readFloat(),H.translateMix=Z.readFloat(),m.pathConstraints.push(H)}const e=this.readSkin(Z,m,!0,q);null!=e&&(m.defaultSkin=e,m.skins.push(e));{let p=m.skins.length;for(b.Aq.setArraySize(m.skins,I=p+Z.readInt(!0));p<I;p++)m.skins[p]=this.readSkin(Z,m,!1,q)}I=this.linkedMeshes.length;for(let p=0;p<I;p++){const g=this.linkedMeshes[p],Z=null==g.skin?m.defaultSkin:m.findSkin(g.skin);if(null==Z)throw new Error(`Skin not found: ${g.skin}`);const H=Z.getAttachment(g.slotIndex,g.parent);if(null==H)throw new Error(`Parent mesh not found: ${g.parent}`);g.mesh.deformAttachment=g.inheritDeform?H:g.mesh,g.mesh.setParentMesh(H)}this.linkedMeshes.length=0,I=Z.readInt(!0);for(let p=0;p<I;p++){const p=new D.R(Z.readStringRef());p.intValue=Z.readInt(!1),p.floatValue=Z.readFloat(),p.stringValue=Z.readString(),p.audioPath=Z.readString(),null!=p.audioPath&&(p.volume=Z.readFloat(),p.balance=Z.readFloat()),m.events.push(p)}I=Z.readInt(!0);for(let p=0;p<I;p++)m.animations.push(this.readAnimation(Z,Z.readString(),m));return m}readSkin(p,g,m,Z){let H=null,t=0;if(m){if(t=p.readInt(!0),0==t)return null;H=new q.M("default")}else{H=new q.M(p.readStringRef()),H.bones.length=p.readInt(!0);for(let m=0,Z=H.bones.length;m<Z;m++)H.bones[m]=g.bones[p.readInt(!0)];for(let m=0,Z=p.readInt(!0);m<Z;m++)H.constraints.push(g.ikConstraints[p.readInt(!0)]);for(let m=0,Z=p.readInt(!0);m<Z;m++)H.constraints.push(g.transformConstraints[p.readInt(!0)]);for(let m=0,Z=p.readInt(!0);m<Z;m++)H.constraints.push(g.pathConstraints[p.readInt(!0)]);t=p.readInt(!0)}for(let m=0;m<t;m++){const m=p.readInt(!0);for(let t=0,h=p.readInt(!0);t<h;t++){const t=p.readStringRef(),h=this.readAttachment(p,g,H,m,t,Z);null!=h&&H.setAttachment(m,t,h)}}return H}readAttachment(p,g,m,Z,H,t){const h=this.scale;let k=p.readStringRef();null==k&&(k=H);const n=p.readByte();switch(N.AttachmentTypeValues[n]){case b.wh.Region:{let g=p.readStringRef();const Z=p.readFloat(),H=p.readFloat(),t=p.readFloat(),n=p.readFloat(),S=p.readFloat(),q=p.readFloat(),D=p.readFloat(),I=p.readInt32();null==g&&(g=k);const e=this.attachmentLoader.newRegionAttachment(m,k,g);return null==e?null:(e.path=g,e.x=H*h,e.y=t*h,e.scaleX=n,e.scaleY=S,e.rotation=Z,e.width=q*h,e.height=D*h,b.Q1.rgba8888ToColor(e.color,I),e)}case b.wh.BoundingBox:{const g=p.readInt(!0),Z=this.readVertices(p,g),H=t?p.readInt32():0,h=this.attachmentLoader.newBoundingBoxAttachment(m,k);return null==h?null:(h.worldVerticesLength=g<<1,h.vertices=Z.vertices,h.bones=Z.bones,t&&b.Q1.rgba8888ToColor(h.color,H),h)}case b.wh.Mesh:{let g=p.readStringRef();const Z=p.readInt32(),H=p.readInt(!0),n=this.readFloatArray(p,H<<1,1),S=this.readShortArray(p),q=this.readVertices(p,H),D=p.readInt(!0);let I=null,e=0,N=0;t&&(I=this.readShortArray(p),e=p.readFloat(),N=p.readFloat()),null==g&&(g=k);const d=this.attachmentLoader.newMeshAttachment(m,k,g);return null==d?null:(d.path=g,b.Q1.rgba8888ToColor(d.color,Z),d.bones=q.bones,d.vertices=q.vertices,d.worldVerticesLength=H<<1,d.triangles=S,d.regionUVs=new Float32Array(n),d.hullLength=D<<1,t&&(d.edges=I,d.width=e*h,d.height=N*h),d)}case b.wh.LinkedMesh:{let g=p.readStringRef();const H=p.readInt32(),n=p.readStringRef(),S=p.readStringRef(),q=p.readBoolean();let D=0,I=0;t&&(D=p.readFloat(),I=p.readFloat()),null==g&&(g=k);const e=this.attachmentLoader.newMeshAttachment(m,k,g);return null==e?null:(e.path=g,b.Q1.rgba8888ToColor(e.color,H),t&&(e.width=D*h,e.height=I*h),this.linkedMeshes.push(new Q(e,n,Z,S,q)),e)}case b.wh.Path:{const g=p.readBoolean(),Z=p.readBoolean(),H=p.readInt(!0),n=this.readVertices(p,H),S=b.Aq.newArray(H/3,0);for(let g=0,m=S.length;g<m;g++)S[g]=p.readFloat()*h;const q=t?p.readInt32():0,D=this.attachmentLoader.newPathAttachment(m,k);return null==D?null:(D.closed=g,D.constantSpeed=Z,D.worldVerticesLength=H<<1,D.vertices=n.vertices,D.bones=n.bones,D.lengths=S,t&&b.Q1.rgba8888ToColor(D.color,q),D)}case b.wh.Point:{const g=p.readFloat(),Z=p.readFloat(),H=p.readFloat(),n=t?p.readInt32():0,S=this.attachmentLoader.newPointAttachment(m,k);return null==S?null:(S.x=Z*h,S.y=H*h,S.rotation=g,t&&b.Q1.rgba8888ToColor(S.color,n),S)}case b.wh.Clipping:{const Z=p.readInt(!0),H=p.readInt(!0),h=this.readVertices(p,H),n=t?p.readInt32():0,S=this.attachmentLoader.newClippingAttachment(m,k);return null==S?null:(S.endSlot=g.slots[Z],S.worldVerticesLength=H<<1,S.vertices=h.vertices,S.bones=h.bones,t&&b.Q1.rgba8888ToColor(S.color,n),S)}}return null}readVertices(p,g){const m=g<<1,Z=new $,H=this.scale;if(!p.readBoolean())return Z.vertices=this.readFloatArray(p,m,H),Z;const t=new Array,h=new Array;for(let m=0;m<g;m++){const g=p.readInt(!0);h.push(g);for(let m=0;m<g;m++)h.push(p.readInt(!0)),t.push(p.readFloat()*H),t.push(p.readFloat()*H),t.push(p.readFloat())}return Z.vertices=b.Aq.toFloatArray(t),Z.bones=h,Z}readFloatArray(p,g,m){const Z=new Array(g);if(1==m)for(let m=0;m<g;m++)Z[m]=p.readFloat();else for(let H=0;H<g;H++)Z[H]=p.readFloat()*m;return Z}readShortArray(p){const g=p.readInt(!0),m=new Array(g);for(let Z=0;Z<g;Z++)m[Z]=p.readShort();return m}readAnimation(p,g,m){const H=new Array,t=this.scale;let h=0;const k=new b.Q1,n=new b.Q1;for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0);for(let m=0,Z=p.readInt(!0);m<Z;m++){const m=p.readByte(),Z=p.readInt(!0);switch(m){case N.SLOT_ATTACHMENT:{const m=new I.zK(Z);m.slotIndex=g;for(let g=0;g<Z;g++)m.setFrame(g,p.readFloat(),p.readStringRef());H.push(m),h=Math.max(h,m.frames[Z-1]);break}case N.SLOT_COLOR:{const m=new I.J9(Z);m.slotIndex=g;for(let g=0;g<Z;g++){const H=p.readFloat();b.Q1.rgba8888ToColor(k,p.readInt32()),m.setFrame(g,H,k.r,k.g,k.b,k.a),g<Z-1&&this.readCurve(p,g,m)}H.push(m),h=Math.max(h,m.frames[(Z-1)*I.J9.ENTRIES]);break}case N.SLOT_TWO_COLOR:{const m=new I.pv(Z);m.slotIndex=g;for(let g=0;g<Z;g++){const H=p.readFloat();b.Q1.rgba8888ToColor(k,p.readInt32()),b.Q1.rgb888ToColor(n,p.readInt32()),m.setFrame(g,H,k.r,k.g,k.b,k.a,n.r,n.g,n.b),g<Z-1&&this.readCurve(p,g,m)}H.push(m),h=Math.max(h,m.frames[(Z-1)*I.pv.ENTRIES]);break}}}}for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0);for(let m=0,Z=p.readInt(!0);m<Z;m++){const m=p.readByte(),Z=p.readInt(!0);switch(m){case N.BONE_ROTATE:{const m=new I.NQ(Z);m.boneIndex=g;for(let g=0;g<Z;g++)m.setFrame(g,p.readFloat(),p.readFloat()),g<Z-1&&this.readCurve(p,g,m);H.push(m),h=Math.max(h,m.frames[(Z-1)*I.NQ.ENTRIES]);break}case N.BONE_TRANSLATE:case N.BONE_SCALE:case N.BONE_SHEAR:{let k,n=1;m==N.BONE_SCALE?k=new I.i9(Z):m==N.BONE_SHEAR?k=new I.$l(Z):(k=new I.Sr(Z),n=t),k.boneIndex=g;for(let g=0;g<Z;g++)k.setFrame(g,p.readFloat(),p.readFloat()*n,p.readFloat()*n),g<Z-1&&this.readCurve(p,g,k);H.push(k),h=Math.max(h,k.frames[(Z-1)*I.Sr.ENTRIES]);break}}}}for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0),m=p.readInt(!0),Z=new I.pA(m);Z.ikConstraintIndex=g;for(let g=0;g<m;g++)Z.setFrame(g,p.readFloat(),p.readFloat(),p.readFloat()*t,p.readByte(),p.readBoolean(),p.readBoolean()),g<m-1&&this.readCurve(p,g,Z);H.push(Z),h=Math.max(h,Z.frames[(m-1)*I.pA.ENTRIES])}for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0),m=p.readInt(!0),Z=new I.To(m);Z.transformConstraintIndex=g;for(let g=0;g<m;g++)Z.setFrame(g,p.readFloat(),p.readFloat(),p.readFloat(),p.readFloat(),p.readFloat()),g<m-1&&this.readCurve(p,g,Z);H.push(Z),h=Math.max(h,Z.frames[(m-1)*I.To.ENTRIES])}for(let g=0,Z=p.readInt(!0);g<Z;g++){const g=p.readInt(!0),Z=m.pathConstraints[g];for(let m=0,k=p.readInt(!0);m<k;m++){const m=p.readByte(),k=p.readInt(!0);switch(m){case N.PATH_POSITION:case N.PATH_SPACING:{let n,q=1;m==N.PATH_SPACING?(n=new I.vl(k),Z.spacingMode!=S.K.Length&&Z.spacingMode!=S.K.Fixed||(q=t)):(n=new I.vz(k),Z.positionMode==b.pw.Fixed&&(q=t)),n.pathConstraintIndex=g;for(let g=0;g<k;g++)n.setFrame(g,p.readFloat(),p.readFloat()*q),g<k-1&&this.readCurve(p,g,n);H.push(n),h=Math.max(h,n.frames[(k-1)*I.vz.ENTRIES]);break}case N.PATH_MIX:{const m=new I.I6(k);m.pathConstraintIndex=g;for(let g=0;g<k;g++)m.setFrame(g,p.readFloat(),p.readFloat(),p.readFloat()),g<k-1&&this.readCurve(p,g,m);H.push(m),h=Math.max(h,m.frames[(k-1)*I.I6.ENTRIES]);break}}}}for(let g=0,Z=p.readInt(!0);g<Z;g++){const g=m.skins[p.readInt(!0)];for(let m=0,Z=p.readInt(!0);m<Z;m++){const m=p.readInt(!0);for(let Z=0,k=p.readInt(!0);Z<k;Z++){const Z=g.getAttachment(m,p.readStringRef()),k=null!=Z.bones,n=Z.vertices,S=k?n.length/3*2:n.length,q=p.readInt(!0),D=new I.jQ(q);D.slotIndex=m,D.attachment=Z;for(let g=0;g<q;g++){const m=p.readFloat();let Z,H=p.readInt(!0);if(0==H)Z=k?b.Aq.newFloatArray(S):n;else{Z=b.Aq.newFloatArray(S);const g=p.readInt(!0);if(H+=g,1==t)for(let m=g;m<H;m++)Z[m]=p.readFloat();else for(let m=g;m<H;m++)Z[m]=p.readFloat()*t;if(!k)for(let p=0,g=Z.length;p<g;p++)Z[p]+=n[p]}D.setFrame(g,m,Z),g<q-1&&this.readCurve(p,g,D)}H.push(D),h=Math.max(h,D.frames[q-1])}}}const q=p.readInt(!0);if(q>0){const g=new I.Kn(q),Z=m.slots.length;for(let m=0;m<q;m++){const H=p.readFloat(),t=p.readInt(!0),h=b.Aq.newArray(Z,0);for(let p=Z-1;p>=0;p--)h[p]=-1;const k=b.Aq.newArray(Z-t,0);let n=0,S=0;for(let g=0;g<t;g++){const g=p.readInt(!0);for(;n!=g;)k[S++]=n++;h[n+p.readInt(!0)]=n++}for(;n<Z;)k[S++]=n++;for(let p=Z-1;p>=0;p--)-1==h[p]&&(h[p]=k[--S]);g.setFrame(m,H,h)}H.push(g),h=Math.max(h,g.frames[q-1])}const D=p.readInt(!0);if(D>0){const g=new I.qs(D);for(let H=0;H<D;H++){const t=p.readFloat(),h=m.events[p.readInt(!0)],k=new Z.J(t,h);k.intValue=p.readInt(!1),k.floatValue=p.readFloat(),k.stringValue=p.readBoolean()?p.readString():h.stringValue,null!=k.data.audioPath&&(k.volume=p.readFloat(),k.balance=p.readFloat()),g.setFrame(H,k)}H.push(g),h=Math.max(h,g.frames[D-1])}return new I.X5(g,H,h)}readCurve(p,g,m){switch(p.readByte()){case N.CURVE_STEPPED:m.setStepped(g);break;case N.CURVE_BEZIER:this.setCurve(m,g,p.readFloat(),p.readFloat(),p.readFloat(),p.readFloat())}}setCurve(p,g,m,Z,H,t){p.setCurve(g,m,Z,H,t)}};let d=N;d.AttachmentTypeValues=[0,1,2,3,4,5,6],d.TransformModeValues=[b._C.Normal,b._C.OnlyTranslation,b._C.NoRotationOrReflection,b._C.NoScale,b._C.NoScaleOrReflection],d.PositionModeValues=[b.pw.Fixed,b.pw.Percent],d.SpacingModeValues=[S.K.Length,S.K.Fixed,S.K.Percent],d.RotateModeValues=[b.Dr.Tangent,b.Dr.Chain,b.Dr.ChainScale],d.BlendModeValues=[e.B9.NORMAL,e.B9.ADD,e.B9.MULTIPLY,e.B9.SCREEN],d.BONE_ROTATE=0,d.BONE_TRANSLATE=1,d.BONE_SCALE=2,d.BONE_SHEAR=3,d.SLOT_ATTACHMENT=0,d.SLOT_COLOR=1,d.SLOT_TWO_COLOR=2,d.PATH_POSITION=0,d.PATH_SPACING=1,d.PATH_MIX=2,d.CURVE_LINEAR=0,d.CURVE_STEPPED=1,d.CURVE_BEZIER=2;class Q{constructor(p,g,m,Z,H){this.mesh=p,this.skin=g,this.slotIndex=m,this.parent=Z,this.inheritDeform=H}}class ${constructor(p=null,g=null){this.bones=p,this.vertices=g}}},587457:(p,g,m)=>{m.d(g,{V:()=>H});var Z=m(367866);class H extends Z.S3{}},635970:(p,g,m)=>{m.d(g,{Y:()=>Z});class Z{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findBoneIndex(p){if(null==p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}findSlot(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findSlotIndex(p){if(null==p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}findSkin(p){if(null==p)throw new Error("skinName cannot be null.");const g=this.skins;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findEvent(p){if(null==p)throw new Error("eventDataName cannot be null.");const g=this.events;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findAnimation(p){if(null==p)throw new Error("animationName cannot be null.");const g=this.animations;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findIkConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.ikConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findTransformConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.transformConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findPathConstraint(p){if(null==p)throw new Error("constraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findPathConstraintIndex(p){if(null==p)throw new Error("pathConstraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}}},982876:(p,g,m)=>{m.d(g,{m:()=>N});var Z=m(561117),H=m(635970),t=m(680523),h=m(131853),k=m(919050),n=m(752960),S=m(164023),q=m(783e3),D=m(828397),I=m(607815),b=m(367866),e=m(316197);class N{constructor(p){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=p}readSkeletonData(p){const g=this.scale,m=new H.Y,Z="string"==typeof p?JSON.parse(p):p,I=Z.skeleton;if(null!=I){if(m.hash=I.hash,m.version=I.spine,"3.8"!==m.version.substr(0,3)){const p=`Spine 3.8 loader cant load version ${I.spine}. Please configure your pixi-spine bundle`;console.error(p)}if("3.8.75"===m.version){const p=`Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.`;console.error(p)}m.x=I.x,m.y=I.y,m.width=I.width,m.height=I.height,m.fps=I.fps,m.imagesPath=I.images}if(Z.bones)for(let p=0;p<Z.bones.length;p++){const H=Z.bones[p];let t=null;const k=this.getValue(H,"parent",null);if(null!=k&&(t=m.findBone(k),null==t))throw new Error(`Parent bone not found: ${k}`);const n=new h.h(m.bones.length,H.name,t);n.length=this.getValue(H,"length",0)*g,n.x=this.getValue(H,"x",0)*g,n.y=this.getValue(H,"y",0)*g,n.rotation=this.getValue(H,"rotation",0),n.scaleX=this.getValue(H,"scaleX",1),n.scaleY=this.getValue(H,"scaleY",1),n.shearX=this.getValue(H,"shearX",0),n.shearY=this.getValue(H,"shearY",0),n.transformMode=N.transformModeFromString(this.getValue(H,"transform","normal")),n.skinRequired=this.getValue(H,"skin",!1),m.bones.push(n)}if(Z.slots)for(let p=0;p<Z.slots.length;p++){const g=Z.slots[p],H=g.name,h=g.bone,k=m.findBone(h);if(null==k)throw new Error(`Slot bone not found: ${h}`);const n=new t.P(m.slots.length,H,k),S=this.getValue(g,"color",null);null!=S&&n.color.setFromString(S);const q=this.getValue(g,"dark",null);null!=q&&(n.darkColor=new b.Q1(1,1,1,1),n.darkColor.setFromString(q)),n.attachmentName=this.getValue(g,"attachment",null),n.blendMode=N.blendModeFromString(this.getValue(g,"blend","normal")),m.slots.push(n)}if(Z.ik)for(let p=0;p<Z.ik.length;p++){const H=Z.ik[p],t=new k.Q(H.name);t.order=this.getValue(H,"order",0),t.skinRequired=this.getValue(H,"skin",!1);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(null==Z)throw new Error(`IK bone not found: ${g}`);t.bones.push(Z)}const h=H.target;if(t.target=m.findBone(h),null==t.target)throw new Error(`IK target bone not found: ${h}`);t.mix=this.getValue(H,"mix",1),t.softness=this.getValue(H,"softness",0)*g,t.bendDirection=this.getValue(H,"bendPositive",!0)?1:-1,t.compress=this.getValue(H,"compress",!1),t.stretch=this.getValue(H,"stretch",!1),t.uniform=this.getValue(H,"uniform",!1),m.ikConstraints.push(t)}if(Z.transform)for(let p=0;p<Z.transform.length;p++){const H=Z.transform[p],t=new n._(H.name);t.order=this.getValue(H,"order",0),t.skinRequired=this.getValue(H,"skin",!1);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(null==Z)throw new Error(`Transform constraint bone not found: ${g}`);t.bones.push(Z)}const h=H.target;if(t.target=m.findBone(h),null==t.target)throw new Error(`Transform constraint target bone not found: ${h}`);t.local=this.getValue(H,"local",!1),t.relative=this.getValue(H,"relative",!1),t.offsetRotation=this.getValue(H,"rotation",0),t.offsetX=this.getValue(H,"x",0)*g,t.offsetY=this.getValue(H,"y",0)*g,t.offsetScaleX=this.getValue(H,"scaleX",0),t.offsetScaleY=this.getValue(H,"scaleY",0),t.offsetShearY=this.getValue(H,"shearY",0),t.rotateMix=this.getValue(H,"rotateMix",1),t.translateMix=this.getValue(H,"translateMix",1),t.scaleMix=this.getValue(H,"scaleMix",1),t.shearMix=this.getValue(H,"shearMix",1),m.transformConstraints.push(t)}if(Z.path)for(let p=0;p<Z.path.length;p++){const H=Z.path[p],t=new S.r(H.name);t.order=this.getValue(H,"order",0),t.skinRequired=this.getValue(H,"skin",!1);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(null==Z)throw new Error(`Transform constraint bone not found: ${g}`);t.bones.push(Z)}const h=H.target;if(t.target=m.findSlot(h),null==t.target)throw new Error(`Path target slot not found: ${h}`);t.positionMode=N.positionModeFromString(this.getValue(H,"positionMode","percent")),t.spacingMode=N.spacingModeFromString(this.getValue(H,"spacingMode","length")),t.rotateMode=N.rotateModeFromString(this.getValue(H,"rotateMode","tangent")),t.offsetRotation=this.getValue(H,"rotation",0),t.position=this.getValue(H,"position",0),t.positionMode==b.pw.Fixed&&(t.position*=g),t.spacing=this.getValue(H,"spacing",0),t.spacingMode!=S.K.Length&&t.spacingMode!=S.K.Fixed||(t.spacing*=g),t.rotateMix=this.getValue(H,"rotateMix",1),t.translateMix=this.getValue(H,"translateMix",1),m.pathConstraints.push(t)}if(Z.skins)for(let p=0;p<Z.skins.length;p++){const g=Z.skins[p],H=new q.M(g.name);if(g.bones)for(let Z=0;Z<g.bones.length;Z++){const t=m.findBone(g.bones[Z]);if(null==t)throw new Error(`Skin bone not found: ${g.bones[p]}`);H.bones.push(t)}if(g.ik)for(let Z=0;Z<g.ik.length;Z++){const t=m.findIkConstraint(g.ik[Z]);if(null==t)throw new Error(`Skin IK constraint not found: ${g.ik[p]}`);H.constraints.push(t)}if(g.transform)for(let Z=0;Z<g.transform.length;Z++){const t=m.findTransformConstraint(g.transform[Z]);if(null==t)throw new Error(`Skin transform constraint not found: ${g.transform[p]}`);H.constraints.push(t)}if(g.path)for(let Z=0;Z<g.path.length;Z++){const t=m.findPathConstraint(g.path[Z]);if(null==t)throw new Error(`Skin path constraint not found: ${g.path[p]}`);H.constraints.push(t)}for(const p in g.attachments){const Z=m.findSlot(p);if(null==Z)throw new Error(`Slot not found: ${p}`);const t=g.attachments[p];for(const p in t){const g=this.readAttachment(t[p],H,Z.index,p,m);null!=g&&H.setAttachment(Z.index,p,g)}}m.skins.push(H),"default"==H.name&&(m.defaultSkin=H)}for(let p=0,g=this.linkedMeshes.length;p<g;p++){const g=this.linkedMeshes[p],Z=null==g.skin?m.defaultSkin:m.findSkin(g.skin);if(null==Z)throw new Error(`Skin not found: ${g.skin}`);const H=Z.getAttachment(g.slotIndex,g.parent);if(null==H)throw new Error(`Parent mesh not found: ${g.parent}`);g.mesh.deformAttachment=g.inheritDeform?H:g.mesh,g.mesh.setParentMesh(H)}if(this.linkedMeshes.length=0,Z.events)for(const p in Z.events){const g=Z.events[p],H=new D.R(p);H.intValue=this.getValue(g,"int",0),H.floatValue=this.getValue(g,"float",0),H.stringValue=this.getValue(g,"string",""),H.audioPath=this.getValue(g,"audio",null),null!=H.audioPath&&(H.volume=this.getValue(g,"volume",1),H.balance=this.getValue(g,"balance",0)),m.events.push(H)}if(Z.animations)for(const p in Z.animations){const g=Z.animations[p];this.readAnimation(g,p,m)}return m}readAttachment(p,g,m,Z,H){const t=this.scale;switch(Z=this.getValue(p,"name",Z),this.getValue(p,"type","region")){case"region":{const m=this.getValue(p,"path",Z),H=this.attachmentLoader.newRegionAttachment(g,Z,m);if(null==H)return null;H.path=m,H.x=this.getValue(p,"x",0)*t,H.y=this.getValue(p,"y",0)*t,H.scaleX=this.getValue(p,"scaleX",1),H.scaleY=this.getValue(p,"scaleY",1),H.rotation=this.getValue(p,"rotation",0),H.width=p.width*t,H.height=p.height*t;const h=this.getValue(p,"color",null);return null!=h&&H.color.setFromString(h),H}case"boundingbox":{const m=this.attachmentLoader.newBoundingBoxAttachment(g,Z);if(null==m)return null;this.readVertices(p,m,p.vertexCount<<1);const H=this.getValue(p,"color",null);return null!=H&&m.color.setFromString(H),m}case"mesh":case"linkedmesh":{const H=this.getValue(p,"path",Z),h=this.attachmentLoader.newMeshAttachment(g,Z,H);if(null==h)return null;h.path=H;const k=this.getValue(p,"color",null);null!=k&&h.color.setFromString(k),h.width=this.getValue(p,"width",0)*t,h.height=this.getValue(p,"height",0)*t;const n=this.getValue(p,"parent",null);if(null!=n)return this.linkedMeshes.push(new d(h,this.getValue(p,"skin",null),m,n,this.getValue(p,"deform",!0))),h;const S=p.uvs;return this.readVertices(p,h,S.length),h.triangles=p.triangles,h.regionUVs=new Float32Array(S),h.edges=this.getValue(p,"edges",null),h.hullLength=2*this.getValue(p,"hull",0),h}case"path":{const m=this.attachmentLoader.newPathAttachment(g,Z);if(null==m)return null;m.closed=this.getValue(p,"closed",!1),m.constantSpeed=this.getValue(p,"constantSpeed",!0);const H=p.vertexCount;this.readVertices(p,m,H<<1);const h=b.Aq.newArray(H/3,0);for(let g=0;g<p.lengths.length;g++)h[g]=p.lengths[g]*t;m.lengths=h;const k=this.getValue(p,"color",null);return null!=k&&m.color.setFromString(k),m}case"point":{const m=this.attachmentLoader.newPointAttachment(g,Z);if(null==m)return null;m.x=this.getValue(p,"x",0)*t,m.y=this.getValue(p,"y",0)*t,m.rotation=this.getValue(p,"rotation",0);const H=this.getValue(p,"color",null);return null!=H&&m.color.setFromString(H),m}case"clipping":{const m=this.attachmentLoader.newClippingAttachment(g,Z);if(null==m)return null;const t=this.getValue(p,"end",null);if(null!=t){const p=H.findSlot(t);if(null==p)throw new Error(`Clipping end slot not found: ${t}`);m.endSlot=p}const h=p.vertexCount;this.readVertices(p,m,h<<1);const k=this.getValue(p,"color",null);return null!=k&&m.color.setFromString(k),m}}return null}readVertices(p,g,m){const Z=this.scale;g.worldVerticesLength=m;const H=p.vertices;if(m==H.length){const p=b.Aq.toFloatArray(H);if(1!=Z)for(let g=0,m=H.length;g<m;g++)p[g]*=Z;return void(g.vertices=p)}const t=new Array,h=new Array;for(let p=0,g=H.length;p<g;){const g=H[p++];h.push(g);for(let m=p+4*g;p<m;p+=4)h.push(H[p]),t.push(H[p+1]*Z),t.push(H[p+2]*Z),t.push(H[p+3])}g.bones=h,g.vertices=b.Aq.toFloatArray(t)}readAnimation(p,g,m){const H=this.scale,t=new Array;let h=0;if(p.slots)for(const g in p.slots){const Z=p.slots[g],H=m.findSlotIndex(g);if(-1==H)throw new Error(`Slot not found: ${g}`);for(const p in Z){const m=Z[p];if("attachment"==p){const p=new I.zK(m.length);p.slotIndex=H;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z];p.setFrame(g++,this.getValue(H,"time",0),H.name)}t.push(p),h=Math.max(h,p.frames[p.getFrameCount()-1])}else if("color"==p){const p=new I.J9(m.length);p.slotIndex=H;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z],t=new b.Q1;t.setFromString(H.color||"ffffffff"),p.setFrame(g,this.getValue(H,"time",0),t.r,t.g,t.b,t.a),this.readCurve(H,p,g),g++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.J9.ENTRIES])}else{if("twoColor"!=p)throw new Error(`Invalid timeline type for a slot: ${p} (${g})`);{const p=new I.pv(m.length);p.slotIndex=H;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z],t=new b.Q1,h=new b.Q1;t.setFromString(H.light),h.setFromString(H.dark),p.setFrame(g,this.getValue(H,"time",0),t.r,t.g,t.b,t.a,h.r,h.g,h.b),this.readCurve(H,p,g),g++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.pv.ENTRIES])}}}}if(p.bones)for(const g in p.bones){const Z=p.bones[g],k=m.findBoneIndex(g);if(-1==k)throw new Error(`Bone not found: ${g}`);for(const p in Z){const m=Z[p];if("rotate"===p){const p=new I.NQ(m.length);p.boneIndex=k;let g=0;for(let Z=0;Z<m.length;Z++){const H=m[Z];p.setFrame(g,this.getValue(H,"time",0),this.getValue(H,"angle",0)),this.readCurve(H,p,g),g++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.NQ.ENTRIES])}else{if("translate"!==p&&"scale"!==p&&"shear"!==p)throw new Error(`Invalid timeline type for a bone: ${p} (${g})`);{let g=null,Z=1,n=0;"scale"===p?(g=new I.i9(m.length),n=1):"shear"===p?g=new I.$l(m.length):(g=new I.Sr(m.length),Z=H),g.boneIndex=k;let S=0;for(let p=0;p<m.length;p++){const H=m[p],t=this.getValue(H,"x",n),h=this.getValue(H,"y",n);g.setFrame(S,this.getValue(H,"time",0),t*Z,h*Z),this.readCurve(H,g,S),S++}t.push(g),h=Math.max(h,g.frames[(g.getFrameCount()-1)*I.Sr.ENTRIES])}}}}if(p.ik)for(const g in p.ik){const Z=p.ik[g],k=m.findIkConstraint(g),n=new I.pA(Z.length);n.ikConstraintIndex=m.ikConstraints.indexOf(k);let S=0;for(let p=0;p<Z.length;p++){const g=Z[p];n.setFrame(S,this.getValue(g,"time",0),this.getValue(g,"mix",1),this.getValue(g,"softness",0)*H,this.getValue(g,"bendPositive",!0)?1:-1,this.getValue(g,"compress",!1),this.getValue(g,"stretch",!1)),this.readCurve(g,n,S),S++}t.push(n),h=Math.max(h,n.frames[(n.getFrameCount()-1)*I.pA.ENTRIES])}if(p.transform)for(const g in p.transform){const Z=p.transform[g],H=m.findTransformConstraint(g),k=new I.To(Z.length);k.transformConstraintIndex=m.transformConstraints.indexOf(H);let n=0;for(let p=0;p<Z.length;p++){const g=Z[p];k.setFrame(n,this.getValue(g,"time",0),this.getValue(g,"rotateMix",1),this.getValue(g,"translateMix",1),this.getValue(g,"scaleMix",1),this.getValue(g,"shearMix",1)),this.readCurve(g,k,n),n++}t.push(k),h=Math.max(h,k.frames[(k.getFrameCount()-1)*I.To.ENTRIES])}if(p.path)for(const g in p.path){const Z=p.path[g],k=m.findPathConstraintIndex(g);if(-1==k)throw new Error(`Path constraint not found: ${g}`);const n=m.pathConstraints[k];for(const p in Z){const g=Z[p];if("position"===p||"spacing"===p){let m=null,Z=1;"spacing"===p?(m=new I.vl(g.length),n.spacingMode!=S.K.Length&&n.spacingMode!=S.K.Fixed||(Z=H)):(m=new I.vz(g.length),n.positionMode==b.pw.Fixed&&(Z=H)),m.pathConstraintIndex=k;let q=0;for(let H=0;H<g.length;H++){const t=g[H];m.setFrame(q,this.getValue(t,"time",0),this.getValue(t,p,0)*Z),this.readCurve(t,m,q),q++}t.push(m),h=Math.max(h,m.frames[(m.getFrameCount()-1)*I.vz.ENTRIES])}else if("mix"===p){const p=new I.I6(g.length);p.pathConstraintIndex=k;let m=0;for(let Z=0;Z<g.length;Z++){const H=g[Z];p.setFrame(m,this.getValue(H,"time",0),this.getValue(H,"rotateMix",1),this.getValue(H,"translateMix",1)),this.readCurve(H,p,m),m++}t.push(p),h=Math.max(h,p.frames[(p.getFrameCount()-1)*I.I6.ENTRIES])}}}if(p.deform)for(const g in p.deform){const Z=p.deform[g],k=m.findSkin(g);if(null!=k)for(const p in Z){const g=Z[p],n=m.findSlotIndex(p);if(-1==n)throw new Error(`Slot not found: ${g.name}`);for(const p in g){const m=g[p],Z=k.getAttachment(n,p);if(null==Z)throw new Error(`Deform attachment not found: ${m.name}`);const S=null!=Z.bones,q=Z.vertices,D=S?q.length/3*2:q.length,e=new I.jQ(m.length);e.slotIndex=n,e.attachment=Z;let N=0;for(let p=0;p<m.length;p++){const g=m[p];let Z;const t=this.getValue(g,"vertices",null);if(null==t)Z=S?b.Aq.newFloatArray(D):q;else{Z=b.Aq.newFloatArray(D);const p=this.getValue(g,"offset",0);if(b.Aq.arrayCopy(t,0,Z,p,t.length),1!=H)for(let g=p,m=g+t.length;g<m;g++)Z[g]*=H;if(!S)for(let p=0;p<D;p++)Z[p]+=q[p]}e.setFrame(N,this.getValue(g,"time",0),Z),this.readCurve(g,e,N),N++}t.push(e),h=Math.max(h,e.frames[e.getFrameCount()-1])}}else if(b.W0.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${g}`)}let k=p.drawOrder;if(null==k&&(k=p.draworder),null!=k){const p=new I.Kn(k.length),g=m.slots.length;let Z=0;for(let H=0;H<k.length;H++){const t=k[H];let h=null;const n=this.getValue(t,"offsets",null);if(null!=n){h=b.Aq.newArray(g,-1);const p=b.Aq.newArray(g-n.length,0);let Z=0,H=0;for(let g=0;g<n.length;g++){const t=n[g],k=m.findSlotIndex(t.slot);if(-1==k)throw new Error(`Slot not found: ${t.slot}`);for(;Z!=k;)p[H++]=Z++;h[Z+t.offset]=Z++}for(;Z<g;)p[H++]=Z++;for(let m=g-1;m>=0;m--)-1==h[m]&&(h[m]=p[--H])}p.setFrame(Z++,this.getValue(t,"time",0),h)}t.push(p),h=Math.max(h,p.frames[p.getFrameCount()-1])}if(p.events){const g=new I.qs(p.events.length);let H=0;for(let t=0;t<p.events.length;t++){const h=p.events[t],k=m.findEvent(h.name);if(null==k)throw new Error(`Event not found: ${h.name}`);const n=new Z.J(b.Aq.toSinglePrecision(this.getValue(h,"time",0)),k);n.intValue=this.getValue(h,"int",k.intValue),n.floatValue=this.getValue(h,"float",k.floatValue),n.stringValue=this.getValue(h,"string",k.stringValue),null!=n.data.audioPath&&(n.volume=this.getValue(h,"volume",1),n.balance=this.getValue(h,"balance",0)),g.setFrame(H++,n)}t.push(g),h=Math.max(h,g.frames[g.getFrameCount()-1])}if(isNaN(h))throw new Error("Error while parsing animation, duration is NaN");m.animations.push(new I.X5(g,t,h))}readCurve(p,g,m){if(p.hasOwnProperty("curve"))if("stepped"===p.curve)g.setStepped(m);else{const Z=p.curve;g.setCurve(m,Z,this.getValue(p,"c2",0),this.getValue(p,"c3",1),this.getValue(p,"c4",1))}}getValue(p,g,m){return void 0!==p[g]?p[g]:m}static blendModeFromString(p){if("normal"==(p=p.toLowerCase()))return e.B9.NORMAL;if("additive"==p)return e.B9.ADD;if("multiply"==p)return e.B9.MULTIPLY;if("screen"==p)return e.B9.SCREEN;throw new Error(`Unknown blend mode: ${p}`)}static positionModeFromString(p){if("fixed"==(p=p.toLowerCase()))return b.pw.Fixed;if("percent"==p)return b.pw.Percent;throw new Error(`Unknown position mode: ${p}`)}static spacingModeFromString(p){if("length"==(p=p.toLowerCase()))return S.K.Length;if("fixed"==p)return S.K.Fixed;if("percent"==p)return S.K.Percent;throw new Error(`Unknown position mode: ${p}`)}static rotateModeFromString(p){if("tangent"==(p=p.toLowerCase()))return b.Dr.Tangent;if("chain"==p)return b.Dr.Chain;if("chainscale"==p)return b.Dr.ChainScale;throw new Error(`Unknown rotate mode: ${p}`)}static transformModeFromString(p){if("normal"==(p=p.toLowerCase()))return b._C.Normal;if("onlytranslation"==p)return b._C.OnlyTranslation;if("norotationorreflection"==p)return b._C.NoRotationOrReflection;if("noscale"==p)return b._C.NoScale;if("noscaleorreflection"==p)return b._C.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${p}`)}}class d{constructor(p,g,m,Z,H){this.mesh=p,this.skin=g,this.slotIndex=m,this.parent=Z,this.inheritDeform=H}}},783e3:(p,g,m)=>{m.d(g,{M:()=>t,S:()=>H}),m(880713),m(367866);var Z=m(456758);m(915157);class H{constructor(p,g,m){this.slotIndex=p,this.name=g,this.attachment=m}}class t{constructor(p){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==p)throw new Error("name cannot be null.");this.name=p}setAttachment(p,g,m){if(null==m)throw new Error("attachment cannot be null.");const Z=this.attachments;p>=Z.length&&(Z.length=p+1),Z[p]||(Z[p]={}),Z[p][g]=m}addSkin(p){for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z=!1;for(let p=0;p<this.bones.length;p++)if(this.bones[p]==m){Z=!0;break}Z||this.bones.push(m)}for(let g=0;g<p.constraints.length;g++){const m=p.constraints[g];let Z=!1;for(let p=0;p<this.constraints.length;p++)if(this.constraints[p]==m){Z=!0;break}Z||this.constraints.push(m)}const g=p.getAttachments();for(let p=0;p<g.length;p++){const m=g[p];this.setAttachment(m.slotIndex,m.name,m.attachment)}}copySkin(p){for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z=!1;for(let p=0;p<this.bones.length;p++)if(this.bones[p]==m){Z=!0;break}Z||this.bones.push(m)}for(let g=0;g<p.constraints.length;g++){const m=p.constraints[g];let Z=!1;for(let p=0;p<this.constraints.length;p++)if(this.constraints[p]==m){Z=!0;break}Z||this.constraints.push(m)}const g=p.getAttachments();for(let p=0;p<g.length;p++){const m=g[p];null!=m.attachment&&(m.attachment instanceof Z.f?(m.attachment=m.attachment.newLinkedMesh(),this.setAttachment(m.slotIndex,m.name,m.attachment)):(m.attachment=m.attachment.copy(),this.setAttachment(m.slotIndex,m.name,m.attachment)))}}getAttachment(p,g){const m=this.attachments[p];return m?m[g]:null}removeAttachment(p,g){const m=this.attachments[p];m&&(m[g]=null)}getAttachments(){const p=new Array;for(let g=0;g<this.attachments.length;g++){const m=this.attachments[g];if(m)for(const Z in m){const t=m[Z];t&&p.push(new H(g,Z,t))}}return p}getAttachmentsForSlot(p,g){const m=this.attachments[p];if(m)for(const Z in m){const t=m[Z];t&&g.push(new H(p,Z,t))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(p,g){let m=0;for(let Z=0;Z<p.slots.length;Z++){const H=p.slots[Z],t=H.getAttachment();if(t&&m<g.attachments.length){const p=g.attachments[m];for(const g in p)if(t==p[g]){const p=this.getAttachment(m,g);null!=p&&H.setAttachment(p);break}}m++}}}},472259:(p,g,m)=>{m.d(g,{D:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.deform=new Array,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("bone cannot be null.");this.data=p,this.bone=g,this.color=new Z.Q1,this.darkColor=null==p.darkColor?null:new Z.Q1,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(p){this.attachment!=p&&(this.attachment=p,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}setAttachmentTime(p){this.attachmentTime=this.bone.skeleton.time-p}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}},680523:(p,g,m)=>{m.d(g,{P:()=>H});var Z=m(367866);class H{constructor(p,g,m){if(this.color=new Z.Q1(1,1,1,1),p<0)throw new Error("index must be >= 0.");if(null==g)throw new Error("name cannot be null.");if(null==m)throw new Error("boneData cannot be null.");this.index=p,this.name=g,this.boneData=m}}},400048:(p,g,m)=>{m.d(g,{U:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Z.I9,this.active=!1,null==p)throw new Error("data cannot be null.");if(null==g)throw new Error("skeleton cannot be null.");this.data=p,this.rotateMix=p.rotateMix,this.translateMix=p.translateMix,this.scaleMix=p.scaleMix,this.shearMix=p.shearMix,this.bones=new Array;for(let m=0;m<p.bones.length;m++)this.bones.push(g.findBone(p.bones[m].name));this.target=g.findBone(p.target.name)}isActive(){return this.active}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,H=this.shearMix,t=this.target,h=t.matrix,k=h.a,n=h.c,S=h.b,q=h.d,D=k*q-n*S>0?Z.cj.degRad:-Z.cj.degRad,I=this.data.offsetRotation*D,b=this.data.offsetShearY*D,e=this.bones;for(let h=0,D=e.length;h<D;h++){const D=e[h];let N=!1;const d=D.matrix;if(0!=p){const g=d.a,m=d.c,H=d.b,t=d.d;let h=Math.atan2(S,k)-Math.atan2(H,g)+I;h>Z.cj.PI?h-=Z.cj.PI2:h<-Z.cj.PI&&(h+=Z.cj.PI2),h*=p;const n=Math.cos(h),q=Math.sin(h);d.a=n*g-q*H,d.c=n*m-q*t,d.b=q*g+n*H,d.d=q*m+n*t,N=!0}if(0!=g){const p=this.temp;t.localToWorld(p.set(this.data.offsetX,this.data.offsetY)),d.tx+=(p.x-d.tx)*g,d.ty+=(p.y-d.ty)*g,N=!0}if(m>0){let p=Math.sqrt(d.a*d.a+d.b*d.b),g=Math.sqrt(k*k+S*S);p>1e-5&&(p=(p+(g-p+this.data.offsetScaleX)*m)/p),d.a*=p,d.b*=p,p=Math.sqrt(d.c*d.c+d.d*d.d),g=Math.sqrt(n*n+q*q),p>1e-5&&(p=(p+(g-p+this.data.offsetScaleY)*m)/p),d.c*=p,d.d*=p,N=!0}if(H>0){const p=d.c,g=d.d,m=Math.atan2(g,p);let t=Math.atan2(q,n)-Math.atan2(S,k)-(m-Math.atan2(d.b,d.a));t>Z.cj.PI?t-=Z.cj.PI2:t<-Z.cj.PI&&(t+=Z.cj.PI2),t=m+(t+b)*H;const h=Math.sqrt(p*p+g*g);d.c=Math.cos(t)*h,d.d=Math.sin(t)*h,N=!0}N&&(D.appliedValid=!1)}}applyRelativeWorld(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,H=this.shearMix,t=this.target,h=t.matrix,k=h.a,n=h.c,S=h.b,q=h.d,D=k*q-n*S>0?Z.cj.degRad:-Z.cj.degRad,I=this.data.offsetRotation*D,b=this.data.offsetShearY*D,e=this.bones;for(let h=0,D=e.length;h<D;h++){const D=e[h];let N=!1;const d=D.matrix;if(0!=p){const g=d.a,m=d.c,H=d.b,t=d.d;let h=Math.atan2(S,k)+I;h>Z.cj.PI?h-=Z.cj.PI2:h<-Z.cj.PI&&(h+=Z.cj.PI2),h*=p;const n=Math.cos(h),q=Math.sin(h);d.a=n*g-q*H,d.c=n*m-q*t,d.b=q*g+n*H,d.d=q*m+n*t,N=!0}if(0!=g){const p=this.temp;t.localToWorld(p.set(this.data.offsetX,this.data.offsetY)),d.tx+=p.x*g,d.ty+=p.y*g,N=!0}if(m>0){let p=(Math.sqrt(k*k+S*S)-1+this.data.offsetScaleX)*m+1;d.a*=p,d.b*=p,p=(Math.sqrt(n*n+q*q)-1+this.data.offsetScaleY)*m+1,d.c*=p,d.d*=p,N=!0}if(H>0){let p=Math.atan2(q,n)-Math.atan2(S,k);p>Z.cj.PI?p-=Z.cj.PI2:p<-Z.cj.PI&&(p+=Z.cj.PI2);const g=d.c,m=d.d;p=Math.atan2(m,g)+(p-Z.cj.PI/2+b)*H;const t=Math.sqrt(g*g+m*m);d.c=Math.cos(p)*t,d.d=Math.sin(p)*t,N=!0}N&&(D.appliedValid=!1)}}applyAbsoluteLocal(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,Z=this.shearMix,H=this.target;H.appliedValid||H.updateAppliedTransform();const t=this.bones;for(let h=0,k=t.length;h<k;h++){const k=t[h];k.appliedValid||k.updateAppliedTransform();let n=k.arotation;if(0!=p){let g=H.arotation-n+this.data.offsetRotation;g-=360*(16384-(16384.499999999996-g/360|0)),n+=g*p}let S=k.ax,q=k.ay;0!=g&&(S+=(H.ax-S+this.data.offsetX)*g,q+=(H.ay-q+this.data.offsetY)*g);let D=k.ascaleX,I=k.ascaleY;m>0&&(D>1e-5&&(D=(D+(H.ascaleX-D+this.data.offsetScaleX)*m)/D),I>1e-5&&(I=(I+(H.ascaleY-I+this.data.offsetScaleY)*m)/I));const b=k.ashearY;if(Z>0){let p=H.ashearY-b+this.data.offsetShearY;p-=360*(16384-(16384.499999999996-p/360|0)),k.shearY+=p*Z}k.updateWorldTransformWith(S,q,n,D,I,k.ashearX,b)}}applyRelativeLocal(){const p=this.rotateMix,g=this.translateMix,m=this.scaleMix,Z=this.shearMix,H=this.target;H.appliedValid||H.updateAppliedTransform();const t=this.bones;for(let h=0,k=t.length;h<k;h++){const k=t[h];k.appliedValid||k.updateAppliedTransform();let n=k.arotation;0!=p&&(n+=(H.arotation+this.data.offsetRotation)*p);let S=k.ax,q=k.ay;0!=g&&(S+=(H.ax+this.data.offsetX)*g,q+=(H.ay+this.data.offsetY)*g);let D=k.ascaleX,I=k.ascaleY;m>0&&(D>1e-5&&(D*=(H.ascaleX-1+this.data.offsetScaleX)*m+1),I>1e-5&&(I*=(H.ascaleY-1+this.data.offsetScaleY)*m+1));let b=k.ashearY;Z>0&&(b+=(H.ashearY+this.data.offsetShearY)*Z),k.updateWorldTransformWith(S,q,n,D,I,k.ashearX,b)}}}},752960:(p,g,m)=>{m.d(g,{_:()=>H});var Z=m(191526);class H extends Z.q{constructor(p){super(p,0,!1),this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}}},880713:(p,g,m)=>{m.d(g,{e:()=>h,o:()=>H});var Z=m(367866);class H{constructor(p){if(null==p)throw new Error("name cannot be null.");this.name=p}}const t=class extends H{constructor(p){super(p),this.id=(65535&t.nextID++)<<11,this.worldVerticesLength=0,this.deformAttachment=this}computeWorldVerticesOld(p,g){this.computeWorldVertices(p,0,this.worldVerticesLength,g,0,2)}computeWorldVertices(p,g,m,Z,H,t){m=H+(m>>1)*t;const h=p.bone.skeleton,k=p.deform;let n=this.vertices;const S=this.bones;if(null==S){k.length>0&&(n=k);const h=p.bone.matrix,S=h.tx,q=h.ty,D=h.a,I=h.c,b=h.b,e=h.d;for(let p=g,h=H;h<m;p+=2,h+=t){const g=n[p],m=n[p+1];Z[h]=g*D+m*I+S,Z[h+1]=g*b+m*e+q}return}let q=0,D=0;for(let p=0;p<g;p+=2){const p=S[q];q+=p+1,D+=p}const I=h.bones;if(0==k.length)for(let p=H,g=3*D;p<m;p+=t){let m=0,H=0,t=S[q++];for(t+=q;q<t;q++,g+=3){const p=I[S[q]].matrix,Z=n[g],t=n[g+1],h=n[g+2];m+=(Z*p.a+t*p.c+p.tx)*h,H+=(Z*p.b+t*p.d+p.ty)*h}Z[p]=m,Z[p+1]=H}else{const p=k;for(let g=H,h=3*D,k=D<<1;g<m;g+=t){let m=0,H=0,t=S[q++];for(t+=q;q<t;q++,h+=3,k+=2){const g=I[S[q]].matrix,Z=n[h]+p[k],t=n[h+1]+p[k+1],D=n[h+2];m+=(Z*g.a+t*g.c+g.tx)*D,H+=(Z*g.b+t*g.d+g.ty)*D}Z[g]=m,Z[g+1]=H}}}copyTo(p){null!=this.bones?(p.bones=new Array(this.bones.length),Z.Aq.arrayCopy(this.bones,0,p.bones,0,this.bones.length)):p.bones=null,null!=this.vertices?(p.vertices=Z.Aq.newFloatArray(this.vertices.length),Z.Aq.arrayCopy(this.vertices,0,p.vertices,0,this.vertices.length)):p.vertices=null,p.worldVerticesLength=this.worldVerticesLength,p.deformAttachment=this.deformAttachment}};let h=t;h.nextID=0},79938:(p,g,m)=>{m.d(g,{b:()=>t});var Z=m(880713),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.BoundingBox,this.color=new H.Q1(1,1,1,1)}copy(){const p=new t(this.name);return this.copyTo(p),p.color.setFromColor(this.color),p}}},395903:(p,g,m)=>{m.d(g,{K:()=>t});var Z=m(880713),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Clipping,this.color=new H.Q1(.2275,.2275,.8078,1)}copy(){const p=new t(this.name);return this.copyTo(p),p.endSlot=this.endSlot,p.color.setFromColor(this.color),p}}},456758:(p,g,m)=>{m.d(g,{f:()=>t});var Z=m(880713),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Mesh,this.color=new H.Q1(1,1,1,1),this.tempColor=new H.Q1(0,0,0,0)}getParentMesh(){return this.parentMesh}setParentMesh(p){this.parentMesh=p,null!=p&&(this.bones=p.bones,this.vertices=p.vertices,this.worldVerticesLength=p.worldVerticesLength,this.regionUVs=p.regionUVs,this.triangles=p.triangles,this.hullLength=p.hullLength,this.worldVerticesLength=p.worldVerticesLength)}copy(){if(null!=this.parentMesh)return this.newLinkedMesh();const p=new t(this.name);return p.region=this.region,p.path=this.path,p.color.setFromColor(this.color),this.copyTo(p),p.regionUVs=new Float32Array(this.regionUVs.length),H.Aq.arrayCopy(this.regionUVs,0,p.regionUVs,0,this.regionUVs.length),p.triangles=new Array(this.triangles.length),H.Aq.arrayCopy(this.triangles,0,p.triangles,0,this.triangles.length),p.hullLength=this.hullLength,null!=this.edges&&(p.edges=new Array(this.edges.length),H.Aq.arrayCopy(this.edges,0,p.edges,0,this.edges.length)),p.width=this.width,p.height=this.height,p}newLinkedMesh(){const p=new t(this.name);return p.region=this.region,p.path=this.path,p.color.setFromColor(this.color),p.deformAttachment=this.deformAttachment,p.setParentMesh(null!=this.parentMesh?this.parentMesh:this),p}}},19536:(p,g,m)=>{m.d(g,{H:()=>t});var Z=m(880713),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Path,this.closed=!1,this.constantSpeed=!1,this.color=new H.Q1(1,1,1,1)}copy(){const p=new t(this.name);return this.copyTo(p),p.lengths=new Array(this.lengths.length),H.Aq.arrayCopy(this.lengths,0,p.lengths,0,this.lengths.length),p.closed=closed,p.constantSpeed=this.constantSpeed,p.color.setFromColor(this.color),p}}},562279:(p,g,m)=>{m.d(g,{Y:()=>t});var Z=m(880713),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Point,this.color=new H.Q1(.38,.94,0,1)}computeWorldPosition(p,g){const m=p.matrix;return g.x=this.x*m.a+this.y*m.c+p.worldX,g.y=this.x*m.b+this.y*m.d+p.worldY,g}computeWorldRotation(p){const g=p.matrix,m=H.cj.cosDeg(this.rotation),Z=H.cj.sinDeg(this.rotation),t=m*g.a+Z*g.c,h=m*g.b+Z*g.d;return Math.atan2(h,t)*H.cj.radDeg}copy(){const p=new t(this.name);return p.x=this.x,p.y=this.y,p.rotation=this.rotation,p.color.setFromColor(this.color),p}}},915157:(p,g,m)=>{m.d(g,{Q:()=>k});var Z=m(880713),H=m(367866),t=m(472259);const h=class extends Z.o{constructor(p){super(p),this.type=H.wh.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new H.Q1(1,1,1,1),this.offset=H.Aq.newFloatArray(8),this.uvs=H.Aq.newFloatArray(8),this.tempColor=new H.Q1(1,1,1,1)}updateOffset(){const p=this.width/this.region.originalWidth*this.scaleX,g=this.height/this.region.originalHeight*this.scaleY,m=-this.width/2*this.scaleX+this.region.offsetX*p,Z=-this.height/2*this.scaleY+this.region.offsetY*g,H=m+this.region.width*p,t=Z+this.region.height*g,k=this.rotation*Math.PI/180,n=Math.cos(k),S=Math.sin(k),q=m*n+this.x,D=m*S,I=Z*n+this.y,b=Z*S,e=H*n+this.x,N=H*S,d=t*n+this.y,Q=t*S,$=this.offset;$[h.OX1]=q-b,$[h.OY1]=I+D,$[h.OX2]=q-Q,$[h.OY2]=d+D,$[h.OX3]=e-Q,$[h.OY3]=d+N,$[h.OX4]=e-b,$[h.OY4]=I+N}setRegion(p){this.region=p;const g=this.uvs;p.rotate?(g[2]=p.u,g[3]=p.v2,g[4]=p.u,g[5]=p.v,g[6]=p.u2,g[7]=p.v,g[0]=p.u2,g[1]=p.v2):(g[0]=p.u,g[1]=p.v2,g[2]=p.u,g[3]=p.v,g[4]=p.u2,g[5]=p.v,g[6]=p.u2,g[7]=p.v2)}computeWorldVertices(p,g,m,Z){const H=this.offset,k=p instanceof t.D?p.bone.matrix:p.matrix,n=k.tx,S=k.ty,q=k.a,D=k.c,I=k.b,b=k.d;let e=0,N=0;e=H[h.OX1],N=H[h.OY1],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S,m+=Z,e=H[h.OX2],N=H[h.OY2],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S,m+=Z,e=H[h.OX3],N=H[h.OY3],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S,m+=Z,e=H[h.OX4],N=H[h.OY4],g[m]=e*q+N*D+n,g[m+1]=e*I+N*b+S}copy(){const p=new h(this.name);return p.region=this.region,p.rendererObject=this.rendererObject,p.path=this.path,p.x=this.x,p.y=this.y,p.scaleX=this.scaleX,p.scaleY=this.scaleY,p.rotation=this.rotation,p.width=this.width,p.height=this.height,H.Aq.arrayCopy(this.uvs,0,p.uvs,0,8),H.Aq.arrayCopy(this.offset,0,p.offset,0,8),p.color.setFromColor(this.color),p}};let k=h;k.OX1=0,k.OY1=1,k.OX2=2,k.OY2=3,k.OX3=4,k.OY3=5,k.OX4=6,k.OY4=7,k.X1=0,k.Y1=1,k.C1R=2,k.C1G=3,k.C1B=4,k.C1A=5,k.U1=6,k.V1=7,k.X2=8,k.Y2=9,k.C2R=10,k.C2G=11,k.C2B=12,k.C2A=13,k.U2=14,k.V2=15,k.X3=16,k.Y3=17,k.C3R=18,k.C3G=19,k.C3B=20,k.C3A=21,k.U3=22,k.V3=23,k.X4=24,k.Y4=25,k.C4R=26,k.C4G=27,k.C4B=28,k.C4A=29,k.U4=30,k.V4=31},385873:(p,g,m)=>{m.d(g,{m:()=>H});var Z=m(367866);class H{constructor(p,g){this.jitterX=0,this.jitterY=0,this.jitterX=p,this.jitterY=g}begin(p){}transform(p,g,m,H){p.x+=Z.cj.randomTriangular(-this.jitterX,this.jitterY),p.y+=Z.cj.randomTriangular(-this.jitterX,this.jitterY)}end(){}}},917314:(p,g,m)=>{m.d(g,{$:()=>t});var Z=m(367866);const H=class{constructor(p){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=p}begin(p){this.worldX=p.x+this.centerX,this.worldY=p.y+this.centerY}transform(p,g,m,t){const h=this.angle*Z.cj.degreesToRadians,k=p.x-this.worldX,n=p.y-this.worldY,S=Math.sqrt(k*k+n*n);if(S<this.radius){const g=H.interpolation.apply(0,h,(this.radius-S)/this.radius),m=Math.cos(g),Z=Math.sin(g);p.x=m*k-Z*n+this.worldX,p.y=Z*k+m*n+this.worldY}}end(){}};let t=H;t.interpolation=new Z.Ff(2)},328791:(p,g,m)=>{m.r(g),m.d(g,{Animation:()=>I.X5,AnimationState:()=>b.oA,AnimationStateAdapter:()=>b.b5,AnimationStateData:()=>e.Q,AtlasAttachmentLoader:()=>N.q,Attachment:()=>Z.o,AttachmentTimeline:()=>I.zK,Bone:()=>d.$,BoneData:()=>Q.h,BoundingBoxAttachment:()=>H.b,ClippingAttachment:()=>t.K,ColorTimeline:()=>I.J9,ConstraintData:()=>$.q,CurveTimeline:()=>I.Rh,DeformTimeline:()=>I.jQ,DrawOrderTimeline:()=>I.Kn,Event:()=>w.J,EventData:()=>Y.R,EventQueue:()=>b.Cb,EventTimeline:()=>I.qs,EventType:()=>b.Bx,IkConstraint:()=>i.c,IkConstraintData:()=>P.Q,IkConstraintTimeline:()=>I.pA,JitterEffect:()=>q.m,MeshAttachment:()=>h.f,PathAttachment:()=>k.H,PathConstraint:()=>J.v,PathConstraintData:()=>y.r,PathConstraintMixTimeline:()=>I.I6,PathConstraintPositionTimeline:()=>I.vz,PathConstraintSpacingTimeline:()=>I.vl,PointAttachment:()=>n.Y,RegionAttachment:()=>S.Q,RotateTimeline:()=>I.NQ,ScaleTimeline:()=>I.i9,ShearTimeline:()=>I.$l,Skeleton:()=>W.E,SkeletonBinary:()=>v.t,SkeletonBounds:()=>V.V,SkeletonData:()=>z.Y,SkeletonJson:()=>B.m,Skin:()=>u.M,SkinEntry:()=>u.S,Slot:()=>a.D,SlotData:()=>F.P,SpacingMode:()=>y.K,Spine:()=>j.y,SwirlEffect:()=>D.$,TimelineType:()=>I.e9,TrackEntry:()=>b.IT,TransformConstraint:()=>X.U,TransformConstraintData:()=>K._,TransformConstraintTimeline:()=>I.To,TranslateTimeline:()=>I.Sr,TwoColorTimeline:()=>I.pv,VertexAttachment:()=>Z.e});var Z=m(880713),H=m(79938),t=m(395903),h=m(456758),k=m(19536),n=m(562279),S=m(915157),q=m(385873),D=m(917314),I=m(607815),b=m(180858),e=m(936130),N=m(504914),d=m(403389),Q=m(131853),$=m(191526),w=m(561117),Y=m(828397),i=m(497314),P=m(919050),J=m(60431),y=m(164023),W=m(242426),v=m(84885),V=m(587457),z=m(635970),B=m(982876),u=m(783e3),a=m(472259),F=m(680523),X=m(400048),K=m(752960),j=m(987890)},931372:(p,g,m)=>{m.d(g,{y:()=>k});var Z=m(367866),H=m(424140),t=m(960476),h=m(806396);class k extends Z.bJ{createSkeleton(p){this.skeleton=new H.E(p),this.skeleton.updateWorldTransform(),this.stateData=new h.Q(p),this.state=new t.oA(this.stateData)}}},264721:(p,g,m)=>{m.d(g,{$l:()=>r,Di:()=>R,EP:()=>x,Ev:()=>O,GU:()=>a,H6:()=>z,I6:()=>pp,Kf:()=>W,Kn:()=>T,Mq:()=>V,NQ:()=>B,Rh:()=>v,So:()=>K,Sr:()=>u,To:()=>A,X5:()=>h,_Y:()=>c,eP:()=>C,fT:()=>f,i9:()=>X,jQ:()=>E,jx:()=>U,lP:()=>mp,nS:()=>F,pA:()=>l,pR:()=>j,qs:()=>M,vl:()=>o,vz:()=>L,zK:()=>_});var Z=m(111691),H=m(367866),t=(m(733439),m(132351));class h{constructor(p,g,m){if(this.timelines=[],this.timelineIds=new H.eE,!p)throw new Error("name cannot be null.");this.name=p,this.setTimelines(g),this.duration=m}setTimelines(p){if(!p)throw new Error("timelines cannot be null.");this.timelines=p,this.timelineIds.clear();for(let g=0;g<p.length;g++)this.timelineIds.addAll(p[g].getPropertyIds())}hasTimeline(p){for(let g=0;g<p.length;g++)if(this.timelineIds.contains(p[g]))return!0;return!1}apply(p,g,m,Z,H,t,h,k){if(!p)throw new Error("skeleton cannot be null.");Z&&0!=this.duration&&(m%=this.duration,g>0&&(g%=this.duration));const n=this.timelines;for(let Z=0,S=n.length;Z<S;Z++)n[Z].apply(p,g,m,H,t,h,k)}}const k=0,n=1,S=2,q=3,D=4,I=5,b=6,e=7,N=8,d=9,Q=10,$=11,w=14,Y=15,i=16,P=17,J=18,y=19;class W{constructor(p,g){this.propertyIds=g,this.frames=H.Aq.newFloatArray(p*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(p,g){const m=p.length;for(let Z=1;Z<m;Z++)if(p[Z]>g)return Z-1;return m-1}static search(p,g,m){const Z=p.length;for(let H=m;H<Z;H+=m)if(p[H]>g)return H-m;return Z-m}}class v extends W{constructor(p,g,m){super(p,m),this.curves=H.Aq.newFloatArray(p+18*g),this.curves[p-1]=1}setLinear(p){this.curves[p]=0}setStepped(p){this.curves[p]=1}shrink(p){const g=this.getFrameCount()+18*p;if(this.curves.length>g){const p=H.Aq.newFloatArray(g);H.Aq.arrayCopy(this.curves,0,p,0,g),this.curves=p}}setBezier(p,g,m,Z,H,t,h,k,n,S,q){const D=this.curves;let I=this.getFrameCount()+18*p;0==m&&(D[g]=2+I);const b=.03*(Z-2*t+k),e=.03*(H-2*h+n),N=.006*(3*(t-k)-Z+S),d=.006*(3*(h-n)-H+q);let Q=2*b+N,$=2*e+d,w=.3*(t-Z)+b+.16666667*N,Y=.3*(h-H)+e+.16666667*d,i=Z+w,P=H+Y;for(let p=I+18;I<p;I+=2)D[I]=i,D[I+1]=P,w+=Q,Y+=$,Q+=N,$+=d,i+=w,P+=Y}getBezierValue(p,g,m,Z){const H=this.curves;if(H[Z]>p){const t=this.frames[g],h=this.frames[g+m];return h+(p-t)/(H[Z]-t)*(H[Z+1]-h)}const t=Z+18;for(Z+=2;Z<t;Z+=2)if(H[Z]>=p){const g=H[Z-2],m=H[Z-1];return m+(p-g)/(H[Z]-g)*(H[Z+1]-m)}g+=this.getFrameEntries();const h=H[t-2],k=H[t-1];return k+(p-h)/(this.frames[g]-h)*(this.frames[g+m]-k)}}class V extends v{constructor(p,g,m){super(p,g,[m])}getFrameEntries(){return 2}setFrame(p,g,m){p<<=1,this.frames[p]=g,this.frames[p+1]=m}getCurveValue(p){const g=this.frames;let m=g.length-2;for(let Z=2;Z<=m;Z+=2)if(g[Z]>p){m=Z-2;break}const Z=this.curves[m>>1];switch(Z){case 0:const Z=g[m],H=g[m+1];return H+(p-Z)/(g[m+2]-Z)*(g[m+2+1]-H);case 1:return g[m+1]}return this.getBezierValue(p,m,1,Z-2)}}class z extends v{constructor(p,g,m,Z){super(p,g,[m,Z])}getFrameEntries(){return 3}setFrame(p,g,m,Z){p*=3,this.frames[p]=g,this.frames[p+1]=m,this.frames[p+2]=Z}}class B extends V{constructor(p,g,m){super(p,g,`${k}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.rotation=n.data.rotation);case H.qU.first:n.rotation+=(n.data.rotation-n.rotation)*t}return}let S=this.getCurveValue(m);switch(h){case H.qU.setup:n.rotation=n.data.rotation+S*t;break;case H.qU.first:case H.qU.replace:S+=n.data.rotation-n.rotation;case H.qU.add:n.rotation+=S*t}}}class u extends z{constructor(p,g,m){super(p,g,`${n}|${m}`,`${S}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;const S=this.frames;if(m<S[0]){switch(h){case H.qU.setup:return n.x=n.data.x,void(n.y=n.data.y);case H.qU.first:n.x+=(n.data.x-n.x)*t,n.y+=(n.data.y-n.y)*t}return}let q=0,D=0;const I=W.search(S,m,3),b=this.curves[I/3];switch(b){case 0:const p=S[I];q=S[I+1],D=S[I+2];const g=(m-p)/(S[I+3]-p);q+=(S[I+3+1]-q)*g,D+=(S[I+3+2]-D)*g;break;case 1:q=S[I+1],D=S[I+2];break;default:q=this.getBezierValue(m,I,1,b-2),D=this.getBezierValue(m,I,2,b+18-2)}switch(h){case H.qU.setup:n.x=n.data.x+q*t,n.y=n.data.y+D*t;break;case H.qU.first:case H.qU.replace:n.x+=(n.data.x+q-n.x)*t,n.y+=(n.data.y+D-n.y)*t;break;case H.qU.add:n.x+=q*t,n.y+=D*t}}}class a extends V{constructor(p,g,m){super(p,g,`${n}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.x=n.data.x);case H.qU.first:n.x+=(n.data.x-n.x)*t}return}const S=this.getCurveValue(m);switch(h){case H.qU.setup:n.x=n.data.x+S*t;break;case H.qU.first:case H.qU.replace:n.x+=(n.data.x+S-n.x)*t;break;case H.qU.add:n.x+=S*t}}}class F extends V{constructor(p,g,m){super(p,g,`${S}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.y=n.data.y);case H.qU.first:n.y+=(n.data.y-n.y)*t}return}const S=this.getCurveValue(m);switch(h){case H.qU.setup:n.y=n.data.y+S*t;break;case H.qU.first:case H.qU.replace:n.y+=(n.data.y+S-n.y)*t;break;case H.qU.add:n.y+=S*t}}}class X extends z{constructor(p,g,m){super(p,g,`${q}|${m}`,`${D}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;const S=this.frames;if(m<S[0]){switch(h){case H.qU.setup:return n.scaleX=n.data.scaleX,void(n.scaleY=n.data.scaleY);case H.qU.first:n.scaleX+=(n.data.scaleX-n.scaleX)*t,n.scaleY+=(n.data.scaleY-n.scaleY)*t}return}let q,D;const I=W.search(S,m,3),b=this.curves[I/3];switch(b){case 0:const p=S[I];q=S[I+1],D=S[I+2];const g=(m-p)/(S[I+3]-p);q+=(S[I+3+1]-q)*g,D+=(S[I+3+2]-D)*g;break;case 1:q=S[I+1],D=S[I+2];break;default:q=this.getBezierValue(m,I,1,b-2),D=this.getBezierValue(m,I,2,b+18-2)}if(q*=n.data.scaleX,D*=n.data.scaleY,1==t)h==H.qU.add?(n.scaleX+=q-n.data.scaleX,n.scaleY+=D-n.data.scaleY):(n.scaleX=q,n.scaleY=D);else{let p=0,g=0;if(k==H.mj.mixOut)switch(h){case H.qU.setup:p=n.data.scaleX,g=n.data.scaleY,n.scaleX=p+(Math.abs(q)*H.cj.signum(p)-p)*t,n.scaleY=g+(Math.abs(D)*H.cj.signum(g)-g)*t;break;case H.qU.first:case H.qU.replace:p=n.scaleX,g=n.scaleY,n.scaleX=p+(Math.abs(q)*H.cj.signum(p)-p)*t,n.scaleY=g+(Math.abs(D)*H.cj.signum(g)-g)*t;break;case H.qU.add:n.scaleX+=(q-n.data.scaleX)*t,n.scaleY+=(D-n.data.scaleY)*t}else switch(h){case H.qU.setup:p=Math.abs(n.data.scaleX)*H.cj.signum(q),g=Math.abs(n.data.scaleY)*H.cj.signum(D),n.scaleX=p+(q-p)*t,n.scaleY=g+(D-g)*t;break;case H.qU.first:case H.qU.replace:p=Math.abs(n.scaleX)*H.cj.signum(q),g=Math.abs(n.scaleY)*H.cj.signum(D),n.scaleX=p+(q-p)*t,n.scaleY=g+(D-g)*t;break;case H.qU.add:n.scaleX+=(q-n.data.scaleX)*t,n.scaleY+=(D-n.data.scaleY)*t}}}}class K extends V{constructor(p,g,m){super(p,g,`${q}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.scaleX=n.data.scaleX);case H.qU.first:n.scaleX+=(n.data.scaleX-n.scaleX)*t}return}const S=this.getCurveValue(m)*n.data.scaleX;if(1==t)h==H.qU.add?n.scaleX+=S-n.data.scaleX:n.scaleX=S;else{let p=0;if(k==H.mj.mixOut)switch(h){case H.qU.setup:p=n.data.scaleX,n.scaleX=p+(Math.abs(S)*H.cj.signum(p)-p)*t;break;case H.qU.first:case H.qU.replace:p=n.scaleX,n.scaleX=p+(Math.abs(S)*H.cj.signum(p)-p)*t;break;case H.qU.add:n.scaleX+=(S-n.data.scaleX)*t}else switch(h){case H.qU.setup:p=Math.abs(n.data.scaleX)*H.cj.signum(S),n.scaleX=p+(S-p)*t;break;case H.qU.first:case H.qU.replace:p=Math.abs(n.scaleX)*H.cj.signum(S),n.scaleX=p+(S-p)*t;break;case H.qU.add:n.scaleX+=(S-n.data.scaleX)*t}}}}class j extends V{constructor(p,g,m){super(p,g,`${D}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.scaleY=n.data.scaleY);case H.qU.first:n.scaleY+=(n.data.scaleY-n.scaleY)*t}return}const S=this.getCurveValue(m)*n.data.scaleY;if(1==t)h==H.qU.add?n.scaleY+=S-n.data.scaleY:n.scaleY=S;else{let p=0;if(k==H.mj.mixOut)switch(h){case H.qU.setup:p=n.data.scaleY,n.scaleY=p+(Math.abs(S)*H.cj.signum(p)-p)*t;break;case H.qU.first:case H.qU.replace:p=n.scaleY,n.scaleY=p+(Math.abs(S)*H.cj.signum(p)-p)*t;break;case H.qU.add:n.scaleY+=(S-n.data.scaleY)*t}else switch(h){case H.qU.setup:p=Math.abs(n.data.scaleY)*H.cj.signum(S),n.scaleY=p+(S-p)*t;break;case H.qU.first:case H.qU.replace:p=Math.abs(n.scaleY)*H.cj.signum(S),n.scaleY=p+(S-p)*t;break;case H.qU.add:n.scaleY+=(S-n.data.scaleY)*t}}}}class r extends z{constructor(p,g,m){super(p,g,`${I}|${m}`,`${b}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;const S=this.frames;if(m<S[0]){switch(h){case H.qU.setup:return n.shearX=n.data.shearX,void(n.shearY=n.data.shearY);case H.qU.first:n.shearX+=(n.data.shearX-n.shearX)*t,n.shearY+=(n.data.shearY-n.shearY)*t}return}let q=0,D=0;const I=W.search(S,m,3),b=this.curves[I/3];switch(b){case 0:const p=S[I];q=S[I+1],D=S[I+2];const g=(m-p)/(S[I+3]-p);q+=(S[I+3+1]-q)*g,D+=(S[I+3+2]-D)*g;break;case 1:q=S[I+1],D=S[I+2];break;default:q=this.getBezierValue(m,I,1,b-2),D=this.getBezierValue(m,I,2,b+18-2)}switch(h){case H.qU.setup:n.shearX=n.data.shearX+q*t,n.shearY=n.data.shearY+D*t;break;case H.qU.first:case H.qU.replace:n.shearX+=(n.data.shearX+q-n.shearX)*t,n.shearY+=(n.data.shearY+D-n.shearY)*t;break;case H.qU.add:n.shearX+=q*t,n.shearY+=D*t}}}class U extends V{constructor(p,g,m){super(p,g,`${I}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.shearX=n.data.shearX);case H.qU.first:n.shearX+=(n.data.shearX-n.shearX)*t}return}const S=this.getCurveValue(m);switch(h){case H.qU.setup:n.shearX=n.data.shearX+S*t;break;case H.qU.first:case H.qU.replace:n.shearX+=(n.data.shearX+S-n.shearX)*t;break;case H.qU.add:n.shearX+=S*t}}}class C extends V{constructor(p,g,m){super(p,g,`${b}|${m}`),this.boneIndex=0,this.boneIndex=m}apply(p,g,m,Z,t,h,k){const n=p.bones[this.boneIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.shearY=n.data.shearY);case H.qU.first:n.shearY+=(n.data.shearY-n.shearY)*t}return}const S=this.getCurveValue(m);switch(h){case H.qU.setup:n.shearY=n.data.shearY+S*t;break;case H.qU.first:case H.qU.replace:n.shearY+=(n.data.shearY+S-n.shearY)*t;break;case H.qU.add:n.shearY+=S*t}}}class x extends v{constructor(p,g,m){super(p,g,[`${e}|${m}`,`${N}|${m}`]),this.slotIndex=0,this.slotIndex=m}getFrameEntries(){return 5}setFrame(p,g,m,Z,H,t){p*=5,this.frames[p]=g,this.frames[p+1]=m,this.frames[p+2]=Z,this.frames[p+3]=H,this.frames[p+4]=t}apply(p,g,m,Z,t,h,k){const n=p.slots[this.slotIndex];if(!n.bone.active)return;const S=this.frames,q=n.color;if(m<S[0]){const p=n.data.color;switch(h){case H.qU.setup:return void q.setFromColor(p);case H.qU.first:q.add((p.r-q.r)*t,(p.g-q.g)*t,(p.b-q.b)*t,(p.a-q.a)*t)}return}let D=0,I=0,b=0,e=0;const N=W.search(S,m,5),d=this.curves[N/5];switch(d){case 0:const p=S[N];D=S[N+1],I=S[N+2],b=S[N+3],e=S[N+4];const g=(m-p)/(S[N+5]-p);D+=(S[N+5+1]-D)*g,I+=(S[N+5+2]-I)*g,b+=(S[N+5+3]-b)*g,e+=(S[N+5+4]-e)*g;break;case 1:D=S[N+1],I=S[N+2],b=S[N+3],e=S[N+4];break;default:D=this.getBezierValue(m,N,1,d-2),I=this.getBezierValue(m,N,2,d+18-2),b=this.getBezierValue(m,N,3,d+18*2-2),e=this.getBezierValue(m,N,4,d+18*3-2)}1==t?q.set(D,I,b,e):(h==H.qU.setup&&q.setFromColor(n.data.color),q.add((D-q.r)*t,(I-q.g)*t,(b-q.b)*t,(e-q.a)*t))}}class R extends v{constructor(p,g,m){super(p,g,[`${e}|${m}`]),this.slotIndex=0,this.slotIndex=m}getFrameEntries(){return 4}setFrame(p,g,m,Z,H){p<<=2,this.frames[p]=g,this.frames[p+1]=m,this.frames[p+2]=Z,this.frames[p+3]=H}apply(p,g,m,Z,t,h,k){const n=p.slots[this.slotIndex];if(!n.bone.active)return;const S=this.frames,q=n.color;if(m<S[0]){const p=n.data.color;switch(h){case H.qU.setup:return q.r=p.r,q.g=p.g,void(q.b=p.b);case H.qU.first:q.r+=(p.r-q.r)*t,q.g+=(p.g-q.g)*t,q.b+=(p.b-q.b)*t}return}let D=0,I=0,b=0;const e=W.search(S,m,4),N=this.curves[e>>2];switch(N){case 0:const p=S[e];D=S[e+1],I=S[e+2],b=S[e+3];const g=(m-p)/(S[e+4]-p);D+=(S[e+4+1]-D)*g,I+=(S[e+4+2]-I)*g,b+=(S[e+4+3]-b)*g;break;case 1:D=S[e+1],I=S[e+2],b=S[e+3];break;default:D=this.getBezierValue(m,e,1,N-2),I=this.getBezierValue(m,e,2,N+18-2),b=this.getBezierValue(m,e,3,N+18*2-2)}if(1==t)q.r=D,q.g=I,q.b=b;else{if(h==H.qU.setup){const p=n.data.color;q.r=p.r,q.g=p.g,q.b=p.b}q.r+=(D-q.r)*t,q.g+=(I-q.g)*t,q.b+=(b-q.b)*t}}}class c extends V{constructor(p,g,m){super(p,g,`${N}|${m}`),this.slotIndex=0,this.slotIndex=m}apply(p,g,m,Z,t,h,k){const n=p.slots[this.slotIndex];if(!n.bone.active)return;const S=n.color;if(m<this.frames[0]){const p=n.data.color;switch(h){case H.qU.setup:return void(S.a=p.a);case H.qU.first:S.a+=(p.a-S.a)*t}return}const q=this.getCurveValue(m);1==t?S.a=q:(h==H.qU.setup&&(S.a=n.data.color.a),S.a+=(q-S.a)*t)}}class O extends v{constructor(p,g,m){super(p,g,[`${e}|${m}`,`${N}|${m}`,`${d}|${m}`]),this.slotIndex=0,this.slotIndex=m}getFrameEntries(){return 8}setFrame(p,g,m,Z,H,t,h,k,n){p<<=3,this.frames[p]=g,this.frames[p+1]=m,this.frames[p+2]=Z,this.frames[p+3]=H,this.frames[p+4]=t,this.frames[p+5]=h,this.frames[p+6]=k,this.frames[p+7]=n}apply(p,g,m,Z,t,h,k){const n=p.slots[this.slotIndex];if(!n.bone.active)return;const S=this.frames,q=n.color,D=n.darkColor;if(m<S[0]){const p=n.data.color,g=n.data.darkColor;switch(h){case H.qU.setup:return q.setFromColor(p),D.r=g.r,D.g=g.g,void(D.b=g.b);case H.qU.first:q.add((p.r-q.r)*t,(p.g-q.g)*t,(p.b-q.b)*t,(p.a-q.a)*t),D.r+=(g.r-D.r)*t,D.g+=(g.g-D.g)*t,D.b+=(g.b-D.b)*t}return}let I=0,b=0,e=0,N=0,d=0,Q=0,$=0;const w=W.search(S,m,8),Y=this.curves[w>>3];switch(Y){case 0:const p=S[w];I=S[w+1],b=S[w+2],e=S[w+3],N=S[w+4],d=S[w+5],Q=S[w+6],$=S[w+7];const g=(m-p)/(S[w+8]-p);I+=(S[w+8+1]-I)*g,b+=(S[w+8+2]-b)*g,e+=(S[w+8+3]-e)*g,N+=(S[w+8+4]-N)*g,d+=(S[w+8+5]-d)*g,Q+=(S[w+8+6]-Q)*g,$+=(S[w+8+7]-$)*g;break;case 1:I=S[w+1],b=S[w+2],e=S[w+3],N=S[w+4],d=S[w+5],Q=S[w+6],$=S[w+7];break;default:I=this.getBezierValue(m,w,1,Y-2),b=this.getBezierValue(m,w,2,Y+18-2),e=this.getBezierValue(m,w,3,Y+18*2-2),N=this.getBezierValue(m,w,4,Y+18*3-2),d=this.getBezierValue(m,w,5,Y+18*4-2),Q=this.getBezierValue(m,w,6,Y+18*5-2),$=this.getBezierValue(m,w,7,Y+18*6-2)}if(1==t)q.set(I,b,e,N),D.r=d,D.g=Q,D.b=$;else{if(h==H.qU.setup){q.setFromColor(n.data.color);const p=n.data.darkColor;D.r=p.r,D.g=p.g,D.b=p.b}q.add((I-q.r)*t,(b-q.g)*t,(e-q.b)*t,(N-q.a)*t),D.r+=(d-D.r)*t,D.g+=(Q-D.g)*t,D.b+=($-D.b)*t}}}class f extends v{constructor(p,g,m){super(p,g,[`${e}|${m}`,`${d}|${m}`]),this.slotIndex=0,this.slotIndex=m}getFrameEntries(){return 7}setFrame(p,g,m,Z,H,t,h,k){p*=7,this.frames[p]=g,this.frames[p+1]=m,this.frames[p+2]=Z,this.frames[p+3]=H,this.frames[p+4]=t,this.frames[p+5]=h,this.frames[p+6]=k}apply(p,g,m,Z,t,h,k){const n=p.slots[this.slotIndex];if(!n.bone.active)return;const S=this.frames,q=n.color,D=n.darkColor;if(m<S[0]){const p=n.data.color,g=n.data.darkColor;switch(h){case H.qU.setup:return q.r=p.r,q.g=p.g,q.b=p.b,D.r=g.r,D.g=g.g,void(D.b=g.b);case H.qU.first:q.r+=(p.r-q.r)*t,q.g+=(p.g-q.g)*t,q.b+=(p.b-q.b)*t,D.r+=(g.r-D.r)*t,D.g+=(g.g-D.g)*t,D.b+=(g.b-D.b)*t}return}let I=0,b=0,e=0,N=0,d=0,Q=0;const $=W.search(S,m,7),w=this.curves[$/7];switch(w){case 0:const p=S[$];I=S[$+1],b=S[$+2],e=S[$+3],N=S[$+4],d=S[$+5],Q=S[$+6];const g=(m-p)/(S[$+7]-p);I+=(S[$+7+1]-I)*g,b+=(S[$+7+2]-b)*g,e+=(S[$+7+3]-e)*g,N+=(S[$+7+4]-N)*g,d+=(S[$+7+5]-d)*g,Q+=(S[$+7+6]-Q)*g;break;case 1:I=S[$+1],b=S[$+2],e=S[$+3],N=S[$+4],d=S[$+5],Q=S[$+6];break;default:I=this.getBezierValue(m,$,1,w-2),b=this.getBezierValue(m,$,2,w+18-2),e=this.getBezierValue(m,$,3,w+18*2-2),N=this.getBezierValue(m,$,4,w+18*3-2),d=this.getBezierValue(m,$,5,w+18*4-2),Q=this.getBezierValue(m,$,6,w+18*5-2)}if(1==t)q.r=I,q.g=b,q.b=e,D.r=N,D.g=d,D.b=Q;else{if(h==H.qU.setup){const p=n.data.color,g=n.data.darkColor;q.r=p.r,q.g=p.g,q.b=p.b,D.r=g.r,D.g=g.g,D.b=g.b}q.r+=(I-q.r)*t,q.g+=(b-q.g)*t,q.b+=(e-q.b)*t,D.r+=(N-D.r)*t,D.g+=(d-D.g)*t,D.b+=(Q-D.b)*t}}}class _ extends W{constructor(p,g){super(p,[`${Q}|${g}`]),this.slotIndex=0,this.slotIndex=g,this.attachmentNames=new Array(p)}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.attachmentNames[p]=m}apply(p,g,m,Z,t,h,k){const n=p.slots[this.slotIndex];n.bone.active&&(k!=H.mj.mixOut?m<this.frames[0]?h!=H.qU.setup&&h!=H.qU.first||this.setAttachment(p,n,n.data.attachmentName):this.setAttachment(p,n,this.attachmentNames[W.search1(this.frames,m)]):h==H.qU.setup&&this.setAttachment(p,n,n.data.attachmentName))}setAttachment(p,g,m){g.setAttachment(m?p.getAttachment(this.slotIndex,m):null)}}class E extends v{constructor(p,g,m,Z){super(p,g,[`${$}|${m}|${Z.id}`]),this.slotIndex=0,this.slotIndex=m,this.attachment=Z,this.vertices=new Array(p)}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.vertices[p]=m}setBezier(p,g,m,Z,H,t,h,k,n,S,q){const D=this.curves;let I=this.getFrameCount()+18*p;0==m&&(D[g]=2+I);const b=.03*(Z-2*t+k),e=.03*n-.06*h,N=.006*(3*(t-k)-Z+S),d=.018*(h-n+.33333333);let Q=2*b+N,$=2*e+d,w=.3*(t-Z)+b+.16666667*N,Y=.3*h+e+.16666667*d,i=Z+w,P=Y;for(let p=I+18;I<p;I+=2)D[I]=i,D[I+1]=P,w+=Q,Y+=$,Q+=N,$+=d,i+=w,P+=Y}getCurvePercent(p,g){const m=this.curves;let Z=m[g];switch(Z){case 0:const m=this.frames[g];return(p-m)/(this.frames[g+this.getFrameEntries()]-m);case 1:return 0}if(Z-=2,m[Z]>p){const H=this.frames[g];return m[Z+1]*(p-H)/(m[Z]-H)}const H=Z+18;for(Z+=2;Z<H;Z+=2)if(m[Z]>=p){const g=m[Z-2],H=m[Z-1];return H+(p-g)/(m[Z]-g)*(m[Z+1]-H)}const t=m[H-2],h=m[H-1];return h+(1-h)*(p-t)/(this.frames[g+this.getFrameEntries()]-t)}apply(p,g,m,t,h,k,n){const S=p.slots[this.slotIndex];if(!S.bone.active)return;const q=S.getAttachment();if(!q)return;if(!(q instanceof Z.e)||q.timelineAttachment!=this.attachment)return;const D=S.deform;0==D.length&&(k=H.qU.setup);const I=this.vertices,b=I[0].length,e=this.frames;if(m<e[0]){switch(k){case H.qU.setup:return void(D.length=0);case H.qU.first:if(1==h)return void(D.length=0);D.length=b;const p=q;if(p.bones){h=1-h;for(let p=0;p<b;p++)D[p]*=h}else{const g=p.vertices;for(let p=0;p<b;p++)D[p]+=(g[p]-D[p])*h}}return}if(D.length=b,m>=e[e.length-1]){const p=I[e.length-1];if(1==h)if(k==H.qU.add){const g=q;if(g.bones)for(let g=0;g<b;g++)D[g]+=p[g];else{const m=g.vertices;for(let g=0;g<b;g++)D[g]+=p[g]-m[g]}}else H.Aq.arrayCopy(p,0,D,0,b);else switch(k){case H.qU.setup:{const g=q;if(g.bones)for(let g=0;g<b;g++)D[g]=p[g]*h;else{const m=g.vertices;for(let g=0;g<b;g++){const Z=m[g];D[g]=Z+(p[g]-Z)*h}}break}case H.qU.first:case H.qU.replace:for(let g=0;g<b;g++)D[g]+=(p[g]-D[g])*h;break;case H.qU.add:const g=q;if(g.bones)for(let g=0;g<b;g++)D[g]+=p[g]*h;else{const m=g.vertices;for(let g=0;g<b;g++)D[g]+=(p[g]-m[g])*h}}return}const N=W.search1(e,m),d=this.getCurvePercent(m,N),Q=I[N],$=I[N+1];if(1==h)if(k==H.qU.add){const p=q;if(p.bones)for(let p=0;p<b;p++){const g=Q[p];D[p]+=g+($[p]-g)*d}else{const g=p.vertices;for(let p=0;p<b;p++){const m=Q[p];D[p]+=m+($[p]-m)*d-g[p]}}}else for(let p=0;p<b;p++){const g=Q[p];D[p]=g+($[p]-g)*d}else switch(k){case H.qU.setup:{const p=q;if(p.bones)for(let p=0;p<b;p++){const g=Q[p];D[p]=(g+($[p]-g)*d)*h}else{const g=p.vertices;for(let p=0;p<b;p++){const m=Q[p],Z=g[p];D[p]=Z+(m+($[p]-m)*d-Z)*h}}break}case H.qU.first:case H.qU.replace:for(let p=0;p<b;p++){const g=Q[p];D[p]+=(g+($[p]-g)*d-D[p])*h}break;case H.qU.add:const p=q;if(p.bones)for(let p=0;p<b;p++){const g=Q[p];D[p]+=(g+($[p]-g)*d)*h}else{const g=p.vertices;for(let p=0;p<b;p++){const m=Q[p];D[p]+=(m+($[p]-m)*d-g[p])*h}}}}}const G=class extends W{constructor(p){super(p,G.propertyIds),this.events=new Array(p)}getFrameCount(){return this.frames.length}setFrame(p,g){this.frames[p]=g.time,this.events[p]=g}apply(p,g,m,Z,H,t,h){if(!Z)return;const k=this.frames,n=this.frames.length;if(g>m)this.apply(p,g,Number.MAX_VALUE,Z,H,t,h),g=-1;else if(g>=k[n-1])return;if(m<k[0])return;let S=0;if(g<k[0])S=0;else{S=W.search1(k,g)+1;const p=k[S];for(;S>0&&k[S-1]==p;)S--}for(;S<n&&m>=k[S];S++)Z.push(this.events[S])}};let M=G;M.propertyIds=[`${12}`];const s=class extends W{constructor(p){super(p,s.propertyIds),this.drawOrders=new Array(p)}getFrameCount(){return this.frames.length}setFrame(p,g,m){this.frames[p]=g,this.drawOrders[p]=m}apply(p,g,m,Z,t,h,k){if(k==H.mj.mixOut)return void(h==H.qU.setup&&H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length));if(m<this.frames[0])return void(h!=H.qU.setup&&h!=H.qU.first||H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length));const n=W.search1(this.frames,m),S=this.drawOrders[n];if(S){const g=p.drawOrder,m=p.slots;for(let p=0,Z=S.length;p<Z;p++)g[p]=m[S[p]]}else H.Aq.arrayCopy(p.slots,0,p.drawOrder,0,p.slots.length)}};let T=s;T.propertyIds=[`${13}`];class l extends v{constructor(p,g,m){super(p,g,[`${w}|${m}`]),this.ikConstraintIndex=0,this.ikConstraintIndex=m}getFrameEntries(){return 6}setFrame(p,g,m,Z,H,t,h){p*=6,this.frames[p]=g,this.frames[p+1]=m,this.frames[p+2]=Z,this.frames[p+3]=H,this.frames[p+4]=t?1:0,this.frames[p+5]=h?1:0}apply(p,g,m,Z,t,h,k){const n=p.ikConstraints[this.ikConstraintIndex];if(!n.active)return;const S=this.frames;if(m<S[0]){switch(h){case H.qU.setup:return n.mix=n.data.mix,n.softness=n.data.softness,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,void(n.stretch=n.data.stretch);case H.qU.first:n.mix+=(n.data.mix-n.mix)*t,n.softness+=(n.data.softness-n.softness)*t,n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch}return}let q=0,D=0;const I=W.search(S,m,6),b=this.curves[I/6];switch(b){case 0:const p=S[I];q=S[I+1],D=S[I+2];const g=(m-p)/(S[I+6]-p);q+=(S[I+6+1]-q)*g,D+=(S[I+6+2]-D)*g;break;case 1:q=S[I+1],D=S[I+2];break;default:q=this.getBezierValue(m,I,1,b-2),D=this.getBezierValue(m,I,2,b+18-2)}h==H.qU.setup?(n.mix=n.data.mix+(q-n.data.mix)*t,n.softness=n.data.softness+(D-n.data.softness)*t,k==H.mj.mixOut?(n.bendDirection=n.data.bendDirection,n.compress=n.data.compress,n.stretch=n.data.stretch):(n.bendDirection=S[I+3],n.compress=0!=S[I+4],n.stretch=0!=S[I+5])):(n.mix+=(q-n.mix)*t,n.softness+=(D-n.softness)*t,k==H.mj.mixIn&&(n.bendDirection=S[I+3],n.compress=0!=S[I+4],n.stretch=0!=S[I+5]))}}class A extends v{constructor(p,g,m){super(p,g,[`${Y}|${m}`]),this.transformConstraintIndex=0,this.transformConstraintIndex=m}getFrameEntries(){return 7}setFrame(p,g,m,Z,H,t,h,k){const n=this.frames;n[p*=7]=g,n[p+1]=m,n[p+2]=Z,n[p+3]=H,n[p+4]=t,n[p+5]=h,n[p+6]=k}apply(p,g,m,Z,t,h,k){const n=p.transformConstraints[this.transformConstraintIndex];if(!n.active)return;const S=this.frames;if(m<S[0]){const p=n.data;switch(h){case H.qU.setup:return n.mixRotate=p.mixRotate,n.mixX=p.mixX,n.mixY=p.mixY,n.mixScaleX=p.mixScaleX,n.mixScaleY=p.mixScaleY,void(n.mixShearY=p.mixShearY);case H.qU.first:n.mixRotate+=(p.mixRotate-n.mixRotate)*t,n.mixX+=(p.mixX-n.mixX)*t,n.mixY+=(p.mixY-n.mixY)*t,n.mixScaleX+=(p.mixScaleX-n.mixScaleX)*t,n.mixScaleY+=(p.mixScaleY-n.mixScaleY)*t,n.mixShearY+=(p.mixShearY-n.mixShearY)*t}return}let q,D,I,b,e,N;const d=W.search(S,m,7),Q=this.curves[d/7];switch(Q){case 0:const p=S[d];q=S[d+1],D=S[d+2],I=S[d+3],b=S[d+4],e=S[d+5],N=S[d+6];const g=(m-p)/(S[d+7]-p);q+=(S[d+7+1]-q)*g,D+=(S[d+7+2]-D)*g,I+=(S[d+7+3]-I)*g,b+=(S[d+7+4]-b)*g,e+=(S[d+7+5]-e)*g,N+=(S[d+7+6]-N)*g;break;case 1:q=S[d+1],D=S[d+2],I=S[d+3],b=S[d+4],e=S[d+5],N=S[d+6];break;default:q=this.getBezierValue(m,d,1,Q-2),D=this.getBezierValue(m,d,2,Q+18-2),I=this.getBezierValue(m,d,3,Q+18*2-2),b=this.getBezierValue(m,d,4,Q+18*3-2),e=this.getBezierValue(m,d,5,Q+18*4-2),N=this.getBezierValue(m,d,6,Q+18*5-2)}if(h==H.qU.setup){const p=n.data;n.mixRotate=p.mixRotate+(q-p.mixRotate)*t,n.mixX=p.mixX+(D-p.mixX)*t,n.mixY=p.mixY+(I-p.mixY)*t,n.mixScaleX=p.mixScaleX+(b-p.mixScaleX)*t,n.mixScaleY=p.mixScaleY+(e-p.mixScaleY)*t,n.mixShearY=p.mixShearY+(N-p.mixShearY)*t}else n.mixRotate+=(q-n.mixRotate)*t,n.mixX+=(D-n.mixX)*t,n.mixY+=(I-n.mixY)*t,n.mixScaleX+=(b-n.mixScaleX)*t,n.mixScaleY+=(e-n.mixScaleY)*t,n.mixShearY+=(N-n.mixShearY)*t}}class L extends V{constructor(p,g,m){super(p,g,`${i}|${m}`),this.pathConstraintIndex=0,this.pathConstraintIndex=m}apply(p,g,m,Z,t,h,k){const n=p.pathConstraints[this.pathConstraintIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.position=n.data.position);case H.qU.first:n.position+=(n.data.position-n.position)*t}return}const S=this.getCurveValue(m);h==H.qU.setup?n.position=n.data.position+(S-n.data.position)*t:n.position+=(S-n.position)*t}}class o extends V{constructor(p,g,m){super(p,g,`${P}|${m}`),this.pathConstraintIndex=0,this.pathConstraintIndex=m}apply(p,g,m,Z,t,h,k){const n=p.pathConstraints[this.pathConstraintIndex];if(!n.active)return;if(m<this.frames[0]){switch(h){case H.qU.setup:return void(n.spacing=n.data.spacing);case H.qU.first:n.spacing+=(n.data.spacing-n.spacing)*t}return}const S=this.getCurveValue(m);h==H.qU.setup?n.spacing=n.data.spacing+(S-n.data.spacing)*t:n.spacing+=(S-n.spacing)*t}}class pp extends v{constructor(p,g,m){super(p,g,[`${J}|${m}`]),this.pathConstraintIndex=0,this.pathConstraintIndex=m}getFrameEntries(){return 4}setFrame(p,g,m,Z,H){const t=this.frames;t[p<<=2]=g,t[p+1]=m,t[p+2]=Z,t[p+3]=H}apply(p,g,m,Z,t,h,k){const n=p.pathConstraints[this.pathConstraintIndex];if(!n.active)return;const S=this.frames;if(m<S[0]){switch(h){case H.qU.setup:return n.mixRotate=n.data.mixRotate,n.mixX=n.data.mixX,void(n.mixY=n.data.mixY);case H.qU.first:n.mixRotate+=(n.data.mixRotate-n.mixRotate)*t,n.mixX+=(n.data.mixX-n.mixX)*t,n.mixY+=(n.data.mixY-n.mixY)*t}return}let q,D,I;const b=W.search(S,m,4),e=this.curves[b>>2];switch(e){case 0:const p=S[b];q=S[b+1],D=S[b+2],I=S[b+3];const g=(m-p)/(S[b+4]-p);q+=(S[b+4+1]-q)*g,D+=(S[b+4+2]-D)*g,I+=(S[b+4+3]-I)*g;break;case 1:q=S[b+1],D=S[b+2],I=S[b+3];break;default:q=this.getBezierValue(m,b,1,e-2),D=this.getBezierValue(m,b,2,e+18-2),I=this.getBezierValue(m,b,3,e+18*2-2)}if(h==H.qU.setup){const p=n.data;n.mixRotate=p.mixRotate+(q-p.mixRotate)*t,n.mixX=p.mixX+(D-p.mixX)*t,n.mixY=p.mixY+(I-p.mixY)*t}else n.mixRotate+=(q-n.mixRotate)*t,n.mixX+=(D-n.mixX)*t,n.mixY+=(I-n.mixY)*t}}const gp=class extends W{constructor(p,g,m){super(p,[`${y}|${g}|${m.sequence.id}`]),this.slotIndex=g,this.attachment=m}getFrameEntries(){return gp.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(p,g,m,Z,H){const t=this.frames;t[p*=gp.ENTRIES]=g,t[p+gp.MODE]=m|Z<<4,t[p+gp.DELAY]=H}apply(p,g,m,h,k,n,S){const q=p.slots[this.slotIndex];if(!q.bone.active)return;const D=q.attachment,I=this.attachment;if(!(D==I||D instanceof Z.e&&D.timelineAttachment==I))return;const b=this.frames;if(m<b[0])return void(n!=H.qU.setup&&n!=H.qU.first||(q.sequenceIndex=-1));const e=W.search(b,m,gp.ENTRIES),N=b[e],d=b[e+gp.MODE],Q=b[e+gp.DELAY];if(!this.attachment.sequence)return;let $=d>>4;const w=this.attachment.sequence.regions.length,Y=t.l8[15&d];if(Y!=t.zu.hold)switch($+=(m-N)/Q+1e-5|0,Y){case t.zu.once:$=Math.min(w-1,$);break;case t.zu.loop:$%=w;break;case t.zu.pingpong:{const p=(w<<1)-2;$=0==p?0:$%p,$>=w&&($=p-$);break}case t.zu.onceReverse:$=Math.max(w-1-$,0);break;case t.zu.loopReverse:$=w-1-$%w;break;case t.zu.pingpongReverse:{const p=(w<<1)-2;$=0==p?0:($+w-1)%p,$>=w&&($=p-$)}}q.sequenceIndex=$}};let mp=gp;mp.ENTRIES=3,mp.MODE=1,mp.DELAY=2},960476:(p,g,m)=>{m.d(g,{Bx:()=>q,Cb:()=>S,IT:()=>n,b5:()=>D,oA:()=>h});var Z=m(367866),H=m(264721);const t=class{constructor(p){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new S(this),this.propertyIDs=new Z.eE,this.animationsChanged=!1,this.trackEntryPool=new Z.bC((()=>new n)),this.data=p}static emptyAnimation(){return t._emptyAnimation}update(p){p*=this.timeScale;const g=this.tracks;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(!Z)continue;Z.animationLast=Z.nextAnimationLast,Z.trackLast=Z.nextTrackLast;let H=p*Z.timeScale;if(Z.delay>0){if(Z.delay-=H,Z.delay>0)continue;H=-Z.delay,Z.delay=0}let t=Z.next;if(t){const g=Z.trackLast-t.delay;if(g>=0){for(t.delay=0,t.trackTime+=0==Z.timeScale?0:(g/Z.timeScale+p)*t.timeScale,Z.trackTime+=H,this.setCurrent(m,t,!0);t.mixingFrom;)t.mixTime+=p,t=t.mixingFrom;continue}}else if(Z.trackLast>=Z.trackEnd&&!Z.mixingFrom){g[m]=null,this.queue.end(Z),this.clearNext(Z);continue}if(Z.mixingFrom&&this.updateMixingFrom(Z,p)){let p=Z.mixingFrom;for(Z.mixingFrom=null,p&&(p.mixingTo=null);p;)this.queue.end(p),p=p.mixingFrom}Z.trackTime+=H}this.queue.drain()}updateMixingFrom(p,g){const m=p.mixingFrom;if(!m)return!0;const Z=this.updateMixingFrom(m,g);return m.animationLast=m.nextAnimationLast,m.trackLast=m.nextTrackLast,p.mixTime>0&&p.mixTime>=p.mixDuration?(0!=m.totalAlpha&&0!=p.mixDuration||(p.mixingFrom=m.mixingFrom,m.mixingFrom&&(m.mixingFrom.mixingTo=p),p.interruptAlpha=m.interruptAlpha,this.queue.end(m)),Z):(m.trackTime+=g*m.timeScale,p.mixTime+=g,!1)}apply(p){if(!p)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();const g=this.events,m=this.tracks;let t=!1;for(let h=0,k=m.length;h<k;h++){const k=m[h];if(!k||k.delay>0)continue;t=!0;const n=0==h?Z.qU.first:k.mixBlend;let S=k.alpha;k.mixingFrom?S*=this.applyMixingFrom(k,p,n):k.trackTime>=k.trackEnd&&!k.next&&(S=0);const q=k.animationLast,D=k.getAnimationTime();let b=D,e=g;k.reverse&&(b=k.animation.duration-b,e=null);const N=k.animation.timelines,d=N.length;if(0==h&&1==S||n==Z.qU.add)for(let g=0;g<d;g++){Z.Aq.webkit602BugfixHelper(S,n);const m=N[g];m instanceof H.zK?this.applyAttachmentTimeline(m,p,b,n,!0):m.apply(p,q,b,e,S,n,Z.mj.mixIn)}else{const g=k.timelineMode,m=k.shortestRotation,t=!m&&k.timelinesRotation.length!=d<<1;t&&(k.timelinesRotation.length=d<<1);for(let h=0;h<d;h++){const D=N[h],d=g[h]==I?n:Z.qU.setup;!m&&D instanceof H.NQ?this.applyRotateTimeline(D,p,b,S,d,k.timelinesRotation,h<<1,t):D instanceof H.zK?this.applyAttachmentTimeline(D,p,b,n,!0):(Z.Aq.webkit602BugfixHelper(S,n),D.apply(p,q,b,e,S,d,Z.mj.mixIn))}}this.queueEvents(k,D),g.length=0,k.nextAnimationLast=D,k.nextTrackLast=k.trackTime}const h=this.unkeyedState+Q,k=p.slots;for(let g=0,m=p.slots.length;g<m;g++){const m=k[g];if(m.attachmentState==h){const g=m.data.attachmentName;m.setAttachment(g?p.getAttachment(m.data.index,g):null)}}return this.unkeyedState+=2,this.queue.drain(),t}applyMixingFrom(p,g,m){const t=p.mixingFrom;t.mixingFrom&&this.applyMixingFrom(t,g,m);let h=0;0==p.mixDuration?(h=1,m==Z.qU.first&&(m=Z.qU.setup)):(h=p.mixTime/p.mixDuration,h>1&&(h=1),m!=Z.qU.first&&(m=t.mixBlend));const k=h<t.attachmentThreshold,n=h<t.drawOrderThreshold,S=t.animation.timelines,q=S.length,D=t.alpha*p.interruptAlpha,d=D*(1-h),Q=t.animationLast,$=t.getAnimationTime();let w=$,Y=null;if(t.reverse?w=t.animation.duration-w:h<t.eventThreshold&&(Y=this.events),m==Z.qU.add)for(let p=0;p<q;p++)S[p].apply(g,Q,w,Y,d,m,Z.mj.mixOut);else{const p=t.timelineMode,h=t.timelineHoldMix,$=t.shortestRotation,i=!$&&t.timelinesRotation.length!=q<<1;i&&(t.timelinesRotation.length=q<<1),t.totalAlpha=0;for(let P=0;P<q;P++){const q=S[P];let J,y=Z.mj.mixOut,W=0;switch(p[P]){case I:if(!n&&q instanceof H.Kn)continue;J=m,W=d;break;case b:J=Z.qU.setup,W=d;break;case e:J=m,W=D;break;case N:J=Z.qU.setup,W=D;break;default:J=Z.qU.setup;const p=h[P];W=D*Math.max(0,1-p.mixTime/p.mixDuration)}t.totalAlpha+=W,!$&&q instanceof H.NQ?this.applyRotateTimeline(q,g,w,W,J,t.timelinesRotation,P<<1,i):q instanceof H.zK?this.applyAttachmentTimeline(q,g,w,J,k):(Z.Aq.webkit602BugfixHelper(W,m),n&&q instanceof H.Kn&&J==Z.qU.setup&&(y=Z.mj.mixIn),q.apply(g,Q,w,Y,W,J,y))}}return p.mixDuration>0&&this.queueEvents(t,$),this.events.length=0,t.nextAnimationLast=$,t.nextTrackLast=t.trackTime,h}applyAttachmentTimeline(p,g,m,t,h){const k=g.slots[p.slotIndex];k.bone.active&&(m<p.frames[0]?t!=Z.qU.setup&&t!=Z.qU.first||this.setAttachment(g,k,k.data.attachmentName,h):this.setAttachment(g,k,p.attachmentNames[H.Kf.search1(p.frames,m)],h),k.attachmentState<=this.unkeyedState&&(k.attachmentState=this.unkeyedState+Q))}setAttachment(p,g,m,Z){g.setAttachment(m?p.getAttachment(g.data.index,m):null),Z&&(g.attachmentState=this.unkeyedState+$)}applyRotateTimeline(p,g,m,H,t,h,k,n){if(n&&(h[k]=0),1==H)return void p.apply(g,0,m,null,1,t,Z.mj.mixIn);const S=g.bones[p.boneIndex];if(!S.active)return;let q=0,D=0;if(m<p.frames[0])switch(t){case Z.qU.setup:S.rotation=S.data.rotation;default:return;case Z.qU.first:q=S.rotation,D=S.data.rotation}else q=t==Z.qU.setup?S.data.rotation:S.rotation,D=S.data.rotation+p.getCurveValue(m);let I=0,b=D-q;if(b-=360*(16384-(16384.499999999996-b/360|0)),0==b)I=h[k];else{let p=0,g=0;n?(p=0,g=b):(p=h[k],g=h[k+1]);const m=b>0;let H=p>=0;Z.cj.signum(g)!=Z.cj.signum(b)&&Math.abs(g)<=90&&(Math.abs(p)>180&&(p+=360*Z.cj.signum(p)),H=m),I=b+p-p%360,H!=m&&(I+=360*Z.cj.signum(p)),h[k]=I}h[k+1]=b,S.rotation=q+I*H}queueEvents(p,g){const m=p.animationStart,Z=p.animationEnd,H=Z-m,t=p.trackLast%H,h=this.events;let k=0;const n=h.length;for(;k<n;k++){const g=h[k];if(g.time<t)break;g.time>Z||this.queue.event(p,g)}let S=!1;for(S=p.loop?0==H||t>p.trackTime%H:g>=Z&&p.animationLast<Z,S&&this.queue.complete(p);k<n;k++){const g=h[k];g.time<m||this.queue.event(p,g)}}clearTracks(){const p=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let p=0,g=this.tracks.length;p<g;p++)this.clearTrack(p);this.tracks.length=0,this.queue.drainDisabled=p,this.queue.drain()}clearTrack(p){if(p>=this.tracks.length)return;const g=this.tracks[p];if(!g)return;this.queue.end(g),this.clearNext(g);let m=g;for(;1;){const p=m.mixingFrom;if(!p)break;this.queue.end(p),m.mixingFrom=null,m.mixingTo=null,m=p}this.tracks[g.trackIndex]=null,this.queue.drain()}setCurrent(p,g,m){const Z=this.expandToIndex(p);this.tracks[p]=g,g.previous=null,Z&&(m&&this.queue.interrupt(Z),g.mixingFrom=Z,Z.mixingTo=g,g.mixTime=0,Z.mixingFrom&&Z.mixDuration>0&&(g.interruptAlpha*=Math.min(1,Z.mixTime/Z.mixDuration)),Z.timelinesRotation.length=0),this.queue.start(g)}setAnimation(p,g,m=!1){const Z=this.data.skeletonData.findAnimation(g);if(!Z)throw new Error(`Animation not found: ${g}`);return this.setAnimationWith(p,Z,m)}setAnimationWith(p,g,m=!1){if(!g)throw new Error("animation cannot be null.");let Z=!0,H=this.expandToIndex(p);H&&(-1==H.nextTrackLast?(this.tracks[p]=H.mixingFrom,this.queue.interrupt(H),this.queue.end(H),this.clearNext(H),H=H.mixingFrom,Z=!1):this.clearNext(H));const t=this.trackEntry(p,g,m,H);return this.setCurrent(p,t,Z),this.queue.drain(),t}addAnimation(p,g,m=!1,Z=0){const H=this.data.skeletonData.findAnimation(g);if(!H)throw new Error(`Animation not found: ${g}`);return this.addAnimationWith(p,H,m,Z)}addAnimationWith(p,g,m=!1,Z=0){if(!g)throw new Error("animation cannot be null.");let H=this.expandToIndex(p);if(H)for(;H.next;)H=H.next;const t=this.trackEntry(p,g,m,H);return H?(H.next=t,t.previous=H,Z<=0&&(Z+=H.getTrackComplete()-t.mixDuration)):(this.setCurrent(p,t,!0),this.queue.drain()),t.delay=Z,t}setEmptyAnimation(p,g=0){const m=this.setAnimationWith(p,t.emptyAnimation(),!1);return m.mixDuration=g,m.trackEnd=g,m}addEmptyAnimation(p,g=0,m=0){const Z=this.addAnimationWith(p,t.emptyAnimation(),!1,m);return m<=0&&(Z.delay+=Z.mixDuration-g),Z.mixDuration=g,Z.trackEnd=g,Z}setEmptyAnimations(p=0){const g=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let g=0,m=this.tracks.length;g<m;g++){const m=this.tracks[g];m&&this.setEmptyAnimation(m.trackIndex,p)}this.queue.drainDisabled=g,this.queue.drain()}expandToIndex(p){return p<this.tracks.length?this.tracks[p]:(Z.Aq.ensureArrayCapacity(this.tracks,p+1,null),this.tracks.length=p+1,null)}trackEntry(p,g,m,H){const t=this.trackEntryPool.obtain();return t.reset(),t.trackIndex=p,t.animation=g,t.loop=m,t.holdPrevious=!1,t.reverse=!1,t.shortestRotation=!1,t.eventThreshold=0,t.attachmentThreshold=0,t.drawOrderThreshold=0,t.animationStart=0,t.animationEnd=g.duration,t.animationLast=-1,t.nextAnimationLast=-1,t.delay=0,t.trackTime=0,t.trackLast=-1,t.nextTrackLast=-1,t.trackEnd=Number.MAX_VALUE,t.timeScale=1,t.alpha=1,t.mixTime=0,t.mixDuration=H?this.data.getMix(H.animation,g):0,t.interruptAlpha=1,t.totalAlpha=0,t.mixBlend=Z.qU.replace,t}clearNext(p){let g=p.next;for(;g;)this.queue.dispose(g),g=g.next;p.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();const p=this.tracks;for(let g=0,m=p.length;g<m;g++){let m=p[g];if(m){for(;m.mixingFrom;)m=m.mixingFrom;do{m.mixingTo&&m.mixBlend==Z.qU.add||this.computeHold(m),m=m.mixingTo}while(m)}}}computeHold(p){const g=p.mixingTo,m=p.animation.timelines,Z=p.animation.timelines.length,t=p.timelineMode;t.length=Z;const h=p.timelineHoldMix;h.length=0;const k=this.propertyIDs;if(g&&g.holdPrevious)for(let p=0;p<Z;p++)t[p]=k.addAll(m[p].getPropertyIds())?N:e;else p:for(let n=0;n<Z;n++){const Z=m[n],S=Z.getPropertyIds();if(k.addAll(S))if(!g||Z instanceof H.zK||Z instanceof H.Kn||Z instanceof H.qs||!g.animation.hasTimeline(S))t[n]=b;else{for(let m=g.mixingTo;m;m=m.mixingTo)if(!m.animation.hasTimeline(S)){if(p.mixDuration>0){t[n]=d,h[n]=m;continue p}break}t[n]=N}else t[n]=I}}getCurrent(p){return p>=this.tracks.length?null:this.tracks[p]}addListener(p){if(!p)throw new Error("listener cannot be null.");this.listeners.push(p)}removeListener(p){const g=this.listeners.indexOf(p);g>=0&&this.listeners.splice(g,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(p,g,m){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(p,g,m)}addAnimationByName(p,g,m,Z){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(p,g,m,Z)}hasAnimation(p){return null!==this.data.skeletonData.findAnimation(p)}hasAnimationByName(p){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(p)}};let h=t;h._emptyAnimation=new H.X5("<empty>",[],0),h.deprecatedWarning1=!1,h.deprecatedWarning2=!1,h.deprecatedWarning3=!1;const k=class{constructor(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=Z.qU.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){const p=this.animationEnd-this.animationStart;return 0==p?this.animationStart:this.trackTime%p+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(p){this.animationLast=p,this.nextAnimationLast=p}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){const p=this.animationEnd-this.animationStart;if(0!=p){if(this.loop)return p*(1+(this.trackTime/p|0));if(this.trackTime<p)return p}return this.trackTime}get time(){return k.deprecatedWarning1||(k.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(p){k.deprecatedWarning1||(k.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=p}get endTime(){return k.deprecatedWarning2||(k.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(p){k.deprecatedWarning2||(k.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=p}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}};let n=k;n.deprecatedWarning1=!1,n.deprecatedWarning2=!1;class S{constructor(p){this.objects=[],this.drainDisabled=!1,this.animState=p}start(p){this.objects.push(q.start),this.objects.push(p),this.animState.animationsChanged=!0}interrupt(p){this.objects.push(q.interrupt),this.objects.push(p)}end(p){this.objects.push(q.end),this.objects.push(p),this.animState.animationsChanged=!0}dispose(p){this.objects.push(q.dispose),this.objects.push(p)}complete(p){this.objects.push(q.complete),this.objects.push(p)}event(p,g){this.objects.push(q.event),this.objects.push(p),this.objects.push(g)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;const p=this.objects,g=this.animState.listeners;for(let m=0;m<p.length;m+=2){const Z=p[m],H=p[m+1];switch(Z){case q.start:H.listener&&H.listener.start&&H.listener.start(H);for(let p=0;p<g.length;p++){const m=g[p];m.start&&m.start(H)}break;case q.interrupt:H.listener&&H.listener.interrupt&&H.listener.interrupt(H);for(let p=0;p<g.length;p++){const m=g[p];m.interrupt&&m.interrupt(H)}break;case q.end:H.listener&&H.listener.end&&H.listener.end(H);for(let p=0;p<g.length;p++){const m=g[p];m.end&&m.end(H)}case q.dispose:H.listener&&H.listener.dispose&&H.listener.dispose(H);for(let p=0;p<g.length;p++){const m=g[p];m.dispose&&m.dispose(H)}this.animState.trackEntryPool.free(H);break;case q.complete:H.listener&&H.listener.complete&&H.listener.complete(H);for(let p=0;p<g.length;p++){const m=g[p];m.complete&&m.complete(H)}break;case q.event:const Z=p[m+++2];H.listener&&H.listener.event&&H.listener.event(H,Z);for(let p=0;p<g.length;p++){const m=g[p];m.event&&m.event(H,Z)}}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var q=(p=>(p[p["start"]=0]="start",p[p["interrupt"]=1]="interrupt",p[p["end"]=2]="end",p[p["dispose"]=3]="dispose",p[p["complete"]=4]="complete",p[p["event"]=5]="event",p))(q||{});class D{start(p){}interrupt(p){}end(p){}dispose(p){}complete(p){}event(p,g){}}const I=0,b=1,e=2,N=3,d=4,Q=1,$=2},806396:(p,g,m)=>{m.d(g,{Q:()=>Z});class Z{constructor(p){if(this.animationToMixTime={},this.defaultMix=0,!p)throw new Error("skeletonData cannot be null.");this.skeletonData=p}setMix(p,g,m){const Z=this.skeletonData.findAnimation(p);if(!Z)throw new Error(`Animation not found: ${p}`);const H=this.skeletonData.findAnimation(g);if(!H)throw new Error(`Animation not found: ${g}`);this.setMixWith(Z,H,m)}setMixWith(p,g,m){if(!p)throw new Error("from cannot be null.");if(!g)throw new Error("to cannot be null.");const Z=`${p.name}.${g.name}`;this.animationToMixTime[Z]=m}getMix(p,g){const m=`${p.name}.${g.name}`,Z=this.animationToMixTime[m];return void 0===Z?this.defaultMix:Z}}},882468:(p,g,m)=>{m.d(g,{q:()=>S}),m(111691);var Z=m(323596),H=m(951213),t=m(669900),h=m(772042),k=m(978789),n=m(733439);m(132351);class S{constructor(p){this.atlas=p}loadSequence(p,g,m){const Z=m.regions;for(let H=0,t=Z.length;H<t;H++){const t=m.getPath(g,H),h=this.atlas.findRegion(t);if(null==h)throw new Error(`Region not found in atlas: ${t} (sequence: ${p})`);Z[H]=h,Z[H].renderObject=Z[H]}}newRegionAttachment(p,g,m,Z){const H=new n.Q(g,m);if(null!=Z)this.loadSequence(g,m,Z);else{const p=this.atlas.findRegion(m);if(!p)throw new Error(`Region not found in atlas: ${m} (region attachment: ${g})`);p.renderObject=p,H.region=p}return H}newMeshAttachment(p,g,m,Z){const H=new t.f(g,m);if(null!=Z)this.loadSequence(g,m,Z);else{const p=this.atlas.findRegion(m);if(!p)throw new Error(`Region not found in atlas: ${m} (mesh attachment: ${g})`);p.renderObject=p,H.region=p}return H}newBoundingBoxAttachment(p,g){return new Z.b(g)}newPathAttachment(p,g){return new h.H(g)}newPointAttachment(p,g){return new k.Y(g)}newClippingAttachment(p,g){return new H.K(g)}}},37075:(p,g,m)=>{m.d(g,{$:()=>t});var Z=m(316197),H=m(367866);class t{constructor(p,g,m){if(this.matrix=new Z.uq,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!p)throw new Error("data cannot be null.");if(!g)throw new Error("skeleton cannot be null.");this.data=p,this.skeleton=g,this.parent=m,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}isActive(){return this.active}update(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(p,g,m,Z,t,h,k){this.ax=p,this.ay=g,this.arotation=m,this.ascaleX=Z,this.ascaleY=t,this.ashearX=h,this.ashearY=k;const n=this.parent,S=this.matrix,q=this.skeleton.scaleX,D=H.W0.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(!n){const n=this.skeleton,I=m+90+k;return S.a=H.cj.cosDeg(m+h)*Z*q,S.c=H.cj.cosDeg(I)*t*q,S.b=H.cj.sinDeg(m+h)*Z*D,S.d=H.cj.sinDeg(I)*t*D,S.tx=p*q+n.x,void(S.ty=g*D+n.y)}let I=n.matrix.a,b=n.matrix.c,e=n.matrix.b,N=n.matrix.d;switch(S.tx=I*p+b*g+n.matrix.tx,S.ty=e*p+N*g+n.matrix.ty,this.data.transformMode){case H._C.Normal:{const p=m+90+k,g=H.cj.cosDeg(m+h)*Z,n=H.cj.cosDeg(p)*t,q=H.cj.sinDeg(m+h)*Z,D=H.cj.sinDeg(p)*t;return S.a=I*g+b*q,S.c=I*n+b*D,S.b=e*g+N*q,void(S.d=e*n+N*D)}case H._C.OnlyTranslation:{const p=m+90+k;S.a=H.cj.cosDeg(m+h)*Z,S.c=H.cj.cosDeg(p)*t,S.b=H.cj.sinDeg(m+h)*Z,S.d=H.cj.sinDeg(p)*t;break}case H._C.NoRotationOrReflection:{let p=I*I+e*e,g=0;p>1e-4?(p=Math.abs(I*N-b*e)/p,I/=q,e/=D,b=e*p,N=I*p,g=Math.atan2(e,I)*H.cj.radDeg):(I=0,e=0,g=90-Math.atan2(N,b)*H.cj.radDeg);const n=m+h-g,d=m+k-g+90,Q=H.cj.cosDeg(n)*Z,$=H.cj.cosDeg(d)*t,w=H.cj.sinDeg(n)*Z,Y=H.cj.sinDeg(d)*t;S.a=I*Q-b*w,S.c=I*$-b*Y,S.b=e*Q+N*w,S.d=e*$+N*Y;break}case H._C.NoScale:case H._C.NoScaleOrReflection:{const p=H.cj.cosDeg(m),g=H.cj.sinDeg(m);let n=(I*p+b*g)/q,d=(e*p+N*g)/D,Q=Math.sqrt(n*n+d*d);Q>1e-5&&(Q=1/Q),n*=Q,d*=Q,Q=Math.sqrt(n*n+d*d),this.data.transformMode==H._C.NoScale&&I*N-b*e<0!=(q<0!=D<0)&&(Q=-Q);const $=Math.PI/2+Math.atan2(d,n),w=Math.cos($)*Q,Y=Math.sin($)*Q,i=H.cj.cosDeg(h)*Z,P=H.cj.cosDeg(90+k)*t,J=H.cj.sinDeg(h)*Z,y=H.cj.sinDeg(90+k)*t;S.a=n*i+w*J,S.c=n*P+w*y,S.b=d*i+Y*J,S.d=d*P+Y*y;break}}S.a*=q,S.c*=q,S.b*=D,S.d*=D}setToSetupPose(){const p=this.data;this.x=p.x,this.y=p.y,this.rotation=p.rotation,this.scaleX=p.scaleX,this.scaleY=p.scaleY,this.shearX=p.shearX,this.shearY=p.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*H.cj.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*H.cj.radDeg}getWorldScaleX(){const p=this.matrix;return Math.sqrt(p.a*p.a+p.b*p.b)}getWorldScaleY(){const p=this.matrix;return Math.sqrt(p.c*p.c+p.d*p.d)}updateAppliedTransform(){const p=this.parent,g=this.matrix;if(!p)return this.ax=g.tx-this.skeleton.x,this.ay=g.ty-this.skeleton.y,this.arotation=Math.atan2(g.b,g.a)*H.cj.radDeg,this.ascaleX=Math.sqrt(g.a*g.a+g.b*g.b),this.ascaleY=Math.sqrt(g.c*g.c+g.d*g.d),this.ashearX=0,void(this.ashearY=Math.atan2(g.a*g.c+g.b*g.d,g.a*g.d-g.b*g.c)*H.cj.radDeg);const m=p.matrix,Z=1/(m.a*m.d-m.b*m.c),t=g.tx-m.tx,h=g.ty-m.ty;this.ax=t*m.d*Z-h*m.c*Z,this.ay=h*m.a*Z-t*m.b*Z;const k=Z*m.d,n=Z*m.a,S=Z*m.c,q=Z*m.b,D=k*g.a-S*g.b,I=k*g.c-S*g.d,b=n*g.b-q*g.a,e=n*g.d-q*g.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(D*D+b*b),this.ascaleX>1e-4){const p=D*e-I*b;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(D*I+b*e,p)*H.cj.radDeg,this.arotation=Math.atan2(b,D)*H.cj.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(I*I+e*e),this.ashearY=0,this.arotation=90-Math.atan2(e,I)*H.cj.radDeg}worldToLocal(p){const g=this.matrix,m=g.a,Z=g.c,H=g.b,t=g.d,h=1/(m*t-Z*H),k=p.x-g.tx,n=p.y-g.ty;return p.x=k*t*h-n*Z*h,p.y=n*m*h-k*H*h,p}localToWorld(p){const g=this.matrix,m=p.x,Z=p.y;return p.x=m*g.a+Z*g.c+g.tx,p.y=m*g.b+Z*g.d+g.ty,p}worldToLocalRotation(p){const g=H.cj.sinDeg(p),m=H.cj.cosDeg(p),Z=this.matrix;return Math.atan2(Z.a*g-Z.b*m,Z.d*m-Z.c*g)*H.cj.radDeg}localToWorldRotation(p){p-=this.rotation-this.shearX;const g=H.cj.sinDeg(p),m=H.cj.cosDeg(p),Z=this.matrix;return Math.atan2(m*Z.b+g*Z.d,m*Z.a+g*Z.c)*H.cj.radDeg}rotateWorld(p){const g=this.matrix,m=g.a,Z=g.c,t=g.b,h=g.d,k=H.cj.cosDeg(p),n=H.cj.sinDeg(p);g.a=k*m-n*t,g.c=k*Z-n*h,g.b=n*m+k*t,g.d=n*Z+k*h}}},403387:(p,g,m)=>{m.d(g,{h:()=>H});var Z=m(367866);class H{constructor(p,g,m){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=Z._C.Normal,this.skinRequired=!1,this.color=new Z.Q1,p<0)throw new Error("index must be >= 0.");if(!g)throw new Error("name cannot be null.");this.index=p,this.name=g,this.parent=m}}},974272:(p,g,m)=>{m.d(g,{q:()=>Z});class Z{constructor(p,g,m){this.name=p,this.order=g,this.skinRequired=m}}},637283:(p,g,m)=>{m.d(g,{J:()=>Z});class Z{constructor(p,g){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!g)throw new Error("data cannot be null.");this.time=p,this.data=g}}},552043:(p,g,m)=>{m.d(g,{R:()=>Z});class Z{constructor(p){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=p}}},774504:(p,g,m)=>{m.d(g,{c:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!p)throw new Error("data cannot be null.");if(!g)throw new Error("skeleton cannot be null.");this.data=p,this.mix=p.mix,this.softness=p.softness,this.bendDirection=p.bendDirection,this.compress=p.compress,this.stretch=p.stretch,this.bones=new Array;for(let m=0;m<p.bones.length;m++){const Z=g.findBone(p.bones[m].name);if(!Z)throw new Error(`Couldn't find bone ${p.bones[m].name}`);this.bones.push(Z)}const m=g.findBone(p.target.name);if(!m)throw new Error(`Couldn't find bone ${p.target.name}`);this.target=m}isActive(){return this.active}update(){if(0==this.mix)return;const p=this.target,g=this.bones;switch(g.length){case 1:this.apply1(g[0],p.worldX,p.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(g[0],g[1],p.worldX,p.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}apply1(p,g,m,H,t,h,k){const n=p.parent.matrix;if(!n)throw new Error("IK bone must have parent.");const S=n.a;let q=n.c;const D=n.b;let I=n.d,b=-p.ashearX-p.arotation,e=0,N=0;const d=p.skeleton.scaleX,Q=Z.W0.yDown?-p.skeleton.scaleY:p.skeleton.scaleY;switch(p.data.transformMode){case Z._C.OnlyTranslation:e=g-p.worldX,N=m-p.worldY,Z.W0.yDown&&(N=-N);break;case Z._C.NoRotationOrReflection:const H=Math.abs(S*I-q*D)/(S*S+D*D),t=S/d,h=D/Q;q=-h*H*d,I=t*H*Q,b+=Math.atan2(h,t)*Z.cj.radDeg;default:const k=g-n.tx,$=m-n.ty,w=S*I-q*D;e=(k*I-$*q)/w-p.ax,N=($*S-k*D)/w-p.ay}b+=Math.atan2(N,e)*Z.cj.radDeg,p.ascaleX<0&&(b+=180),b>180?b-=360:b<-180&&(b+=360);let $=p.ascaleX,w=p.ascaleY;if(H||t){switch(p.data.transformMode){case Z._C.NoScale:case Z._C.NoScaleOrReflection:e=g-p.worldX,N=m-p.worldY}const n=p.data.length*$,S=Math.sqrt(e*e+N*N);if(H&&S<n||t&&S>n&&n>1e-4){const p=(S/n-1)*k+1;$*=p,h&&(w*=p)}}p.updateWorldTransformWith(p.ax,p.ay,p.arotation+b*k,$,w,p.ashearX,p.ashearY)}apply2(p,g,m,H,t,h,k,n,S){const q=p.ax,D=p.ay;let I=p.ascaleX,b=p.ascaleY,e=I,N=b,d=g.ascaleX;const Q=p.matrix;let $=0,w=0,Y=0;I<0?(I=-I,$=180,Y=-1):($=0,Y=1),b<0&&(b=-b,Y=-Y),d<0?(d=-d,w=180):w=0;const i=g.ax;let P=0,J=0,y=0,W=Q.a,v=Q.c,V=Q.b,z=Q.d;const B=Math.abs(I-b)<=1e-4;!B||h?(P=0,J=W*i+Q.tx,y=V*i+Q.ty):(P=g.ay,J=W*i+v*P+Q.tx,y=V*i+z*P+Q.ty);const u=p.parent.matrix;if(!u)throw new Error("IK parent must itself have a parent.");W=u.a,v=u.c,V=u.b,z=u.d;const a=1/(W*z-v*V);let F=J-u.tx,X=y-u.ty;const K=(F*z-X*v)*a-q,j=(X*W-F*V)*a-D,r=Math.sqrt(K*K+j*j);let U,C,x=g.data.length*d;if(r<1e-4)return this.apply1(p,m,H,!1,h,!1,S),void g.updateWorldTransformWith(i,P,0,g.ascaleX,g.ascaleY,g.ashearX,g.ashearY);F=m-u.tx,X=H-u.ty;let R=(F*z-X*v)*a-q,c=(X*W-F*V)*a-D,O=R*R+c*c;if(0!=n){n*=I*(d+1)*.5;const p=Math.sqrt(O),g=p-r-x*I+n;if(g>0){let m=Math.min(1,g/(2*n))-1;m=(g-n*(1-m*m))/p,R-=m*R,c-=m*c,O=R*R+c*c}}p:if(B){x*=I;let p=(O-r*r-x*x)/(2*r*x);p<-1?(p=-1,C=Math.PI*t):p>1?(p=1,C=0,h&&(W=(Math.sqrt(O)/(r+x)-1)*S+1,e*=W,k&&(N*=W))):C=Math.acos(p)*t,W=r+x*p,v=x*Math.sin(C),U=Math.atan2(c*W-R*v,R*W+c*v)}else{W=I*x,v=b*x;const p=W*W,g=v*v,m=Math.atan2(c,R);V=g*r*r+p*O-p*g;const H=-2*g*r,h=g-p;if(z=H*H-4*h*V,z>=0){let p=Math.sqrt(z);H<0&&(p=-p),p=.5*-(H+p);const g=p/h,Z=V/p,k=Math.abs(g)<Math.abs(Z)?g:Z;if(k*k<=O){X=Math.sqrt(O-k*k)*t,U=m-Math.atan2(X,k),C=Math.atan2(X/b,(k-r)/I);break p}}let k=Z.cj.PI,n=r-W,S=n*n,q=0,D=0,e=r+W,N=e*e,d=0;V=-W*r/(p-g),V>=-1&&V<=1&&(V=Math.acos(V),F=W*Math.cos(V)+r,X=v*Math.sin(V),z=F*F+X*X,z<S&&(k=V,S=z,n=F,q=X),z>N&&(D=V,N=z,e=F,d=X)),O<=.5*(S+N)?(U=m-Math.atan2(q*t,n),C=k*t):(U=m-Math.atan2(d*t,e),C=D*t)}const f=Math.atan2(P,i)*Y;let _=p.arotation;U=(U-f)*Z.cj.radDeg+$-_,U>180?U-=360:U<-180&&(U+=360),p.updateWorldTransformWith(q,D,_+U*S,e,N,0,0),_=g.arotation,C=((C+f)*Z.cj.radDeg-g.ashearX)*Y+w-_,C>180?C-=360:C<-180&&(C+=360),g.updateWorldTransformWith(i,P,_+C*S,g.ascaleX,g.ascaleY,g.ashearX,g.ashearY)}}},434232:(p,g,m)=>{m.d(g,{Q:()=>H});var Z=m(974272);class H extends Z.q{constructor(p){super(p,0,!1),this.bones=new Array,this._target=null,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}set target(p){this._target=p}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}},406625:(p,g,m)=>{m.d(g,{v:()=>k}),m(111691);var Z=m(367866),H=m(772042),t=(m(733439),m(132351),m(254049));const h=class{constructor(p,g){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!p)throw new Error("data cannot be null.");if(!g)throw new Error("skeleton cannot be null.");this.data=p,this.bones=new Array;for(let m=0,Z=p.bones.length;m<Z;m++){const Z=g.findBone(p.bones[m].name);if(!Z)throw new Error(`Couldn't find bone ${p.bones[m].name}.`);this.bones.push(Z)}const m=g.findSlot(p.target.name);if(!m)throw new Error(`Couldn't find target bone ${p.target.name}`);this.target=m,this.position=p.position,this.spacing=p.spacing,this.mixRotate=p.mixRotate,this.mixX=p.mixX,this.mixY=p.mixY}isActive(){return this.active}update(){const p=this.target.getAttachment();if(!(p instanceof H.H))return;const g=this.mixRotate,m=this.mixX,k=this.mixY;if(0==g&&0==m&&0==k)return;const n=this.data,S=n.rotateMode==Z.Dr.Tangent,q=n.rotateMode==Z.Dr.ChainScale,D=this.bones,I=D.length,b=S?I:I+1,e=Z.Aq.setArraySize(this.spaces,b),N=q?this.lengths=Z.Aq.setArraySize(this.lengths,I):[],d=this.spacing;switch(n.spacingMode){case t.K.Percent:if(q)for(let p=0,g=b-1;p<g;p++){const g=D[p],m=g.data.length;if(m<h.epsilon)N[p]=0;else{const Z=m*g.matrix.a,H=m*g.matrix.b;N[p]=Math.sqrt(Z*Z+H*H)}}Z.Aq.arrayFill(e,1,b,d);break;case t.K.Proportional:let p=0;for(let g=0,m=b-1;g<m;){const m=D[g],Z=m.data.length;if(Z<h.epsilon)q&&(N[g]=0),e[++g]=d;else{const H=Z*m.matrix.a,t=Z*m.matrix.b,h=Math.sqrt(H*H+t*t);q&&(N[g]=h),e[++g]=h,p+=h}}if(p>0){p=b/p*d;for(let g=1;g<b;g++)e[g]*=p}break;default:const g=n.spacingMode==t.K.Length;for(let p=0,m=b-1;p<m;){const m=D[p],Z=m.data.length;if(Z<h.epsilon)q&&(N[p]=0),e[++p]=d;else{const H=Z*m.matrix.a,t=Z*m.matrix.b,h=Math.sqrt(H*H+t*t);q&&(N[p]=h),e[++p]=(g?Z+d:d)*h/Z}}}const Q=this.computeWorldPositions(p,b,S);let $=Q[0],w=Q[1],Y=n.offsetRotation,i=!1;if(0==Y)i=n.rotateMode==Z.Dr.Chain;else{i=!1;const p=this.target.bone.matrix;Y*=p.a*p.d-p.b*p.c>0?Z.cj.degRad:-Z.cj.degRad}for(let p=0,H=3;p<I;p++,H+=3){const t=D[p],h=t.matrix;h.tx+=($-h.tx)*m,h.ty+=(w-h.ty)*k;const n=Q[H],I=Q[H+1],b=n-$,d=I-w;if(q){const m=N[p];if(0!=m){const p=(Math.sqrt(b*b+d*d)/m-1)*g+1;h.a*=p,h.b*=p}}if($=n,w=I,g>0){const m=h.a,k=h.c,n=h.b,q=h.d;let D=0,I=0,N=0;if(D=S?Q[H-1]:0==e[p+1]?Q[H+2]:Math.atan2(d,b),D-=Math.atan2(n,m),i){I=Math.cos(D),N=Math.sin(D);const p=t.data.length;$+=(p*(I*m-N*n)-b)*g,w+=(p*(N*m+I*n)-d)*g}else D+=Y;D>Z.cj.PI?D-=Z.cj.PI2:D<-Z.cj.PI&&(D+=Z.cj.PI2),D*=g,I=Math.cos(D),N=Math.sin(D),h.a=I*m-N*n,h.c=I*k-N*q,h.b=N*m+I*n,h.d=N*k+I*q}t.updateAppliedTransform()}}computeWorldPositions(p,g,m){const H=this.target;let k=this.position;const n=this.spaces,S=Z.Aq.setArraySize(this.positions,3*g+2);let q=this.world;const D=p.closed;let I=p.worldVerticesLength,b=I/6,e=h.NONE;if(!p.constantSpeed){const N=p.lengths;b-=D?1:2;const d=N[b];let Q;switch(this.data.positionMode==Z.pw.Percent&&(k*=d),this.data.spacingMode){case t.K.Percent:Q=d;break;case t.K.Proportional:Q=d/g;break;default:Q=1}q=Z.Aq.setArraySize(this.world,8);for(let Z=0,t=0,$=0;Z<g;Z++,t+=3){const g=n[Z]*Q;k+=g;let w=k;if(D)w%=d,w<0&&(w+=d),$=0;else{if(w<0){e!=h.BEFORE&&(e=h.BEFORE,p.computeWorldVertices(H,2,4,q,0,2)),this.addBeforePosition(w,q,0,S,t);continue}if(w>d){e!=h.AFTER&&(e=h.AFTER,p.computeWorldVertices(H,I-6,4,q,0,2)),this.addAfterPosition(w-d,q,0,S,t);continue}}for(;;$++){const p=N[$];if(!(w>p)){if(0==$)w/=p;else{const g=N[$-1];w=(w-g)/(p-g)}break}}$!=e&&(e=$,D&&$==b?(p.computeWorldVertices(H,I-4,4,q,0,2),p.computeWorldVertices(H,0,4,q,4,2)):p.computeWorldVertices(H,6*$+2,8,q,0,2)),this.addCurvePosition(w,q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],S,t,m||Z>0&&0==g)}return S}D?(I+=2,q=Z.Aq.setArraySize(this.world,I),p.computeWorldVertices(H,2,I-4,q,0,2),p.computeWorldVertices(H,0,2,q,I-4,2),q[I-2]=q[0],q[I-1]=q[1]):(b--,I-=4,q=Z.Aq.setArraySize(this.world,I),p.computeWorldVertices(H,2,I,q,0,2));const N=Z.Aq.setArraySize(this.curves,b);let d,Q=0,$=q[0],w=q[1],Y=0,i=0,P=0,J=0,y=0,W=0,v=0,V=0,z=0,B=0,u=0,a=0,F=0,X=0;for(let p=0,g=2;p<b;p++,g+=6)Y=q[g],i=q[g+1],P=q[g+2],J=q[g+3],y=q[g+4],W=q[g+5],v=.1875*($-2*Y+P),V=.1875*(w-2*i+J),z=.09375*(3*(Y-P)-$+y),B=.09375*(3*(i-J)-w+W),u=2*v+z,a=2*V+B,F=.75*(Y-$)+v+.16666667*z,X=.75*(i-w)+V+.16666667*B,Q+=Math.sqrt(F*F+X*X),F+=u,X+=a,u+=z,a+=B,Q+=Math.sqrt(F*F+X*X),F+=u,X+=a,Q+=Math.sqrt(F*F+X*X),F+=u+z,X+=a+B,Q+=Math.sqrt(F*F+X*X),N[p]=Q,$=y,w=W;switch(this.data.positionMode==Z.pw.Percent&&(k*=Q),this.data.spacingMode){case t.K.Percent:d=Q;break;case t.K.Proportional:d=Q/g;break;default:d=1}const K=this.segments;let j=0;for(let p=0,Z=0,H=0,t=0;p<g;p++,Z+=3){const g=n[p]*d;k+=g;let h=k;if(D)h%=Q,h<0&&(h+=Q),H=0;else{if(h<0){this.addBeforePosition(h,q,0,S,Z);continue}if(h>Q){this.addAfterPosition(h-Q,q,I-4,S,Z);continue}}for(;;H++){const p=N[H];if(!(h>p)){if(0==H)h/=p;else{const g=N[H-1];h=(h-g)/(p-g)}break}}if(H!=e){e=H;let p=6*H;for($=q[p],w=q[p+1],Y=q[p+2],i=q[p+3],P=q[p+4],J=q[p+5],y=q[p+6],W=q[p+7],v=.03*($-2*Y+P),V=.03*(w-2*i+J),z=.006*(3*(Y-P)-$+y),B=.006*(3*(i-J)-w+W),u=2*v+z,a=2*V+B,F=.3*(Y-$)+v+.16666667*z,X=.3*(i-w)+V+.16666667*B,j=Math.sqrt(F*F+X*X),K[0]=j,p=1;p<8;p++)F+=u,X+=a,u+=z,a+=B,j+=Math.sqrt(F*F+X*X),K[p]=j;F+=u,X+=a,j+=Math.sqrt(F*F+X*X),K[8]=j,F+=u+z,X+=a+B,j+=Math.sqrt(F*F+X*X),K[9]=j,t=0}for(h*=j;;t++){const p=K[t];if(!(h>p)){if(0==t)h/=p;else{const g=K[t-1];h=t+(h-g)/(p-g)}break}}this.addCurvePosition(.1*h,$,w,Y,i,P,J,y,W,S,Z,m||p>0&&0==g)}return S}addBeforePosition(p,g,m,Z,H){const t=g[m],h=g[m+1],k=g[m+2]-t,n=g[m+3]-h,S=Math.atan2(n,k);Z[H]=t+p*Math.cos(S),Z[H+1]=h+p*Math.sin(S),Z[H+2]=S}addAfterPosition(p,g,m,Z,H){const t=g[m+2],h=g[m+3],k=t-g[m],n=h-g[m+1],S=Math.atan2(n,k);Z[H]=t+p*Math.cos(S),Z[H+1]=h+p*Math.sin(S),Z[H+2]=S}addCurvePosition(p,g,m,Z,H,t,h,k,n,S,q,D){if(0==p||isNaN(p))return S[q]=g,S[q+1]=m,void(S[q+2]=Math.atan2(H-m,Z-g));const I=p*p,b=I*p,e=1-p,N=e*e,d=N*e,Q=e*p,$=3*Q,w=e*$,Y=$*p,i=g*d+Z*w+t*Y+k*b,P=m*d+H*w+h*Y+n*b;S[q]=i,S[q+1]=P,D&&(S[q+2]=p<.001?Math.atan2(H-m,Z-g):Math.atan2(P-(m*N+H*Q*2+h*I),i-(g*N+Z*Q*2+t*I)))}};let k=h;k.NONE=-1,k.BEFORE=-2,k.AFTER=-3,k.epsilon=1e-5},254049:(p,g,m)=>{m.d(g,{K:()=>h,r:()=>t});var Z=m(974272),H=m(367866);class t extends Z.q{constructor(p){super(p,0,!1),this.bones=new Array,this._target=null,this.positionMode=H.pw.Fixed,this.spacingMode=h.Fixed,this.rotateMode=H.Dr.Chain,this.offsetRotation=0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0}set target(p){this._target=p}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}}var h=(p=>(p[p["Length"]=0]="Length",p[p["Fixed"]=1]="Fixed",p[p["Percent"]=2]="Percent",p[p["Proportional"]=3]="Proportional",p))(h||{})},424140:(p,g,m)=>{m.d(g,{E:()=>b}),m(111691);var Z=m(367866),H=m(669900),t=m(772042),h=m(733439),k=(m(132351),m(37075)),n=m(463117),S=m(774504),q=m(565294),D=m(406625);const I=class{constructor(p){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!p)throw new Error("data cannot be null.");this.data=p,this.bones=new Array;for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z;if(m.parent){const p=this.bones[m.parent.index];Z=new k.$(m,this,p),p.children.push(Z)}else Z=new k.$(m,this,null);this.bones.push(Z)}this.slots=new Array,this.drawOrder=new Array;for(let g=0;g<p.slots.length;g++){const m=p.slots[g],Z=this.bones[m.boneData.index],H=new n.D(m,Z);this.slots.push(H),this.drawOrder.push(H)}this.ikConstraints=new Array;for(let g=0;g<p.ikConstraints.length;g++){const m=p.ikConstraints[g];this.ikConstraints.push(new S.c(m,this))}this.transformConstraints=new Array;for(let g=0;g<p.transformConstraints.length;g++){const m=p.transformConstraints[g];this.transformConstraints.push(new q.U(m,this))}this.pathConstraints=new Array;for(let g=0;g<p.pathConstraints.length;g++){const m=p.pathConstraints[g];this.pathConstraints.push(new D.v(m,this))}this.color=new Z.Q1(1,1,1,1),this.updateCache()}updateCache(){this._updateCache.length=0;const p=this.bones;for(let g=0,m=p.length;g<m;g++){const m=p[g];m.sorted=m.data.skinRequired,m.active=!m.sorted}if(this.skin){const p=this.skin.bones;for(let g=0,m=this.skin.bones.length;g<m;g++){let m=this.bones[p[g].index];do{m.sorted=!1,m.active=!0,m=m.parent}while(m)}}const g=this.ikConstraints,m=this.transformConstraints,Z=this.pathConstraints,H=g.length,t=m.length,h=Z.length,k=H+t+h;p:for(let p=0;p<k;p++){for(let m=0;m<H;m++){const Z=g[m];if(Z.data.order==p){this.sortIkConstraint(Z);continue p}}for(let g=0;g<t;g++){const Z=m[g];if(Z.data.order==p){this.sortTransformConstraint(Z);continue p}}for(let g=0;g<h;g++){const m=Z[g];if(m.data.order==p){this.sortPathConstraint(m);continue p}}}for(let g=0,m=p.length;g<m;g++)this.sortBone(p[g])}sortIkConstraint(p){if(p.active=p.target.isActive()&&(!p.data.skinRequired||this.skin&&Z.Aq.contains(this.skin.constraints,p.data,!0)),!p.active)return;const g=p.target;this.sortBone(g);const m=p.bones,H=m[0];if(this.sortBone(H),1==m.length)this._updateCache.push(p),this.sortReset(H.children);else{const g=m[m.length-1];this.sortBone(g),this._updateCache.push(p),this.sortReset(H.children),g.sorted=!0}}sortPathConstraint(p){if(p.active=p.target.bone.isActive()&&(!p.data.skinRequired||this.skin&&Z.Aq.contains(this.skin.constraints,p.data,!0)),!p.active)return;const g=p.target,m=g.data.index,H=g.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,m,H),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,m,H);for(let p=0,g=this.data.skins.length;p<g;p++)this.sortPathConstraintAttachment(this.data.skins[p],m,H);const h=g.getAttachment();h instanceof t.H&&this.sortPathConstraintAttachmentWith(h,H);const k=p.bones,n=k.length;for(let p=0;p<n;p++)this.sortBone(k[p]);this._updateCache.push(p);for(let p=0;p<n;p++)this.sortReset(k[p].children);for(let p=0;p<n;p++)k[p].sorted=!0}sortTransformConstraint(p){if(p.active=p.target.isActive()&&(!p.data.skinRequired||this.skin&&Z.Aq.contains(this.skin.constraints,p.data,!0)),!p.active)return;this.sortBone(p.target);const g=p.bones,m=g.length;if(p.data.local)for(let p=0;p<m;p++){const m=g[p];this.sortBone(m.parent),this.sortBone(m)}else for(let p=0;p<m;p++)this.sortBone(g[p]);this._updateCache.push(p);for(let p=0;p<m;p++)this.sortReset(g[p].children);for(let p=0;p<m;p++)g[p].sorted=!0}sortPathConstraintAttachment(p,g,m){const Z=p.attachments[g];if(Z)for(const p in Z)this.sortPathConstraintAttachmentWith(Z[p],m)}sortPathConstraintAttachmentWith(p,g){if(!(p instanceof t.H))return;const m=p.bones;if(m){const p=this.bones;for(let g=0,Z=m.length;g<Z;){let Z=m[g++];for(Z+=g;g<Z;)this.sortBone(p[m[g++]])}}else this.sortBone(g)}sortBone(p){if(!p)return;if(p.sorted)return;const g=p.parent;g&&this.sortBone(g),p.sorted=!0,this._updateCache.push(p)}sortReset(p){for(let g=0,m=p.length;g<m;g++){const m=p[g];m.active&&(m.sorted&&this.sortReset(m.children),m.sorted=!1)}}updateWorldTransform(){const p=this.bones;for(let g=0,m=p.length;g<m;g++){const m=p[g];m.ax=m.x,m.ay=m.y,m.arotation=m.rotation,m.ascaleX=m.scaleX,m.ascaleY=m.scaleY,m.ashearX=m.shearX,m.ashearY=m.shearY}const g=this._updateCache;for(let p=0,m=g.length;p<m;p++)g[p].update()}updateWorldTransformWith(p){const g=this.getRootBone(),m=p.matrix.a,H=p.matrix.c,t=p.matrix.b,h=p.matrix.d;g.matrix.tx=m*this.x+H*this.y+p.worldX,g.matrix.ty=t*this.x+h*this.y+p.worldY;const k=g.rotation+90+g.shearY,n=Z.cj.cosDeg(g.rotation+g.shearX)*g.scaleX,S=Z.cj.cosDeg(k)*g.scaleY,q=Z.cj.sinDeg(g.rotation+g.shearX)*g.scaleX,D=Z.cj.sinDeg(k)*g.scaleY,I=this.scaleX,b=Z.W0.yDown?-this.scaleY:this.scaleY;g.matrix.a=(m*n+H*q)*I,g.matrix.c=(m*S+H*D)*I,g.matrix.b=(t*n+h*q)*b,g.matrix.d=(t*S+h*D)*b;const e=this._updateCache;for(let p=0,m=e.length;p<m;p++){const m=e[p];m!=g&&m.update()}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){const p=this.bones;for(let g=0,m=p.length;g<m;g++)p[g].setToSetupPose();const g=this.ikConstraints;for(let p=0,m=g.length;p<m;p++){const m=g[p];m.mix=m.data.mix,m.softness=m.data.softness,m.bendDirection=m.data.bendDirection,m.compress=m.data.compress,m.stretch=m.data.stretch}const m=this.transformConstraints;for(let p=0,g=m.length;p<g;p++){const g=m[p],Z=g.data;g.mixRotate=Z.mixRotate,g.mixX=Z.mixX,g.mixY=Z.mixY,g.mixScaleX=Z.mixScaleX,g.mixScaleY=Z.mixScaleY,g.mixShearY=Z.mixShearY}const Z=this.pathConstraints;for(let p=0,g=Z.length;p<g;p++){const g=Z[p],m=g.data;g.position=m.position,g.spacing=m.spacing,g.mixRotate=m.mixRotate,g.mixX=m.mixX,g.mixY=m.mixY}}setSlotsToSetupPose(){const p=this.slots;Z.Aq.arrayCopy(p,0,this.drawOrder,0,p.length);for(let g=0,m=p.length;g<m;g++)p[g].setToSetupPose()}getRootBone(){return 0==this.bones.length?null:this.bones[0]}findBone(p){if(!p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findBoneIndex(p){if(!p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++)if(g[m].data.name==p)return m;return-1}findSlot(p){if(!p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findSlotIndex(p){if(!p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++)if(g[m].data.name==p)return m;return-1}setSkinByName(p){const g=this.data.findSkin(p);if(!g)throw new Error(`Skin not found: ${p}`);this.setSkin(g)}setSkin(p){if(p!=this.skin){if(p)if(this.skin)p.attachAll(this,this.skin);else{const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m],H=Z.data.attachmentName;if(H){const g=p.getAttachment(m,H);g&&Z.setAttachment(g)}}}this.skin=p,this.updateCache()}}getAttachmentByName(p,g){const m=this.data.findSlot(p);if(!m)throw new Error(`Can't find slot with name ${p}`);return this.getAttachment(m.index,g)}getAttachment(p,g){if(!g)throw new Error("attachmentName cannot be null.");if(this.skin){const m=this.skin.getAttachment(p,g);if(m)return m}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(p,g):null}setAttachment(p,g){if(!p)throw new Error("slotName cannot be null.");const m=this.slots;for(let Z=0,H=m.length;Z<H;Z++){const H=m[Z];if(H.data.name==p){let m=null;if(g&&(m=this.getAttachment(Z,g),!m))throw new Error(`Attachment not found: ${g}, for slot: ${p}`);return void H.setAttachment(m)}}throw new Error(`Slot not found: ${p}`)}findIkConstraint(p){if(!p)throw new Error("constraintName cannot be null.");const g=this.ikConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findTransformConstraint(p){if(!p)throw new Error("constraintName cannot be null.");const g=this.transformConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}findPathConstraint(p){if(!p)throw new Error("constraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.data.name==p)return Z}return null}getBoundsRect(){const p=new Z.I9,g=new Z.I9;return this.getBounds(p,g),{x:p.x,y:p.y,width:g.x,height:g.y}}getBounds(p,g,m=new Array(2)){if(!p)throw new Error("offset cannot be null.");if(!g)throw new Error("size cannot be null.");const t=this.drawOrder;let k=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY,q=Number.NEGATIVE_INFINITY;for(let p=0,g=t.length;p<g;p++){const g=t[p];if(!g.bone.active)continue;let D=0,I=null;const b=g.getAttachment();if(b instanceof h.Q)D=8,I=Z.Aq.setArraySize(m,D,0),b.computeWorldVertices(g,I,0,2);else if(b instanceof H.f){const p=b;D=p.worldVerticesLength,I=Z.Aq.setArraySize(m,D,0),p.computeWorldVertices(g,0,D,I,0,2)}if(I)for(let p=0,g=I.length;p<g;p+=2){const g=I[p],m=I[p+1];k=Math.min(k,g),n=Math.min(n,m),S=Math.max(S,g),q=Math.max(q,m)}}p.set(k,n),g.set(S-k,q-n)}get flipX(){return-1==this.scaleX}set flipX(p){I.deprecatedWarning1||(I.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=p?1:-1}get flipY(){return-1==this.scaleY}set flipY(p){I.deprecatedWarning1||(I.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=p?1:-1}};let b=I;b.deprecatedWarning1=!1},307531:(p,g,m)=>{m.d(g,{t:()=>d});var Z=m(264721),H=m(637283),t=m(501068),h=m(130301),k=m(403387),n=m(434232),S=m(186550),q=m(254049),D=m(277758),I=m(552043),b=m(367866),e=m(316197),N=(m(111691),m(733439),m(132351));class d{constructor(p){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=p}readSkeletonData(p){const g=this.scale,m=new t.Y;m.name="";const Z=new b.aG(p),H=Z.readInt32(),D=Z.readInt32();m.hash=0==D&&0==H?null:D.toString(16)+H.toString(16),m.version=Z.readString();const e=m.version.substr(0,3);if("4.0"!==e&&"4.1"!==e){const p=`Spine 4.1 loader cant load version ${m.version}. Please configure your pixi-spine bundle`;console.error(p)}this.ver40="4.0"===e,m.x=Z.readFloat(),m.y=Z.readFloat(),m.width=Z.readFloat(),m.height=Z.readFloat();const N=Z.readBoolean();N&&(m.fps=Z.readFloat(),m.imagesPath=Z.readString(),m.audioPath=Z.readString());let d=0;d=Z.readInt(!0);for(let p=0;p<d;p++){const p=Z.readString();if(!p)throw new Error("String in string table must not be null.");Z.strings.push(p)}d=Z.readInt(!0);for(let p=0;p<d;p++){const H=Z.readString();if(!H)throw new Error("Bone name must not be null.");const t=0==p?null:m.bones[Z.readInt(!0)],h=new k.h(p,H,t);h.rotation=Z.readFloat(),h.x=Z.readFloat()*g,h.y=Z.readFloat()*g,h.scaleX=Z.readFloat(),h.scaleY=Z.readFloat(),h.shearX=Z.readFloat(),h.shearY=Z.readFloat(),h.length=Z.readFloat()*g,h.transformMode=Z.readInt(!0),h.skinRequired=Z.readBoolean(),N&&b.Q1.rgba8888ToColor(h.color,Z.readInt32()),m.bones.push(h)}d=Z.readInt(!0);for(let p=0;p<d;p++){const g=Z.readString();if(!g)throw new Error("Slot name must not be null.");const H=m.bones[Z.readInt(!0)],t=new h.P(p,g,H);b.Q1.rgba8888ToColor(t.color,Z.readInt32());const k=Z.readInt32();-1!=k&&b.Q1.rgb888ToColor(t.darkColor=new b.Q1,k),t.attachmentName=Z.readStringRef(),t.blendMode=Z.readInt(!0),m.slots.push(t)}d=Z.readInt(!0);for(let p,H=0;H<d;H++){const H=Z.readString();if(!H)throw new Error("IK constraint data name must not be null.");const t=new n.Q(H);t.order=Z.readInt(!0),t.skinRequired=Z.readBoolean(),p=Z.readInt(!0);for(let g=0;g<p;g++)t.bones.push(m.bones[Z.readInt(!0)]);t.target=m.bones[Z.readInt(!0)],t.mix=Z.readFloat(),t.softness=Z.readFloat()*g,t.bendDirection=Z.readByte(),t.compress=Z.readBoolean(),t.stretch=Z.readBoolean(),t.uniform=Z.readBoolean(),m.ikConstraints.push(t)}d=Z.readInt(!0);for(let p,H=0;H<d;H++){const H=Z.readString();if(!H)throw new Error("Transform constraint data name must not be null.");const t=new S._(H);t.order=Z.readInt(!0),t.skinRequired=Z.readBoolean(),p=Z.readInt(!0);for(let g=0;g<p;g++)t.bones.push(m.bones[Z.readInt(!0)]);t.target=m.bones[Z.readInt(!0)],t.local=Z.readBoolean(),t.relative=Z.readBoolean(),t.offsetRotation=Z.readFloat(),t.offsetX=Z.readFloat()*g,t.offsetY=Z.readFloat()*g,t.offsetScaleX=Z.readFloat(),t.offsetScaleY=Z.readFloat(),t.offsetShearY=Z.readFloat(),t.mixRotate=Z.readFloat(),t.mixX=Z.readFloat(),t.mixY=Z.readFloat(),t.mixScaleX=Z.readFloat(),t.mixScaleY=Z.readFloat(),t.mixShearY=Z.readFloat(),m.transformConstraints.push(t)}d=Z.readInt(!0);for(let p,H=0;H<d;H++){const H=Z.readString();if(!H)throw new Error("Path constraint data name must not be null.");const t=new q.r(H);t.order=Z.readInt(!0),t.skinRequired=Z.readBoolean(),p=Z.readInt(!0);for(let g=0;g<p;g++)t.bones.push(m.bones[Z.readInt(!0)]);t.target=m.slots[Z.readInt(!0)],t.positionMode=Z.readInt(!0),t.spacingMode=Z.readInt(!0),t.rotateMode=Z.readInt(!0),t.offsetRotation=Z.readFloat(),t.position=Z.readFloat(),t.positionMode==b.pw.Fixed&&(t.position*=g),t.spacing=Z.readFloat(),t.spacingMode!=q.K.Length&&t.spacingMode!=q.K.Fixed||(t.spacing*=g),t.mixRotate=Z.readFloat(),t.mixX=Z.readFloat(),t.mixY=Z.readFloat(),m.pathConstraints.push(t)}const Q=this.readSkin(Z,m,!0,N);Q&&(m.defaultSkin=Q,m.skins.push(Q));{let p=m.skins.length;for(b.Aq.setArraySize(m.skins,d=p+Z.readInt(!0));p<d;p++){const g=this.readSkin(Z,m,!1,N);if(!g)throw new Error("readSkin() should not have returned null.");m.skins[p]=g}}d=this.linkedMeshes.length;for(let p=0;p<d;p++){const g=this.linkedMeshes[p],Z=g.skin?m.findSkin(g.skin):m.defaultSkin;if(!Z)throw new Error("Not skin found for linked mesh.");if(!g.parent)throw new Error("Linked mesh parent must not be null");const H=Z.getAttachment(g.slotIndex,g.parent);if(!H)throw new Error(`Parent mesh not found: ${g.parent}`);g.mesh.timelineAttachment=g.inheritTimeline?H:g.mesh,g.mesh.setParentMesh(H)}this.linkedMeshes.length=0,d=Z.readInt(!0);for(let p=0;p<d;p++){const p=Z.readStringRef();if(!p)throw new Error;const g=new I.R(p);g.intValue=Z.readInt(!1),g.floatValue=Z.readFloat(),g.stringValue=Z.readString(),g.audioPath=Z.readString(),g.audioPath&&(g.volume=Z.readFloat(),g.balance=Z.readFloat()),m.events.push(g)}d=Z.readInt(!0);for(let p=0;p<d;p++){const p=Z.readString();if(!p)throw new Error("Animatio name must not be null.");m.animations.push(this.readAnimation(Z,p,m))}return m}readSkin(p,g,m,Z){let H=null,t=0;if(m){if(t=p.readInt(!0),0==t)return null;H=new D.M("default")}else{const m=p.readStringRef();if(!m)throw new Error("Skin name must not be null.");H=new D.M(m),H.bones.length=p.readInt(!0);for(let m=0,Z=H.bones.length;m<Z;m++)H.bones[m]=g.bones[p.readInt(!0)];for(let m=0,Z=p.readInt(!0);m<Z;m++)H.constraints.push(g.ikConstraints[p.readInt(!0)]);for(let m=0,Z=p.readInt(!0);m<Z;m++)H.constraints.push(g.transformConstraints[p.readInt(!0)]);for(let m=0,Z=p.readInt(!0);m<Z;m++)H.constraints.push(g.pathConstraints[p.readInt(!0)]);t=p.readInt(!0)}for(let m=0;m<t;m++){const m=p.readInt(!0);for(let t=0,h=p.readInt(!0);t<h;t++){const t=p.readStringRef();if(!t)throw new Error("Attachment name must not be null");const h=this.readAttachment(p,g,H,m,t,Z);h&&H.setAttachment(m,t,h)}}return H}readAttachment(p,g,m,Z,H,t){const h=this.scale;let k=p.readStringRef();switch(k||(k=H),p.readByte()){case b.wh.Region:{let g=p.readStringRef();const Z=p.readFloat(),H=p.readFloat(),t=p.readFloat(),n=p.readFloat(),S=p.readFloat(),q=p.readFloat(),D=p.readFloat(),I=p.readInt32(),e=this.readSequence(p);g||(g=k);const N=this.attachmentLoader.newRegionAttachment(m,k,g,e);return N?(N.path=g,N.x=H*h,N.y=t*h,N.scaleX=n,N.scaleY=S,N.rotation=Z,N.width=q*h,N.height=D*h,b.Q1.rgba8888ToColor(N.color,I),N.sequence=e,null==e&&N.updateRegion(),N):null}case b.wh.BoundingBox:{const g=p.readInt(!0),Z=this.readVertices(p,g),H=t?p.readInt32():0,h=this.attachmentLoader.newBoundingBoxAttachment(m,k);return h?(h.worldVerticesLength=g<<1,h.vertices=Z.vertices,h.bones=Z.bones,t&&b.Q1.rgba8888ToColor(h.color,H),h):null}case b.wh.Mesh:{let g=p.readStringRef();const Z=p.readInt32(),H=p.readInt(!0),n=this.readFloatArray(p,H<<1,1),S=this.readShortArray(p),q=this.readVertices(p,H),D=p.readInt(!0),I=this.readSequence(p);let e=[],N=0,d=0;t&&(e=this.readShortArray(p),N=p.readFloat(),d=p.readFloat()),g||(g=k);const Q=this.attachmentLoader.newMeshAttachment(m,k,g,I);return Q?(Q.path=g,b.Q1.rgba8888ToColor(Q.color,Z),Q.bones=q.bones,Q.vertices=q.vertices,Q.worldVerticesLength=H<<1,Q.triangles=S,Q.regionUVs=new Float32Array(n),Q.hullLength=D<<1,Q.sequence=I,t&&(Q.edges=e,Q.width=N*h,Q.height=d*h),Q):null}case b.wh.LinkedMesh:{let g=p.readStringRef();const H=p.readInt32(),n=p.readStringRef(),S=p.readStringRef(),q=p.readBoolean(),D=this.readSequence(p);let I=0,e=0;t&&(I=p.readFloat(),e=p.readFloat()),g||(g=k);const N=this.attachmentLoader.newMeshAttachment(m,k,g,D);return N?(N.path=g,b.Q1.rgba8888ToColor(N.color,H),N.sequence=D,t&&(N.width=I*h,N.height=e*h),this.linkedMeshes.push(new Q(N,n,Z,S,q)),N):null}case b.wh.Path:{const g=p.readBoolean(),Z=p.readBoolean(),H=p.readInt(!0),n=this.readVertices(p,H),S=b.Aq.newArray(H/3,0);for(let g=0,m=S.length;g<m;g++)S[g]=p.readFloat()*h;const q=t?p.readInt32():0,D=this.attachmentLoader.newPathAttachment(m,k);return D?(D.closed=g,D.constantSpeed=Z,D.worldVerticesLength=H<<1,D.vertices=n.vertices,D.bones=n.bones,D.lengths=S,t&&b.Q1.rgba8888ToColor(D.color,q),D):null}case b.wh.Point:{const g=p.readFloat(),Z=p.readFloat(),H=p.readFloat(),n=t?p.readInt32():0,S=this.attachmentLoader.newPointAttachment(m,k);return S?(S.x=Z*h,S.y=H*h,S.rotation=g,t&&b.Q1.rgba8888ToColor(S.color,n),S):null}case b.wh.Clipping:{const Z=p.readInt(!0),H=p.readInt(!0),h=this.readVertices(p,H),n=t?p.readInt32():0,S=this.attachmentLoader.newClippingAttachment(m,k);return S?(S.endSlot=g.slots[Z],S.worldVerticesLength=H<<1,S.vertices=h.vertices,S.bones=h.bones,t&&b.Q1.rgba8888ToColor(S.color,n),S):null}}return null}readSequence(p){if(this.ver40||!p.readBoolean())return null;const g=new N.gd(p.readInt(!0));return g.start=p.readInt(!0),g.digits=p.readInt(!0),g.setupIndex=p.readInt(!0),g}readDeformTimelineType(p){return this.ver40?C:p.readByte()}readVertices(p,g){const m=this.scale,Z=g<<1,H=new $;if(!p.readBoolean())return H.vertices=this.readFloatArray(p,Z,m),H;const t=new Array,h=new Array;for(let Z=0;Z<g;Z++){const g=p.readInt(!0);h.push(g);for(let Z=0;Z<g;Z++)h.push(p.readInt(!0)),t.push(p.readFloat()*m),t.push(p.readFloat()*m),t.push(p.readFloat())}return H.vertices=b.Aq.toFloatArray(t),H.bones=h,H}readFloatArray(p,g,m){const Z=new Array(g);if(1==m)for(let m=0;m<g;m++)Z[m]=p.readFloat();else for(let H=0;H<g;H++)Z[H]=p.readFloat()*m;return Z}readShortArray(p){const g=p.readInt(!0),m=new Array(g);for(let Z=0;Z<g;Z++)m[Z]=p.readShort();return m}readAnimation(p,g,m){p.readInt(!0);const t=new Array,h=this.scale;for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0);for(let m=0,H=p.readInt(!0);m<H;m++){const m=p.readByte(),H=p.readInt(!0),h=H-1;switch(m){case F:{const m=new Z.zK(H,g);for(let g=0;g<H;g++)m.setFrame(g,p.readFloat(),p.readStringRef());t.push(m);break}case X:{const m=p.readInt(!0),k=new Z.EP(H,m,g);let n=p.readFloat(),S=p.readUnsignedByte()/255,q=p.readUnsignedByte()/255,D=p.readUnsignedByte()/255,I=p.readUnsignedByte()/255;for(let g=0,m=0;k.setFrame(g,n,S,q,D,I),g!=h;g++){const Z=p.readFloat(),H=p.readUnsignedByte()/255,t=p.readUnsignedByte()/255,h=p.readUnsignedByte()/255,b=p.readUnsignedByte()/255;switch(p.readByte()){case f:k.setStepped(g);break;case _:i(p,k,m++,g,0,n,Z,S,H,1),i(p,k,m++,g,1,n,Z,q,t,1),i(p,k,m++,g,2,n,Z,D,h,1),i(p,k,m++,g,3,n,Z,I,b,1)}n=Z,S=H,q=t,D=h,I=b}t.push(k);break}case K:{const m=p.readInt(!0),k=new Z.Di(H,m,g);let n=p.readFloat(),S=p.readUnsignedByte()/255,q=p.readUnsignedByte()/255,D=p.readUnsignedByte()/255;for(let g=0,m=0;k.setFrame(g,n,S,q,D),g!=h;g++){const Z=p.readFloat(),H=p.readUnsignedByte()/255,t=p.readUnsignedByte()/255,h=p.readUnsignedByte()/255;switch(p.readByte()){case f:k.setStepped(g);break;case _:i(p,k,m++,g,0,n,Z,S,H,1),i(p,k,m++,g,1,n,Z,q,t,1),i(p,k,m++,g,2,n,Z,D,h,1)}n=Z,S=H,q=t,D=h}t.push(k);break}case j:{const m=p.readInt(!0),k=new Z.Ev(H,m,g);let n=p.readFloat(),S=p.readUnsignedByte()/255,q=p.readUnsignedByte()/255,D=p.readUnsignedByte()/255,I=p.readUnsignedByte()/255,b=p.readUnsignedByte()/255,e=p.readUnsignedByte()/255,N=p.readUnsignedByte()/255;for(let g=0,m=0;k.setFrame(g,n,S,q,D,I,b,e,N),g!=h;g++){const Z=p.readFloat(),H=p.readUnsignedByte()/255,t=p.readUnsignedByte()/255,h=p.readUnsignedByte()/255,d=p.readUnsignedByte()/255,Q=p.readUnsignedByte()/255,$=p.readUnsignedByte()/255,w=p.readUnsignedByte()/255;switch(p.readByte()){case f:k.setStepped(g);break;case _:i(p,k,m++,g,0,n,Z,S,H,1),i(p,k,m++,g,1,n,Z,q,t,1),i(p,k,m++,g,2,n,Z,D,h,1),i(p,k,m++,g,3,n,Z,I,d,1),i(p,k,m++,g,4,n,Z,b,Q,1),i(p,k,m++,g,5,n,Z,e,$,1),i(p,k,m++,g,6,n,Z,N,w,1)}n=Z,S=H,q=t,D=h,I=d,b=Q,e=$,N=w}t.push(k);break}case r:{const m=p.readInt(!0),k=new Z.fT(H,m,g);let n=p.readFloat(),S=p.readUnsignedByte()/255,q=p.readUnsignedByte()/255,D=p.readUnsignedByte()/255,I=p.readUnsignedByte()/255,b=p.readUnsignedByte()/255,e=p.readUnsignedByte()/255;for(let g=0,m=0;k.setFrame(g,n,S,q,D,I,b,e),g!=h;g++){const Z=p.readFloat(),H=p.readUnsignedByte()/255,t=p.readUnsignedByte()/255,h=p.readUnsignedByte()/255,N=p.readUnsignedByte()/255,d=p.readUnsignedByte()/255,Q=p.readUnsignedByte()/255;switch(p.readByte()){case f:k.setStepped(g);break;case _:i(p,k,m++,g,0,n,Z,S,H,1),i(p,k,m++,g,1,n,Z,q,t,1),i(p,k,m++,g,2,n,Z,D,h,1),i(p,k,m++,g,3,n,Z,I,N,1),i(p,k,m++,g,4,n,Z,b,d,1),i(p,k,m++,g,5,n,Z,e,Q,1)}n=Z,S=H,q=t,D=h,I=N,b=d,e=Q}t.push(k);break}case U:{const m=new Z._Y(H,p.readInt(!0),g);let k=p.readFloat(),n=p.readUnsignedByte()/255;for(let g=0,Z=0;m.setFrame(g,k,n),g!=h;g++){const H=p.readFloat(),t=p.readUnsignedByte()/255;switch(p.readByte()){case f:m.setStepped(g);break;case _:i(p,m,Z++,g,0,k,H,n,t,1)}k=H,n=t}t.push(m)}}}}for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0);for(let m=0,H=p.readInt(!0);m<H;m++){const m=p.readByte(),H=p.readInt(!0),k=p.readInt(!0);switch(m){case P:t.push(w(p,new Z.NQ(H,k,g),1));break;case J:t.push(Y(p,new Z.Sr(H,k,g),h));break;case y:t.push(w(p,new Z.GU(H,k,g),h));break;case W:t.push(w(p,new Z.nS(H,k,g),h));break;case v:t.push(Y(p,new Z.i9(H,k,g),1));break;case V:t.push(w(p,new Z.So(H,k,g),1));break;case z:t.push(w(p,new Z.pR(H,k,g),1));break;case B:t.push(Y(p,new Z.$l(H,k,g),1));break;case u:t.push(w(p,new Z.jx(H,k,g),1));break;case a:t.push(w(p,new Z.eP(H,k,g),1))}}}for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0),m=p.readInt(!0),H=m-1,k=new Z.pA(m,p.readInt(!0),g);let n=p.readFloat(),S=p.readFloat(),q=p.readFloat()*h;for(let g=0,m=0;k.setFrame(g,n,S,q,p.readByte(),p.readBoolean(),p.readBoolean()),g!=H;g++){const Z=p.readFloat(),H=p.readFloat(),t=p.readFloat()*h;switch(p.readByte()){case f:k.setStepped(g);break;case _:i(p,k,m++,g,0,n,Z,S,H,1),i(p,k,m++,g,1,n,Z,q,t,h)}n=Z,S=H,q=t}t.push(k)}for(let g=0,m=p.readInt(!0);g<m;g++){const g=p.readInt(!0),m=p.readInt(!0),H=m-1,h=new Z.To(m,p.readInt(!0),g);let k=p.readFloat(),n=p.readFloat(),S=p.readFloat(),q=p.readFloat(),D=p.readFloat(),I=p.readFloat(),b=p.readFloat();for(let g=0,m=0;h.setFrame(g,k,n,S,q,D,I,b),g!=H;g++){const Z=p.readFloat(),H=p.readFloat(),t=p.readFloat(),e=p.readFloat(),N=p.readFloat(),d=p.readFloat(),Q=p.readFloat();switch(p.readByte()){case f:h.setStepped(g);break;case _:i(p,h,m++,g,0,k,Z,n,H,1),i(p,h,m++,g,1,k,Z,S,t,1),i(p,h,m++,g,2,k,Z,q,e,1),i(p,h,m++,g,3,k,Z,D,N,1),i(p,h,m++,g,4,k,Z,I,d,1),i(p,h,m++,g,5,k,Z,b,Q,1)}k=Z,n=H,S=t,q=e,D=N,I=d,b=Q}t.push(h)}for(let g=0,H=p.readInt(!0);g<H;g++){const g=p.readInt(!0),H=m.pathConstraints[g];for(let m=0,k=p.readInt(!0);m<k;m++)switch(p.readByte()){case R:t.push(w(p,new Z.vz(p.readInt(!0),p.readInt(!0),g),H.positionMode==b.pw.Fixed?h:1));break;case c:t.push(w(p,new Z.vl(p.readInt(!0),p.readInt(!0),g),H.spacingMode==q.K.Length||H.spacingMode==q.K.Fixed?h:1));break;case O:const m=new Z.I6(p.readInt(!0),p.readInt(!0),g);let k=p.readFloat(),n=p.readFloat(),S=p.readFloat(),D=p.readFloat();for(let g=0,Z=0,H=m.getFrameCount()-1;m.setFrame(g,k,n,S,D),g!=H;g++){const H=p.readFloat(),t=p.readFloat(),h=p.readFloat(),q=p.readFloat();switch(p.readByte()){case f:m.setStepped(g);break;case _:i(p,m,Z++,g,0,k,H,n,t,1),i(p,m,Z++,g,1,k,H,S,h,1),i(p,m,Z++,g,2,k,H,D,q,1)}k=H,n=t,S=h,D=q}t.push(m)}}for(let g=0,H=p.readInt(!0);g<H;g++){const g=m.skins[p.readInt(!0)];for(let m=0,H=p.readInt(!0);m<H;m++){const m=p.readInt(!0);for(let H=0,k=p.readInt(!0);H<k;H++){const H=p.readStringRef();if(!H)throw new Error("attachmentName must not be null.");const k=g.getAttachment(m,H),n=this.readDeformTimelineType(p),S=p.readInt(!0),q=S-1;switch(n){case C:{const g=k,H=g.bones,n=g.vertices,D=H?n.length/3*2:n.length,I=p.readInt(!0),e=new Z.jQ(S,I,m,g);let N=p.readFloat();for(let g=0,m=0;;g++){let Z,t=p.readInt(!0);if(0==t)Z=H?b.Aq.newFloatArray(D):n;else{Z=b.Aq.newFloatArray(D);const g=p.readInt(!0);if(t+=g,1==h)for(let m=g;m<t;m++)Z[m]=p.readFloat();else for(let m=g;m<t;m++)Z[m]=p.readFloat()*h;if(!H)for(let p=0,g=Z.length;p<g;p++)Z[p]+=n[p]}if(e.setFrame(g,N,Z),g==q)break;const k=p.readFloat();switch(p.readByte()){case f:e.setStepped(g);break;case _:i(p,e,m++,g,0,N,k,0,1,1)}N=k}t.push(e);break}case x:{const g=new Z.lP(S,m,k);for(let m=0;m<S;m++){const Z=p.readFloat(),H=p.readInt32();g.setFrame(m,Z,N.l8[15&H],H>>4,p.readFloat())}t.push(g);break}}}}}const k=p.readInt(!0);if(k>0){const g=new Z.Kn(k),H=m.slots.length;for(let m=0;m<k;m++){const Z=p.readFloat(),t=p.readInt(!0),h=b.Aq.newArray(H,0);for(let p=H-1;p>=0;p--)h[p]=-1;const k=b.Aq.newArray(H-t,0);let n=0,S=0;for(let g=0;g<t;g++){const g=p.readInt(!0);for(;n!=g;)k[S++]=n++;h[n+p.readInt(!0)]=n++}for(;n<H;)k[S++]=n++;for(let p=H-1;p>=0;p--)-1==h[p]&&(h[p]=k[--S]);g.setFrame(m,Z,h)}t.push(g)}const n=p.readInt(!0);if(n>0){const g=new Z.qs(n);for(let Z=0;Z<n;Z++){const t=p.readFloat(),h=m.events[p.readInt(!0)],k=new H.J(t,h);k.intValue=p.readInt(!1),k.floatValue=p.readFloat(),k.stringValue=p.readBoolean()?p.readString():h.stringValue,k.data.audioPath&&(k.volume=p.readFloat(),k.balance=p.readFloat()),g.setFrame(Z,k)}t.push(g)}let S=0;for(let p=0,g=t.length;p<g;p++)S=Math.max(S,t[p].getDuration());return new Z.X5(g,t,S)}}d.BlendModeValues=[e.B9.NORMAL,e.B9.ADD,e.B9.MULTIPLY,e.B9.SCREEN];class Q{constructor(p,g,m,Z,H){this.mesh=p,this.skin=g,this.slotIndex=m,this.parent=Z,this.inheritTimeline=H}}class ${constructor(p=null,g=null){this.bones=p,this.vertices=g}}function w(p,g,m){let Z=p.readFloat(),H=p.readFloat()*m;for(let t=0,h=0,k=g.getFrameCount()-1;g.setFrame(t,Z,H),t!=k;t++){const k=p.readFloat(),n=p.readFloat()*m;switch(p.readByte()){case f:g.setStepped(t);break;case _:i(p,g,h++,t,0,Z,k,H,n,m)}Z=k,H=n}return g}function Y(p,g,m){let Z=p.readFloat(),H=p.readFloat()*m,t=p.readFloat()*m;for(let h=0,k=0,n=g.getFrameCount()-1;g.setFrame(h,Z,H,t),h!=n;h++){const n=p.readFloat(),S=p.readFloat()*m,q=p.readFloat()*m;switch(p.readByte()){case f:g.setStepped(h);break;case _:i(p,g,k++,h,0,Z,n,H,S,m),i(p,g,k++,h,1,Z,n,t,q,m)}Z=n,H=S,t=q}return g}function i(p,g,m,Z,H,t,h,k,n,S){g.setBezier(m,Z,H,t,k,p.readFloat(),p.readFloat()*S,p.readFloat(),p.readFloat()*S,h,n)}const P=0,J=1,y=2,W=3,v=4,V=5,z=6,B=7,u=8,a=9,F=0,X=1,K=2,j=3,r=4,U=5,C=0,x=1,R=0,c=1,O=2,f=1,_=2},949363:(p,g,m)=>{m.d(g,{V:()=>H});var Z=m(367866);class H extends Z.S3{}},501068:(p,g,m)=>{m.d(g,{Y:()=>Z});class Z{constructor(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}findBone(p){if(!p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findBoneIndex(p){if(!p)throw new Error("boneName cannot be null.");const g=this.bones;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}findSlot(p){if(!p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findSlotIndex(p){if(!p)throw new Error("slotName cannot be null.");const g=this.slots;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}findSkin(p){if(!p)throw new Error("skinName cannot be null.");const g=this.skins;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findEvent(p){if(!p)throw new Error("eventDataName cannot be null.");const g=this.events;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findAnimation(p){if(!p)throw new Error("animationName cannot be null.");const g=this.animations;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findIkConstraint(p){if(!p)throw new Error("constraintName cannot be null.");const g=this.ikConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findTransformConstraint(p){if(!p)throw new Error("constraintName cannot be null.");const g=this.transformConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findPathConstraint(p){if(!p)throw new Error("constraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++){const Z=g[m];if(Z.name==p)return Z}return null}findPathConstraintIndex(p){if(null==p)throw new Error("pathConstraintName cannot be null.");const g=this.pathConstraints;for(let m=0,Z=g.length;m<Z;m++)if(g[m].name==p)return m;return-1}}},984126:(p,g,m)=>{m.d(g,{m:()=>d});var Z=m(264721),H=m(637283),t=m(501068),h=m(130301),k=m(403387),n=m(434232),S=m(186550),q=m(254049),D=m(277758),I=m(552043),b=m(367866),e=m(316197),N=m(132351);class d{constructor(p){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=p}readSkeletonData(p){const g=this.scale,m=new t.Y,Z="string"==typeof p?JSON.parse(p):p,H=Z.skeleton;if(H){m.hash=H.hash,m.version=H.spine;const p=m.version.substr(0,3);if("4.0"!==p&&"4.1"!==p){const p=`Spine 4.1 loader cant load version ${H.spine}. Please configure your pixi-spine bundle`;console.error(p)}m.x=H.x,m.y=H.y,m.width=H.width,m.height=H.height,m.fps=H.fps,m.imagesPath=H.images}if(Z.bones)for(let p=0;p<Z.bones.length;p++){const H=Z.bones[p];let t=null;const h=i(H,"parent",null);if(null!=h&&(t=m.findBone(h),null==t))throw new Error(`Parent bone not found: ${h}`);const n=new k.h(m.bones.length,H.name,t);n.length=i(H,"length",0)*g,n.x=i(H,"x",0)*g,n.y=i(H,"y",0)*g,n.rotation=i(H,"rotation",0),n.scaleX=i(H,"scaleX",1),n.scaleY=i(H,"scaleY",1),n.shearX=i(H,"shearX",0),n.shearY=i(H,"shearY",0),n.transformMode=b.Aq.enumValue(b._C,i(H,"transform","Normal")),n.skinRequired=i(H,"skin",!1);const S=i(H,"color",null);S&&n.color.setFromString(S),m.bones.push(n)}if(Z.slots)for(let p=0;p<Z.slots.length;p++){const g=Z.slots[p],H=m.findBone(g.bone);if(!H)throw new Error(`Couldn't find bone ${g.bone} for slot ${g.name}`);const t=new h.P(m.slots.length,g.name,H),k=i(g,"color",null);k&&t.color.setFromString(k);const n=i(g,"dark",null);n&&(t.darkColor=b.Q1.fromString(n)),t.attachmentName=i(g,"attachment",null),t.blendMode=d.blendModeFromString(i(g,"blend","normal")),m.slots.push(t)}if(Z.ik)for(let p=0;p<Z.ik.length;p++){const H=Z.ik[p],t=new n.Q(H.name);t.order=i(H,"order",0),t.skinRequired=i(H,"skin",!1);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(null==Z)throw new Error(`IK bone not found: ${g}`);t.bones.push(Z)}t.target=m.findBone(H.target),t.mix=i(H,"mix",1),t.softness=i(H,"softness",0)*g,t.bendDirection=i(H,"bendPositive",!0)?1:-1,t.compress=i(H,"compress",!1),t.stretch=i(H,"stretch",!1),t.uniform=i(H,"uniform",!1),m.ikConstraints.push(t)}if(Z.transform)for(let p=0;p<Z.transform.length;p++){const H=Z.transform[p],t=new S._(H.name);t.order=i(H,"order",0),t.skinRequired=i(H,"skin",!1);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(!Z)throw new Error(`Couldn't find bone ${g} for transform constraint ${H.name}.`);t.bones.push(Z)}const h=H.target,k=m.findBone(h);if(!k)throw new Error(`Couldn't find target bone ${h} for transform constraint ${H.name}.`);t.target=k,t.local=i(H,"local",!1),t.relative=i(H,"relative",!1),t.offsetRotation=i(H,"rotation",0),t.offsetX=i(H,"x",0)*g,t.offsetY=i(H,"y",0)*g,t.offsetScaleX=i(H,"scaleX",0),t.offsetScaleY=i(H,"scaleY",0),t.offsetShearY=i(H,"shearY",0),t.mixRotate=i(H,"mixRotate",1),t.mixX=i(H,"mixX",1),t.mixY=i(H,"mixY",t.mixX),t.mixScaleX=i(H,"mixScaleX",1),t.mixScaleY=i(H,"mixScaleY",t.mixScaleX),t.mixShearY=i(H,"mixShearY",1),m.transformConstraints.push(t)}if(Z.path)for(let p=0;p<Z.path.length;p++){const H=Z.path[p],t=new q.r(H.name);t.order=i(H,"order",0),t.skinRequired=i(H,"skin",!1);for(let p=0;p<H.bones.length;p++){const g=H.bones[p],Z=m.findBone(g);if(!Z)throw new Error(`Couldn't find bone ${g} for path constraint ${H.name}.`);t.bones.push(Z)}const h=H.target,k=m.findSlot(h);if(!k)throw new Error(`Couldn't find target slot ${h} for path constraint ${H.name}.`);t.target=k,t.positionMode=b.Aq.enumValue(b.pw,i(H,"positionMode","Percent")),t.spacingMode=b.Aq.enumValue(q.K,i(H,"spacingMode","Length")),t.rotateMode=b.Aq.enumValue(b.Dr,i(H,"rotateMode","Tangent")),t.offsetRotation=i(H,"rotation",0),t.position=i(H,"position",0),t.positionMode==b.pw.Fixed&&(t.position*=g),t.spacing=i(H,"spacing",0),t.spacingMode!=q.K.Length&&t.spacingMode!=q.K.Fixed||(t.spacing*=g),t.mixRotate=i(H,"mixRotate",1),t.mixX=i(H,"mixX",1),t.mixY=i(H,"mixY",t.mixX),m.pathConstraints.push(t)}if(Z.skins)for(let p=0;p<Z.skins.length;p++){const g=Z.skins[p],H=new D.M(g.name);if(g.bones)for(let p=0;p<g.bones.length;p++){const Z=g.bones[p],t=m.findBone(Z);if(!t)throw new Error(`Couldn't find bone ${Z} for skin ${g.name}.`);H.bones.push(t)}if(g.ik)for(let p=0;p<g.ik.length;p++){const Z=g.ik[p],t=m.findIkConstraint(Z);if(!t)throw new Error(`Couldn't find IK constraint ${Z} for skin ${g.name}.`);H.constraints.push(t)}if(g.transform)for(let p=0;p<g.transform.length;p++){const Z=g.transform[p],t=m.findTransformConstraint(Z);if(!t)throw new Error(`Couldn't find transform constraint ${Z} for skin ${g.name}.`);H.constraints.push(t)}if(g.path)for(let p=0;p<g.path.length;p++){const Z=g.path[p],t=m.findPathConstraint(Z);if(!t)throw new Error(`Couldn't find path constraint ${Z} for skin ${g.name}.`);H.constraints.push(t)}for(const p in g.attachments){const Z=m.findSlot(p);if(!Z)throw new Error(`Couldn't find slot ${p} for skin ${g.name}.`);const t=g.attachments[p];for(const p in t){const g=this.readAttachment(t[p],H,Z.index,p,m);g&&H.setAttachment(Z.index,p,g)}}m.skins.push(H),"default"==H.name&&(m.defaultSkin=H)}for(let p=0,g=this.linkedMeshes.length;p<g;p++){const g=this.linkedMeshes[p],Z=g.skin?m.findSkin(g.skin):m.defaultSkin;if(!Z)throw new Error(`Skin not found: ${g.skin}`);const H=Z.getAttachment(g.slotIndex,g.parent);if(!H)throw new Error(`Parent mesh not found: ${g.parent}`);g.mesh.timelineAttachment=g.inheritTimeline?H:g.mesh,g.mesh.setParentMesh(H)}if(this.linkedMeshes.length=0,Z.events)for(const p in Z.events){const g=Z.events[p],H=new I.R(p);H.intValue=i(g,"int",0),H.floatValue=i(g,"float",0),H.stringValue=i(g,"string",""),H.audioPath=i(g,"audio",null),H.audioPath&&(H.volume=i(g,"volume",1),H.balance=i(g,"balance",0)),m.events.push(H)}if(Z.animations)for(const p in Z.animations){const g=Z.animations[p];this.readAnimation(g,p,m)}return m}readAttachment(p,g,m,Z,H){const t=this.scale;switch(Z=i(p,"name",Z),i(p,"type","region")){case"region":{const m=i(p,"path",Z),H=this.readSequence(i(p,"sequence",null)),h=this.attachmentLoader.newRegionAttachment(g,Z,m,H);if(!h)return null;h.path=m,h.x=i(p,"x",0)*t,h.y=i(p,"y",0)*t,h.scaleX=i(p,"scaleX",1),h.scaleY=i(p,"scaleY",1),h.rotation=i(p,"rotation",0),h.width=p.width*t,h.height=p.height*t,h.sequence=H;const k=i(p,"color",null);return k&&h.color.setFromString(k),h}case"boundingbox":{const m=this.attachmentLoader.newBoundingBoxAttachment(g,Z);if(!m)return null;this.readVertices(p,m,p.vertexCount<<1);const H=i(p,"color",null);return H&&m.color.setFromString(H),m}case"mesh":case"linkedmesh":{const H=i(p,"path",Z),h=this.readSequence(i(p,"sequence",null)),k=this.attachmentLoader.newMeshAttachment(g,Z,H,h);if(!k)return null;k.path=H;const n=i(p,"color",null);n&&k.color.setFromString(n),k.width=i(p,"width",0)*t,k.height=i(p,"height",0)*t,k.sequence=h;const S=i(p,"parent",null);if(S)return this.linkedMeshes.push(new Q(k,i(p,"skin",null),m,S,i(p,"timelines",!0))),k;const q=p.uvs;return this.readVertices(p,k,q.length),k.triangles=p.triangles,k.regionUVs=new Float32Array(q),k.edges=i(p,"edges",null),k.hullLength=2*i(p,"hull",0),k}case"path":{const m=this.attachmentLoader.newPathAttachment(g,Z);if(!m)return null;m.closed=i(p,"closed",!1),m.constantSpeed=i(p,"constantSpeed",!0);const H=p.vertexCount;this.readVertices(p,m,H<<1);const h=b.Aq.newArray(H/3,0);for(let g=0;g<p.lengths.length;g++)h[g]=p.lengths[g]*t;m.lengths=h;const k=i(p,"color",null);return k&&m.color.setFromString(k),m}case"point":{const m=this.attachmentLoader.newPointAttachment(g,Z);if(!m)return null;m.x=i(p,"x",0)*t,m.y=i(p,"y",0)*t,m.rotation=i(p,"rotation",0);const H=i(p,"color",null);return H&&m.color.setFromString(H),m}case"clipping":{const m=this.attachmentLoader.newClippingAttachment(g,Z);if(!m)return null;const t=i(p,"end",null);if(null!=t){const p=H.findSlot(t);if(null==p)throw new Error(`Clipping end slot not found: ${t}`);m.endSlot=p}const h=p.vertexCount;this.readVertices(p,m,h<<1);const k=i(p,"color",null);return k&&m.color.setFromString(k),m}}return null}readSequence(p){if(null==p)return null;const g=new N.gd(i(p,"count",0));return g.start=i(p,"start",1),g.digits=i(p,"digits",0),g.setupIndex=i(p,"setup",0),g}readVertices(p,g,m){const Z=this.scale;g.worldVerticesLength=m;const H=p.vertices;if(m==H.length){const p=b.Aq.toFloatArray(H);if(1!=Z)for(let g=0,m=H.length;g<m;g++)p[g]*=Z;return void(g.vertices=p)}const t=new Array,h=new Array;for(let p=0,g=H.length;p<g;){const g=H[p++];h.push(g);for(let m=p+4*g;p<m;p+=4)h.push(H[p]),t.push(H[p+1]*Z),t.push(H[p+2]*Z),t.push(H[p+3])}g.bones=h,g.vertices=b.Aq.toFloatArray(t)}readAnimation(p,g,m){const t=this.scale,h=new Array;if(p.slots)for(const g in p.slots){const H=p.slots[g],t=m.findSlot(g);if(!t)throw new Error(`Slot not found: ${g}`);const k=t.index;for(const p in H){const g=H[p];if(!g)continue;const m=g.length;if("attachment"==p){const p=new Z.zK(m,k);for(let Z=0;Z<m;Z++){const m=g[Z];p.setFrame(Z,i(m,"time",0),i(m,"name",null))}h.push(p)}else if("rgba"==p){const p=new Z.EP(m,m<<2,k);let H=g[0],t=i(H,"time",0),n=b.Q1.fromString(H.color);for(let m=0,Z=0;;m++){p.setFrame(m,t,n.r,n.g,n.b,n.a);const h=g[m+1];if(!h){p.shrink(Z);break}const k=i(h,"time",0),S=b.Q1.fromString(h.color),q=H.curve;q&&(Z=Y(q,p,Z,m,0,t,k,n.r,S.r,1),Z=Y(q,p,Z,m,1,t,k,n.g,S.g,1),Z=Y(q,p,Z,m,2,t,k,n.b,S.b,1),Z=Y(q,p,Z,m,3,t,k,n.a,S.a,1)),t=k,n=S,H=h}h.push(p)}else if("rgb"==p){const p=new Z.Di(m,3*m,k);let H=g[0],t=i(H,"time",0),n=b.Q1.fromString(H.color);for(let m=0,Z=0;;m++){p.setFrame(m,t,n.r,n.g,n.b);const h=g[m+1];if(!h){p.shrink(Z);break}const k=i(h,"time",0),S=b.Q1.fromString(h.color),q=H.curve;q&&(Z=Y(q,p,Z,m,0,t,k,n.r,S.r,1),Z=Y(q,p,Z,m,1,t,k,n.g,S.g,1),Z=Y(q,p,Z,m,2,t,k,n.b,S.b,1)),t=k,n=S,H=h}h.push(p)}else if("alpha"==p)h.push($(g,new Z._Y(m,m,k),0,1));else if("rgba2"==p){const p=new Z.Ev(m,7*m,k);let H=g[0],t=i(H,"time",0),n=b.Q1.fromString(H.light),S=b.Q1.fromString(H.dark);for(let m=0,Z=0;;m++){p.setFrame(m,t,n.r,n.g,n.b,n.a,S.r,S.g,S.b);const h=g[m+1];if(!h){p.shrink(Z);break}const k=i(h,"time",0),q=b.Q1.fromString(h.light),D=b.Q1.fromString(h.dark),I=H.curve;I&&(Z=Y(I,p,Z,m,0,t,k,n.r,q.r,1),Z=Y(I,p,Z,m,1,t,k,n.g,q.g,1),Z=Y(I,p,Z,m,2,t,k,n.b,q.b,1),Z=Y(I,p,Z,m,3,t,k,n.a,q.a,1),Z=Y(I,p,Z,m,4,t,k,S.r,D.r,1),Z=Y(I,p,Z,m,5,t,k,S.g,D.g,1),Z=Y(I,p,Z,m,6,t,k,S.b,D.b,1)),t=k,n=q,S=D,H=h}h.push(p)}else if("rgb2"==p){const p=new Z.fT(m,6*m,k);let H=g[0],t=i(H,"time",0),n=b.Q1.fromString(H.light),S=b.Q1.fromString(H.dark);for(let m=0,Z=0;;m++){p.setFrame(m,t,n.r,n.g,n.b,S.r,S.g,S.b);const h=g[m+1];if(!h){p.shrink(Z);break}const k=i(h,"time",0),q=b.Q1.fromString(h.light),D=b.Q1.fromString(h.dark),I=H.curve;I&&(Z=Y(I,p,Z,m,0,t,k,n.r,q.r,1),Z=Y(I,p,Z,m,1,t,k,n.g,q.g,1),Z=Y(I,p,Z,m,2,t,k,n.b,q.b,1),Z=Y(I,p,Z,m,3,t,k,S.r,D.r,1),Z=Y(I,p,Z,m,4,t,k,S.g,D.g,1),Z=Y(I,p,Z,m,5,t,k,S.b,D.b,1)),t=k,n=q,S=D,H=h}h.push(p)}}}if(p.bones)for(const g in p.bones){const H=p.bones[g],k=m.findBone(g);if(!k)throw new Error(`Bone not found: ${g}`);const n=k.index;for(const p in H){const g=H[p],m=g.length;if(0!=m)if("rotate"===p)h.push($(g,new Z.NQ(m,m,n),0,1));else if("translate"===p){const p=new Z.Sr(m,m<<1,n);h.push(w(g,p,"x","y",0,t))}else if("translatex"===p){const p=new Z.GU(m,m,n);h.push($(g,p,0,t))}else if("translatey"===p){const p=new Z.nS(m,m,n);h.push($(g,p,0,t))}else if("scale"===p){const p=new Z.i9(m,m<<1,n);h.push(w(g,p,"x","y",1,1))}else if("scalex"===p){const p=new Z.So(m,m,n);h.push($(g,p,1,1))}else if("scaley"===p){const p=new Z.pR(m,m,n);h.push($(g,p,1,1))}else if("shear"===p){const p=new Z.$l(m,m<<1,n);h.push(w(g,p,"x","y",0,1))}else if("shearx"===p){const p=new Z.jx(m,m,n);h.push($(g,p,0,1))}else if("sheary"===p){const p=new Z.eP(m,m,n);h.push($(g,p,0,1))}}}if(p.ik)for(const g in p.ik){const H=p.ik[g];let k=H[0];if(!k)continue;const n=m.findIkConstraint(g);if(!n)throw new Error(`IK Constraint not found: ${g}`);const S=m.ikConstraints.indexOf(n),q=new Z.pA(H.length,H.length<<1,S);let D=i(k,"time",0),I=i(k,"mix",1),b=i(k,"softness",0)*t;for(let p=0,g=0;;p++){q.setFrame(p,D,I,b,i(k,"bendPositive",!0)?1:-1,i(k,"compress",!1),i(k,"stretch",!1));const m=H[p+1];if(!m){q.shrink(g);break}const Z=i(m,"time",0),h=i(m,"mix",1),n=i(m,"softness",0)*t,S=k.curve;S&&(g=Y(S,q,g,p,0,D,Z,I,h,1),g=Y(S,q,g,p,1,D,Z,b,n,t)),D=Z,I=h,b=n,k=m}h.push(q)}if(p.transform)for(const g in p.transform){const H=p.transform[g];let t=H[0];if(!t)continue;const k=m.findTransformConstraint(g);if(!k)throw new Error(`Transform constraint not found: ${g}`);const n=m.transformConstraints.indexOf(k),S=new Z.To(H.length,6*H.length,n);let q=i(t,"time",0),D=i(t,"mixRotate",1),I=i(t,"mixX",1),b=i(t,"mixY",I),e=i(t,"mixScaleX",1),N=i(t,"mixScaleY",e);const d=i(t,"mixShearY",1);for(let p=0,g=0;;p++){S.setFrame(p,q,D,I,b,e,N,d);const m=H[p+1];if(!m){S.shrink(g);break}const Z=i(m,"time",0),h=i(m,"mixRotate",1),k=i(m,"mixX",1),n=i(m,"mixY",k),Q=i(m,"mixScaleX",1),$=i(m,"mixScaleY",Q),w=i(m,"mixShearY",1),P=t.curve;P&&(g=Y(P,S,g,p,0,q,Z,D,h,1),g=Y(P,S,g,p,1,q,Z,I,k,1),g=Y(P,S,g,p,2,q,Z,b,n,1),g=Y(P,S,g,p,3,q,Z,e,Q,1),g=Y(P,S,g,p,4,q,Z,N,$,1),g=Y(P,S,g,p,5,q,Z,d,w,1)),q=Z,D=h,I=k,b=n,e=Q,N=$,e=Q,t=m}h.push(S)}if(p.path)for(const g in p.path){const H=p.path[g],k=m.findPathConstraint(g);if(!k)throw new Error(`Path constraint not found: ${g}`);const n=m.pathConstraints.indexOf(k);for(const p in H){const g=H[p];let m=g[0];if(!m)continue;const S=g.length;if("position"===p){const p=new Z.vz(S,S,n);h.push($(g,p,0,k.positionMode==b.pw.Fixed?t:1))}else if("spacing"===p){const p=new Z.vl(S,S,n);h.push($(g,p,0,k.spacingMode==q.K.Length||k.spacingMode==q.K.Fixed?t:1))}else if("mix"===p){const p=new Z.I6(S,3*S,n);let H=i(m,"time",0),t=i(m,"mixRotate",1),k=i(m,"mixX",1),q=i(m,"mixY",k);for(let Z=0,h=0;;Z++){p.setFrame(Z,H,t,k,q);const n=g[Z+1];if(!n){p.shrink(h);break}const S=i(n,"time",0),D=i(n,"mixRotate",1),I=i(n,"mixX",1),b=i(n,"mixY",I),e=m.curve;e&&(h=Y(e,p,h,Z,0,H,S,t,D,1),h=Y(e,p,h,Z,1,H,S,k,I,1),h=Y(e,p,h,Z,2,H,S,q,b,1)),H=S,t=D,k=I,q=b,m=n}h.push(p)}}}if(p.deform){p.attachments={};for(const g in p.deform){const m=p.deform[g],Z=p.attachments[g]={};for(const p in m){const g=m[p],H=Z[p]={};for(const p in g)H[p]={deform:g[p]}}}}if(p.attachments)for(const g in p.attachments){const H=p.attachments[g],k=m.findSkin(g);if(null!=k)for(const p in H){const g=H[p],n=m.findSlot(p);if(!n)throw new Error(`Slot not found: ${p}`);const S=n.index;for(const p in g){const m=g[p],H=k.getAttachment(S,p);for(const p in m){const g=m[p];let k=g[0];if(k)if("deform"==p){const p=H.bones,m=H.vertices,n=p?m.length/3*2:m.length,q=new Z.jQ(g.length,g.length,S,H);let D=i(k,"time",0);for(let Z=0,H=0;;Z++){let h;const S=i(k,"vertices",null);if(S){h=b.Aq.newFloatArray(n);const g=i(k,"offset",0);if(b.Aq.arrayCopy(S,0,h,g,S.length),1!=t)for(let p=g,m=p+S.length;p<m;p++)h[p]*=t;if(!p)for(let p=0;p<n;p++)h[p]+=m[p]}else h=p?b.Aq.newFloatArray(n):m;q.setFrame(Z,D,h);const I=g[Z+1];if(!I){q.shrink(H);break}const e=i(I,"time",0),N=k.curve;N&&(H=Y(N,q,H,Z,0,D,e,0,1,1)),D=e,k=I}h.push(q)}else if("sequence"==p){const p=new Z.lP(g.length,S,H);let m=0;for(let Z=0;Z<g.length;Z++){const H=i(k,"delay",m),t=i(k,"time",0),h=N.zu[i(k,"mode","hold")],n=i(k,"index",0);p.setFrame(Z,t,h,n,H),m=H,k=g[Z+1]}h.push(p)}}}}else if(b.W0.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${g}`)}if(p.drawOrder){const g=new Z.Kn(p.drawOrder.length),H=m.slots.length;let t=0;for(let Z=0;Z<p.drawOrder.length;Z++,t++){const h=p.drawOrder[Z];let k=null;const n=i(h,"offsets",null);if(n){k=b.Aq.newArray(H,-1);const p=b.Aq.newArray(H-n.length,0);let g=0,Z=0;for(let H=0;H<n.length;H++){const t=n[H],h=m.findSlot(t.slot);if(!h)throw new Error(`Slot not found: ${h}`);const S=h.index;for(;g!=S;)p[Z++]=g++;k[g+t.offset]=g++}for(;g<H;)p[Z++]=g++;for(let g=H-1;g>=0;g--)-1==k[g]&&(k[g]=p[--Z])}g.setFrame(t,i(h,"time",0),k)}h.push(g)}if(p.events){const g=new Z.qs(p.events.length);let t=0;for(let Z=0;Z<p.events.length;Z++,t++){const h=p.events[Z],k=m.findEvent(h.name);if(!k)throw new Error(`Event not found: ${h.name}`);const n=new H.J(b.Aq.toSinglePrecision(i(h,"time",0)),k);n.intValue=i(h,"int",k.intValue),n.floatValue=i(h,"float",k.floatValue),n.stringValue=i(h,"string",k.stringValue),n.data.audioPath&&(n.volume=i(h,"volume",1),n.balance=i(h,"balance",0)),g.setFrame(t,n)}h.push(g)}let k=0;for(let p=0,g=h.length;p<g;p++)k=Math.max(k,h[p].getDuration());if(isNaN(k))throw new Error("Error while parsing animation, duration is NaN");m.animations.push(new Z.X5(g,h,k))}static blendModeFromString(p){if("normal"==(p=p.toLowerCase()))return e.B9.NORMAL;if("additive"==p)return e.B9.ADD;if("multiply"==p)return e.B9.MULTIPLY;if("screen"==p)return e.B9.SCREEN;throw new Error(`Unknown blend mode: ${p}`)}}class Q{constructor(p,g,m,Z,H){this.mesh=p,this.skin=g,this.slotIndex=m,this.parent=Z,this.inheritTimeline=H}}function $(p,g,m,Z){let H=p[0],t=i(H,"time",0),h=i(H,"value",m)*Z,k=0;for(let n=0;;n++){g.setFrame(n,t,h);const S=p[n+1];if(!S)return g.shrink(k),g;const q=i(S,"time",0),D=i(S,"value",m)*Z;H.curve&&(k=Y(H.curve,g,k,n,0,t,q,h,D,Z)),t=q,h=D,H=S}}function w(p,g,m,Z,H,t){let h=p[0],k=i(h,"time",0),n=i(h,m,H)*t,S=i(h,Z,H)*t,q=0;for(let D=0;;D++){g.setFrame(D,k,n,S);const I=p[D+1];if(!I)return g.shrink(q),g;const b=i(I,"time",0),e=i(I,m,H)*t,N=i(I,Z,H)*t,d=h.curve;d&&(q=Y(d,g,q,D,0,k,b,n,e,t),q=Y(d,g,q,D,1,k,b,S,N,t)),k=b,n=e,S=N,h=I}}function Y(p,g,m,Z,H,t,h,k,n,S){if("stepped"==p)return g.setStepped(Z),m;const q=H<<2,D=p[q],I=p[q+1]*S,b=p[q+2],e=p[q+3]*S;return g.setBezier(m,Z,H,t,k,D,I,b,e,h,n),m+1}function i(p,g,m){return void 0!==p[g]?p[g]:m}},277758:(p,g,m)=>{m.d(g,{M:()=>t,S:()=>H}),m(111691),m(367866);var Z=m(669900);m(733439),m(132351);class H{constructor(p,g,m){this.slotIndex=p,this.name=g,this.attachment=m}}class t{constructor(p){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!p)throw new Error("name cannot be null.");this.name=p}setAttachment(p,g,m){if(!m)throw new Error("attachment cannot be null.");const Z=this.attachments;p>=Z.length&&(Z.length=p+1),Z[p]||(Z[p]={}),Z[p][g]=m}addSkin(p){for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z=!1;for(let p=0;p<this.bones.length;p++)if(this.bones[p]==m){Z=!0;break}Z||this.bones.push(m)}for(let g=0;g<p.constraints.length;g++){const m=p.constraints[g];let Z=!1;for(let p=0;p<this.constraints.length;p++)if(this.constraints[p]==m){Z=!0;break}Z||this.constraints.push(m)}const g=p.getAttachments();for(let p=0;p<g.length;p++){const m=g[p];this.setAttachment(m.slotIndex,m.name,m.attachment)}}copySkin(p){for(let g=0;g<p.bones.length;g++){const m=p.bones[g];let Z=!1;for(let p=0;p<this.bones.length;p++)if(this.bones[p]==m){Z=!0;break}Z||this.bones.push(m)}for(let g=0;g<p.constraints.length;g++){const m=p.constraints[g];let Z=!1;for(let p=0;p<this.constraints.length;p++)if(this.constraints[p]==m){Z=!0;break}Z||this.constraints.push(m)}const g=p.getAttachments();for(let p=0;p<g.length;p++){const m=g[p];m.attachment&&(m.attachment instanceof Z.f?(m.attachment=m.attachment.newLinkedMesh(),this.setAttachment(m.slotIndex,m.name,m.attachment)):(m.attachment=m.attachment.copy(),this.setAttachment(m.slotIndex,m.name,m.attachment)))}}getAttachment(p,g){const m=this.attachments[p];return m?m[g]:null}removeAttachment(p,g){const m=this.attachments[p];m&&delete m[g]}getAttachments(){const p=new Array;for(let g=0;g<this.attachments.length;g++){const m=this.attachments[g];if(m)for(const Z in m){const t=m[Z];t&&p.push(new H(g,Z,t))}}return p}getAttachmentsForSlot(p,g){const m=this.attachments[p];if(m)for(const Z in m){const t=m[Z];t&&g.push(new H(p,Z,t))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(p,g){let m=0;for(let Z=0;Z<p.slots.length;Z++){const H=p.slots[Z],t=H.getAttachment();if(t&&m<g.attachments.length){const p=g.attachments[m];for(const g in p)if(t==p[g]){const p=this.getAttachment(m,g);p&&H.setAttachment(p);break}}m++}}}},463117:(p,g,m)=>{m.d(g,{D:()=>t});var Z=m(367866),H=m(111691);class t{constructor(p,g){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!p)throw new Error("data cannot be null.");if(!g)throw new Error("bone cannot be null.");this.data=p,this.bone=g,this.color=new Z.Q1,this.darkColor=p.darkColor?new Z.Q1:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(p){this.attachment!=p&&(p instanceof H.e&&this.attachment instanceof H.e&&p.timelineAttachment==this.attachment.timelineAttachment||(this.deform.length=0),this.attachment=p,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}},130301:(p,g,m)=>{m.d(g,{P:()=>t});var Z=m(367866),H=m(316197);class t{constructor(p,g,m){if(this.index=0,this.color=new Z.Q1(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=H.B9.NORMAL,p<0)throw new Error("index must be >= 0.");if(!g)throw new Error("name cannot be null.");if(!m)throw new Error("boneData cannot be null.");this.index=p,this.name=g,this.boneData=m}}},565294:(p,g,m)=>{m.d(g,{U:()=>H});var Z=m(367866);class H{constructor(p,g){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Z.I9,this.active=!1,!p)throw new Error("data cannot be null.");if(!g)throw new Error("skeleton cannot be null.");this.data=p,this.mixRotate=p.mixRotate,this.mixX=p.mixX,this.mixY=p.mixY,this.mixScaleX=p.mixScaleX,this.mixScaleY=p.mixScaleY,this.mixShearY=p.mixShearY,this.bones=new Array;for(let m=0;m<p.bones.length;m++){const Z=g.findBone(p.bones[m].name);if(!Z)throw new Error(`Couldn't find bone ${p.bones[m].name}.`);this.bones.push(Z)}const m=g.findBone(p.target.name);if(!m)throw new Error(`Couldn't find target bone ${p.target.name}.`);this.target=m}isActive(){return this.active}update(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){const p=this.mixRotate,g=this.mixX,m=this.mixY,H=this.mixScaleX,t=this.mixScaleY,h=this.mixShearY,k=0!=g||0!=m,n=this.target,S=n.matrix,q=S.a,D=S.c,I=S.b,b=S.d,e=q*b-D*I>0?Z.cj.degRad:-Z.cj.degRad,N=this.data.offsetRotation*e,d=this.data.offsetShearY*e,Q=this.bones;for(let S=0,e=Q.length;S<e;S++){const e=Q[S],$=e.matrix;if(0!=p){const g=$.a,m=$.c,H=$.b,t=$.d;let h=Math.atan2(I,q)-Math.atan2(H,g)+N;h>Z.cj.PI?h-=Z.cj.PI2:h<-Z.cj.PI&&(h+=Z.cj.PI2),h*=p;const k=Math.cos(h),n=Math.sin(h);$.a=k*g-n*H,$.c=k*m-n*t,$.b=n*g+k*H,$.d=n*m+k*t}if(k){const p=this.temp;n.localToWorld(p.set(this.data.offsetX,this.data.offsetY)),$.tx+=(p.x-$.tx)*g,$.ty+=(p.y-$.ty)*m}if(0!=H){let p=Math.sqrt($.a*$.a+$.b*$.b);0!=p&&(p=(p+(Math.sqrt(q*q+I*I)-p+this.data.offsetScaleX)*H)/p),$.a*=p,$.b*=p}if(0!=t){let p=Math.sqrt($.c*$.c+$.d*$.d);0!=p&&(p=(p+(Math.sqrt(D*D+b*b)-p+this.data.offsetScaleY)*t)/p),$.c*=p,$.d*=p}if(h>0){const p=$.c,g=$.d,m=Math.atan2(g,p);let H=Math.atan2(b,D)-Math.atan2(I,q)-(m-Math.atan2($.b,$.a));H>Z.cj.PI?H-=Z.cj.PI2:H<-Z.cj.PI&&(H+=Z.cj.PI2),H=m+(H+d)*h;const t=Math.sqrt(p*p+g*g);$.c=Math.cos(H)*t,$.d=Math.sin(H)*t}e.updateAppliedTransform()}}applyRelativeWorld(){const p=this.mixRotate,g=this.mixX,m=this.mixY,H=this.mixScaleX,t=this.mixScaleY,h=this.mixShearY,k=0!=g||0!=m,n=this.target,S=n.matrix,q=S.a,D=S.c,I=S.b,b=S.d,e=q*b-D*I>0?Z.cj.degRad:-Z.cj.degRad,N=this.data.offsetRotation*e,d=this.data.offsetShearY*e,Q=this.bones;for(let S=0,e=Q.length;S<e;S++){const e=Q[S],$=e.matrix;if(0!=p){const g=$.a,m=$.c,H=$.b,t=$.d;let h=Math.atan2(I,q)+N;h>Z.cj.PI?h-=Z.cj.PI2:h<-Z.cj.PI&&(h+=Z.cj.PI2),h*=p;const k=Math.cos(h),n=Math.sin(h);$.a=k*g-n*H,$.c=k*m-n*t,$.b=n*g+k*H,$.d=n*m+k*t}if(k){const p=this.temp;n.localToWorld(p.set(this.data.offsetX,this.data.offsetY)),$.tx+=p.x*g,$.ty+=p.y*m}if(0!=H){const p=(Math.sqrt(q*q+I*I)-1+this.data.offsetScaleX)*H+1;$.a*=p,$.b*=p}if(0!=t){const p=(Math.sqrt(D*D+b*b)-1+this.data.offsetScaleY)*t+1;$.c*=p,$.d*=p}if(h>0){let p=Math.atan2(b,D)-Math.atan2(I,q);p>Z.cj.PI?p-=Z.cj.PI2:p<-Z.cj.PI&&(p+=Z.cj.PI2);const g=$.c,m=$.d;p=Math.atan2(m,g)+(p-Z.cj.PI/2+d)*h;const H=Math.sqrt(g*g+m*m);$.c=Math.cos(p)*H,$.d=Math.sin(p)*H}e.updateAppliedTransform()}}applyAbsoluteLocal(){const p=this.mixRotate,g=this.mixX,m=this.mixY,Z=this.mixScaleX,H=this.mixScaleY,t=this.mixShearY,h=this.target,k=this.bones;for(let n=0,S=k.length;n<S;n++){const S=k[n];let q=S.arotation;if(0!=p){let g=h.arotation-q+this.data.offsetRotation;g-=360*(16384-(16384.499999999996-g/360|0)),q+=g*p}let D=S.ax,I=S.ay;D+=(h.ax-D+this.data.offsetX)*g,I+=(h.ay-I+this.data.offsetY)*m;let b=S.ascaleX,e=S.ascaleY;0!=Z&&0!=b&&(b=(b+(h.ascaleX-b+this.data.offsetScaleX)*Z)/b),0!=H&&0!=e&&(e=(e+(h.ascaleY-e+this.data.offsetScaleY)*H)/e);let N=S.ashearY;if(0!=t){let p=h.ashearY-N+this.data.offsetShearY;p-=360*(16384-(16384.499999999996-p/360|0)),N+=p*t}S.updateWorldTransformWith(D,I,q,b,e,S.ashearX,N)}}applyRelativeLocal(){const p=this.mixRotate,g=this.mixX,m=this.mixY,Z=this.mixScaleX,H=this.mixScaleY,t=this.mixShearY,h=this.target,k=this.bones;for(let n=0,S=k.length;n<S;n++){const S=k[n],q=S.arotation+(h.arotation+this.data.offsetRotation)*p,D=S.ax+(h.ax+this.data.offsetX)*g,I=S.ay+(h.ay+this.data.offsetY)*m,b=S.ascaleX*((h.ascaleX-1+this.data.offsetScaleX)*Z+1),e=S.ascaleY*((h.ascaleY-1+this.data.offsetScaleY)*H+1),N=S.ashearY+(h.ashearY+this.data.offsetShearY)*t;S.updateWorldTransformWith(D,I,q,b,e,S.ashearX,N)}}}},186550:(p,g,m)=>{m.d(g,{_:()=>H});var Z=m(974272);class H extends Z.q{constructor(p){super(p,0,!1),this.bones=new Array,this._target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}set target(p){this._target=p}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}},111691:(p,g,m)=>{m.d(g,{e:()=>h,o:()=>H});var Z=m(367866);class H{constructor(p){if(!p)throw new Error("name cannot be null.");this.name=p}}const t=class extends H{constructor(p){super(p),this.id=t.nextID++,this.bones=null,this.vertices=[],this.worldVerticesLength=0,this.timelineAttachment=this}computeWorldVerticesOld(p,g){this.computeWorldVertices(p,0,this.worldVerticesLength,g,0,2)}computeWorldVertices(p,g,m,Z,H,t){m=H+(m>>1)*t;const h=p.bone.skeleton,k=p.deform;let n=this.vertices;const S=this.bones;if(!S){k.length>0&&(n=k);const h=p.bone.matrix,S=h.tx,q=h.ty,D=h.a,I=h.c,b=h.b,e=h.d;for(let p=g,h=H;h<m;p+=2,h+=t){const g=n[p],m=n[p+1];Z[h]=g*D+m*I+S,Z[h+1]=g*b+m*e+q}return}let q=0,D=0;for(let p=0;p<g;p+=2){const p=S[q];q+=p+1,D+=p}const I=h.bones;if(0==k.length)for(let p=H,g=3*D;p<m;p+=t){let m=0,H=0,t=S[q++];for(t+=q;q<t;q++,g+=3){const p=I[S[q]].matrix,Z=n[g],t=n[g+1],h=n[g+2];m+=(Z*p.a+t*p.c+p.tx)*h,H+=(Z*p.b+t*p.d+p.ty)*h}Z[p]=m,Z[p+1]=H}else{const p=k;for(let g=H,h=3*D,k=D<<1;g<m;g+=t){let m=0,H=0,t=S[q++];for(t+=q;q<t;q++,h+=3,k+=2){const g=I[S[q]].matrix,Z=n[h]+p[k],t=n[h+1]+p[k+1],D=n[h+2];m+=(Z*g.a+t*g.c+g.tx)*D,H+=(Z*g.b+t*g.d+g.ty)*D}Z[g]=m,Z[g+1]=H}}}copyTo(p){this.bones?(p.bones=new Array(this.bones.length),Z.Aq.arrayCopy(this.bones,0,p.bones,0,this.bones.length)):p.bones=null,this.vertices&&(p.vertices=Z.Aq.newFloatArray(this.vertices.length),Z.Aq.arrayCopy(this.vertices,0,p.vertices,0,this.vertices.length)),p.worldVerticesLength=this.worldVerticesLength,p.timelineAttachment=this.timelineAttachment}};let h=t;h.nextID=0},323596:(p,g,m)=>{m.d(g,{b:()=>t});var Z=m(111691),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.BoundingBox,this.color=new H.Q1(1,1,1,1)}copy(){const p=new t(this.name);return this.copyTo(p),p.color.setFromColor(this.color),p}}},951213:(p,g,m)=>{m.d(g,{K:()=>t});var Z=m(111691),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Clipping,this.endSlot=null,this.color=new H.Q1(.2275,.2275,.8078,1)}copy(){const p=new t(this.name);return this.copyTo(p),p.endSlot=this.endSlot,p.color.setFromColor(this.color),p}}},669900:(p,g,m)=>{m.d(g,{f:()=>t});var Z=m(111691),H=m(367866);class t extends Z.e{constructor(p,g){super(p),this.type=H.wh.Mesh,this.region=null,this.triangles=[],this.color=new H.Q1(1,1,1,1),this.width=0,this.height=0,this.hullLength=0,this.edges=[],this.parentMesh=null,this.sequence=null,this.tempColor=new H.Q1(0,0,0,0),this.path=g}getParentMesh(){return this.parentMesh}setParentMesh(p){this.parentMesh=p,p&&(this.bones=p.bones,this.vertices=p.vertices,this.worldVerticesLength=p.worldVerticesLength,this.regionUVs=p.regionUVs,this.triangles=p.triangles,this.hullLength=p.hullLength,this.worldVerticesLength=p.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();const p=new t(this.name,this.path);return p.region=this.region,p.color.setFromColor(this.color),this.copyTo(p),p.regionUVs=new Float32Array(this.regionUVs.length),H.Aq.arrayCopy(this.regionUVs,0,p.regionUVs,0,this.regionUVs.length),p.triangles=new Array(this.triangles.length),H.Aq.arrayCopy(this.triangles,0,p.triangles,0,this.triangles.length),p.hullLength=this.hullLength,p.sequence=null!=this.sequence?this.sequence.copy():null,this.edges&&(p.edges=new Array(this.edges.length),H.Aq.arrayCopy(this.edges,0,p.edges,0,this.edges.length)),p.width=this.width,p.height=this.height,p}computeWorldVertices(p,g,m,Z,H,t){null!=this.sequence&&this.sequence.apply(p,this),super.computeWorldVertices(p,g,m,Z,H,t)}newLinkedMesh(){const p=new t(this.name,this.path);return p.region=this.region,p.color.setFromColor(this.color),p.timelineAttachment=this.timelineAttachment,p.setParentMesh(this.parentMesh?this.parentMesh:this),p}}},772042:(p,g,m)=>{m.d(g,{H:()=>t});var Z=m(111691),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Path,this.lengths=[],this.closed=!1,this.constantSpeed=!1,this.color=new H.Q1(1,1,1,1)}copy(){const p=new t(this.name);return this.copyTo(p),p.lengths=new Array(this.lengths.length),H.Aq.arrayCopy(this.lengths,0,p.lengths,0,this.lengths.length),p.closed=closed,p.constantSpeed=this.constantSpeed,p.color.setFromColor(this.color),p}}},978789:(p,g,m)=>{m.d(g,{Y:()=>t});var Z=m(111691),H=m(367866);class t extends Z.e{constructor(p){super(p),this.type=H.wh.Point,this.x=0,this.y=0,this.rotation=0,this.color=new H.Q1(.38,.94,0,1)}computeWorldPosition(p,g){const m=p.matrix;return g.x=this.x*m.a+this.y*m.c+p.worldX,g.y=this.x*m.b+this.y*m.d+p.worldY,g}computeWorldRotation(p){const g=p.matrix,m=H.cj.cosDeg(this.rotation),Z=H.cj.sinDeg(this.rotation),t=m*g.a+Z*g.c,h=m*g.b+Z*g.d;return Math.atan2(h,t)*H.cj.radDeg}copy(){const p=new t(this.name);return p.x=this.x,p.y=this.y,p.rotation=this.rotation,p.color.setFromColor(this.color),p}}},733439:(p,g,m)=>{m.d(g,{Q:()=>h});var Z=m(111691),H=m(367866);const t=class extends Z.o{constructor(p,g){super(p),this.type=H.wh.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new H.Q1(1,1,1,1),this.rendererObject=null,this.region=null,this.sequence=null,this.offset=H.Aq.newFloatArray(8),this.uvs=H.Aq.newFloatArray(8),this.tempColor=new H.Q1(1,1,1,1),this.path=g}updateRegion(){if(!this.region)throw new Error("Region not set.");const p=this.region,g=this.width/this.region.originalWidth*this.scaleX,m=this.height/this.region.originalHeight*this.scaleY,Z=-this.width/2*this.scaleX+this.region.offsetX*g,H=-this.height/2*this.scaleY+this.region.offsetY*m,t=Z+this.region.width*g,h=H+this.region.height*m,k=this.rotation*Math.PI/180,n=Math.cos(k),S=Math.sin(k),q=this.x,D=this.y,I=Z*n+q,b=Z*S,e=H*n+D,N=H*S,d=t*n+q,Q=t*S,$=h*n+D,w=h*S,Y=this.offset;Y[0]=I-N,Y[1]=e+b,Y[2]=I-w,Y[3]=$+b,Y[4]=d-w,Y[5]=$+Q,Y[6]=d-N,Y[7]=e+Q;const i=this.uvs;90==p.degrees?(i[2]=p.u,i[3]=p.v2,i[4]=p.u,i[5]=p.v,i[6]=p.u2,i[7]=p.v,i[0]=p.u2,i[1]=p.v2):(i[0]=p.u,i[1]=p.v2,i[2]=p.u,i[3]=p.v,i[4]=p.u2,i[5]=p.v,i[6]=p.u2,i[7]=p.v2)}computeWorldVertices(p,g,m,Z){null!=this.sequence&&this.sequence.apply(p,this);const H=p.bone,t=this.offset,h=H.matrix,k=h.tx,n=h.ty,S=h.a,q=h.c,D=h.b,I=h.d;let b=0,e=0;b=t[0],e=t[1],g[m]=b*S+e*q+k,g[m+1]=b*D+e*I+n,m+=Z,b=t[2],e=t[3],g[m]=b*S+e*q+k,g[m+1]=b*D+e*I+n,m+=Z,b=t[4],e=t[5],g[m]=b*S+e*q+k,g[m+1]=b*D+e*I+n,m+=Z,b=t[6],e=t[7],g[m]=b*S+e*q+k,g[m+1]=b*D+e*I+n}copy(){const p=new t(this.name,this.path);return p.region=this.region,p.rendererObject=this.rendererObject,p.x=this.x,p.y=this.y,p.scaleX=this.scaleX,p.scaleY=this.scaleY,p.rotation=this.rotation,p.width=this.width,p.height=this.height,H.Aq.arrayCopy(this.uvs,0,p.uvs,0,8),H.Aq.arrayCopy(this.offset,0,p.offset,0,8),p.color.setFromColor(this.color),p.sequence=null!=this.sequence?this.sequence.copy():null,p}};let h=t;h.X1=0,h.Y1=1,h.C1R=2,h.C1G=3,h.C1B=4,h.C1A=5,h.U1=6,h.V1=7,h.X2=8,h.Y2=9,h.C2R=10,h.C2G=11,h.C2B=12,h.C2A=13,h.U2=14,h.V2=15,h.X3=16,h.Y3=17,h.C3R=18,h.C3G=19,h.C3B=20,h.C3A=21,h.U3=22,h.V3=23,h.X4=24,h.Y4=25,h.C4R=26,h.C4G=27,h.C4B=28,h.C4A=29,h.U4=30,h.V4=31},132351:(p,g,m)=>{m.d(g,{gd:()=>t,l8:()=>k,zu:()=>h});var Z=m(367866);const H=class{constructor(p){this.id=H.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(p)}copy(){const p=new H(this.regions.length);return Z.Aq.arrayCopy(this.regions,0,p.regions,0,this.regions.length),p.start=this.start,p.digits=this.digits,p.setupIndex=this.setupIndex,p}apply(p,g){let m=p.sequenceIndex;-1==m&&(m=this.setupIndex),m>=this.regions.length&&(m=this.regions.length-1);const Z=this.regions[m];g.region!=Z&&(g.region=Z)}getPath(p,g){let m=p;const Z=(this.start+g).toString();for(let p=this.digits-Z.length;p>0;p--)m+="0";return m+=Z,m}static nextID(){return H._nextID++}};let t=H;t._nextID=0;var h=(p=>(p[p["hold"]=0]="hold",p[p["once"]=1]="once",p[p["loop"]=2]="loop",p[p["pingpong"]=3]="pingpong",p[p["onceReverse"]=4]="onceReverse",p[p["loopReverse"]=5]="loopReverse",p[p["pingpongReverse"]=6]="pingpongReverse",p))(h||{});const k=[0,1,2,3,4,5,6]},370757:(p,g,m)=>{m.r(g),m.d(g,{AlphaTimeline:()=>D._Y,Animation:()=>D.X5,AnimationState:()=>I.oA,AnimationStateAdapter:()=>I.b5,AnimationStateData:()=>b.Q,AtlasAttachmentLoader:()=>e.q,Attachment:()=>Z.o,AttachmentTimeline:()=>D.zK,Bone:()=>N.$,BoneData:()=>d.h,BoundingBoxAttachment:()=>H.b,ClippingAttachment:()=>t.K,ConstraintData:()=>Q.q,CurveTimeline:()=>D.Rh,CurveTimeline1:()=>D.Mq,CurveTimeline2:()=>D.H6,DeformTimeline:()=>D.jQ,DrawOrderTimeline:()=>D.Kn,Event:()=>$.J,EventData:()=>w.R,EventQueue:()=>I.Cb,EventTimeline:()=>D.qs,EventType:()=>I.Bx,IkConstraint:()=>Y.c,IkConstraintData:()=>i.Q,IkConstraintTimeline:()=>D.pA,MeshAttachment:()=>h.f,PathAttachment:()=>k.H,PathConstraint:()=>P.v,PathConstraintData:()=>J.r,PathConstraintMixTimeline:()=>D.I6,PathConstraintPositionTimeline:()=>D.vz,PathConstraintSpacingTimeline:()=>D.vl,PointAttachment:()=>n.Y,RGB2Timeline:()=>D.fT,RGBA2Timeline:()=>D.Ev,RGBATimeline:()=>D.EP,RGBTimeline:()=>D.Di,RegionAttachment:()=>S.Q,RotateTimeline:()=>D.NQ,ScaleTimeline:()=>D.i9,ScaleXTimeline:()=>D.So,ScaleYTimeline:()=>D.pR,Sequence:()=>q.gd,SequenceMode:()=>q.zu,SequenceModeValues:()=>q.l8,SequenceTimeline:()=>D.lP,ShearTimeline:()=>D.$l,ShearXTimeline:()=>D.jx,ShearYTimeline:()=>D.eP,Skeleton:()=>y.E,SkeletonBinary:()=>W.t,SkeletonBounds:()=>v.V,SkeletonData:()=>V.Y,SkeletonJson:()=>z.m,Skin:()=>B.M,SkinEntry:()=>B.S,Slot:()=>u.D,SlotData:()=>a.P,SpacingMode:()=>J.K,Spine:()=>K.y,Timeline:()=>D.Kf,TrackEntry:()=>I.IT,TransformConstraint:()=>F.U,TransformConstraintData:()=>X._,TransformConstraintTimeline:()=>D.To,TranslateTimeline:()=>D.Sr,TranslateXTimeline:()=>D.GU,TranslateYTimeline:()=>D.nS,VertexAttachment:()=>Z.e});var Z=m(111691),H=m(323596),t=m(951213),h=m(669900),k=m(772042),n=m(978789),S=m(733439),q=m(132351),D=m(264721),I=m(960476),b=m(806396),e=m(882468),N=m(37075),d=m(403387),Q=m(974272),$=m(637283),w=m(552043),Y=m(774504),i=m(434232),P=m(406625),J=m(254049),y=m(424140),W=m(307531),v=m(949363),V=m(501068),z=m(984126),B=m(277758),u=m(463117),a=m(130301),F=m(565294),X=m(186550),K=m(931372)},557108:(p,g,m)=>{m.d(g,{sP:()=>_,l2:()=>n,T9:()=>D,WO:()=>h,Y8:()=>Zp.Y,sZ:()=>a});var Z=m(316197);const H={loader:Z.Ag.LoadParser,resolver:Z.Ag.ResolveParser,cache:Z.Ag.CacheParser,detection:Z.Ag.DetectionParser};Z.XO.handle(Z.Ag.Asset,(p=>{const g=p.ref;Object.entries(H).filter((([p])=>!!g[p])).forEach((([p,m])=>{var H;return Z.XO.add(Object.assign(g[p],{extension:null!==(H=g[p].extension)&&void 0!==H?H:m}))}))}),(p=>{const g=p.ref;Object.keys(H).filter((p=>!!g[p])).forEach((p=>Z.XO.remove(g[p])))}));class t{constructor(p,g=!1){this._loader=p,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=g}add(p){p.forEach((p=>{this._assetList.push(p)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const p=[],g=Math.min(this._assetList.length,this._maxConcurrent);for(let m=0;m<g;m++)p.push(this._assetList.pop());await this._loader.load(p),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(p){this._isActive!==p&&(this._isActive=p,p&&!this._isLoading&&this._next())}}function h(p,g){const m=p.split("?")[0],H=Z.Wp.path.extname(m).toLowerCase();return Array.isArray(g)?g.includes(H):H===g}const k=(p,g,m=!1)=>(Array.isArray(p)||(p=[p]),g?p.map((p=>"string"==typeof p||m?g(p):p)):p),n=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(p){return this._cache.has(p)}get(p){const g=this._cache.get(p);return g||console.warn(`[Assets] Asset id ${p} was not found in the Cache`),g}set(p,g){const m=k(p);let H;for(let p=0;p<this.parsers.length;p++){const Z=this.parsers[p];if(Z.test(g)){H=Z.getCacheableAssets(m,g);break}}H||(H={},m.forEach((p=>{H[p]=g})));const t=Object.keys(H),h={cacheKeys:t,keys:m};if(m.forEach((p=>{this._cacheMap.set(p,h)})),t.forEach((p=>{this._cache.has(p)&&this._cache.get(p)!==g&&console.warn("[Cache] already has key:",p),this._cache.set(p,H[p])})),g instanceof Z.gP){const p=g;m.forEach((g=>{p.baseTexture!==Z.gP.EMPTY.baseTexture&&Z.t5.addToCache(p.baseTexture,g),Z.gP.addToCache(p,g)}))}}remove(p){if(!this._cacheMap.has(p))return void console.warn(`[Assets] Asset id ${p} was not found in the Cache`);const g=this._cacheMap.get(p);g.cacheKeys.forEach((p=>{this._cache.delete(p)})),g.keys.forEach((p=>{this._cacheMap.delete(p)}))}get parsers(){return this._parsers}},S=p=>!Array.isArray(p);class q{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(p,g,m)=>(this._parsersValidated=!1,p[g]=m,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(p,g){const m={promise:null,parser:null};return m.promise=(async()=>{var Z,H;let t=null,h=null;if(g.loadParser&&(h=this._parserHash[g.loadParser],h||console.warn(`[Assets] specified load parser "${g.loadParser}" not found while loading ${p}`)),!h){for(let m=0;m<this.parsers.length;m++){const H=this.parsers[m];if(H.load&&(null===(Z=H.test)||void 0===Z?void 0:Z.call(H,p,g,this))){h=H;break}}if(!h)return console.warn(`[Assets] ${p} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}t=await h.load(p,g,this),m.parser=h;for(let p=0;p<this.parsers.length;p++){const Z=this.parsers[p];Z.parse&&Z.parse&&await(null===(H=Z.testParse)||void 0===H?void 0:H.call(Z,t,g,this))&&(t=await Z.parse(t,g,this)||t,m.parser=Z)}return t})(),m}async load(p,g){this._parsersValidated||this._validateParsers();let m=0;const H={},t=S(p),h=k(p,(p=>({alias:[p],src:p}))),n=h.length,q=h.map((async p=>{const t=Z.Wp.path.toAbsolute(p.src);if(!H[p.src])try{this.promiseCache[t]||(this.promiseCache[t]=this._getLoadPromiseAndParser(t,p)),H[p.src]=await this.promiseCache[t].promise,g&&g(++m/n)}catch(g){throw delete this.promiseCache[t],delete H[p.src],new Error(`[Loader.load] Failed to load ${t}.\n${g}`)}}));return await Promise.all(q),t?H[h[0].src]:H}async unload(p){const g=k(p,(p=>({alias:[p],src:p}))).map((async p=>{var g,m;const H=Z.Wp.path.toAbsolute(p.src),t=this.promiseCache[H];if(t){const Z=await t.promise;delete this.promiseCache[H],null===(m=null===(g=t.parser)||void 0===g?void 0:g.unload)||void 0===m||m.call(g,Z,p,this)}}));await Promise.all(g)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((p=>p.name)).reduce(((p,g)=>(p[g.name]&&console.warn(`[Assets] loadParser name conflict "${g.name}"`),{...p,[g.name]:g})),{})}}var D=(p=>(p[p.Low=0]="Low",p[p.Normal=1]="Normal",p[p.High=2]="High",p))(D||{});function I(p,g){if(Array.isArray(g)){for(const m of g)if(p.startsWith(`data:${m}`))return!0;return!1}return p.startsWith(`data:${g}`)}const b=".json",e="application/json",N={extension:{type:Z.Ag.LoadParser,priority:D.Low},name:"loadJson",test:p=>I(p,e)||h(p,b),load:async p=>await(await Z.W0.ADAPTER.fetch(p)).json()};Z.XO.add(N);const d=".txt",Q="text/plain",$={name:"loadTxt",extension:{type:Z.Ag.LoadParser,priority:D.Low},test:p=>I(p,Q)||h(p,d),load:async p=>await(await Z.W0.ADAPTER.fetch(p)).text()};Z.XO.add($);const w=["normal","bold","100","200","300","400","500","600","700","800","900"],Y=[".ttf",".otf",".woff",".woff2"],i=["font/ttf","font/otf","font/woff","font/woff2"],P=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i,J=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,y={extension:{type:Z.Ag.LoadParser,priority:D.Low},name:"loadWebFont",test:p=>I(p,i)||h(p,Y),async load(p,g){var m,H,t,h,k,n;const S=Z.W0.ADAPTER.getFontFaceSet();if(S){const D=[],I=null!==(H=null===(m=g.data)||void 0===m?void 0:m.family)&&void 0!==H?H:function(p){const g=Z.Wp.path.extname(p),m=Z.Wp.path.basename(p,g).replace(/(-|_)/g," ").toLowerCase().split(" ").map((p=>p.charAt(0).toUpperCase()+p.slice(1)));let H=m.length>0;for(const p of m)if(!p.match(P)){H=!1;break}let t=m.join(" ");return H||(t=`"${t.replace(/[\\"]/g,"\\$&")}"`),t}(p),b=null!==(k=null===(h=null===(t=g.data)||void 0===t?void 0:t.weights)||void 0===h?void 0:h.filter((p=>w.includes(p))))&&void 0!==k?k:["normal"],e=null!==(n=g.data)&&void 0!==n?n:{};for(let g=0;g<b.length;g++){const m=b[g],Z=new FontFace(I,`url(${q=p,J.test(q)?q:encodeURI(q)})`,{...e,weight:m});await Z.load(),S.add(Z),D.push(Z)}return 1===D.length?D[0]:D}var q;return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(p){(Array.isArray(p)?p:[p]).forEach((p=>Z.W0.ADAPTER.getFontFaceSet().delete(p)))}};Z.XO.add(y);let W,v=0;const V={id:"checkImageBitmap",code:`\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('${"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="}');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    `},z={id:"loadImageBitmap",code:`\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`\n                + \`\${response.status} \${response.statusText}\`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };`};let B;const u=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((p=>{const g=URL.createObjectURL(new Blob([V.code],{type:"application/javascript"})),m=new Worker(g);m.addEventListener("message",(Z=>{m.terminate(),URL.revokeObjectURL(g),p(Z.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(p){return this._run("loadImageBitmap",[p])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===W&&(W=navigator.hardwareConcurrency||4);let p=this.workerPool.pop();return!p&&this._createdWorkers<W&&(B||(B=URL.createObjectURL(new Blob([z.code],{type:"application/javascript"}))),this._createdWorkers++,p=new Worker(B),p.addEventListener("message",(p=>{this.complete(p.data),this.returnWorker(p.target),this.next()}))),p}returnWorker(p){this.workerPool.push(p)}complete(p){void 0!==p.error?this.resolveHash[p.uuid].reject(p.error):this.resolveHash[p.uuid].resolve(p.data),this.resolveHash[p.uuid]=null}async _run(p,g){await this._initWorkers();const m=new Promise(((m,Z)=>{this.queue.push({id:p,arguments:g,resolve:m,reject:Z})}));return this.next(),m}next(){if(!this.queue.length)return;const p=this.getWorker();if(!p)return;const g=this.queue.pop(),m=g.id;this.resolveHash[v]={resolve:g.resolve,reject:g.reject},p.postMessage({data:g.arguments,uuid:v++,id:m})}};function a(p,g,m){p.resource.internal=!0;const H=new Z.gP(p),t=()=>{delete g.promiseCache[m],n.has(m)&&n.remove(m)};return H.baseTexture.once("destroyed",(()=>{m in g.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),t())})),H.once("destroyed",(()=>{p.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),t())})),H}const F=[".jpeg",".jpg",".png",".webp",".avif"],X=["image/jpeg","image/png","image/webp","image/avif"],K={name:"loadTextures",extension:{type:Z.Ag.LoadParser,priority:D.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:p=>I(p,X)||h(p,F),async load(p,g,m){var H,t;const h=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let k;k=h?this.config.preferWorkers&&await u.isImageBitmapSupported()?await u.loadImageBitmap(p):await async function(p){const g=await Z.W0.ADAPTER.fetch(p);if(!g.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${p}: ${g.status} ${g.statusText}`);const m=await g.blob();return await createImageBitmap(m)}(p):await new Promise(((g,m)=>{const Z=new Image;Z.crossOrigin=this.config.crossOrigin,Z.src=p,Z.complete?g(Z):(Z.onload=()=>g(Z),Z.onerror=p=>m(p))}));const n={...g.data};null!==(H=n.resolution)&&void 0!==H||(n.resolution=Z.Wp.getResolutionOfUrl(p)),h&&void 0===(null===(t=n.resourceOptions)||void 0===t?void 0:t.ownsImageBitmap)&&(n.resourceOptions={...n.resourceOptions},n.resourceOptions.ownsImageBitmap=!0);const S=new Z.t5(k,n);return S.resource.src=p,a(S,m,p)},unload(p){p.destroy(!0)}};Z.XO.add(K);const j=".svg",r="image/svg+xml",U={extension:{type:Z.Ag.LoadParser,priority:D.High},name:"loadSVG",test:p=>I(p,r)||h(p,j),testParse:async p=>Z.$f.test(p),async parse(p,g,m){var H;const t=new Z.$f(p,null===(H=null==g?void 0:g.data)||void 0===H?void 0:H.resourceOptions);await t.load();const h=new Z.t5(t,{resolution:Z.Wp.getResolutionOfUrl(p),...null==g?void 0:g.data});return h.resource.src=g.src,a(h,m,g.src)},load:async(p,g)=>(await Z.W0.ADAPTER.fetch(p)).text(),unload:K.unload};Z.XO.add(U);const C=[".mp4",".m4v",".webm",".ogv"],x=["video/mp4","video/webm","video/ogg"],R={name:"loadVideo",extension:{type:Z.Ag.LoadParser,priority:D.High},config:{defaultAutoPlay:!0},test:p=>I(p,x)||h(p,C),async load(p,g,m){var H;let t;const h=await(await Z.W0.ADAPTER.fetch(p)).blob(),k=URL.createObjectURL(h);try{const h={autoPlay:this.config.defaultAutoPlay,...null===(H=null==g?void 0:g.data)||void 0===H?void 0:H.resourceOptions},n=new Z.A5(k,h);await n.load();const S=new Z.t5(n,{alphaMode:await Z.Wp.detectVideoAlphaMode(),resolution:Z.Wp.getResolutionOfUrl(p),...null==g?void 0:g.data});S.resource.src=p,t=a(S,m,p),t.baseTexture.once("destroyed",(()=>{URL.revokeObjectURL(k)}))}catch(p){throw URL.revokeObjectURL(k),p}return t},unload(p){p.destroy(!0)}};function c(p,g,m,Z,H){const t=g[m];for(let h=0;h<t.length;h++){const k=t[h];m<g.length-1?c(p.replace(Z[m],k),g,m+1,Z,H):H.push(p.replace(Z[m],k))}}function O(p){const g=p.match(/\{(.*?)\}/g),m=[];if(g){const Z=[];g.forEach((p=>{const g=p.substring(1,p.length-1).split(",");Z.push(g)})),c(p,Z,0,g,m)}else m.push(p);return m}Z.XO.add(R);class f{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(p,g)=>`${p}${this._bundleIdConnector}${g}`,extractAssetIdFromBundle:(p,g)=>g.replace(`${p}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(p){var g,m,Z;if(this._bundleIdConnector=null!==(g=p.connector)&&void 0!==g?g:this._bundleIdConnector,this._createBundleAssetId=null!==(m=p.createBundleAssetId)&&void 0!==m?m:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(Z=p.extractAssetIdFromBundle)&&void 0!==Z?Z:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...p){p.forEach((p=>{this._preferredOrder.push(p),p.priority||(p.priority=Object.keys(p.params))})),this._resolverHash={}}set basePath(p){this._basePath=p}get basePath(){return this._basePath}set rootPath(p){this._rootPath=p}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(p){if("string"==typeof p)this._defaultSearchParams=p;else{const g=p;this._defaultSearchParams=Object.keys(g).map((p=>`${encodeURIComponent(p)}=${encodeURIComponent(g[p])}`)).join("&")}}getAlias(p){const{alias:g,name:m,src:Z,srcs:H}=p;return k(g||m||Z||H,(p=>{var g;return"string"==typeof p?p:Array.isArray(p)?p.map((p=>{var g,m;return null!==(m=null!==(g=null==p?void 0:p.src)&&void 0!==g?g:null==p?void 0:p.srcs)&&void 0!==m?m:p})):(null==p?void 0:p.src)||(null==p?void 0:p.srcs)?null!==(g=p.src)&&void 0!==g?g:p.srcs:p}),!0)}addManifest(p){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=p,p.bundles.forEach((p=>{this.addBundle(p.name,p.assets)}))}addBundle(p,g){const m=[];Array.isArray(g)?g.forEach((g=>{var Z,H;const t=null!==(Z=g.src)&&void 0!==Z?Z:g.srcs,h=null!==(H=g.alias)&&void 0!==H?H:g.name;let k;if("string"==typeof h){const g=this._createBundleAssetId(p,h);m.push(g),k=[h,g]}else{const g=h.map((g=>this._createBundleAssetId(p,g)));m.push(...g),k=[...h,...g]}this.add({...g,alias:k,src:t})})):Object.keys(g).forEach((Z=>{var H;const t=[Z,this._createBundleAssetId(p,Z)];if("string"==typeof g[Z])this.add({alias:t,src:g[Z]});else if(Array.isArray(g[Z]))this.add({alias:t,src:g[Z]});else{const p=g[Z],m=null!==(H=p.src)&&void 0!==H?H:p.srcs;this.add({...p,alias:t,src:Array.isArray(m)?m:[m]})}m.push(...t)})),this._bundles[p]=m}add(p,g,m,H,t){const h=[];let n;"string"==typeof p||Array.isArray(p)&&"string"==typeof p[0]?(Z.Wp.deprecation("7.2.0",`Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:p,src:g,data:m,format:H,loadParser:t})):Array.isArray(p)?h.push(...p):h.push(p),n=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},k(h).forEach((p=>{const{src:g,srcs:m}=p;let{data:Z,format:H,loadParser:t}=p;const h=k(g||m).map((p=>"string"==typeof p?O(p):Array.isArray(p)?p:[p])),S=this.getAlias(p);Array.isArray(S)?S.forEach(n):n(S);const q=[];h.forEach((p=>{p.forEach((p=>{var g,m,h;let k={};if("object"!=typeof p){k.src=p;for(let g=0;g<this._parsers.length;g++){const m=this._parsers[g];if(m.test(p)){k=m.parse(p);break}}}else Z=null!==(g=p.data)&&void 0!==g?g:Z,H=null!==(m=p.format)&&void 0!==m?m:H,t=null!==(h=p.loadParser)&&void 0!==h?h:t,k={...k,...p};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${k.src}`);k=this.buildResolvedAsset(k,{aliases:S,data:Z,format:H,loadParser:t}),q.push(k)}))})),S.forEach((p=>{this._assetMap[p]=q}))}))}resolveBundle(p){const g=S(p);p=k(p);const m={};return p.forEach((p=>{const g=this._bundles[p];if(g){const Z=this.resolve(g),H={};for(const g in Z){const m=Z[g];H[this._extractAssetIdFromBundle(p,g)]=m}m[p]=H}})),g?m[p[0]]:m}resolveUrl(p){const g=this.resolve(p);if("string"!=typeof p){const p={};for(const m in g)p[m]=g[m].src;return p}return g.src}resolve(p){const g=S(p);p=k(p);const m={};return p.forEach((p=>{var g;if(!this._resolverHash[p])if(this._assetMap[p]){let m=this._assetMap[p];const Z=m[0],H=this._getPreferredOrder(m);null==H||H.priority.forEach((p=>{H.params[p].forEach((g=>{const Z=m.filter((m=>!!m[p]&&m[p]===g));Z.length&&(m=Z)}))})),this._resolverHash[p]=null!==(g=m[0])&&void 0!==g?g:Z}else this._resolverHash[p]=this.buildResolvedAsset({alias:[p],src:p},{});m[p]=this._resolverHash[p]})),g?m[p[0]]:m}hasKey(p){return!!this._assetMap[p]}hasBundle(p){return!!this._bundles[p]}_getPreferredOrder(p){for(let g=0;g<p.length;g++){const g=p[0],m=this._preferredOrder.find((p=>p.params.format.includes(g.format)));if(m)return m}return this._preferredOrder[0]}_appendDefaultSearchParams(p){return this._defaultSearchParams?`${p}${/\?/.test(p)?"&":"?"}${this._defaultSearchParams}`:p}buildResolvedAsset(p,g){var m;const{aliases:H,data:t,loadParser:h,format:k}=g;return(this._basePath||this._rootPath)&&(p.src=Z.Wp.path.toAbsolute(p.src,this._basePath,this._rootPath)),p.alias=null!==(m=null!=H?H:p.alias)&&void 0!==m?m:[p.src],p.src=this._appendDefaultSearchParams(p.src),p.data={...t||{},...p.data},p.loadParser=null!=h?h:p.loadParser,p.format=null!=k?k:Z.Wp.path.extname(p.src).slice(1),p.srcs=p.src,p.name=p.alias,p}}const _=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new f,this.loader=new q,this.cache=n,this._backgroundLoader=new t(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(p={}){var g,m,Z;if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,p.defaultSearchParams&&this.resolver.setDefaultSearchParams(p.defaultSearchParams),p.basePath&&(this.resolver.basePath=p.basePath),p.bundleIdentifier&&this.resolver.setBundleIdentifier(p.bundleIdentifier),p.manifest){let g=p.manifest;"string"==typeof g&&(g=await this.load(g)),this.resolver.addManifest(g)}const H=null!==(m=null===(g=p.texturePreference)||void 0===g?void 0:g.resolution)&&void 0!==m?m:1,t="number"==typeof H?[H]:H,h=await this._detectFormats({preferredFormats:null===(Z=p.texturePreference)||void 0===Z?void 0:Z.format,skipDetections:p.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:h,resolution:t}}),p.preferences&&this.setPreferences(p.preferences)}add(p,g,m,Z,H){this.resolver.add(p,g,m,Z,H)}async load(p,g){this._initialized||await this.init();const m=S(p),Z=k(p).map((p=>{if("string"!=typeof p){const g=this.resolver.getAlias(p);return g.some((p=>!this.resolver.hasKey(p)))&&this.add(p),Array.isArray(g)?g[0]:g}return this.resolver.hasKey(p)||this.add({alias:p,src:p}),p})),H=this.resolver.resolve(Z),t=await this._mapLoadToResolve(H,g);return m?t[Z[0]]:t}addBundle(p,g){this.resolver.addBundle(p,g)}async loadBundle(p,g){this._initialized||await this.init();let m=!1;"string"==typeof p&&(m=!0,p=[p]);const Z=this.resolver.resolveBundle(p),H={},t=Object.keys(Z);let h=0,k=0;const n=()=>{null==g||g(++h/k)},S=t.map((p=>{const g=Z[p];return k+=Object.keys(g).length,this._mapLoadToResolve(g,n).then((g=>{H[p]=g}))}));return await Promise.all(S),m?H[p[0]]:H}async backgroundLoad(p){this._initialized||await this.init(),"string"==typeof p&&(p=[p]);const g=this.resolver.resolve(p);this._backgroundLoader.add(Object.values(g))}async backgroundLoadBundle(p){this._initialized||await this.init(),"string"==typeof p&&(p=[p]);const g=this.resolver.resolveBundle(p);Object.values(g).forEach((p=>{this._backgroundLoader.add(Object.values(p))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(p){if("string"==typeof p)return n.get(p);const g={};for(let m=0;m<p.length;m++)g[m]=n.get(p[m]);return g}async _mapLoadToResolve(p,g){const m=Object.values(p),Z=Object.keys(p);this._backgroundLoader.active=!1;const H=await this.loader.load(m,g);this._backgroundLoader.active=!0;const t={};return m.forEach(((p,g)=>{const m=H[p.src],h=[p.src];p.alias&&h.push(...p.alias),t[Z[g]]=m,n.set(h,m)})),t}async unload(p){this._initialized||await this.init();const g=k(p).map((p=>"string"!=typeof p?p.src:p)),m=this.resolver.resolve(g);await this._unloadFromResolved(m)}async unloadBundle(p){this._initialized||await this.init(),p=k(p);const g=this.resolver.resolveBundle(p),m=Object.keys(g).map((p=>this._unloadFromResolved(g[p])));await Promise.all(m)}async _unloadFromResolved(p){const g=Object.values(p);g.forEach((p=>{n.remove(p.src)})),await this.loader.unload(g)}async _detectFormats(p){let g=[];p.preferredFormats&&(g=Array.isArray(p.preferredFormats)?p.preferredFormats:[p.preferredFormats]);for(const m of p.detections)p.skipDetections||await m.test()?g=await m.add(g):p.skipDetections||(g=await m.remove(g));return g=g.filter(((p,m)=>g.indexOf(p)===m)),g}get detections(){return this._detections}get preferWorkers(){return K.config.preferWorkers}set preferWorkers(p){Z.Wp.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:p})}setPreferences(p){this.loader.parsers.forEach((g=>{g.config&&Object.keys(g.config).filter((g=>g in p)).forEach((m=>{g.config[m]=p[m]}))}))}};Z.XO.handleByList(Z.Ag.LoadParser,_.loader.parsers).handleByList(Z.Ag.ResolveParser,_.resolver.parsers).handleByList(Z.Ag.CacheParser,_.cache.parsers).handleByList(Z.Ag.DetectionParser,_.detections);const E={extension:Z.Ag.CacheParser,test:p=>Array.isArray(p)&&p.every((p=>p instanceof Z.gP)),getCacheableAssets:(p,g)=>{const m={};return p.forEach((p=>{g.forEach(((g,Z)=>{m[p+(0===Z?"":Z+1)]=g}))})),m}};async function G(p){if("Image"in globalThis)return new Promise((g=>{const m=new Image;m.onload=()=>{g(!0)},m.onerror=()=>{g(!1)},m.src=p}));if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const g=await(await fetch(p)).blob();await createImageBitmap(g)}catch(p){return!1}return!0}return!1}Z.XO.add(E);const M={extension:{type:Z.Ag.DetectionParser,priority:1},test:async()=>G("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async p=>[...p,"avif"],remove:async p=>p.filter((p=>"avif"!==p))};Z.XO.add(M);const s={extension:{type:Z.Ag.DetectionParser,priority:0},test:async()=>G("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async p=>[...p,"webp"],remove:async p=>p.filter((p=>"webp"!==p))};Z.XO.add(s);const T=["png","jpg","jpeg"],l={extension:{type:Z.Ag.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async p=>[...p,...T],remove:async p=>p.filter((p=>!T.includes(p)))};Z.XO.add(l);const A="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function L(p){return!A&&""!==document.createElement("video").canPlayType(p)}const o={extension:{type:Z.Ag.DetectionParser,priority:0},test:async()=>L("video/webm"),add:async p=>[...p,"webm"],remove:async p=>p.filter((p=>"webm"!==p))};Z.XO.add(o);const pp={extension:{type:Z.Ag.DetectionParser,priority:0},test:async()=>L("video/mp4"),add:async p=>[...p,"mp4","m4v"],remove:async p=>p.filter((p=>"mp4"!==p&&"m4v"!==p))};Z.XO.add(pp);const gp={extension:{type:Z.Ag.DetectionParser,priority:0},test:async()=>L("video/ogg"),add:async p=>[...p,"ogv"],remove:async p=>p.filter((p=>"ogv"!==p))};Z.XO.add(gp);const mp={extension:Z.Ag.ResolveParser,test:K.test,parse:p=>{var g,m;return{resolution:parseFloat(null!==(m=null===(g=Z.W0.RETINA_PREFIX.exec(p))||void 0===g?void 0:g[1])&&void 0!==m?m:"1"),format:Z.Wp.path.extname(p).slice(1),src:p}}};Z.XO.add(mp);var Zp=m(116387)},116387:(p,g,m)=>{m.d(g,{Y:()=>Z});const Z=(p,g)=>{const m=g.split("?")[1];return m&&(p+=`?${m}`),p}},817798:(p,g,m)=>{m.d(g,{Q:()=>a});var Z={grad:.9,turn:360,rad:360/(2*Math.PI)},H=function(p){return"string"==typeof p?p.length>0:"number"==typeof p},t=function(p,g,m){return void 0===g&&(g=0),void 0===m&&(m=Math.pow(10,g)),Math.round(m*p)/m+0},h=function(p,g,m){return void 0===g&&(g=0),void 0===m&&(m=1),p>m?m:p>g?p:g},k=function(p){return(p=isFinite(p)?p%360:0)>0?p:p+360},n=function(p){return{r:h(p.r,0,255),g:h(p.g,0,255),b:h(p.b,0,255),a:h(p.a)}},S=function(p){return{r:t(p.r),g:t(p.g),b:t(p.b),a:t(p.a,3)}},q=/^#([0-9a-f]{3,8})$/i,D=function(p){var g=p.toString(16);return g.length<2?"0"+g:g},I=function(p){var g=p.r,m=p.g,Z=p.b,H=p.a,t=Math.max(g,m,Z),h=t-Math.min(g,m,Z),k=h?t===g?(m-Z)/h:t===m?2+(Z-g)/h:4+(g-m)/h:0;return{h:60*(k<0?k+6:k),s:t?h/t*100:0,v:t/255*100,a:H}},b=function(p){var g=p.h,m=p.s,Z=p.v,H=p.a;g=g/360*6,m/=100,Z/=100;var t=Math.floor(g),h=Z*(1-m),k=Z*(1-(g-t)*m),n=Z*(1-(1-g+t)*m),S=t%6;return{r:255*[Z,k,h,h,n,Z][S],g:255*[n,Z,Z,k,h,h][S],b:255*[h,h,n,Z,Z,k][S],a:H}},e=function(p){return{h:k(p.h),s:h(p.s,0,100),l:h(p.l,0,100),a:h(p.a)}},N=function(p){return{h:t(p.h),s:t(p.s),l:t(p.l),a:t(p.a,3)}},d=function(p){return b((m=(g=p).s,{h:g.h,s:(m*=((Z=g.l)<50?Z:100-Z)/100)>0?2*m/(Z+m)*100:0,v:Z+m,a:g.a}));var g,m,Z},Q=function(p){return{h:(g=I(p)).h,s:(H=(200-(m=g.s))*(Z=g.v)/100)>0&&H<200?m*Z/100/(H<=100?H:200-H)*100:0,l:H/2,a:g.a};var g,m,Z,H},$=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,i=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P={string:[[function(p){var g=q.exec(p);return g?(p=g[1]).length<=4?{r:parseInt(p[0]+p[0],16),g:parseInt(p[1]+p[1],16),b:parseInt(p[2]+p[2],16),a:4===p.length?t(parseInt(p[3]+p[3],16)/255,2):1}:6===p.length||8===p.length?{r:parseInt(p.substr(0,2),16),g:parseInt(p.substr(2,2),16),b:parseInt(p.substr(4,2),16),a:8===p.length?t(parseInt(p.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(p){var g=Y.exec(p)||i.exec(p);return g?g[2]!==g[4]||g[4]!==g[6]?null:n({r:Number(g[1])/(g[2]?100/255:1),g:Number(g[3])/(g[4]?100/255:1),b:Number(g[5])/(g[6]?100/255:1),a:void 0===g[7]?1:Number(g[7])/(g[8]?100:1)}):null},"rgb"],[function(p){var g=$.exec(p)||w.exec(p);if(!g)return null;var m,H,t=e({h:(m=g[1],H=g[2],void 0===H&&(H="deg"),Number(m)*(Z[H]||1)),s:Number(g[3]),l:Number(g[4]),a:void 0===g[5]?1:Number(g[5])/(g[6]?100:1)});return d(t)},"hsl"]],object:[[function(p){var g=p.r,m=p.g,Z=p.b,t=p.a,h=void 0===t?1:t;return H(g)&&H(m)&&H(Z)?n({r:Number(g),g:Number(m),b:Number(Z),a:Number(h)}):null},"rgb"],[function(p){var g=p.h,m=p.s,Z=p.l,t=p.a,h=void 0===t?1:t;if(!H(g)||!H(m)||!H(Z))return null;var k=e({h:Number(g),s:Number(m),l:Number(Z),a:Number(h)});return d(k)},"hsl"],[function(p){var g=p.h,m=p.s,Z=p.v,t=p.a,n=void 0===t?1:t;if(!H(g)||!H(m)||!H(Z))return null;var S=function(p){return{h:k(p.h),s:h(p.s,0,100),v:h(p.v,0,100),a:h(p.a)}}({h:Number(g),s:Number(m),v:Number(Z),a:Number(n)});return b(S)},"hsv"]]},J=function(p,g){for(var m=0;m<g.length;m++){var Z=g[m][0](p);if(Z)return[Z,g[m][1]]}return[null,void 0]},y=function(p,g){var m=Q(p);return{h:m.h,s:h(m.s+100*g,0,100),l:m.l,a:m.a}},W=function(p){return(299*p.r+587*p.g+114*p.b)/1e3/255},v=function(p,g){var m=Q(p);return{h:m.h,s:m.s,l:h(m.l+100*g,0,100),a:m.a}},V=function(){function p(p){this.parsed=function(p){return"string"==typeof p?J(p.trim(),P.string):"object"==typeof p&&null!==p?J(p,P.object):[null,void 0]}(p)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return p.prototype.isValid=function(){return null!==this.parsed},p.prototype.brightness=function(){return t(W(this.rgba),2)},p.prototype.isDark=function(){return W(this.rgba)<.5},p.prototype.isLight=function(){return W(this.rgba)>=.5},p.prototype.toHex=function(){return g=(p=S(this.rgba)).r,m=p.g,Z=p.b,h=(H=p.a)<1?D(t(255*H)):"","#"+D(g)+D(m)+D(Z)+h;var p,g,m,Z,H,h},p.prototype.toRgb=function(){return S(this.rgba)},p.prototype.toRgbString=function(){return g=(p=S(this.rgba)).r,m=p.g,Z=p.b,(H=p.a)<1?"rgba("+g+", "+m+", "+Z+", "+H+")":"rgb("+g+", "+m+", "+Z+")";var p,g,m,Z,H},p.prototype.toHsl=function(){return N(Q(this.rgba))},p.prototype.toHslString=function(){return g=(p=N(Q(this.rgba))).h,m=p.s,Z=p.l,(H=p.a)<1?"hsla("+g+", "+m+"%, "+Z+"%, "+H+")":"hsl("+g+", "+m+"%, "+Z+"%)";var p,g,m,Z,H},p.prototype.toHsv=function(){return p=I(this.rgba),{h:t(p.h),s:t(p.s),v:t(p.v),a:t(p.a,3)};var p},p.prototype.invert=function(){return z({r:255-(p=this.rgba).r,g:255-p.g,b:255-p.b,a:p.a});var p},p.prototype.saturate=function(p){return void 0===p&&(p=.1),z(y(this.rgba,p))},p.prototype.desaturate=function(p){return void 0===p&&(p=.1),z(y(this.rgba,-p))},p.prototype.grayscale=function(){return z(y(this.rgba,-1))},p.prototype.lighten=function(p){return void 0===p&&(p=.1),z(v(this.rgba,p))},p.prototype.darken=function(p){return void 0===p&&(p=.1),z(v(this.rgba,-p))},p.prototype.rotate=function(p){return void 0===p&&(p=15),this.hue(this.hue()+p)},p.prototype.alpha=function(p){return"number"==typeof p?z({r:(g=this.rgba).r,g:g.g,b:g.b,a:p}):t(this.rgba.a,3);var g},p.prototype.hue=function(p){var g=Q(this.rgba);return"number"==typeof p?z({h:p,s:g.s,l:g.l,a:g.a}):t(g.h)},p.prototype.isEqual=function(p){return this.toHex()===z(p).toHex()},p}(),z=function(p){return p instanceof V?p:new V(p)},B=[];(function(p){p.forEach((function(p){B.indexOf(p)<0&&(p(V,P),B.push(p))}))})([function(p,g){var m={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},Z={};for(var H in m)Z[m[H]]=H;var t={};p.prototype.toName=function(g){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var H,h,k=Z[this.toHex()];if(k)return k;if(null==g?void 0:g.closest){var n=this.toRgb(),S=1/0,q="black";if(!t.length)for(var D in m)t[D]=new p(m[D]).toRgb();for(var I in m){var b=(H=n,h=t[I],Math.pow(H.r-h.r,2)+Math.pow(H.g-h.g,2)+Math.pow(H.b-h.b,2));b<S&&(S=b,q=I)}return q}},g.string.push([function(g){var Z=g.toLowerCase(),H="transparent"===Z?"#0000":m[Z];return H?new p(H).toRgb():null},"name"])}]);const u=class p{constructor(p=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=p}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(p){return this.value=p,this}set value(g){if(g instanceof p)this._value=this.cloneSource(g._value),this._int=g._int,this._components.set(g._components);else{if(null===g)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,g))&&(this.normalize(g),this._value=this.cloneSource(g))}}get value(){return this._value}cloneSource(p){return"string"==typeof p||"number"==typeof p||p instanceof Number||null===p?p:Array.isArray(p)||ArrayBuffer.isView(p)?p.slice(0):"object"==typeof p&&null!==p?{...p}:p}isSourceEqual(p,g){const m=typeof p;if(m!==typeof g)return!1;if("number"===m||"string"===m||p instanceof Number)return p===g;if(Array.isArray(p)&&Array.isArray(g)||ArrayBuffer.isView(p)&&ArrayBuffer.isView(g))return p.length===g.length&&p.every(((p,m)=>p===g[m]));if(null!==p&&null!==g){const m=Object.keys(p),Z=Object.keys(g);return m.length===Z.length&&m.every((m=>p[m]===g[m]))}return p===g}toRgba(){const[p,g,m,Z]=this._components;return{r:p,g,b:m,a:Z}}toRgb(){const[p,g,m]=this._components;return{r:p,g,b:m}}toRgbaString(){const[p,g,m]=this.toUint8RgbArray();return`rgba(${p},${g},${m},${this.alpha})`}toUint8RgbArray(p){const[g,m,Z]=this._components;return(p=null!=p?p:[])[0]=Math.round(255*g),p[1]=Math.round(255*m),p[2]=Math.round(255*Z),p}toRgbArray(p){p=null!=p?p:[];const[g,m,Z]=this._components;return p[0]=g,p[1]=m,p[2]=Z,p}toNumber(){return this._int}toLittleEndianNumber(){const p=this._int;return(p>>16)+(65280&p)+((255&p)<<16)}multiply(g){const[m,Z,H,t]=p.temp.setValue(g)._components;return this._components[0]*=m,this._components[1]*=Z,this._components[2]*=H,this._components[3]*=t,this.refreshInt(),this._value=null,this}premultiply(p,g=!0){return g&&(this._components[0]*=p,this._components[1]*=p,this._components[2]*=p),this._components[3]=p,this.refreshInt(),this._value=null,this}toPremultiplied(p,g=!0){if(1===p)return(255<<24)+this._int;if(0===p)return g?0:this._int;let m=this._int>>16&255,Z=this._int>>8&255,H=255&this._int;return g&&(m=m*p+.5|0,Z=Z*p+.5|0,H=H*p+.5|0),(255*p<<24)+(m<<16)+(Z<<8)+H}toHex(){const p=this._int.toString(16);return`#${"000000".substring(0,6-p.length)+p}`}toHexa(){const p=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-p.length)+p}setAlpha(p){return this._components[3]=this._clamp(p),this}round(p){const[g,m,Z]=this._components;return this._components[0]=Math.round(g*p)/p,this._components[1]=Math.round(m*p)/p,this._components[2]=Math.round(Z*p)/p,this.refreshInt(),this._value=null,this}toArray(p){p=null!=p?p:[];const[g,m,Z,H]=this._components;return p[0]=g,p[1]=m,p[2]=Z,p[3]=H,p}normalize(g){let m,Z,H,t;if(("number"==typeof g||g instanceof Number)&&g>=0&&g<=16777215)m=(g>>16&255)/255,Z=(g>>8&255)/255,H=(255&g)/255,t=1;else if((Array.isArray(g)||g instanceof Float32Array)&&g.length>=3&&g.length<=4)g=this._clamp(g),[m,Z,H,t=1]=g;else if((g instanceof Uint8Array||g instanceof Uint8ClampedArray)&&g.length>=3&&g.length<=4)g=this._clamp(g,0,255),[m,Z,H,t=255]=g,m/=255,Z/=255,H/=255,t/=255;else if("string"==typeof g||"object"==typeof g){if("string"==typeof g){const m=p.HEX_PATTERN.exec(g);m&&(g=`#${m[2]}`)}const h=z(g);h.isValid()&&(({r:m,g:Z,b:H,a:t}=h.rgba),m/=255,Z/=255,H/=255)}if(void 0===m)throw new Error(`Unable to convert color ${g}`);this._components[0]=m,this._components[1]=Z,this._components[2]=H,this._components[3]=t,this.refreshInt()}refreshInt(){this._clamp(this._components);const[p,g,m]=this._components;this._int=(255*p<<16)+(255*g<<8)+(255*m|0)}_clamp(p,g=0,m=1){return"number"==typeof p?Math.min(Math.max(p,g),m):(p.forEach(((Z,H)=>{p[H]=Math.min(Math.max(Z,g),m)})),p)}};u.shared=new u,u.temp=new u,u.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let a=u},424608:(p,g,m)=>{m.d(g,{B9:()=>h,E8:()=>e,Gk:()=>N,Km:()=>Z,M6:()=>I,OS:()=>Q,Pk:()=>$,QE:()=>q,XZ:()=>D,_4:()=>k,dW:()=>S,fr:()=>d,h3:()=>H,hR:()=>n,he:()=>Y,uR:()=>b,vg:()=>w,wn:()=>t,yw:()=>i});var Z=(p=>(p[p.WEBGL_LEGACY=0]="WEBGL_LEGACY",p[p.WEBGL=1]="WEBGL",p[p.WEBGL2=2]="WEBGL2",p))(Z||{}),H=(p=>(p[p.UNKNOWN=0]="UNKNOWN",p[p.WEBGL=1]="WEBGL",p[p.CANVAS=2]="CANVAS",p))(H||{}),t=(p=>(p[p.COLOR=16384]="COLOR",p[p.DEPTH=256]="DEPTH",p[p.STENCIL=1024]="STENCIL",p))(t||{}),h=(p=>(p[p.NORMAL=0]="NORMAL",p[p.ADD=1]="ADD",p[p.MULTIPLY=2]="MULTIPLY",p[p.SCREEN=3]="SCREEN",p[p.OVERLAY=4]="OVERLAY",p[p.DARKEN=5]="DARKEN",p[p.LIGHTEN=6]="LIGHTEN",p[p.COLOR_DODGE=7]="COLOR_DODGE",p[p.COLOR_BURN=8]="COLOR_BURN",p[p.HARD_LIGHT=9]="HARD_LIGHT",p[p.SOFT_LIGHT=10]="SOFT_LIGHT",p[p.DIFFERENCE=11]="DIFFERENCE",p[p.EXCLUSION=12]="EXCLUSION",p[p.HUE=13]="HUE",p[p.SATURATION=14]="SATURATION",p[p.COLOR=15]="COLOR",p[p.LUMINOSITY=16]="LUMINOSITY",p[p.NORMAL_NPM=17]="NORMAL_NPM",p[p.ADD_NPM=18]="ADD_NPM",p[p.SCREEN_NPM=19]="SCREEN_NPM",p[p.NONE=20]="NONE",p[p.SRC_OVER=0]="SRC_OVER",p[p.SRC_IN=21]="SRC_IN",p[p.SRC_OUT=22]="SRC_OUT",p[p.SRC_ATOP=23]="SRC_ATOP",p[p.DST_OVER=24]="DST_OVER",p[p.DST_IN=25]="DST_IN",p[p.DST_OUT=26]="DST_OUT",p[p.DST_ATOP=27]="DST_ATOP",p[p.ERASE=26]="ERASE",p[p.SUBTRACT=28]="SUBTRACT",p[p.XOR=29]="XOR",p))(h||{}),k=(p=>(p[p.POINTS=0]="POINTS",p[p.LINES=1]="LINES",p[p.LINE_LOOP=2]="LINE_LOOP",p[p.LINE_STRIP=3]="LINE_STRIP",p[p.TRIANGLES=4]="TRIANGLES",p[p.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",p[p.TRIANGLE_FAN=6]="TRIANGLE_FAN",p))(k||{}),n=(p=>(p[p.RGBA=6408]="RGBA",p[p.RGB=6407]="RGB",p[p.RG=33319]="RG",p[p.RED=6403]="RED",p[p.RGBA_INTEGER=36249]="RGBA_INTEGER",p[p.RGB_INTEGER=36248]="RGB_INTEGER",p[p.RG_INTEGER=33320]="RG_INTEGER",p[p.RED_INTEGER=36244]="RED_INTEGER",p[p.ALPHA=6406]="ALPHA",p[p.LUMINANCE=6409]="LUMINANCE",p[p.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",p[p.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",p[p.DEPTH_STENCIL=34041]="DEPTH_STENCIL",p))(n||{}),S=(p=>(p[p.TEXTURE_2D=3553]="TEXTURE_2D",p[p.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",p[p.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",p[p.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",p[p.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",p[p.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",p[p.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",p[p.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",p[p.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",p))(S||{}),q=(p=>(p[p.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",p[p.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",p[p.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",p[p.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",p[p.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",p[p.UNSIGNED_INT=5125]="UNSIGNED_INT",p[p.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",p[p.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",p[p.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",p[p.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",p[p.BYTE=5120]="BYTE",p[p.SHORT=5122]="SHORT",p[p.INT=5124]="INT",p[p.FLOAT=5126]="FLOAT",p[p.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",p[p.HALF_FLOAT=36193]="HALF_FLOAT",p))(q||{}),D=(p=>(p[p.FLOAT=0]="FLOAT",p[p.INT=1]="INT",p[p.UINT=2]="UINT",p))(D||{}),I=(p=>(p[p.NEAREST=0]="NEAREST",p[p.LINEAR=1]="LINEAR",p))(I||{}),b=(p=>(p[p.CLAMP=33071]="CLAMP",p[p.REPEAT=10497]="REPEAT",p[p.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",p))(b||{}),e=(p=>(p[p.OFF=0]="OFF",p[p.POW2=1]="POW2",p[p.ON=2]="ON",p[p.ON_MANUAL=3]="ON_MANUAL",p))(e||{}),N=(p=>(p[p.NPM=0]="NPM",p[p.UNPACK=1]="UNPACK",p[p.PMA=2]="PMA",p[p.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",p[p.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",p[p.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",p))(N||{}),d=(p=>(p[p.NO=0]="NO",p[p.YES=1]="YES",p[p.AUTO=2]="AUTO",p[p.BLEND=0]="BLEND",p[p.CLEAR=1]="CLEAR",p[p.BLIT=2]="BLIT",p))(d||{}),Q=(p=>(p[p.AUTO=0]="AUTO",p[p.MANUAL=1]="MANUAL",p))(Q||{}),$=(p=>(p.LOW="lowp",p.MEDIUM="mediump",p.HIGH="highp",p))($||{}),w=(p=>(p[p.NONE=0]="NONE",p[p.SCISSOR=1]="SCISSOR",p[p.STENCIL=2]="STENCIL",p[p.SPRITE=3]="SPRITE",p[p.COLOR=4]="COLOR",p))(w||{}),Y=(p=>(p[p.NONE=0]="NONE",p[p.LOW=2]="LOW",p[p.MEDIUM=4]="MEDIUM",p[p.HIGH=8]="HIGH",p))(Y||{}),i=(p=>(p[p.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",p[p.ARRAY_BUFFER=34962]="ARRAY_BUFFER",p[p.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",p))(i||{})},23431:(p,g,m)=>{m.d(g,{L:()=>Z});class Z{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let p=0;p<this.count;p++)this.elements[p]=null;this.count=0}}},294485:(p,g,m)=>{m.d(g,{P:()=>Z});class Z{constructor(p){this.renderer=p}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(p){}}},391966:(p,g,m)=>{m.d(g,{E:()=>H,M:()=>Z});const Z=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,H=`attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n`},665816:(p,g,m)=>{m.d(g,{u:()=>Z});class Z{constructor(p){"number"==typeof p?this.rawBinaryData=new ArrayBuffer(p):p instanceof Uint8Array?this.rawBinaryData=p.buffer:this.rawBinaryData=p,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(p){return this[`${p}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(p){switch(p){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${p} isn't a valid view type`)}}}},316197:(p,g,m)=>{m.d(g,{Gk:()=>Z.Gk,B9:()=>Z.B9,t5:()=>W,hq:()=>v,JH:()=>j,cc:()=>tp.L,hp:()=>z,dZ:()=>P,fr:()=>Z.fr,jl:()=>r.jl,Q1:()=>h.Q,Td:()=>r.Td,_4:()=>Z._4,Pp:()=>r.Pp,Ag:()=>k.A,hR:()=>Z.hR,dJ:()=>ep,V2:()=>K,vg:()=>Z.vg,E8:()=>Z.E8,uq:()=>r.uq,Pt:()=>hp.P,oA:()=>r.oA,TO:()=>r.TO,bR:()=>r.bR,tS:()=>r.tS,BP:()=>pp,X1:()=>up,bO:()=>r.bO,M_:()=>r.M_,Y7:()=>Vp,A4:()=>_g,TE:()=>r.TE,M6:()=>Z.M6,HY:()=>r.HY,$f:()=>lg,Mt:()=>Zp,Uw:()=>Q,QE:()=>Z.QE,gP:()=>vp,NW:()=>cp,Rv:()=>jg.Rv,dL:()=>r.dL,dQ:()=>jg.dQ,k2:()=>mp,A5:()=>Lg,u3:()=>n.u,uR:()=>Z.uR,q5:()=>Ug,Eo:()=>Cg.E,MT:()=>Cg.M,XO:()=>k.X,W0:()=>H.W0,Wp:()=>t});var Z=m(424608),H=m(968381),t=m(578351),h=m(817798),k=m(738637),n=m(665816);const S=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`\n`);function q(p){let g="";for(let m=0;m<p;++m)m>0&&(g+=`\nelse `),m<p-1&&(g+=`if(test == ${m}.0){}`);return g}const D=0,I=1,b=2,e=3,N=4,d=5;class Q{constructor(){this.data=0,this.blendMode=Z.B9.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<D)}set blend(p){!!(this.data&1<<D)!==p&&(this.data^=1<<D)}get offsets(){return!!(this.data&1<<I)}set offsets(p){!!(this.data&1<<I)!==p&&(this.data^=1<<I)}get culling(){return!!(this.data&1<<b)}set culling(p){!!(this.data&1<<b)!==p&&(this.data^=1<<b)}get depthTest(){return!!(this.data&1<<e)}set depthTest(p){!!(this.data&1<<e)!==p&&(this.data^=1<<e)}get depthMask(){return!!(this.data&1<<d)}set depthMask(p){!!(this.data&1<<d)!==p&&(this.data^=1<<d)}get clockwiseFrontFace(){return!!(this.data&1<<N)}set clockwiseFrontFace(p){!!(this.data&1<<N)!==p&&(this.data^=1<<N)}get blendMode(){return this._blendMode}set blendMode(p){this.blend=p!==Z.B9.NONE,this._blendMode=p}get polygonOffset(){return this._polygonOffset}set polygonOffset(p){this.offsets=!!p,this._polygonOffset=p}static for2d(){const p=new Q;return p.depthTest=!1,p.blend=!0,p}}Q.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const $=[];function w(p,g){if(!p)return null;let m="";if("string"==typeof p){const g=/\.(\w{3,4})(?:$|\?|#)/i.exec(p);g&&(m=g[1].toLowerCase())}for(let Z=$.length-1;Z>=0;--Z){const H=$[Z];if(H.test&&H.test(p,m))return new H(p,g)}throw new Error("Unrecognized source type to auto-detect Resource")}class Y{constructor(p){this.items=[],this._name=p,this._aliasCount=0}emit(p,g,m,Z,H,t,h,k){if(arguments.length>8)throw new Error("max arguments reached");const{name:n,items:S}=this;this._aliasCount++;for(let q=0,D=S.length;q<D;q++)S[q][n](p,g,m,Z,H,t,h,k);return S===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(p){return p[this._name]&&(this.ensureNonAliasedItems(),this.remove(p),this.items.push(p)),this}remove(p){const g=this.items.indexOf(p);return-1!==g&&(this.ensureNonAliasedItems(),this.items.splice(g,1)),this}contains(p){return this.items.includes(p)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(Y.prototype,{dispatch:{value:Y.prototype.emit},run:{value:Y.prototype.emit}});class i{constructor(p=0,g=0){this._width=p,this._height=g,this.destroyed=!1,this.internal=!1,this.onResize=new Y("setRealSize"),this.onUpdate=new Y("update"),this.onError=new Y("onError")}bind(p){this.onResize.add(p),this.onUpdate.add(p),this.onError.add(p),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(p){this.onResize.remove(p),this.onUpdate.remove(p),this.onError.remove(p)}resize(p,g){(p!==this._width||g!==this._height)&&(this._width=p,this._height=g,this.onResize.emit(p,g))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(p,g,m){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(p,g){return!1}}class P extends i{constructor(p,g){var m;const{width:Z,height:H}=g||{};if(!Z||!H)throw new Error("BufferResource width or height invalid");super(Z,H),this.data=p,this.unpackAlignment=null!==(m=g.unpackAlignment)&&void 0!==m?m:4}upload(p,g,m){const H=p.gl;H.pixelStorei(H.UNPACK_ALIGNMENT,this.unpackAlignment),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g.alphaMode===Z.Gk.UNPACK);const t=g.realWidth,h=g.realHeight;return m.width===t&&m.height===h?H.texSubImage2D(g.target,0,0,0,t,h,g.format,m.type,this.data):(m.width=t,m.height=h,H.texImage2D(g.target,0,m.internalFormat,t,h,0,g.format,m.type,this.data)),!0}dispose(){this.data=null}static test(p){return null===p||p instanceof Int8Array||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array}}const J={scaleMode:Z.M6.NEAREST,alphaMode:Z.Gk.NPM},y=class p extends t.EventEmitter{constructor(g=null,m=null){super(),m=Object.assign({},p.defaultOptions,m);const{alphaMode:Z,mipmap:h,anisotropicLevel:k,scaleMode:n,width:S,height:q,wrapMode:D,format:I,type:b,target:e,resolution:N,resourceOptions:d}=m;g&&!(g instanceof i)&&((g=w(g,d)).internal=!0),this.resolution=N||H.W0.RESOLUTION,this.width=Math.round((S||0)*this.resolution)/this.resolution,this.height=Math.round((q||0)*this.resolution)/this.resolution,this._mipmap=h,this.anisotropicLevel=k,this._wrapMode=D,this._scaleMode=n,this.format=I,this.type=b,this.target=e,this.alphaMode=Z,this.uid=t.uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=S>0&&q>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(g)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(p){this._mipmap!==p&&(this._mipmap=p,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(p){this._scaleMode!==p&&(this._scaleMode=p,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(p){this._wrapMode!==p&&(this._wrapMode=p,this.dirtyStyleId++)}setStyle(p,g){let m;return void 0!==p&&p!==this.scaleMode&&(this.scaleMode=p,m=!0),void 0!==g&&g!==this.mipmap&&(this.mipmap=g,m=!0),m&&this.dirtyStyleId++,this}setSize(p,g,m){return m=m||this.resolution,this.setRealSize(p*m,g*m,m)}setRealSize(p,g,m){return this.resolution=m||this.resolution,this.width=Math.round(p)/this.resolution,this.height=Math.round(g)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=t.isPow2(this.realWidth)&&t.isPow2(this.realHeight)}setResolution(p){const g=this.resolution;return g===p||(this.resolution=p,this.valid&&(this.width=Math.round(this.width*g)/p,this.height=Math.round(this.height*g)/p,this.emit("update",this)),this._refreshPOT()),this}setResource(p){if(this.resource===p)return this;if(this.resource)throw new Error("Resource can be set only once");return p.bind(this),this.resource=p,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(p){this.emit("error",this,p)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete t.BaseTextureCache[this.cacheId],delete t.TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),p.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(g,m,Z=H.W0.STRICT_TEXTURE_CACHE){const h="string"==typeof g;let k=null;if(h)k=g;else{if(!g._pixiId){const p=(null==m?void 0:m.pixiIdPrefix)||"pixiid";g._pixiId=`${p}_${t.uid()}`}k=g._pixiId}let n=t.BaseTextureCache[k];if(h&&Z&&!n)throw new Error(`The cacheId "${k}" does not exist in BaseTextureCache.`);return n||(n=new p(g,m),n.cacheId=k,p.addToCache(n,k)),n}static fromBuffer(g,m,H,t){g=g||new Float32Array(m*H*4);const h=new P(g,{width:m,height:H,...null==t?void 0:t.resourceOptions});let k,n;return g instanceof Float32Array?(k=Z.hR.RGBA,n=Z.QE.FLOAT):g instanceof Int32Array?(k=Z.hR.RGBA_INTEGER,n=Z.QE.INT):g instanceof Uint32Array?(k=Z.hR.RGBA_INTEGER,n=Z.QE.UNSIGNED_INT):g instanceof Int16Array?(k=Z.hR.RGBA_INTEGER,n=Z.QE.SHORT):g instanceof Uint16Array?(k=Z.hR.RGBA_INTEGER,n=Z.QE.UNSIGNED_SHORT):g instanceof Int8Array?(k=Z.hR.RGBA,n=Z.QE.BYTE):(k=Z.hR.RGBA,n=Z.QE.UNSIGNED_BYTE),h.internal=!0,new p(h,Object.assign({},J,{type:n,format:k},t))}static addToCache(p,g){g&&(p.textureCacheIds.includes(g)||p.textureCacheIds.push(g),t.BaseTextureCache[g]&&t.BaseTextureCache[g]!==p&&console.warn(`BaseTexture added to the cache with an id [${g}] that already had an entry`),t.BaseTextureCache[g]=p)}static removeFromCache(p){if("string"==typeof p){const g=t.BaseTextureCache[p];if(g){const m=g.textureCacheIds.indexOf(p);return m>-1&&g.textureCacheIds.splice(m,1),delete t.BaseTextureCache[p],g}}else if(null==p?void 0:p.textureCacheIds){for(let g=0;g<p.textureCacheIds.length;++g)delete t.BaseTextureCache[p.textureCacheIds[g]];return p.textureCacheIds.length=0,p}return null}};y.defaultOptions={mipmap:Z.E8.POW2,anisotropicLevel:0,scaleMode:Z.M6.LINEAR,wrapMode:Z.uR.CLAMP,alphaMode:Z.Gk.UNPACK,target:Z.dW.TEXTURE_2D,format:Z.hR.RGBA,type:Z.QE.UNSIGNED_BYTE},y._globalBatch=0;let W=y;class v{constructor(){this.texArray=null,this.blend=0,this.type=Z._4.TRIANGLES,this.start=0,this.size=0,this.data=null}}let V=0;class z{constructor(p,g=!0,m=!1){this.data=p||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=m,this.static=g,this.id=V++,this.disposeRunner=new Y("disposeBuffer")}update(p){p instanceof Array&&(p=new Float32Array(p)),this.data=p||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(p){this.type=p?Z.yw.ELEMENT_ARRAY_BUFFER:Z.yw.ARRAY_BUFFER}get index(){return this.type===Z.yw.ELEMENT_ARRAY_BUFFER}static from(p){return p instanceof Array&&(p=new Float32Array(p)),new z(p)}}class B{constructor(p,g=0,m=!1,H=Z.QE.FLOAT,t,h,k,n=1){this.buffer=p,this.size=g,this.normalized=m,this.type=H,this.stride=t,this.start=h,this.instance=k,this.divisor=n}destroy(){this.buffer=null}static from(p,g,m,Z,H){return new B(p,g,m,Z,H)}}const u={Float32Array,Uint32Array,Int32Array,Uint8Array},a={5126:4,5123:2,5121:1};let F=0;const X={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class K{constructor(p=[],g={}){this.buffers=p,this.indexBuffer=null,this.attributes=g,this.glVertexArrayObjects={},this.id=F++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Y("disposeGeometry"),this.refCount=0}addAttribute(p,g,m=0,Z=!1,H,t,h,k=!1){if(!g)throw new Error("You must pass a buffer when creating an attribute");g instanceof z||(g instanceof Array&&(g=new Float32Array(g)),g=new z(g));const n=p.split("|");if(n.length>1){for(let p=0;p<n.length;p++)this.addAttribute(n[p],g,m,Z,H);return this}let S=this.buffers.indexOf(g);return-1===S&&(this.buffers.push(g),S=this.buffers.length-1),this.attributes[p]=new B(S,m,Z,H,t,h,k),this.instanced=this.instanced||k,this}getAttribute(p){return this.attributes[p]}getBuffer(p){return this.buffers[this.getAttribute(p).buffer]}addIndex(p){return p instanceof z||(p instanceof Array&&(p=new Uint16Array(p)),p=new z(p)),p.type=Z.yw.ELEMENT_ARRAY_BUFFER,this.indexBuffer=p,this.buffers.includes(p)||this.buffers.push(p),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const p=[],g=[],m=new z;let Z;for(Z in this.attributes){const m=this.attributes[Z],H=this.buffers[m.buffer];p.push(H.data),g.push(m.size*a[m.type]/4),m.buffer=0}for(m.data=function(p,g){let m=0,Z=0;const H={};for(let H=0;H<p.length;H++)Z+=g[H],m+=p[H].length;const h=new ArrayBuffer(4*m);let k=null,n=0;for(let m=0;m<p.length;m++){const S=g[m],q=p[m],D=t.getBufferType(q);H[D]||(H[D]=new u[D](h)),k=H[D];for(let p=0;p<q.length;p++)k[(p/S|0)*Z+n+p%S]=q[p];n+=S}return new Float32Array(h)}(p,g),Z=0;Z<this.buffers.length;Z++)this.buffers[Z]!==this.indexBuffer&&this.buffers[Z].destroy();return this.buffers=[m],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const p in this.attributes){const g=this.attributes[p];return this.buffers[g.buffer].data.length/(g.stride/4||g.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const p=new K;for(let g=0;g<this.buffers.length;g++)p.buffers[g]=new z(this.buffers[g].data.slice(0));for(const g in this.attributes){const m=this.attributes[g];p.attributes[g]=new B(m.buffer,m.size,m.normalized,m.type,m.stride,m.start,m.instance)}return this.indexBuffer&&(p.indexBuffer=p.buffers[this.buffers.indexOf(this.indexBuffer)],p.indexBuffer.type=Z.yw.ELEMENT_ARRAY_BUFFER),p}static merge(p){const g=new K,m=[],H=[],h=[];let k;for(let g=0;g<p.length;g++){k=p[g];for(let p=0;p<k.buffers.length;p++)H[p]=H[p]||0,H[p]+=k.buffers[p].data.length,h[p]=0}for(let p=0;p<k.buffers.length;p++)m[p]=new(X[t.getBufferType(k.buffers[p].data)])(H[p]),g.buffers[p]=new z(m[p]);for(let g=0;g<p.length;g++){k=p[g];for(let p=0;p<k.buffers.length;p++)m[p].set(k.buffers[p].data,h[p]),h[p]+=k.buffers[p].data.length}if(g.attributes=k.attributes,k.indexBuffer){g.indexBuffer=g.buffers[k.buffers.indexOf(k.indexBuffer)],g.indexBuffer.type=Z.yw.ELEMENT_ARRAY_BUFFER;let m=0,H=0,t=0,h=0;for(let p=0;p<k.buffers.length;p++)if(k.buffers[p]!==k.indexBuffer){h=p;break}for(const p in k.attributes){const g=k.attributes[p];(0|g.buffer)===h&&(H+=g.size*a[g.type]/4)}for(let Z=0;Z<p.length;Z++){const k=p[Z].indexBuffer.data;for(let p=0;p<k.length;p++)g.indexBuffer.data[p+t]+=m;m+=p[Z].buffers[h].data.length/H,t+=k.length}}return g}}class j extends K{constructor(p=!1){super(),this._buffer=new z(null,p,!1),this._indexBuffer=new z(null,p,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Z.QE.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Z.QE.FLOAT).addAttribute("aColor",this._buffer,4,!0,Z.QE.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Z.QE.FLOAT).addIndex(this._indexBuffer)}}var r=m(514842),U=`varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}`,C=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n`;const x=[{test:p=>"float"===p.type&&1===p.size&&!p.isArray,code:p=>`\n            if(uv["${p}"] !== ud["${p}"].value)\n            {\n                ud["${p}"].value = uv["${p}"]\n                gl.uniform1f(ud["${p}"].location, uv["${p}"])\n            }\n            `},{test:(p,g)=>!("sampler2D"!==p.type&&"samplerCube"!==p.type&&"sampler2DArray"!==p.type||1!==p.size||p.isArray||null!=g&&void 0===g.castToBaseTexture),code:p=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${p}"], t);\n\n            if(ud["${p}"].value !== t)\n            {\n                ud["${p}"].value = t;\n                gl.uniform1i(ud["${p}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(p,g)=>"mat3"===p.type&&1===p.size&&!p.isArray&&void 0!==g.a,code:p=>`\n            gl.uniformMatrix3fv(ud["${p}"].location, false, uv["${p}"].toArray(true));\n            `,codeUbo:p=>`\n                var ${p}_matrix = uv.${p}.toArray(true);\n\n                data[offset] = ${p}_matrix[0];\n                data[offset+1] = ${p}_matrix[1];\n                data[offset+2] = ${p}_matrix[2];\n        \n                data[offset + 4] = ${p}_matrix[3];\n                data[offset + 5] = ${p}_matrix[4];\n                data[offset + 6] = ${p}_matrix[5];\n        \n                data[offset + 8] = ${p}_matrix[6];\n                data[offset + 9] = ${p}_matrix[7];\n                data[offset + 10] = ${p}_matrix[8];\n            `},{test:(p,g)=>"vec2"===p.type&&1===p.size&&!p.isArray&&void 0!==g.x,code:p=>`\n                cv = ud["${p}"].value;\n                v = uv["${p}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${p}"].location, v.x, v.y);\n                }`,codeUbo:p=>`\n                v = uv.${p};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:p=>"vec2"===p.type&&1===p.size&&!p.isArray,code:p=>`\n                cv = ud["${p}"].value;\n                v = uv["${p}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${p}"].location, v[0], v[1]);\n                }\n            `},{test:(p,g)=>"vec4"===p.type&&1===p.size&&!p.isArray&&void 0!==g.width,code:p=>`\n                cv = ud["${p}"].value;\n                v = uv["${p}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${p}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:p=>`\n                    v = uv.${p};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(p,g)=>"vec4"===p.type&&1===p.size&&!p.isArray&&void 0!==g.red,code:p=>`\n                cv = ud["${p}"].value;\n                v = uv["${p}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${p}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:p=>`\n                    v = uv.${p};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(p,g)=>"vec3"===p.type&&1===p.size&&!p.isArray&&void 0!==g.red,code:p=>`\n                cv = ud["${p}"].value;\n                v = uv["${p}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${p}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:p=>`\n                    v = uv.${p};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:p=>"vec4"===p.type&&1===p.size&&!p.isArray,code:p=>`\n                cv = ud["${p}"].value;\n                v = uv["${p}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${p}"].location, v[0], v[1], v[2], v[3])\n                }`}],R={float:`\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }`,vec2:`\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }`,vec3:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }`,vec4:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }`,int:`\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,ivec2:`\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,ivec3:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,ivec4:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,uint:`\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }`,uvec2:`\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }`,uvec3:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }`,uvec4:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }`,bool:`\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }`,bvec2:`\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,bvec3:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,bvec4:`\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,samplerCube:`\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,sampler2DArray:`\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`},c={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},O={};let f,_=O;const E={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function G(p){return E[p]}let M=null;const s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function T(p,g){if(!M){const g=Object.keys(s);M={};for(let m=0;m<g.length;++m){const Z=g[m];M[p[Z]]=s[Z]}}return M[g]}function l(p,g,m){if("precision"!==p.substring(0,9)){let H=g;return g===Z.Pk.HIGH&&m!==Z.Pk.HIGH&&(H=Z.Pk.MEDIUM),`precision ${H} float;\n${p}`}return m!==Z.Pk.HIGH&&"precision highp"===p.substring(0,15)?p.replace("precision highp","precision mediump"):p}let A=0;const L={},o=class p{constructor(g,m,t="pixi-shader",h={}){this.extra={},this.id=A++,this.vertexSrc=g||p.defaultVertexSrc,this.fragmentSrc=m||p.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=h,"#version"!==this.vertexSrc.substring(0,8)&&(t=t.replace(/\s+/g,"-"),L[t]?(L[t]++,t+=`-${L[t]}`):L[t]=1,this.vertexSrc=`#define SHADER_NAME ${t}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${t}\n${this.fragmentSrc}`,this.vertexSrc=l(this.vertexSrc,p.defaultVertexPrecision,Z.Pk.HIGH),this.fragmentSrc=l(this.fragmentSrc,p.defaultFragmentPrecision,function(){if(!f){f=Z.Pk.MEDIUM;const p=function(){if(_===O||(null==_?void 0:_.isContextLost())){const p=H.W0.ADAPTER.createCanvas();let g;H.W0.PREFER_ENV>=Z.Km.WEBGL2&&(g=p.getContext("webgl2",{})),g||(g=p.getContext("webgl",{})||p.getContext("experimental-webgl",{}),g?g.getExtension("WEBGL_draw_buffers"):g=null),_=g}return _}();if(p&&p.getShaderPrecisionFormat){const g=p.getShaderPrecisionFormat(p.FRAGMENT_SHADER,p.HIGH_FLOAT);g&&(f=g.precision?Z.Pk.HIGH:Z.Pk.MEDIUM)}}return f}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return C}static get defaultFragmentSrc(){return U}static from(g,m,Z){const H=g+m;let h=t.ProgramCache[H];return h||(t.ProgramCache[H]=h=new p(g,m,Z)),h}};o.defaultVertexPrecision=Z.Pk.HIGH,o.defaultFragmentPrecision=t.isMobile.apple.device?Z.Pk.HIGH:Z.Pk.MEDIUM;let pp=o,gp=0;class mp{constructor(p,g,m){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=gp++,this.static=!!g,this.ubo=!!m,p instanceof z?(this.buffer=p,this.buffer.type=Z.yw.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=p,this.ubo&&(this.buffer=new z(new Float32Array(1)),this.buffer.type=Z.yw.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(p,g,m){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[p]=new mp(g,m)}static from(p,g,m){return new mp(p,g,m)}static uboFrom(p,g){return new mp(p,null==g||g,!0)}}class Zp{constructor(p,g){this.uniformBindCount=0,this.program=p,this.uniformGroup=g?g instanceof mp?g:new mp(g):new mp({}),this.disposeRunner=new Y("disposeShader")}checkUniformExists(p,g){if(g.uniforms[p])return!0;for(const m in g.uniforms){const Z=g.uniforms[m];if(!0===Z.group&&this.checkUniformExists(p,Z))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(p,g,m){const Z=pp.from(p,g);return new Zp(Z,m)}}class Hp{constructor(p,g){if(this.vertexSrc=p,this.fragTemplate=g,this.programCache={},this.defaultGroupCache={},!g.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!g.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(p){if(!this.programCache[p]){const g=new Int32Array(p);for(let m=0;m<p;m++)g[m]=m;this.defaultGroupCache[p]=mp.from({uSamplers:g},!0);let m=this.fragTemplate;m=m.replace(/%count%/gi,`${p}`),m=m.replace(/%forloop%/gi,this.generateSampleSrc(p)),this.programCache[p]=new pp(this.vertexSrc,m)}const g={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.uq,default:this.defaultGroupCache[p]};return new Zp(this.programCache[p],g)}generateSampleSrc(p){let g="";g+=`\n`,g+=`\n`;for(let m=0;m<p;m++)m>0&&(g+=`\nelse `),m<p-1&&(g+=`if(vTextureId < ${m}.5)`),g+=`\n{`,g+=`\n\tcolor = texture2D(uSamplers[${m}], vTextureCoord);`,g+=`\n}`;return g+=`\n`,g+=`\n`,g}}var tp=m(23431),hp=m(294485),kp=`varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n`,np=`precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n`;const Sp=class p extends hp.P{constructor(g){super(g),this.setShaderGenerator(),this.geometryClass=j,this.vertexSize=6,this.state=Q.for2d(),this.size=4*p.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),g.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var p;return this._defaultMaxTextures=null!==(p=this._defaultMaxTextures)&&void 0!==p?p:function(){let p=!0;const g=H.W0.ADAPTER.getNavigator();if(H.Fr.tablet||H.Fr.phone){if(H.Fr.apple.device){const m=g.userAgent.match(/OS (\d+)_(\d+)?/);m&&parseInt(m[1],10)<11&&(p=!1)}if(H.Fr.android.device){const m=g.userAgent.match(/Android\s([0-9.]*)/);m&&parseInt(m[1],10)<7&&(p=!1)}}return p?32:4}(),this._defaultMaxTextures}static set defaultMaxTextures(p){this._defaultMaxTextures=p}static get canUploadSameBuffer(){var p;return this._canUploadSameBuffer=null!==(p=this._canUploadSameBuffer)&&void 0!==p?p:!H.Fr.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(p){this._canUploadSameBuffer=p}get MAX_TEXTURES(){return t.deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return np}static get defaultFragmentTemplate(){return kp}setShaderGenerator({vertex:g=p.defaultVertexSrc,fragment:m=p.defaultFragmentTemplate}={}){this.shaderGenerator=new Hp(g,m)}contextChange(){const g=this.renderer.gl;H.W0.PREFER_ENV===Z.Km.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS),p.defaultMaxTextures),this.maxTextures=function(p,g){if(0===p)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const m=g.createShader(g.FRAGMENT_SHADER);for(;;){const Z=S.replace(/%forloop%/gi,q(p));if(g.shaderSource(m,Z),g.compileShader(m),g.getShaderParameter(m,g.COMPILE_STATUS))break;p=p/2|0}return p}(this.maxTextures,g)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let p=0;p<this._packedGeometryPoolSize;p++)this._packedGeometries[p]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:g,_textureArrayPool:m}=p,Z=this.size/4,H=Math.floor(Z/this.maxTextures)+1;for(;g.length<Z;)g.push(new v);for(;m.length<H;)m.push(new tp.L);for(let p=0;p<this.maxTextures;p++)this._tempBoundTextures[p]=null}onPrerender(){this._flushId=0}render(p){p._texture.valid&&(this._vertexCount+p.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=p.vertexData.length/2,this._indexCount+=p.indices.length,this._bufferedTextures[this._bufferSize]=p._texture.baseTexture,this._bufferedElements[this._bufferSize++]=p)}buildTexturesAndDrawCalls(){const{_bufferedTextures:g,maxTextures:m}=this,Z=p._textureArrayPool,H=this.renderer.batch,t=this._tempBoundTextures,h=this.renderer.textureGC.count;let k=++W._globalBatch,n=0,S=Z[0],q=0;H.copyBoundTextures(t,m);for(let p=0;p<this._bufferSize;++p){const D=g[p];g[p]=null,D._batchEnabled!==k&&(S.count>=m&&(H.boundArray(S,t,k,m),this.buildDrawCalls(S,q,p),q=p,S=Z[++n],++k),D._batchEnabled=k,D.touched=h,S.elements[S.count++]=D)}S.count>0&&(H.boundArray(S,t,k,m),this.buildDrawCalls(S,q,this._bufferSize),++n,++k);for(let p=0;p<t.length;p++)t[p]=null;W._globalBatch=k}buildDrawCalls(g,m,Z){const{_bufferedElements:H,_attributeBuffer:h,_indexBuffer:k,vertexSize:n}=this,S=p._drawCallPool;let q=this._dcIndex,D=this._aIndex,I=this._iIndex,b=S[q];b.start=this._iIndex,b.texArray=g;for(let p=m;p<Z;++p){const Z=H[p],e=Z._texture.baseTexture,N=t.premultiplyBlendMode[e.alphaMode?1:0][Z.blendMode];H[p]=null,m<p&&b.blend!==N&&(b.size=I-b.start,m=p,b=S[++q],b.texArray=g,b.start=I),this.packInterleavedGeometry(Z,h,k,D,I),D+=Z.vertexData.length/2*n,I+=Z.indices.length,b.blend=N}m<Z&&(b.size=I-b.start,++q),this._dcIndex=q,this._aIndex=D,this._iIndex=I}bindAndClearTexArray(p){const g=this.renderer.texture;for(let m=0;m<p.count;m++)g.bind(p.elements[m],p.ids[m]),p.elements[m]=null;p.count=0}updateGeometry(){const{_packedGeometries:g,_attributeBuffer:m,_indexBuffer:Z}=this;p.canUploadSameBuffer?(g[this._flushId]._buffer.update(m.rawBinaryData),g[this._flushId]._indexBuffer.update(Z),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,g[this._flushId]=new this.geometryClass),g[this._flushId]._buffer.update(m.rawBinaryData),g[this._flushId]._indexBuffer.update(Z),this.renderer.geometry.bind(g[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const g=this._dcIndex,{gl:m,state:Z}=this.renderer,H=p._drawCallPool;let t=null;for(let p=0;p<g;p++){const{texArray:g,type:h,size:k,start:n,blend:S}=H[p];t!==g&&(t=g,this.bindAndClearTexArray(g)),this.state.blendMode=S,Z.set(this.state),m.drawElements(h,k,m.UNSIGNED_SHORT,2*n)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),p.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let p=0;p<this._packedGeometryPoolSize;p++)this._packedGeometries[p]&&this._packedGeometries[p].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(p){const g=t.nextPow2(Math.ceil(p/8)),m=t.log2(g),Z=8*g;this._aBuffers.length<=m&&(this._iBuffers.length=m+1);let H=this._aBuffers[Z];return H||(this._aBuffers[Z]=H=new n.u(Z*this.vertexSize*4)),H}getIndexBuffer(p){const g=t.nextPow2(Math.ceil(p/12)),m=t.log2(g),Z=12*g;this._iBuffers.length<=m&&(this._iBuffers.length=m+1);let H=this._iBuffers[m];return H||(this._iBuffers[m]=H=new Uint16Array(Z)),H}packInterleavedGeometry(p,g,m,Z,H){const{uint32View:t,float32View:k}=g,n=Z/this.vertexSize,S=p.uvs,q=p.indices,D=p.vertexData,I=p._texture.baseTexture._batchLocation,b=Math.min(p.worldAlpha,1),e=h.Q.shared.setValue(p._tintRGB).toPremultiplied(b,p._texture.baseTexture.alphaMode>0);for(let p=0;p<D.length;p+=2)k[Z++]=D[p],k[Z++]=D[p+1],k[Z++]=S[p],k[Z++]=S[p+1],t[Z++]=e,k[Z++]=I;for(let p=0;p<q.length;p++)m[H++]=n+q[p]}};Sp.defaultBatchSize=4096,Sp.extension={name:"batch",type:k.A.RendererPlugin},Sp._drawCallPool=[],Sp._textureArrayPool=[];let qp=Sp;k.X.add(qp);var Dp=`varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n`,Ip=`attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n`;const bp=class p extends Zp{constructor(g,m,Z){super(pp.from(g||p.defaultVertexSrc,m||p.defaultFragmentSrc),Z),this.padding=0,this.resolution=p.defaultResolution,this.multisample=p.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Q}apply(p,g,m,Z,H){p.applyFilter(this,g,m,Z)}get blendMode(){return this.state.blendMode}set blendMode(p){this.state.blendMode=p}get resolution(){return this._resolution}set resolution(p){this._resolution=p}static get defaultVertexSrc(){return Ip}static get defaultFragmentSrc(){return Dp}};bp.defaultResolution=1,bp.defaultMultisample=Z.he.NONE;let ep=bp;class Np{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new h.Q(0),this.alpha=1}init(p){this.clearBeforeRender=p.clearBeforeRender;const{backgroundColor:g,background:m,backgroundAlpha:Z}=p,H=null!=m?m:g;void 0!==H&&(this.color=H),this.alpha=Z}get color(){return this._backgroundColor.value}set color(p){this._backgroundColor.setValue(p)}get alpha(){return this._backgroundColor.alpha}set alpha(p){this._backgroundColor.setAlpha(p)}get backgroundColor(){return this._backgroundColor}destroy(){}}Np.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Np.extension={type:[k.A.RendererSystem,k.A.CanvasRendererSystem],name:"background"},k.X.add(Np);class dp{constructor(p){this.renderer=p,this.emptyRenderer=new hp.P(p),this.currentRenderer=this.emptyRenderer}setObjectRenderer(p){this.currentRenderer!==p&&(this.currentRenderer.stop(),this.currentRenderer=p,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(p,g){const{boundTextures:m}=this.renderer.texture;for(let Z=g-1;Z>=0;--Z)p[Z]=m[Z]||null,p[Z]&&(p[Z]._batchLocation=Z)}boundArray(p,g,m,Z){const{elements:H,ids:t,count:h}=p;let k=0;for(let p=0;p<h;p++){const h=H[p],n=h._batchLocation;if(n>=0&&n<Z&&g[n]===h)t[p]=n;else for(;k<Z;){const Z=g[k];if(!Z||Z._batchEnabled!==m||Z._batchLocation!==k){t[p]=k,h._batchLocation=k,g[k]=h;break}k++}}}destroy(){this.renderer=null}}dp.extension={type:k.A.RendererSystem,name:"batch"},k.X.add(dp);let Qp=0;class $p{constructor(p){this.renderer=p,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(p){this.gl=p,this.renderer.gl=p,this.renderer.CONTEXT_UID=Qp++}init(p){if(p.context)this.initFromContext(p.context);else{const g=this.renderer.background.alpha<1,m=p.premultipliedAlpha;this.preserveDrawingBuffer=p.preserveDrawingBuffer,this.useContextAlpha=p.useContextAlpha,this.powerPreference=p.powerPreference,this.initFromOptions({alpha:g,premultipliedAlpha:m,antialias:p.antialias,stencil:!0,preserveDrawingBuffer:p.preserveDrawingBuffer,powerPreference:p.powerPreference})}}initFromContext(p){this.gl=p,this.validateContext(p),this.renderer.gl=p,this.renderer.CONTEXT_UID=Qp++,this.renderer.runners.contextChange.emit(p);const g=this.renderer.view;void 0!==g.addEventListener&&(g.addEventListener("webglcontextlost",this.handleContextLost,!1),g.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(p){const g=this.createContext(this.renderer.view,p);this.initFromContext(g)}createContext(p,g){let m;if(H.W0.PREFER_ENV>=Z.Km.WEBGL2&&(m=p.getContext("webgl2",g)),m)this.webGLVersion=2;else if(this.webGLVersion=1,m=p.getContext("webgl",g)||p.getContext("experimental-webgl",g),!m)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=m,this.getExtensions(),this.gl}getExtensions(){const{gl:p}=this,g={loseContext:p.getExtension("WEBGL_lose_context"),anisotropicFiltering:p.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:p.getExtension("OES_texture_float_linear"),s3tc:p.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:p.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:p.getExtension("WEBGL_compressed_texture_etc"),etc1:p.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:p.getExtension("WEBGL_compressed_texture_pvrtc")||p.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:p.getExtension("WEBGL_compressed_texture_atc"),astc:p.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,g,{drawBuffers:p.getExtension("WEBGL_draw_buffers"),depthTexture:p.getExtension("WEBGL_depth_texture"),vertexArrayObject:p.getExtension("OES_vertex_array_object")||p.getExtension("MOZ_OES_vertex_array_object")||p.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:p.getExtension("OES_element_index_uint"),floatTexture:p.getExtension("OES_texture_float"),floatTextureLinear:p.getExtension("OES_texture_float_linear"),textureHalfFloat:p.getExtension("OES_texture_half_float"),textureHalfFloatLinear:p.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,g,{colorBufferFloat:p.getExtension("EXT_color_buffer_float")})}handleContextLost(p){p.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const p=this.renderer.view;this.renderer=null,void 0!==p.removeEventListener&&(p.removeEventListener("webglcontextlost",this.handleContextLost),p.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(p){const g=p.getContextAttributes(),m="WebGL2RenderingContext"in globalThis&&p instanceof globalThis.WebGL2RenderingContext;m&&(this.webGLVersion=2),g&&!g.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const Z=m||!!p.getExtension("OES_element_index_uint");this.supports.uint32Indices=Z,Z||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}$p.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},$p.extension={type:k.A.RendererSystem,name:"context"},k.X.add($p);class wp{constructor(p,g){if(this.width=Math.round(p),this.height=Math.round(g),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Y("disposeFramebuffer"),this.multisample=Z.he.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(p=0,g){return this.colorTextures[p]=g||new W(null,{scaleMode:Z.M6.NEAREST,resolution:1,mipmap:Z.E8.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(p){return this.depthTexture=p||new W(null,{scaleMode:Z.M6.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Z.E8.OFF,format:Z.hR.DEPTH_COMPONENT,type:Z.QE.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(p,g){if(p=Math.round(p),g=Math.round(g),!p||!g)throw new Error("Framebuffer width and height must not be zero");if(p!==this.width||g!==this.height){this.width=p,this.height=g,this.dirtyId++,this.dirtySize++;for(let m=0;m<this.colorTextures.length;m++){const Z=this.colorTextures[m],H=Z.resolution;Z.setSize(p/H,g/H)}if(this.depthTexture){const m=this.depthTexture.resolution;this.depthTexture.setSize(p/m,g/m)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Yp extends W{constructor(p={}){var g,m,H;"number"==typeof p&&(p={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),p.width=null!==(g=p.width)&&void 0!==g?g:100,p.height=null!==(m=p.height)&&void 0!==m?m:100,null!==(H=p.multisample)&&void 0!==H||(p.multisample=Z.he.NONE),super(null,p),this.mipmap=Z.E8.OFF,this.valid=!0,this._clear=new h.Q([0,0,0,0]),this.framebuffer=new wp(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=p.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(p){this._clear.setValue(p)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(p){this.framebuffer.multisample=p}resize(p,g){this.framebuffer.resize(p*this.resolution,g*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ip extends i{constructor(p){const g=p;super(g.naturalWidth||g.videoWidth||g.width,g.naturalHeight||g.videoHeight||g.height),this.source=p,this.noSubImage=!1}static crossOrigin(p,g,m){void 0!==m||g.startsWith("data:")?!1!==m&&(p.crossOrigin="string"==typeof m?m:"anonymous"):p.crossOrigin=t.determineCrossOrigin(g)}upload(p,g,m,H){const t=p.gl,h=g.realWidth,k=g.realHeight;if(H=H||this.source,typeof HTMLImageElement<"u"&&H instanceof HTMLImageElement){if(!H.complete||0===H.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&H instanceof HTMLVideoElement&&H.readyState<=1)return!1;return t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g.alphaMode===Z.Gk.UNPACK),this.noSubImage||g.target!==t.TEXTURE_2D||m.width!==h||m.height!==k?(m.width=h,m.height=k,t.texImage2D(g.target,0,m.internalFormat,g.format,m.type,H)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,g.format,m.type,H),!0}update(){if(this.destroyed)return;const p=this.source,g=p.naturalWidth||p.videoWidth||p.width,m=p.naturalHeight||p.videoHeight||p.height;this.resize(g,m),super.update()}dispose(){this.source=null}}class Pp extends ip{constructor(p,g){var m;if(g=g||{},"string"==typeof p){const m=new Image;ip.crossOrigin(m,p,g.crossorigin),m.src=p,p=m}super(p),!p.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=p.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(null!==(m=g.createBitmap)&&void 0!==m?m:H.W0.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof g.alphaMode?g.alphaMode:null,this.bitmap=null,this._load=null,!1!==g.autoLoad&&this.load()}load(p){return this._load||(void 0!==p&&(this.createBitmap=p),this._load=new Promise(((p,g)=>{const m=this.source;this.url=m.src;const Z=()=>{this.destroyed||(m.onload=null,m.onerror=null,this.update(),this._load=null,this.createBitmap?p(this.process()):p(this))};m.complete&&m.src?Z():(m.onload=Z,m.onerror=p=>{g(p),this.onError.emit(p)})}))),this._load}process(){const p=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const g=globalThis.createImageBitmap,m=!p.crossOrigin||"anonymous"===p.crossOrigin;return this._process=fetch(p.src,{mode:m?"cors":"no-cors"}).then((p=>p.blob())).then((m=>g(m,0,0,p.width,p.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Z.Gk.UNPACK?"premultiply":"none"}))).then((p=>this.destroyed?Promise.reject():(this.bitmap=p,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(p,g,m){if("number"==typeof this.alphaMode&&(g.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(p,g,m);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(p,g,m,this.bitmap),!this.preserveBitmap){let p=!0;const Z=g._glTextures;for(const H in Z){const t=Z[H];if(t!==m&&t.dirtyId!==g.dirtyId){p=!1;break}}p&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(p){return typeof HTMLImageElement<"u"&&("string"==typeof p||p instanceof HTMLImageElement)}}class Jp{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(p,g,m){const Z=g.width,H=g.height;if(m){const g=p.width/2/Z,t=p.height/2/H,h=p.x/Z+g,k=p.y/H+t;m=r.ER.add(m,r.ER.NW),this.x0=h+g*r.ER.uX(m),this.y0=k+t*r.ER.uY(m),m=r.ER.add(m,2),this.x1=h+g*r.ER.uX(m),this.y1=k+t*r.ER.uY(m),m=r.ER.add(m,2),this.x2=h+g*r.ER.uX(m),this.y2=k+t*r.ER.uY(m),m=r.ER.add(m,2),this.x3=h+g*r.ER.uX(m),this.y3=k+t*r.ER.uY(m)}else this.x0=p.x/Z,this.y0=p.y/H,this.x1=(p.x+p.width)/Z,this.y1=p.y/H,this.x2=(p.x+p.width)/Z,this.y2=(p.y+p.height)/H,this.x3=p.x/Z,this.y3=(p.y+p.height)/H;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Jp.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const yp=new Jp;function Wp(p){p.destroy=function(){},p.on=function(){},p.once=function(){},p.emit=function(){}}class vp extends t.EventEmitter{constructor(p,g,m,Z,H,t,h){if(super(),this.noFrame=!1,g||(this.noFrame=!0,g=new r.M_(0,0,1,1)),p instanceof vp&&(p=p.baseTexture),this.baseTexture=p,this._frame=g,this.trim=Z,this.valid=!1,this.destroyed=!1,this._uvs=yp,this.uvMatrix=null,this.orig=m||g,this._rotate=Number(H||0),!0===H)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=t?new r.bR(t.x,t.y):new r.bR(0,0),this.defaultBorders=h,this._updateID=0,this.textureCacheIds=[],p.valid?this.noFrame?p.valid&&this.onBaseTextureUpdated(p):this.frame=g:p.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&p.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(p){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=p.width,this._frame.height=p.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(p){if(this.baseTexture){if(p){const{resource:p}=this.baseTexture;(null==p?void 0:p.url)&&t.TextureCache[p.url]&&vp.removeFromCache(p.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,vp.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var p;const g=this._frame.clone(),m=this._frame===this.orig?g:this.orig.clone(),Z=new vp(this.baseTexture,!this.noFrame&&g,m,null===(p=this.trim)||void 0===p?void 0:p.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(Z._frame=g),Z}updateUvs(){this._uvs===yp&&(this._uvs=new Jp),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(p,g={},m=H.W0.STRICT_TEXTURE_CACHE){const Z="string"==typeof p;let h=null;if(Z)h=p;else if(p instanceof W){if(!p.cacheId){const m=(null==g?void 0:g.pixiIdPrefix)||"pixiid";p.cacheId=`${m}-${t.uid()}`,W.addToCache(p,p.cacheId)}h=p.cacheId}else{if(!p._pixiId){const m=(null==g?void 0:g.pixiIdPrefix)||"pixiid";p._pixiId=`${m}_${t.uid()}`}h=p._pixiId}let k=t.TextureCache[h];if(Z&&m&&!k)throw new Error(`The cacheId "${h}" does not exist in TextureCache.`);return k||p instanceof W?!k&&p instanceof W&&(k=new vp(p),vp.addToCache(k,h)):(g.resolution||(g.resolution=t.getResolutionOfUrl(p)),k=new vp(new W(p,g)),k.baseTexture.cacheId=h,W.addToCache(k.baseTexture,h),vp.addToCache(k,h)),k}static fromURL(p,g){const m=Object.assign({autoLoad:!1},null==g?void 0:g.resourceOptions),Z=vp.from(p,Object.assign({resourceOptions:m},g),!1),H=Z.baseTexture.resource;return Z.baseTexture.valid?Promise.resolve(Z):H.load().then((()=>Promise.resolve(Z)))}static fromBuffer(p,g,m,Z){return new vp(W.fromBuffer(p,g,m,Z))}static fromLoader(p,g,m,Z){const H=new W(p,Object.assign({scaleMode:W.defaultOptions.scaleMode,resolution:t.getResolutionOfUrl(g)},Z)),{resource:h}=H;h instanceof Pp&&(h.url=g);const k=new vp(H);return m||(m=g),W.addToCache(k.baseTexture,m),vp.addToCache(k,m),m!==g&&(W.addToCache(k.baseTexture,g),vp.addToCache(k,g)),k.baseTexture.valid?Promise.resolve(k):new Promise((p=>{k.baseTexture.once("loaded",(()=>p(k)))}))}static addToCache(p,g){g&&(p.textureCacheIds.includes(g)||p.textureCacheIds.push(g),t.TextureCache[g]&&t.TextureCache[g]!==p&&console.warn(`Texture added to the cache with an id [${g}] that already had an entry`),t.TextureCache[g]=p)}static removeFromCache(p){if("string"==typeof p){const g=t.TextureCache[p];if(g){const m=g.textureCacheIds.indexOf(p);return m>-1&&g.textureCacheIds.splice(m,1),delete t.TextureCache[p],g}}else if(null==p?void 0:p.textureCacheIds){for(let g=0;g<p.textureCacheIds.length;++g)t.TextureCache[p.textureCacheIds[g]]===p&&delete t.TextureCache[p.textureCacheIds[g]];return p.textureCacheIds.length=0,p}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(p){this._frame=p,this.noFrame=!1;const{x:g,y:m,width:Z,height:H}=p,t=g+Z>this.baseTexture.width,h=m+H>this.baseTexture.height;if(t||h){const p=t&&h?"and":"or",k=`X: ${g} + ${Z} = ${g+Z} > ${this.baseTexture.width}`,n=`Y: ${m} + ${H} = ${m+H} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${k} ${p} ${n}`)}this.valid=Z&&H&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=p),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(p){this._rotate=p,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return vp._EMPTY||(vp._EMPTY=new vp(new W),Wp(vp._EMPTY),Wp(vp._EMPTY.baseTexture)),vp._EMPTY}static get WHITE(){if(!vp._WHITE){const p=H.W0.ADAPTER.createCanvas(16,16),g=p.getContext("2d");p.width=16,p.height=16,g.fillStyle="white",g.fillRect(0,0,16,16),vp._WHITE=new vp(W.from(p)),Wp(vp._WHITE),Wp(vp._WHITE.baseTexture)}return vp._WHITE}}class Vp extends vp{constructor(p,g){super(p,g),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(p){this.framebuffer.multisample=p}resize(p,g,m=!0){const Z=this.baseTexture.resolution,H=Math.round(p*Z)/Z,t=Math.round(g*Z)/Z;this.valid=H>0&&t>0,this._frame.width=this.orig.width=H,this._frame.height=this.orig.height=t,m&&this.baseTexture.resize(H,t),this.updateUvs()}setResolution(p){const{baseTexture:g}=this;g.resolution!==p&&(g.setResolution(p),this.resize(g.width,g.height,!1))}static create(p){return new Vp(new Yp(p))}}class zp{constructor(p){this.texturePool={},this.textureOptions=p||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(p,g,m=Z.he.NONE){const H=new Yp(Object.assign({width:p,height:g,resolution:1,multisample:m},this.textureOptions));return new Vp(H)}getOptimalTexture(p,g,m=1,H=Z.he.NONE){let h;p=Math.max(Math.ceil(p*m-1e-6),1),g=Math.max(Math.ceil(g*m-1e-6),1),this.enableFullScreen&&p===this._pixelsWidth&&g===this._pixelsHeight?h=H>1?-H:-1:(h=((65535&(p=t.nextPow2(p)))<<16|65535&(g=t.nextPow2(g)))>>>0,H>1&&(h+=4294967296*H)),this.texturePool[h]||(this.texturePool[h]=[]);let k=this.texturePool[h].pop();return k||(k=this.createTexture(p,g,H)),k.filterPoolKey=h,k.setResolution(m),k}getFilterTexture(p,g,m){const H=this.getOptimalTexture(p.width,p.height,g||p.resolution,m||Z.he.NONE);return H.filterFrame=p.filterFrame,H}returnTexture(p){const g=p.filterPoolKey;p.filterFrame=null,this.texturePool[g].push(p)}returnFilterTexture(p){this.returnTexture(p)}clear(p){if(p=!1!==p)for(const p in this.texturePool){const g=this.texturePool[p];if(g)for(let p=0;p<g.length;p++)g[p].destroy(!0)}this.texturePool={}}setScreenSize(p){if(p.width!==this._pixelsWidth||p.height!==this._pixelsHeight){this.enableFullScreen=p.width>0&&p.height>0;for(const p in this.texturePool){if(!(Number(p)<0))continue;const g=this.texturePool[p];if(g)for(let p=0;p<g.length;p++)g[p].destroy(!0);this.texturePool[p]=[]}this._pixelsWidth=p.width,this._pixelsHeight=p.height}}}zp.SCREEN_KEY=-1;class Bp extends K{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class up extends K{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new z(this.vertices),this.uvBuffer=new z(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(p,g){let m=0,Z=0;return this.uvs[0]=m,this.uvs[1]=Z,this.uvs[2]=m+g.width/p.width,this.uvs[3]=Z,this.uvs[4]=m+g.width/p.width,this.uvs[5]=Z+g.height/p.height,this.uvs[6]=m,this.uvs[7]=Z+g.height/p.height,m=g.x,Z=g.y,this.vertices[0]=m,this.vertices[1]=Z,this.vertices[2]=m+g.width,this.vertices[3]=Z,this.vertices[4]=m+g.width,this.vertices[5]=Z+g.height,this.vertices[6]=m,this.vertices[7]=Z+g.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class ap{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Z.he.NONE,this.sourceFrame=new r.M_,this.destinationFrame=new r.M_,this.bindingSourceFrame=new r.M_,this.bindingDestinationFrame=new r.M_,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Fp=[new r.bR,new r.bR,new r.bR,new r.bR],Xp=new r.uq;class Kp{constructor(p){this.renderer=p,this.defaultFilterStack=[{}],this.texturePool=new zp,this.statePool=[],this.quad=new Bp,this.quadUv=new up,this.tempRect=new r.M_,this.activeState={},this.globalUniforms=new mp({outputFrame:new r.M_,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(p,g){var m,Z,H,t;const h=this.renderer,k=this.defaultFilterStack,n=this.statePool.pop()||new ap,S=h.renderTexture;let q,D;if(S.current){const p=S.current;q=p.resolution,D=p.multisample}else q=h.resolution,D=h.multisample;let I=g[0].resolution||q,b=null!==(m=g[0].multisample)&&void 0!==m?m:D,e=g[0].padding,N=g[0].autoFit,d=null===(Z=g[0].legacy)||void 0===Z||Z;for(let p=1;p<g.length;p++){const m=g[p];I=Math.min(I,m.resolution||q),b=Math.min(b,null!==(H=m.multisample)&&void 0!==H?H:D),e=this.useMaxPadding?Math.max(e,m.padding):e+m.padding,N=N&&m.autoFit,d=d||null===(t=m.legacy)||void 0===t||t}1===k.length&&(this.defaultFilterStack[0].renderTexture=S.current),k.push(n),n.resolution=I,n.multisample=b,n.legacy=d,n.target=p,n.sourceFrame.copyFrom(p.filterArea||p.getBounds(!0)),n.sourceFrame.pad(e);const Q=this.tempRect.copyFrom(S.sourceFrame);h.projection.transform&&this.transformAABB(Xp.copyFrom(h.projection.transform).invert(),Q),N?(n.sourceFrame.fit(Q),(n.sourceFrame.width<=0||n.sourceFrame.height<=0)&&(n.sourceFrame.width=0,n.sourceFrame.height=0)):n.sourceFrame.intersects(Q)||(n.sourceFrame.width=0,n.sourceFrame.height=0),this.roundFrame(n.sourceFrame,S.current?S.current.resolution:h.resolution,S.sourceFrame,S.destinationFrame,h.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,I,b),n.filters=g,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;const $=this.tempRect;$.x=0,$.y=0,$.width=n.sourceFrame.width,$.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(S.sourceFrame),n.bindingDestinationFrame.copyFrom(S.destinationFrame),n.transform=h.projection.transform,h.projection.transform=null,S.bind(n.renderTexture,n.sourceFrame,$),h.framebuffer.clear(0,0,0,0)}pop(){const p=this.defaultFilterStack,g=p.pop(),m=g.filters;this.activeState=g;const H=this.globalUniforms.uniforms;H.outputFrame=g.sourceFrame,H.resolution=g.resolution;const t=H.inputSize,h=H.inputPixel,k=H.inputClamp;if(t[0]=g.destinationFrame.width,t[1]=g.destinationFrame.height,t[2]=1/t[0],t[3]=1/t[1],h[0]=Math.round(t[0]*g.resolution),h[1]=Math.round(t[1]*g.resolution),h[2]=1/h[0],h[3]=1/h[1],k[0]=.5*h[2],k[1]=.5*h[3],k[2]=g.sourceFrame.width*t[2]-.5*h[2],k[3]=g.sourceFrame.height*t[3]-.5*h[3],g.legacy){const p=H.filterArea;p[0]=g.destinationFrame.width,p[1]=g.destinationFrame.height,p[2]=g.sourceFrame.x,p[3]=g.sourceFrame.y,H.filterClamp=H.inputClamp}this.globalUniforms.update();const n=p[p.length-1];if(this.renderer.framebuffer.blit(),1===m.length)m[0].apply(this,g.renderTexture,n.renderTexture,Z.fr.BLEND,g),this.returnFilterTexture(g.renderTexture);else{let p=g.renderTexture,H=this.getOptimalFilterTexture(p.width,p.height,g.resolution);H.filterFrame=p.filterFrame;let t=0;for(t=0;t<m.length-1;++t){1===t&&g.multisample>1&&(H=this.getOptimalFilterTexture(p.width,p.height,g.resolution),H.filterFrame=p.filterFrame),m[t].apply(this,p,H,Z.fr.CLEAR,g);const h=p;p=H,H=h}m[t].apply(this,p,n.renderTexture,Z.fr.BLEND,g),t>1&&g.multisample>1&&this.returnFilterTexture(g.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(H)}g.clear(),this.statePool.push(g)}bindAndClear(p,g=Z.fr.CLEAR){const{renderTexture:m,state:H}=this.renderer;if(p===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null==p?void 0:p.filterFrame){const g=this.tempRect;g.x=0,g.y=0,g.width=p.filterFrame.width,g.height=p.filterFrame.height,m.bind(p,p.filterFrame,g)}else p!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?m.bind(p):this.renderer.renderTexture.bind(p,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const t=1&H.stateId||this.forceClear;(g===Z.fr.CLEAR||g===Z.fr.BLIT&&t)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(p,g,m,H){const t=this.renderer;t.state.set(p.state),this.bindAndClear(m,H),p.uniforms.uSampler=g,p.uniforms.filterGlobals=this.globalUniforms,t.shader.bind(p),p.legacy=!!p.program.attributeData.aTextureCoord,p.legacy?(this.quadUv.map(g._frame,g.filterFrame),t.geometry.bind(this.quadUv),t.geometry.draw(Z._4.TRIANGLES)):(t.geometry.bind(this.quad),t.geometry.draw(Z._4.TRIANGLE_STRIP))}calculateSpriteMatrix(p,g){const{sourceFrame:m,destinationFrame:Z}=this.activeState,{orig:H}=g._texture,t=p.set(Z.width,0,0,Z.height,m.x,m.y),h=g.worldTransform.copyTo(r.uq.TEMP_MATRIX);return h.invert(),t.prepend(h),t.scale(1/H.width,1/H.height),t.translate(g.anchor.x,g.anchor.y),t}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(p,g,m=1,H=Z.he.NONE){return this.texturePool.getOptimalTexture(p,g,m,H)}getFilterTexture(p,g,m){if("number"==typeof p){const m=p;p=g,g=m}p=p||this.activeState.renderTexture;const H=this.texturePool.getOptimalTexture(p.width,p.height,g||p.resolution,m||Z.he.NONE);return H.filterFrame=p.filterFrame,H}returnFilterTexture(p){this.texturePool.returnTexture(p)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(p,g){const m=Fp[0],Z=Fp[1],H=Fp[2],t=Fp[3];m.set(g.left,g.top),Z.set(g.left,g.bottom),H.set(g.right,g.top),t.set(g.right,g.bottom),p.apply(m,m),p.apply(Z,Z),p.apply(H,H),p.apply(t,t);const h=Math.min(m.x,Z.x,H.x,t.x),k=Math.min(m.y,Z.y,H.y,t.y),n=Math.max(m.x,Z.x,H.x,t.x),S=Math.max(m.y,Z.y,H.y,t.y);g.x=h,g.y=k,g.width=n-h,g.height=S-k}roundFrame(p,g,m,Z,H){if(!(p.width<=0||p.height<=0||m.width<=0||m.height<=0)){if(H){const{a:p,b:g,c:m,d:Z}=H;if((Math.abs(g)>1e-4||Math.abs(m)>1e-4)&&(Math.abs(p)>1e-4||Math.abs(Z)>1e-4))return}(H=H?Xp.copyFrom(H):Xp.identity()).translate(-m.x,-m.y).scale(Z.width/m.width,Z.height/m.height).translate(Z.x,Z.y),this.transformAABB(H,p),p.ceil(g),this.transformAABB(H.invert(),p)}}}Kp.extension={type:k.A.RendererSystem,name:"filter"},k.X.add(Kp);class jp{constructor(p){this.framebuffer=p,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Z.he.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const rp=new r.M_;class Up{constructor(p){this.renderer=p,this.managedFramebuffers=[],this.unknownFramebuffer=new wp(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const p=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new r.M_,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let g=this.renderer.context.extensions.drawBuffers,m=this.renderer.context.extensions.depthTexture;H.W0.PREFER_ENV===Z.Km.WEBGL_LEGACY&&(g=null,m=null),g?p.drawBuffers=p=>g.drawBuffersWEBGL(p):(this.hasMRT=!1,p.drawBuffers=()=>{}),m||(this.writeDepthTexture=!1)}else this.msaaSamples=p.getInternalformatParameter(p.RENDERBUFFER,p.RGBA8,p.SAMPLES)}bind(p,g,m=0){const{gl:Z}=this;if(p){const H=p.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(p);this.current!==p&&(this.current=p,Z.bindFramebuffer(Z.FRAMEBUFFER,H.framebuffer)),H.mipLevel!==m&&(p.dirtyId++,p.dirtyFormat++,H.mipLevel=m),H.dirtyId!==p.dirtyId&&(H.dirtyId=p.dirtyId,H.dirtyFormat!==p.dirtyFormat?(H.dirtyFormat=p.dirtyFormat,H.dirtySize=p.dirtySize,this.updateFramebuffer(p,m)):H.dirtySize!==p.dirtySize&&(H.dirtySize=p.dirtySize,this.resizeFramebuffer(p)));for(let g=0;g<p.colorTextures.length;g++){const m=p.colorTextures[g];this.renderer.texture.unbind(m.parentTextureArray||m)}if(p.depthTexture&&this.renderer.texture.unbind(p.depthTexture),g){const p=g.width>>m,Z=g.height>>m,H=p/g.width;this.setViewport(g.x*H,g.y*H,p,Z)}else{const g=p.width>>m,Z=p.height>>m;this.setViewport(0,0,g,Z)}}else this.current&&(this.current=null,Z.bindFramebuffer(Z.FRAMEBUFFER,null)),g?this.setViewport(g.x,g.y,g.width,g.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(p,g,m,Z){const H=this.viewport;p=Math.round(p),g=Math.round(g),m=Math.round(m),Z=Math.round(Z),(H.width!==m||H.height!==Z||H.x!==p||H.y!==g)&&(H.x=p,H.y=g,H.width=m,H.height=Z,this.gl.viewport(p,g,m,Z))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(p,g,m,H,t=Z.wn.COLOR|Z.wn.DEPTH){const{gl:h}=this;h.clearColor(p,g,m,H),h.clear(t)}initFramebuffer(p){const{gl:g}=this,m=new jp(g.createFramebuffer());return m.multisample=this.detectSamples(p.multisample),p.glFramebuffers[this.CONTEXT_UID]=m,this.managedFramebuffers.push(p),p.disposeRunner.add(this),m}resizeFramebuffer(p){const{gl:g}=this,m=p.glFramebuffers[this.CONTEXT_UID];if(m.stencil){let Z;g.bindRenderbuffer(g.RENDERBUFFER,m.stencil),Z=1===this.renderer.context.webGLVersion?g.DEPTH_STENCIL:p.depth&&p.stencil?g.DEPTH24_STENCIL8:p.depth?g.DEPTH_COMPONENT24:g.STENCIL_INDEX8,m.msaaBuffer?g.renderbufferStorageMultisample(g.RENDERBUFFER,m.multisample,Z,p.width,p.height):g.renderbufferStorage(g.RENDERBUFFER,Z,p.width,p.height)}const Z=p.colorTextures;let H=Z.length;g.drawBuffers||(H=Math.min(H,1));for(let t=0;t<H;t++){const H=Z[t],h=H.parentTextureArray||H;this.renderer.texture.bind(h,0),0===t&&m.msaaBuffer&&(g.bindRenderbuffer(g.RENDERBUFFER,m.msaaBuffer),g.renderbufferStorageMultisample(g.RENDERBUFFER,m.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,p.width,p.height))}p.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(p.depthTexture,0)}updateFramebuffer(p,g){const{gl:m}=this,Z=p.glFramebuffers[this.CONTEXT_UID],H=p.colorTextures;let t=H.length;m.drawBuffers||(t=Math.min(t,1)),Z.multisample>1&&this.canMultisampleFramebuffer(p)?Z.msaaBuffer=Z.msaaBuffer||m.createRenderbuffer():Z.msaaBuffer&&(m.deleteRenderbuffer(Z.msaaBuffer),Z.msaaBuffer=null,Z.blitFramebuffer&&(Z.blitFramebuffer.dispose(),Z.blitFramebuffer=null));const h=[];for(let k=0;k<t;k++){const t=H[k],n=t.parentTextureArray||t;this.renderer.texture.bind(n,0),0===k&&Z.msaaBuffer?(m.bindRenderbuffer(m.RENDERBUFFER,Z.msaaBuffer),m.renderbufferStorageMultisample(m.RENDERBUFFER,Z.multisample,n._glTextures[this.CONTEXT_UID].internalFormat,p.width,p.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,Z.msaaBuffer)):(m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+k,t.target,n._glTextures[this.CONTEXT_UID].texture,g),h.push(m.COLOR_ATTACHMENT0+k))}if(h.length>1&&m.drawBuffers(h),p.depthTexture&&this.writeDepthTexture){const Z=p.depthTexture;this.renderer.texture.bind(Z,0),m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,Z._glTextures[this.CONTEXT_UID].texture,g)}if(!p.stencil&&!p.depth||p.depthTexture&&this.writeDepthTexture)Z.stencil&&(m.deleteRenderbuffer(Z.stencil),Z.stencil=null);else{let g,H;Z.stencil=Z.stencil||m.createRenderbuffer(),1===this.renderer.context.webGLVersion?(g=m.DEPTH_STENCIL_ATTACHMENT,H=m.DEPTH_STENCIL):p.depth&&p.stencil?(g=m.DEPTH_STENCIL_ATTACHMENT,H=m.DEPTH24_STENCIL8):p.depth?(g=m.DEPTH_ATTACHMENT,H=m.DEPTH_COMPONENT24):(g=m.STENCIL_ATTACHMENT,H=m.STENCIL_INDEX8),m.bindRenderbuffer(m.RENDERBUFFER,Z.stencil),Z.msaaBuffer?m.renderbufferStorageMultisample(m.RENDERBUFFER,Z.multisample,H,p.width,p.height):m.renderbufferStorage(m.RENDERBUFFER,H,p.width,p.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,g,m.RENDERBUFFER,Z.stencil)}}canMultisampleFramebuffer(p){return 1!==this.renderer.context.webGLVersion&&p.colorTextures.length<=1&&!p.depthTexture}detectSamples(p){const{msaaSamples:g}=this;let m=Z.he.NONE;if(p<=1||null===g)return m;for(let Z=0;Z<g.length;Z++)if(g[Z]<=p){m=g[Z];break}return 1===m&&(m=Z.he.NONE),m}blit(p,g,m){const{current:Z,renderer:H,gl:t,CONTEXT_UID:h}=this;if(2!==H.context.webGLVersion||!Z)return;const k=Z.glFramebuffers[h];if(!k)return;if(!p){if(!k.msaaBuffer)return;const g=Z.colorTextures[0];if(!g)return;k.blitFramebuffer||(k.blitFramebuffer=new wp(Z.width,Z.height),k.blitFramebuffer.addColorTexture(0,g)),(p=k.blitFramebuffer).colorTextures[0]!==g&&(p.colorTextures[0]=g,p.dirtyId++,p.dirtyFormat++),(p.width!==Z.width||p.height!==Z.height)&&(p.width=Z.width,p.height=Z.height,p.dirtyId++,p.dirtySize++)}g||((g=rp).width=Z.width,g.height=Z.height),m||(m=g);const n=g.width===m.width&&g.height===m.height;this.bind(p),t.bindFramebuffer(t.READ_FRAMEBUFFER,k.framebuffer),t.blitFramebuffer(g.left,g.top,g.right,g.bottom,m.left,m.top,m.right,m.bottom,t.COLOR_BUFFER_BIT,n?t.NEAREST:t.LINEAR),t.bindFramebuffer(t.READ_FRAMEBUFFER,p.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(p,g){const m=p.glFramebuffers[this.CONTEXT_UID],Z=this.gl;if(!m)return;delete p.glFramebuffers[this.CONTEXT_UID];const H=this.managedFramebuffers.indexOf(p);H>=0&&this.managedFramebuffers.splice(H,1),p.disposeRunner.remove(this),g||(Z.deleteFramebuffer(m.framebuffer),m.msaaBuffer&&Z.deleteRenderbuffer(m.msaaBuffer),m.stencil&&Z.deleteRenderbuffer(m.stencil)),m.blitFramebuffer&&this.disposeFramebuffer(m.blitFramebuffer,g)}disposeAll(p){const g=this.managedFramebuffers;this.managedFramebuffers=[];for(let m=0;m<g.length;m++)this.disposeFramebuffer(g[m],p)}forceStencil(){const p=this.current;if(!p)return;const g=p.glFramebuffers[this.CONTEXT_UID];if(!g||g.stencil&&p.stencil)return;p.stencil=!0;const m=p.width,Z=p.height,H=this.gl,t=g.stencil=H.createRenderbuffer();let h,k;H.bindRenderbuffer(H.RENDERBUFFER,t),1===this.renderer.context.webGLVersion?(h=H.DEPTH_STENCIL_ATTACHMENT,k=H.DEPTH_STENCIL):p.depth?(h=H.DEPTH_STENCIL_ATTACHMENT,k=H.DEPTH24_STENCIL8):(h=H.STENCIL_ATTACHMENT,k=H.STENCIL_INDEX8),g.msaaBuffer?H.renderbufferStorageMultisample(H.RENDERBUFFER,g.multisample,k,m,Z):H.renderbufferStorage(H.RENDERBUFFER,k,m,Z),H.framebufferRenderbuffer(H.FRAMEBUFFER,h,H.RENDERBUFFER,t)}reset(){this.current=this.unknownFramebuffer,this.viewport=new r.M_}destroy(){this.renderer=null}}Up.extension={type:k.A.RendererSystem,name:"framebuffer"},k.X.add(Up);const Cp={5126:4,5123:2,5121:1};class xp{constructor(p){this.renderer=p,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const p=this.gl=this.renderer.gl,g=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==g.webGLVersion){let g=this.renderer.context.extensions.vertexArrayObject;H.W0.PREFER_ENV===Z.Km.WEBGL_LEGACY&&(g=null),g?(p.createVertexArray=()=>g.createVertexArrayOES(),p.bindVertexArray=p=>g.bindVertexArrayOES(p),p.deleteVertexArray=p=>g.deleteVertexArrayOES(p)):(this.hasVao=!1,p.createVertexArray=()=>null,p.bindVertexArray=()=>null,p.deleteVertexArray=()=>null)}if(2!==g.webGLVersion){const g=p.getExtension("ANGLE_instanced_arrays");g?(p.vertexAttribDivisor=(p,m)=>g.vertexAttribDivisorANGLE(p,m),p.drawElementsInstanced=(p,m,Z,H,t)=>g.drawElementsInstancedANGLE(p,m,Z,H,t),p.drawArraysInstanced=(p,m,Z,H)=>g.drawArraysInstancedANGLE(p,m,Z,H)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===g.webGLVersion||!!g.extensions.uint32ElementIndex}bind(p,g){g=g||this.renderer.shader.shader;const{gl:m}=this;let Z=p.glVertexArrayObjects[this.CONTEXT_UID],H=!1;Z||(this.managedGeometries[p.id]=p,p.disposeRunner.add(this),p.glVertexArrayObjects[this.CONTEXT_UID]=Z={},H=!0);const t=Z[g.program.id]||this.initGeometryVao(p,g,H);this._activeGeometry=p,this._activeVao!==t&&(this._activeVao=t,this.hasVao?m.bindVertexArray(t):this.activateVao(p,g.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const p=this._activeGeometry,g=this.renderer.buffer;for(let m=0;m<p.buffers.length;m++){const Z=p.buffers[m];g.update(Z)}}checkCompatibility(p,g){const m=p.attributes,Z=g.attributeData;for(const p in Z)if(!m[p])throw new Error(`shader and geometry incompatible, geometry missing the "${p}" attribute`)}getSignature(p,g){const m=p.attributes,Z=g.attributeData,H=["g",p.id];for(const p in m)Z[p]&&H.push(p,Z[p].location);return H.join("-")}initGeometryVao(p,g,m=!0){const H=this.gl,t=this.CONTEXT_UID,h=this.renderer.buffer,k=g.program;k.glPrograms[t]||this.renderer.shader.generateProgram(g),this.checkCompatibility(p,k);const n=this.getSignature(p,k),S=p.glVertexArrayObjects[this.CONTEXT_UID];let q=S[n];if(q)return S[k.id]=q,q;const D=p.buffers,I=p.attributes,b={},e={};for(const p in D)b[p]=0,e[p]=0;for(const p in I)!I[p].size&&k.attributeData[p]?I[p].size=k.attributeData[p].size:I[p].size||console.warn(`PIXI Geometry attribute '${p}' size cannot be determined (likely the bound shader does not have the attribute)`),b[I[p].buffer]+=I[p].size*Cp[I[p].type];for(const p in I){const g=I[p],m=g.size;void 0===g.stride&&(b[g.buffer]===m*Cp[g.type]?g.stride=0:g.stride=b[g.buffer]),void 0===g.start&&(g.start=e[g.buffer],e[g.buffer]+=m*Cp[g.type])}q=H.createVertexArray(),H.bindVertexArray(q);for(let p=0;p<D.length;p++){const g=D[p];h.bind(g),m&&g._glBuffers[t].refCount++}return this.activateVao(p,k),S[k.id]=q,S[n]=q,H.bindVertexArray(null),h.unbind(Z.yw.ARRAY_BUFFER),q}disposeGeometry(p,g){var m;if(!this.managedGeometries[p.id])return;delete this.managedGeometries[p.id];const Z=p.glVertexArrayObjects[this.CONTEXT_UID],H=this.gl,t=p.buffers,h=null===(m=this.renderer)||void 0===m?void 0:m.buffer;if(p.disposeRunner.remove(this),Z){if(h)for(let p=0;p<t.length;p++){const m=t[p]._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,0===m.refCount&&!g&&h.dispose(t[p],g))}if(!g)for(const p in Z)if("g"===p[0]){const g=Z[p];this._activeVao===g&&this.unbind(),H.deleteVertexArray(g)}delete p.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(p){const g=Object.keys(this.managedGeometries);for(let m=0;m<g.length;m++)this.disposeGeometry(this.managedGeometries[g[m]],p)}activateVao(p,g){const m=this.gl,Z=this.CONTEXT_UID,H=this.renderer.buffer,t=p.buffers,h=p.attributes;p.indexBuffer&&H.bind(p.indexBuffer);let k=null;for(const p in h){const n=h[p],S=t[n.buffer],q=S._glBuffers[Z];if(g.attributeData[p]){k!==q&&(H.bind(S),k=q);const Z=g.attributeData[p].location;if(m.enableVertexAttribArray(Z),m.vertexAttribPointer(Z,n.size,n.type||m.FLOAT,n.normalized,n.stride,n.start),n.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");m.vertexAttribDivisor(Z,n.divisor)}}}}draw(p,g,m,Z){const{gl:H}=this,t=this._activeGeometry;if(t.indexBuffer){const h=t.indexBuffer.data.BYTES_PER_ELEMENT,k=2===h?H.UNSIGNED_SHORT:H.UNSIGNED_INT;2===h||4===h&&this.canUseUInt32ElementIndex?t.instanced?H.drawElementsInstanced(p,g||t.indexBuffer.data.length,k,(m||0)*h,Z||1):H.drawElements(p,g||t.indexBuffer.data.length,k,(m||0)*h):console.warn("unsupported index buffer type: uint32")}else t.instanced?H.drawArraysInstanced(p,m,g||t.getSize(),Z||1):H.drawArrays(p,m,g||t.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}xp.extension={type:k.A.RendererSystem,name:"geometry"},k.X.add(xp);const Rp=new r.uq;class cp{constructor(p,g){this._texture=p,this.mapCoord=new r.uq,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof g>"u"?.5:g,this.isSimple=!1}get texture(){return this._texture}set texture(p){this._texture=p,this._textureID=-1}multiplyUvs(p,g){void 0===g&&(g=p);const m=this.mapCoord;for(let Z=0;Z<p.length;Z+=2){const H=p[Z],t=p[Z+1];g[Z]=H*m.a+t*m.c+m.tx,g[Z+1]=H*m.b+t*m.d+m.ty}return g}update(p){const g=this._texture;if(!g||!g.valid||!p&&this._textureID===g._updateID)return!1;this._textureID=g._updateID,this._updateID++;const m=g._uvs;this.mapCoord.set(m.x1-m.x0,m.y1-m.y0,m.x3-m.x0,m.y3-m.y0,m.x0,m.y0);const Z=g.orig,H=g.trim;H&&(Rp.set(Z.width/H.width,0,0,Z.height/H.height,-H.x/H.width,-H.y/H.height),this.mapCoord.append(Rp));const t=g.baseTexture,h=this.uClampFrame,k=this.clampMargin/t.resolution,n=this.clampOffset;return h[0]=(g._frame.x+k+n)/t.width,h[1]=(g._frame.y+k+n)/t.height,h[2]=(g._frame.x+g._frame.width-k+n)/t.width,h[3]=(g._frame.y+g._frame.height-k+n)/t.height,this.uClampOffset[0]=n/t.realWidth,this.uClampOffset[1]=n/t.realHeight,this.isSimple=g._frame.width===t.width&&g._frame.height===t.height&&0===g.rotate,!0}}var Op=`varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n`,fp=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n`;class _p extends ep{constructor(p,g,m){let Z=null;"string"!=typeof p&&void 0===g&&void 0===m&&(Z=p,p=void 0,g=void 0,m=void 0),super(p||fp,g||Op,m),this.maskSprite=Z,this.maskMatrix=new r.uq}get maskSprite(){return this._maskSprite}set maskSprite(p){this._maskSprite=p,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(p,g,m,Z){const H=this._maskSprite,t=H._texture;t.valid&&(t.uvMatrix||(t.uvMatrix=new cp(t,0)),t.uvMatrix.update(),this.uniforms.npmAlpha=t.baseTexture.alphaMode?0:1,this.uniforms.mask=t,this.uniforms.otherMatrix=p.calculateSpriteMatrix(this.maskMatrix,H).prepend(t.uvMatrix.mapCoord),this.uniforms.alpha=H.worldAlpha,this.uniforms.maskClamp=t.uvMatrix.uClampFrame,p.applyFilter(this,g,m,Z))}}class Ep{constructor(p=null){this.type=Z.vg.NONE,this.autoDetect=!0,this.maskObject=p||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ep.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(p){p?this._filters?this._filters[0]=p:this._filters=[p]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Z.vg.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(p){p?(this._stencilCounter=p._stencilCounter,this._scissorCounter=p._scissorCounter,this._scissorRect=p._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Gp{constructor(p){this.renderer=p,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(p){this.maskStack=p,this.renderer.scissor.setMaskStack(p),this.renderer.stencil.setMaskStack(p)}push(p,g){let m=g;if(!m.isMaskData){const p=this.maskDataPool.pop()||new Ep;p.pooled=!0,p.maskObject=g,m=p}const H=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(m.copyCountersOrReset(H),m._colorMask=H?H._colorMask:15,m.autoDetect&&this.detect(m),m._target=p,m.type!==Z.vg.SPRITE&&this.maskStack.push(m),m.enabled)switch(m.type){case Z.vg.SCISSOR:this.renderer.scissor.push(m);break;case Z.vg.STENCIL:this.renderer.stencil.push(m);break;case Z.vg.SPRITE:m.copyCountersOrReset(null),this.pushSpriteMask(m);break;case Z.vg.COLOR:this.pushColorMask(m)}m.type===Z.vg.SPRITE&&this.maskStack.push(m)}pop(p){const g=this.maskStack.pop();if(g&&g._target===p){if(g.enabled)switch(g.type){case Z.vg.SCISSOR:this.renderer.scissor.pop(g);break;case Z.vg.STENCIL:this.renderer.stencil.pop(g.maskObject);break;case Z.vg.SPRITE:this.popSpriteMask(g);break;case Z.vg.COLOR:this.popColorMask(g)}if(g.reset(),g.pooled&&this.maskDataPool.push(g),0!==this.maskStack.length){const p=this.maskStack[this.maskStack.length-1];p.type===Z.vg.SPRITE&&p._filters&&(p._filters[0].maskSprite=p.maskObject)}}}detect(p){const g=p.maskObject;g?g.isSprite?p.type=Z.vg.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(p)?p.type=Z.vg.SCISSOR:p.type=Z.vg.STENCIL:p.type=Z.vg.COLOR}pushSpriteMask(p){const{maskObject:g}=p,m=p._target;let Z=p._filters;Z||(Z=this.alphaMaskPool[this.alphaMaskIndex],Z||(Z=this.alphaMaskPool[this.alphaMaskIndex]=[new _p])),Z[0].resolution=p.resolution,Z[0].multisample=p.multisample,Z[0].maskSprite=g;const H=m.filterArea;m.filterArea=g.getBounds(!0),this.renderer.filter.push(m,Z),m.filterArea=H,p._filters||this.alphaMaskIndex++}popSpriteMask(p){this.renderer.filter.pop(),p._filters?p._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(p){const g=p._colorMask,m=p._colorMask=g&p.colorMask;m!==g&&this.renderer.gl.colorMask(!!(1&m),!!(2&m),!!(4&m),!!(8&m))}popColorMask(p){const g=p._colorMask,m=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;m!==g&&this.renderer.gl.colorMask(!!(1&m),!!(2&m),!!(4&m),!!(8&m))}destroy(){this.renderer=null}}Gp.extension={type:k.A.RendererSystem,name:"mask"},k.X.add(Gp);class Mp{constructor(p){this.renderer=p,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(p){const{gl:g}=this.renderer,m=this.getStackLength();this.maskStack=p;const Z=this.getStackLength();Z!==m&&(0===Z?g.disable(this.glConst):(g.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const sp=new r.uq,Tp=[],lp=class p extends Mp{constructor(p){super(p),this.glConst=H.W0.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const p=this.maskStack[this.maskStack.length-1];return p?p._scissorCounter:0}calcScissorRect(p){var g;if(p._scissorRectLocal)return;const m=p._scissorRect,{maskObject:Z}=p,{renderer:H}=this,t=H.renderTexture,h=Z.getBounds(!0,null!==(g=Tp.pop())&&void 0!==g?g:new r.M_);this.roundFrameToPixels(h,t.current?t.current.resolution:H.resolution,t.sourceFrame,t.destinationFrame,H.projection.transform),m&&h.fit(m),p._scissorRectLocal=h}static isMatrixRotated(p){if(!p)return!1;const{a:g,b:m,c:Z,d:H}=p;return(Math.abs(m)>1e-4||Math.abs(Z)>1e-4)&&(Math.abs(g)>1e-4||Math.abs(H)>1e-4)}testScissor(g){const{maskObject:m}=g;if(!m.isFastRect||!m.isFastRect()||p.isMatrixRotated(m.worldTransform)||p.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(g);const Z=g._scissorRectLocal;return Z.width>0&&Z.height>0}roundFrameToPixels(g,m,Z,H,t){p.isMatrixRotated(t)||((t=t?sp.copyFrom(t):sp.identity()).translate(-Z.x,-Z.y).scale(H.width/Z.width,H.height/Z.height).translate(H.x,H.y),this.renderer.filter.transformAABB(t,g),g.fit(H),g.x=Math.round(g.x*m),g.y=Math.round(g.y*m),g.width=Math.round(g.width*m),g.height=Math.round(g.height*m))}push(p){p._scissorRectLocal||this.calcScissorRect(p);const{gl:g}=this.renderer;p._scissorRect||g.enable(g.SCISSOR_TEST),p._scissorCounter++,p._scissorRect=p._scissorRectLocal,this._useCurrent()}pop(p){const{gl:g}=this.renderer;p&&Tp.push(p._scissorRectLocal),this.getStackLength()>0?this._useCurrent():g.disable(g.SCISSOR_TEST)}_useCurrent(){const p=this.maskStack[this.maskStack.length-1]._scissorRect;let g;g=this.renderer.renderTexture.current?p.y:this.renderer.height-p.height-p.y,this.renderer.gl.scissor(p.x,g,p.width,p.height)}};lp.extension={type:k.A.RendererSystem,name:"scissor"};let Ap=lp;k.X.add(Ap);class Lp extends Mp{constructor(p){super(p),this.glConst=H.W0.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const p=this.maskStack[this.maskStack.length-1];return p?p._stencilCounter:0}push(p){const g=p.maskObject,{gl:m}=this.renderer,Z=p._stencilCounter;0===Z&&(this.renderer.framebuffer.forceStencil(),m.clearStencil(0),m.clear(m.STENCIL_BUFFER_BIT),m.enable(m.STENCIL_TEST)),p._stencilCounter++;const H=p._colorMask;0!==H&&(p._colorMask=0,m.colorMask(!1,!1,!1,!1)),m.stencilFunc(m.EQUAL,Z,4294967295),m.stencilOp(m.KEEP,m.KEEP,m.INCR),g.renderable=!0,g.render(this.renderer),this.renderer.batch.flush(),g.renderable=!1,0!==H&&(p._colorMask=H,m.colorMask(!!(1&H),!!(2&H),!!(4&H),!!(8&H))),this._useCurrent()}pop(p){const g=this.renderer.gl;if(0===this.getStackLength())g.disable(g.STENCIL_TEST);else{const m=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,Z=m?m._colorMask:15;0!==Z&&(m._colorMask=0,g.colorMask(!1,!1,!1,!1)),g.stencilOp(g.KEEP,g.KEEP,g.DECR),p.renderable=!0,p.render(this.renderer),this.renderer.batch.flush(),p.renderable=!1,0!==Z&&(m._colorMask=Z,g.colorMask(!!(1&Z),!!(2&Z),!!(4&Z),!!(8&Z))),this._useCurrent()}}_useCurrent(){const p=this.renderer.gl;p.stencilFunc(p.EQUAL,this.getStackLength(),4294967295),p.stencilOp(p.KEEP,p.KEEP,p.KEEP)}}Lp.extension={type:k.A.RendererSystem,name:"stencil"},k.X.add(Lp);class op{constructor(p){this.renderer=p,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(t.deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),p.extract)},prepare:{enumerable:!1,get:()=>(t.deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),p.prepare)},interaction:{enumerable:!1,get:()=>(t.deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),p.events)}})}init(){const p=this.rendererPlugins;for(const g in p)this.plugins[g]=new p[g](this.renderer)}destroy(){for(const p in this.plugins)this.plugins[p].destroy(),this.plugins[p]=null}}op.extension={type:[k.A.RendererSystem,k.A.CanvasRendererSystem],name:"_plugin"},k.X.add(op);class pg{constructor(p){this.renderer=p,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new r.uq,this.transform=null}update(p,g,m,Z){this.destinationFrame=p||this.destinationFrame||this.defaultFrame,this.sourceFrame=g||this.sourceFrame||p,this.calculateProjection(this.destinationFrame,this.sourceFrame,m,Z),this.transform&&this.projectionMatrix.append(this.transform);const H=this.renderer;H.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,H.globalUniforms.update(),H.shader.shader&&H.shader.syncUniformGroup(H.shader.shader.uniforms.globals)}calculateProjection(p,g,m,Z){const H=this.projectionMatrix,t=Z?-1:1;H.identity(),H.a=1/g.width*2,H.d=t*(1/g.height*2),H.tx=-1-g.x*H.a,H.ty=-t-g.y*H.d}setTransform(p){}destroy(){this.renderer=null}}pg.extension={type:k.A.RendererSystem,name:"projection"},k.X.add(pg);const gg=new r.dL,mg=new r.M_;class Zg{constructor(p){this.renderer=p,this._tempMatrix=new r.uq}generateTexture(p,g){var m;const{region:Z,...H}=g||{},t=(null==Z?void 0:Z.copyTo(mg))||p.getLocalBounds(mg,!0),h=H.resolution||this.renderer.resolution;t.width=Math.max(t.width,1/h),t.height=Math.max(t.height,1/h),H.width=t.width,H.height=t.height,H.resolution=h,null!==(m=H.multisample)&&void 0!==m||(H.multisample=this.renderer.multisample);const k=Vp.create(H);this._tempMatrix.tx=-t.x,this._tempMatrix.ty=-t.y;const n=p.transform;return p.transform=gg,this.renderer.render(p,{renderTexture:k,transform:this._tempMatrix,skipUpdateTransform:!!p.parent,blit:!0}),p.transform=n,k}destroy(){}}Zg.extension={type:[k.A.RendererSystem,k.A.CanvasRendererSystem],name:"textureGenerator"},k.X.add(Zg);const Hg=new r.M_,tg=new r.M_;class hg{constructor(p){this.renderer=p,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new r.M_,this.destinationFrame=new r.M_,this.viewportFrame=new r.M_}contextChange(){var p;const g=null===(p=this.renderer)||void 0===p?void 0:p.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(g&&g.alpha&&g.premultipliedAlpha)}bind(p=null,g,m){const Z=this.renderer;let H,t,h;this.current=p,p?(H=p.baseTexture,h=H.resolution,g||(Hg.width=p.frame.width,Hg.height=p.frame.height,g=Hg),m||(tg.x=p.frame.x,tg.y=p.frame.y,tg.width=g.width,tg.height=g.height,m=tg),t=H.framebuffer):(h=Z.resolution,g||(Hg.width=Z._view.screen.width,Hg.height=Z._view.screen.height,g=Hg),m||((m=Hg).width=g.width,m.height=g.height));const k=this.viewportFrame;k.x=m.x*h,k.y=m.y*h,k.width=m.width*h,k.height=m.height*h,p||(k.y=Z.view.height-(k.y+k.height)),k.ceil(),this.renderer.framebuffer.bind(t,k),this.renderer.projection.update(m,g,h,!t),p?this.renderer.mask.setMaskStack(H.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(g),this.destinationFrame.copyFrom(m)}clear(p,g){const m=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,Z=h.Q.shared.setValue(p||m);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&Z.premultiply(Z.alpha);const H=this.destinationFrame,t=this.current?this.current.baseTexture:this.renderer._view.screen,k=H.width!==t.width||H.height!==t.height;if(k){let{x:p,y:g,width:m,height:Z}=this.viewportFrame;p=Math.round(p),g=Math.round(g),m=Math.round(m),Z=Math.round(Z),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,m,Z)}this.renderer.framebuffer.clear(Z.red,Z.green,Z.blue,Z.alpha,g),k&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}hg.extension={type:k.A.RendererSystem,name:"renderTexture"},k.X.add(hg);class kg{constructor(p,g){this.program=p,this.uniformData=g,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function ng(p,g,m){const Z=p.createShader(g);return p.shaderSource(Z,m),p.compileShader(Z),Z}function Sg(p){const g=new Array(p);for(let p=0;p<g.length;p++)g[p]=!1;return g}function qg(p,g){switch(p){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*g);case"vec3":return new Float32Array(3*g);case"vec4":return new Float32Array(4*g);case"ivec2":return new Int32Array(2*g);case"ivec3":return new Int32Array(3*g);case"ivec4":return new Int32Array(4*g);case"uvec2":return new Uint32Array(2*g);case"uvec3":return new Uint32Array(3*g);case"uvec4":return new Uint32Array(4*g);case"bool":return!1;case"bvec2":return Sg(2*g);case"bvec3":return Sg(3*g);case"bvec4":return Sg(4*g);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Dg(p,g){const m=p.getShaderSource(g).split(`\n`).map(((p,g)=>`${g}: ${p}`)),Z=p.getShaderInfoLog(g),H=Z.split(`\n`),t={},h=H.map((p=>parseFloat(p.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((p=>!(!p||t[p]||(t[p]=!0,0)))),k=[""];h.forEach((p=>{m[p-1]=`%c${m[p-1]}%c`,k.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const n=m.join(`\n`);k[0]=n,console.error(Z),console.groupCollapsed("click to view full shader code"),console.warn(...k),console.groupEnd()}function Ig(p,g,m,Z,H){m.buffer.update(H)}const bg={float:`\n        data[offset] = v;\n    `,vec2:`\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    `,vec3:`\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    `,vec4:`\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    `,mat2:`\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    `,mat3:`\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    `,mat4:`\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    `},eg={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};let Ng,dg=0;const Qg={textureCount:0,uboCount:0};class $g{constructor(p){this.destroyed=!1,this.renderer=p,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=dg++}systemCheck(){if(!function(){if("boolean"==typeof Ng)return Ng;try{Ng=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(p){Ng=!1}return Ng}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(p){this.gl=p,this.reset()}bind(p,g){p.disposeRunner.add(this),p.uniforms.globals=this.renderer.globalUniforms;const m=p.program,Z=m.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(p);return this.shader=p,this.program!==m&&(this.program=m,this.gl.useProgram(Z.program)),g||(Qg.textureCount=0,Qg.uboCount=0,this.syncUniformGroup(p.uniformGroup,Qg)),Z}setUniforms(p){const g=this.shader.program,m=g.glPrograms[this.renderer.CONTEXT_UID];g.syncUniforms(m.uniformData,p,this.renderer)}syncUniformGroup(p,g){const m=this.getGlProgram();(!p.static||p.dirtyId!==m.uniformDirtyGroups[p.id])&&(m.uniformDirtyGroups[p.id]=p.dirtyId,this.syncUniforms(p,m,g))}syncUniforms(p,g,m){(p.syncUniforms[this.shader.program.id]||this.createSyncGroups(p))(g.uniformData,p.uniforms,this.renderer,m)}createSyncGroups(p){const g=this.getSignature(p,this.shader.program.uniformData,"u");return this.cache[g]||(this.cache[g]=function(p,g){var m;const Z=[`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    `];for(const H in p.uniforms){const t=g[H];if(!t){!0===(null===(m=p.uniforms[H])||void 0===m?void 0:m.group)&&(p.uniforms[H].ubo?Z.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${H}, '${H}');\n                    `):Z.push(`\n                        renderer.shader.syncUniformGroup(uv.${H}, syncData);\n                    `));continue}const h=p.uniforms[H];let k=!1;for(let p=0;p<x.length;p++)if(x[p].test(t,h)){Z.push(x[p].code(H,h)),k=!0;break}if(!k){const p=(1!==t.size||t.isArray?c:R)[t.type].replace("location",`ud["${H}"].location`);Z.push(`\n            cu = ud["${H}"];\n            cv = cu.value;\n            v = uv["${H}"];\n            ${p};`)}}return new Function("ud","uv","renderer","syncData",Z.join(`\n`))}(p,this.shader.program.uniformData)),p.syncUniforms[this.shader.program.id]=this.cache[g],p.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(p,g){const m=this.getGlProgram();if(!p.static||0!==p.dirtyId||!m.uniformGroups[p.id]){p.dirtyId=0;const Z=m.uniformGroups[p.id]||this.createSyncBufferGroup(p,m,g);p.buffer.update(),Z(m.uniformData,p.uniforms,this.renderer,Qg,p.buffer)}this.renderer.buffer.bindBufferBase(p.buffer,m.uniformBufferBindings[g])}createSyncBufferGroup(p,g,m){const{gl:Z}=this.renderer;this.renderer.buffer.bind(p.buffer);const H=this.gl.getUniformBlockIndex(g.program,m);g.uniformBufferBindings[m]=this.shader.uniformBindCount,Z.uniformBlockBinding(g.program,H,this.shader.uniformBindCount),this.shader.uniformBindCount++;const t=this.getSignature(p,this.shader.program.uniformData,"ubo");let h=this._uboCache[t];if(h||(h=this._uboCache[t]=function(p,g){if(!p.autoManage)return{size:0,syncFunc:Ig};const m=function(p,g){const m=[];for(const Z in p)g[Z]&&m.push(g[Z]);return m.sort(((p,g)=>p.index-g.index)),m}(p.uniforms,g),{uboElements:Z,size:H}=function(p){const g=p.map((p=>({data:p,offset:0,dataLen:0,dirty:0})));let m=0,Z=0,H=0;for(let p=0;p<g.length;p++){const t=g[p];if(m=eg[t.data.type],t.data.size>1&&(m=Math.max(m,16)*t.data.size),t.dataLen=m,Z%m!=0&&Z<16){const p=Z%m%16;Z+=p,H+=p}Z+m>16?(H=16*Math.ceil(H/16),t.offset=H,H+=m,Z=m):(t.offset=H,Z+=m,H+=m)}return H=16*Math.ceil(H/16),{uboElements:g,size:H}}(m),t=[`\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    `];for(let g=0;g<Z.length;g++){const m=Z[g],H=p.uniforms[m.data.name],h=m.data.name;let k=!1;for(let p=0;p<x.length;p++){const g=x[p];if(g.codeUbo&&g.test(m.data,H)){t.push(`offset = ${m.offset/4};`,x[p].codeUbo(m.data.name,H)),k=!0;break}}if(!k)if(m.data.size>1){const p=G(m.data.type),g=Math.max(eg[m.data.type]/16,1),Z=p/g,H=(4-Z%4)%4;t.push(`\n                cv = ud.${h}.value;\n                v = uv.${h};\n                offset = ${m.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${m.data.size*g}; i++)\n                {\n                    for(var j = 0; j < ${Z}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${H};\n                }\n\n                `)}else{const p=bg[m.data.type];t.push(`\n                cv = ud.${h}.value;\n                v = uv.${h};\n                offset = ${m.offset/4};\n                ${p};\n                `)}}return t.push(`\n       renderer.buffer.update(buffer);\n    `),{size:H,syncFunc:new Function("ud","uv","renderer","syncData","buffer",t.join(`\n`))}}(p,this.shader.program.uniformData)),p.autoManage){const g=new Float32Array(h.size/4);p.buffer.update(g)}return g.uniformGroups[p.id]=h.syncFunc,g.uniformGroups[p.id]}getSignature(p,g,m){const Z=p.uniforms,H=[`${m}-`];for(const p in Z)H.push(p),g[p]&&H.push(g[p].type);return H.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(p){const g=this.gl,m=p.program,Z=function(p,g){var m;const Z=ng(p,p.VERTEX_SHADER,g.vertexSrc),H=ng(p,p.FRAGMENT_SHADER,g.fragmentSrc),t=p.createProgram();p.attachShader(t,Z),p.attachShader(t,H);const h=null===(m=g.extra)||void 0===m?void 0:m.transformFeedbackVaryings;if(h&&("function"!=typeof p.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):p.transformFeedbackVaryings(t,h.names,"separate"===h.bufferMode?p.SEPARATE_ATTRIBS:p.INTERLEAVED_ATTRIBS)),p.linkProgram(t),p.getProgramParameter(t,p.LINK_STATUS)||function(p,g,m,Z){p.getProgramParameter(g,p.LINK_STATUS)||(p.getShaderParameter(m,p.COMPILE_STATUS)||Dg(p,m),p.getShaderParameter(Z,p.COMPILE_STATUS)||Dg(p,Z),console.error("PixiJS Error: Could not initialize shader."),""!==p.getProgramInfoLog(g)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",p.getProgramInfoLog(g)))}(p,t,Z,H),g.attributeData=function(p,g){const m={},Z=g.getProgramParameter(p,g.ACTIVE_ATTRIBUTES);for(let H=0;H<Z;H++){const Z=g.getActiveAttrib(p,H);if(Z.name.startsWith("gl_"))continue;const t=T(g,Z.type),h={type:t,name:Z.name,size:G(t),location:g.getAttribLocation(p,Z.name)};m[Z.name]=h}return m}(t,p),g.uniformData=function(p,g){const m={},Z=g.getProgramParameter(p,g.ACTIVE_UNIFORMS);for(let H=0;H<Z;H++){const Z=g.getActiveUniform(p,H),t=Z.name.replace(/\[.*?\]$/,""),h=!!Z.name.match(/\[.*?\]$/),k=T(g,Z.type);m[t]={name:t,index:H,type:k,size:Z.size,isArray:h,value:qg(k,Z.size)}}return m}(t,p),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(g.vertexSrc)){const m=Object.keys(g.attributeData);m.sort(((p,g)=>p>g?1:-1));for(let Z=0;Z<m.length;Z++)g.attributeData[m[Z]].location=Z,p.bindAttribLocation(t,Z,m[Z]);p.linkProgram(t)}p.deleteShader(Z),p.deleteShader(H);const k={};for(const m in g.uniformData){const Z=g.uniformData[m];k[m]={location:p.getUniformLocation(t,m),value:qg(Z.type,Z.size)}}return new kg(t,k)}(g,m);return m.glPrograms[this.renderer.CONTEXT_UID]=Z,Z}reset(){this.program=null,this.shader=null}disposeShader(p){this.shader===p&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}$g.extension={type:k.A.RendererSystem,name:"shader"},k.X.add($g);class wg{constructor(p){this.renderer=p}run(p){const{renderer:g}=this;g.runners.init.emit(g.options),p.hello&&console.log(`PixiJS 7.3.2 - ${g.rendererLogId} - https://pixijs.com`),g.resize(g.screen.width,g.screen.height)}destroy(){}}wg.defaultOptions={hello:!1},wg.extension={type:[k.A.RendererSystem,k.A.CanvasRendererSystem],name:"startup"},k.X.add(wg);const Yg=0,ig=1,Pg=2,Jg=3,yg=4,Wg=5,vg=class p{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Z.B9.NONE,this._blendEq=!1,this.map=[],this.map[Yg]=this.setBlend,this.map[ig]=this.setOffset,this.map[Pg]=this.setCullFace,this.map[Jg]=this.setDepthTest,this.map[yg]=this.setFrontFace,this.map[Wg]=this.setDepthMask,this.checks=[],this.defaultState=new Q,this.defaultState.blend=!0}contextChange(p){this.gl=p,this.blendModes=function(p,g=[]){return g[Z.B9.NORMAL]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.ADD]=[p.ONE,p.ONE],g[Z.B9.MULTIPLY]=[p.DST_COLOR,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.SCREEN]=[p.ONE,p.ONE_MINUS_SRC_COLOR,p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.OVERLAY]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.DARKEN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.LIGHTEN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.COLOR_DODGE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.COLOR_BURN]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.HARD_LIGHT]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.SOFT_LIGHT]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.DIFFERENCE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.EXCLUSION]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.HUE]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.SATURATION]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.COLOR]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.LUMINOSITY]=[p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.NONE]=[0,0],g[Z.B9.NORMAL_NPM]=[p.SRC_ALPHA,p.ONE_MINUS_SRC_ALPHA,p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.ADD_NPM]=[p.SRC_ALPHA,p.ONE,p.ONE,p.ONE],g[Z.B9.SCREEN_NPM]=[p.SRC_ALPHA,p.ONE_MINUS_SRC_COLOR,p.ONE,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.SRC_IN]=[p.DST_ALPHA,p.ZERO],g[Z.B9.SRC_OUT]=[p.ONE_MINUS_DST_ALPHA,p.ZERO],g[Z.B9.SRC_ATOP]=[p.DST_ALPHA,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.DST_OVER]=[p.ONE_MINUS_DST_ALPHA,p.ONE],g[Z.B9.DST_IN]=[p.ZERO,p.SRC_ALPHA],g[Z.B9.DST_OUT]=[p.ZERO,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.DST_ATOP]=[p.ONE_MINUS_DST_ALPHA,p.SRC_ALPHA],g[Z.B9.XOR]=[p.ONE_MINUS_DST_ALPHA,p.ONE_MINUS_SRC_ALPHA],g[Z.B9.SUBTRACT]=[p.ONE,p.ONE,p.ONE,p.ONE,p.FUNC_REVERSE_SUBTRACT,p.FUNC_ADD],g}(p),this.set(this.defaultState),this.reset()}set(p){if(p=p||this.defaultState,this.stateId!==p.data){let g=this.stateId^p.data,m=0;for(;g;)1&g&&this.map[m].call(this,!!(p.data&1<<m)),g>>=1,m++;this.stateId=p.data}for(let g=0;g<this.checks.length;g++)this.checks[g](this,p)}forceState(p){p=p||this.defaultState;for(let g=0;g<this.map.length;g++)this.map[g].call(this,!!(p.data&1<<g));for(let g=0;g<this.checks.length;g++)this.checks[g](this,p);this.stateId=p.data}setBlend(g){this.updateCheck(p.checkBlendMode,g),this.gl[g?"enable":"disable"](this.gl.BLEND)}setOffset(g){this.updateCheck(p.checkPolygonOffset,g),this.gl[g?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(p){this.gl[p?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(p){this.gl.depthMask(p)}setCullFace(p){this.gl[p?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(p){this.gl.frontFace(this.gl[p?"CW":"CCW"])}setBlendMode(p){if(p===this.blendMode)return;this.blendMode=p;const g=this.blendModes[p],m=this.gl;2===g.length?m.blendFunc(g[0],g[1]):m.blendFuncSeparate(g[0],g[1],g[2],g[3]),6===g.length?(this._blendEq=!0,m.blendEquationSeparate(g[4],g[5])):this._blendEq&&(this._blendEq=!1,m.blendEquationSeparate(m.FUNC_ADD,m.FUNC_ADD))}setPolygonOffset(p,g){this.gl.polygonOffset(p,g)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(p,g){const m=this.checks.indexOf(p);g&&-1===m?this.checks.push(p):!g&&-1!==m&&this.checks.splice(m,1)}static checkBlendMode(p,g){p.setBlendMode(g.blendMode)}static checkPolygonOffset(p,g){p.setPolygonOffset(1,g.polygonOffset)}destroy(){this.gl=null}};vg.extension={type:k.A.RendererSystem,name:"state"};let Vg=vg;k.X.add(Vg);class zg extends t.EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(p){var g;this.addRunners(...p.runners);const m=(null!==(g=p.priority)&&void 0!==g?g:[]).filter((g=>p.systems[g])),Z=[...m,...Object.keys(p.systems).filter((p=>!m.includes(p)))];for(const g of Z)this.addSystem(p.systems[g],g)}addRunners(...p){p.forEach((p=>{this.runners[p]=new Y(p)}))}addSystem(p,g){const m=new p(this);if(this[g])throw new Error(`Whoops! The name "${g}" is already in use`);this[g]=m,this._systemsHash[g]=m;for(const p in this.runners)this.runners[p].add(m);return this}emitWithCustomOptions(p,g){const m=Object.keys(this._systemsHash);p.items.forEach((Z=>{const H=m.find((p=>this._systemsHash[p]===Z));Z[p.name](g[H])}))}destroy(){Object.values(this.runners).forEach((p=>{p.destroy()})),this._systemsHash={}}}const Bg=class p{constructor(g){this.renderer=g,this.count=0,this.checkCount=0,this.maxIdle=p.defaultMaxIdle,this.checkCountMax=p.defaultCheckCountMax,this.mode=p.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Z.OS.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const p=this.renderer.texture,g=p.managedTextures;let m=!1;for(let Z=0;Z<g.length;Z++){const H=g[Z];H.resource&&this.count-H.touched>this.maxIdle&&(p.destroyTexture(H,!0),g[Z]=null,m=!0)}if(m){let p=0;for(let m=0;m<g.length;m++)null!==g[m]&&(g[p++]=g[m]);g.length=p}}unload(p){const g=this.renderer.texture,m=p._texture;m&&!m.framebuffer&&g.destroyTexture(m);for(let g=p.children.length-1;g>=0;g--)this.unload(p.children[g])}destroy(){this.renderer=null}};Bg.defaultMode=Z.OS.AUTO,Bg.defaultMaxIdle=60*60,Bg.defaultCheckCountMax=60*10,Bg.extension={type:k.A.RendererSystem,name:"textureGC"};let ug=Bg;k.X.add(ug);class ag{constructor(p){this.texture=p,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Z.QE.UNSIGNED_BYTE,this.internalFormat=Z.hR.RGBA,this.samplerType=0}}class Fg{constructor(p){this.renderer=p,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new W,this.hasIntegerTextures=!1}contextChange(){const p=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(p){let g;return g="WebGL2RenderingContext"in globalThis&&p instanceof globalThis.WebGL2RenderingContext?{[Z.QE.UNSIGNED_BYTE]:{[Z.hR.RGBA]:p.RGBA8,[Z.hR.RGB]:p.RGB8,[Z.hR.RG]:p.RG8,[Z.hR.RED]:p.R8,[Z.hR.RGBA_INTEGER]:p.RGBA8UI,[Z.hR.RGB_INTEGER]:p.RGB8UI,[Z.hR.RG_INTEGER]:p.RG8UI,[Z.hR.RED_INTEGER]:p.R8UI,[Z.hR.ALPHA]:p.ALPHA,[Z.hR.LUMINANCE]:p.LUMINANCE,[Z.hR.LUMINANCE_ALPHA]:p.LUMINANCE_ALPHA},[Z.QE.BYTE]:{[Z.hR.RGBA]:p.RGBA8_SNORM,[Z.hR.RGB]:p.RGB8_SNORM,[Z.hR.RG]:p.RG8_SNORM,[Z.hR.RED]:p.R8_SNORM,[Z.hR.RGBA_INTEGER]:p.RGBA8I,[Z.hR.RGB_INTEGER]:p.RGB8I,[Z.hR.RG_INTEGER]:p.RG8I,[Z.hR.RED_INTEGER]:p.R8I},[Z.QE.UNSIGNED_SHORT]:{[Z.hR.RGBA_INTEGER]:p.RGBA16UI,[Z.hR.RGB_INTEGER]:p.RGB16UI,[Z.hR.RG_INTEGER]:p.RG16UI,[Z.hR.RED_INTEGER]:p.R16UI,[Z.hR.DEPTH_COMPONENT]:p.DEPTH_COMPONENT16},[Z.QE.SHORT]:{[Z.hR.RGBA_INTEGER]:p.RGBA16I,[Z.hR.RGB_INTEGER]:p.RGB16I,[Z.hR.RG_INTEGER]:p.RG16I,[Z.hR.RED_INTEGER]:p.R16I},[Z.QE.UNSIGNED_INT]:{[Z.hR.RGBA_INTEGER]:p.RGBA32UI,[Z.hR.RGB_INTEGER]:p.RGB32UI,[Z.hR.RG_INTEGER]:p.RG32UI,[Z.hR.RED_INTEGER]:p.R32UI,[Z.hR.DEPTH_COMPONENT]:p.DEPTH_COMPONENT24},[Z.QE.INT]:{[Z.hR.RGBA_INTEGER]:p.RGBA32I,[Z.hR.RGB_INTEGER]:p.RGB32I,[Z.hR.RG_INTEGER]:p.RG32I,[Z.hR.RED_INTEGER]:p.R32I},[Z.QE.FLOAT]:{[Z.hR.RGBA]:p.RGBA32F,[Z.hR.RGB]:p.RGB32F,[Z.hR.RG]:p.RG32F,[Z.hR.RED]:p.R32F,[Z.hR.DEPTH_COMPONENT]:p.DEPTH_COMPONENT32F},[Z.QE.HALF_FLOAT]:{[Z.hR.RGBA]:p.RGBA16F,[Z.hR.RGB]:p.RGB16F,[Z.hR.RG]:p.RG16F,[Z.hR.RED]:p.R16F},[Z.QE.UNSIGNED_SHORT_5_6_5]:{[Z.hR.RGB]:p.RGB565},[Z.QE.UNSIGNED_SHORT_4_4_4_4]:{[Z.hR.RGBA]:p.RGBA4},[Z.QE.UNSIGNED_SHORT_5_5_5_1]:{[Z.hR.RGBA]:p.RGB5_A1},[Z.QE.UNSIGNED_INT_2_10_10_10_REV]:{[Z.hR.RGBA]:p.RGB10_A2,[Z.hR.RGBA_INTEGER]:p.RGB10_A2UI},[Z.QE.UNSIGNED_INT_10F_11F_11F_REV]:{[Z.hR.RGB]:p.R11F_G11F_B10F},[Z.QE.UNSIGNED_INT_5_9_9_9_REV]:{[Z.hR.RGB]:p.RGB9_E5},[Z.QE.UNSIGNED_INT_24_8]:{[Z.hR.DEPTH_STENCIL]:p.DEPTH24_STENCIL8},[Z.QE.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Z.hR.DEPTH_STENCIL]:p.DEPTH32F_STENCIL8}}:{[Z.QE.UNSIGNED_BYTE]:{[Z.hR.RGBA]:p.RGBA,[Z.hR.RGB]:p.RGB,[Z.hR.ALPHA]:p.ALPHA,[Z.hR.LUMINANCE]:p.LUMINANCE,[Z.hR.LUMINANCE_ALPHA]:p.LUMINANCE_ALPHA},[Z.QE.UNSIGNED_SHORT_5_6_5]:{[Z.hR.RGB]:p.RGB},[Z.QE.UNSIGNED_SHORT_4_4_4_4]:{[Z.hR.RGBA]:p.RGBA},[Z.QE.UNSIGNED_SHORT_5_5_5_1]:{[Z.hR.RGBA]:p.RGBA}},g}(p),this.samplerTypes=function(p){let g;return g="WebGL2RenderingContext"in globalThis&&p instanceof globalThis.WebGL2RenderingContext?{[p.RGB]:Z.XZ.FLOAT,[p.RGBA]:Z.XZ.FLOAT,[p.ALPHA]:Z.XZ.FLOAT,[p.LUMINANCE]:Z.XZ.FLOAT,[p.LUMINANCE_ALPHA]:Z.XZ.FLOAT,[p.R8]:Z.XZ.FLOAT,[p.R8_SNORM]:Z.XZ.FLOAT,[p.RG8]:Z.XZ.FLOAT,[p.RG8_SNORM]:Z.XZ.FLOAT,[p.RGB8]:Z.XZ.FLOAT,[p.RGB8_SNORM]:Z.XZ.FLOAT,[p.RGB565]:Z.XZ.FLOAT,[p.RGBA4]:Z.XZ.FLOAT,[p.RGB5_A1]:Z.XZ.FLOAT,[p.RGBA8]:Z.XZ.FLOAT,[p.RGBA8_SNORM]:Z.XZ.FLOAT,[p.RGB10_A2]:Z.XZ.FLOAT,[p.RGB10_A2UI]:Z.XZ.FLOAT,[p.SRGB8]:Z.XZ.FLOAT,[p.SRGB8_ALPHA8]:Z.XZ.FLOAT,[p.R16F]:Z.XZ.FLOAT,[p.RG16F]:Z.XZ.FLOAT,[p.RGB16F]:Z.XZ.FLOAT,[p.RGBA16F]:Z.XZ.FLOAT,[p.R32F]:Z.XZ.FLOAT,[p.RG32F]:Z.XZ.FLOAT,[p.RGB32F]:Z.XZ.FLOAT,[p.RGBA32F]:Z.XZ.FLOAT,[p.R11F_G11F_B10F]:Z.XZ.FLOAT,[p.RGB9_E5]:Z.XZ.FLOAT,[p.R8I]:Z.XZ.INT,[p.R8UI]:Z.XZ.UINT,[p.R16I]:Z.XZ.INT,[p.R16UI]:Z.XZ.UINT,[p.R32I]:Z.XZ.INT,[p.R32UI]:Z.XZ.UINT,[p.RG8I]:Z.XZ.INT,[p.RG8UI]:Z.XZ.UINT,[p.RG16I]:Z.XZ.INT,[p.RG16UI]:Z.XZ.UINT,[p.RG32I]:Z.XZ.INT,[p.RG32UI]:Z.XZ.UINT,[p.RGB8I]:Z.XZ.INT,[p.RGB8UI]:Z.XZ.UINT,[p.RGB16I]:Z.XZ.INT,[p.RGB16UI]:Z.XZ.UINT,[p.RGB32I]:Z.XZ.INT,[p.RGB32UI]:Z.XZ.UINT,[p.RGBA8I]:Z.XZ.INT,[p.RGBA8UI]:Z.XZ.UINT,[p.RGBA16I]:Z.XZ.INT,[p.RGBA16UI]:Z.XZ.UINT,[p.RGBA32I]:Z.XZ.INT,[p.RGBA32UI]:Z.XZ.UINT,[p.DEPTH_COMPONENT16]:Z.XZ.FLOAT,[p.DEPTH_COMPONENT24]:Z.XZ.FLOAT,[p.DEPTH_COMPONENT32F]:Z.XZ.FLOAT,[p.DEPTH_STENCIL]:Z.XZ.FLOAT,[p.DEPTH24_STENCIL8]:Z.XZ.FLOAT,[p.DEPTH32F_STENCIL8]:Z.XZ.FLOAT}:{[p.RGB]:Z.XZ.FLOAT,[p.RGBA]:Z.XZ.FLOAT,[p.ALPHA]:Z.XZ.FLOAT,[p.LUMINANCE]:Z.XZ.FLOAT,[p.LUMINANCE_ALPHA]:Z.XZ.FLOAT,[p.DEPTH_STENCIL]:Z.XZ.FLOAT},g}(p);const g=p.getParameter(p.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=g;for(let p=0;p<g;p++)this.boundTextures[p]=null;this.emptyTextures={};const m=new ag(p.createTexture());p.bindTexture(p.TEXTURE_2D,m.texture),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,1,1,0,p.RGBA,p.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[p.TEXTURE_2D]=m,this.emptyTextures[p.TEXTURE_CUBE_MAP]=new ag(p.createTexture()),p.bindTexture(p.TEXTURE_CUBE_MAP,this.emptyTextures[p.TEXTURE_CUBE_MAP].texture);for(let g=0;g<6;g++)p.texImage2D(p.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,p.RGBA,1,1,0,p.RGBA,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_CUBE_MAP,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_CUBE_MAP,p.TEXTURE_MIN_FILTER,p.LINEAR);for(let p=0;p<this.boundTextures.length;p++)this.bind(null,p)}bind(p,g=0){const{gl:m}=this;if((null==(p=null==p?void 0:p.castToBaseTexture())?void 0:p.valid)&&!p.parentTextureArray){p.touched=this.renderer.textureGC.count;const Z=p._glTextures[this.CONTEXT_UID]||this.initTexture(p);this.boundTextures[g]!==p&&(this.currentLocation!==g&&(this.currentLocation=g,m.activeTexture(m.TEXTURE0+g)),m.bindTexture(p.target,Z.texture)),Z.dirtyId!==p.dirtyId?(this.currentLocation!==g&&(this.currentLocation=g,m.activeTexture(m.TEXTURE0+g)),this.updateTexture(p)):Z.dirtyStyleId!==p.dirtyStyleId&&this.updateTextureStyle(p),this.boundTextures[g]=p}else this.currentLocation!==g&&(this.currentLocation=g,m.activeTexture(m.TEXTURE0+g)),m.bindTexture(m.TEXTURE_2D,this.emptyTextures[m.TEXTURE_2D].texture),this.boundTextures[g]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let p=0;p<this.boundTextures.length;p++)this.boundTextures[p]=this.unknownTexture}unbind(p){const{gl:g,boundTextures:m}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let p=0;p<m.length;p++)m[p]===this.unknownTexture&&this.bind(null,p)}for(let Z=0;Z<m.length;Z++)m[Z]===p&&(this.currentLocation!==Z&&(g.activeTexture(g.TEXTURE0+Z),this.currentLocation=Z),g.bindTexture(p.target,this.emptyTextures[p.target].texture),m[Z]=null)}ensureSamplerType(p){const{boundTextures:g,hasIntegerTextures:m,CONTEXT_UID:H}=this;if(m)for(let m=p-1;m>=0;--m){const p=g[m];p&&p._glTextures[H].samplerType!==Z.XZ.FLOAT&&this.renderer.texture.unbind(p)}}initTexture(p){const g=new ag(this.gl.createTexture());return g.dirtyId=-1,p._glTextures[this.CONTEXT_UID]=g,this.managedTextures.push(p),p.on("dispose",this.destroyTexture,this),g}initTextureType(p,g){var m,H,t;g.internalFormat=null!==(H=null===(m=this.internalFormats[p.type])||void 0===m?void 0:m[p.format])&&void 0!==H?H:p.format,g.samplerType=null!==(t=this.samplerTypes[g.internalFormat])&&void 0!==t?t:Z.XZ.FLOAT,2===this.webGLVersion&&p.type===Z.QE.HALF_FLOAT?g.type=this.gl.HALF_FLOAT:g.type=p.type}updateTexture(p){var g;const m=p._glTextures[this.CONTEXT_UID];if(!m)return;const H=this.renderer;if(this.initTextureType(p,m),null===(g=p.resource)||void 0===g?void 0:g.upload(H,p,m))m.samplerType!==Z.XZ.FLOAT&&(this.hasIntegerTextures=!0);else{const g=p.realWidth,Z=p.realHeight,t=H.gl;(m.width!==g||m.height!==Z||m.dirtyId<0)&&(m.width=g,m.height=Z,t.texImage2D(p.target,0,m.internalFormat,g,Z,0,p.format,m.type,null))}p.dirtyStyleId!==m.dirtyStyleId&&this.updateTextureStyle(p),m.dirtyId=p.dirtyId}destroyTexture(p,g){const{gl:m}=this;if((p=p.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(p),m.deleteTexture(p._glTextures[this.CONTEXT_UID].texture),p.off("dispose",this.destroyTexture,this),delete p._glTextures[this.CONTEXT_UID],!g)){const g=this.managedTextures.indexOf(p);-1!==g&&t.removeItems(this.managedTextures,g,1)}}updateTextureStyle(p){var g;const m=p._glTextures[this.CONTEXT_UID];m&&(p.mipmap!==Z.E8.POW2&&2===this.webGLVersion||p.isPowerOfTwo?m.mipmap=p.mipmap>=1:m.mipmap=!1,2===this.webGLVersion||p.isPowerOfTwo?m.wrapMode=p.wrapMode:m.wrapMode=Z.uR.CLAMP,(null===(g=p.resource)||void 0===g?void 0:g.style(this.renderer,p,m))||this.setStyle(p,m),m.dirtyStyleId=p.dirtyStyleId)}setStyle(p,g){const m=this.gl;if(g.mipmap&&p.mipmap!==Z.E8.ON_MANUAL&&m.generateMipmap(p.target),m.texParameteri(p.target,m.TEXTURE_WRAP_S,g.wrapMode),m.texParameteri(p.target,m.TEXTURE_WRAP_T,g.wrapMode),g.mipmap){m.texParameteri(p.target,m.TEXTURE_MIN_FILTER,p.scaleMode===Z.M6.LINEAR?m.LINEAR_MIPMAP_LINEAR:m.NEAREST_MIPMAP_NEAREST);const g=this.renderer.context.extensions.anisotropicFiltering;if(g&&p.anisotropicLevel>0&&p.scaleMode===Z.M6.LINEAR){const Z=Math.min(p.anisotropicLevel,m.getParameter(g.MAX_TEXTURE_MAX_ANISOTROPY_EXT));m.texParameterf(p.target,g.TEXTURE_MAX_ANISOTROPY_EXT,Z)}}else m.texParameteri(p.target,m.TEXTURE_MIN_FILTER,p.scaleMode===Z.M6.LINEAR?m.LINEAR:m.NEAREST);m.texParameteri(p.target,m.TEXTURE_MAG_FILTER,p.scaleMode===Z.M6.LINEAR?m.LINEAR:m.NEAREST)}destroy(){this.renderer=null}}Fg.extension={type:k.A.RendererSystem,name:"texture"},k.X.add(Fg);class Xg{constructor(p){this.renderer=p}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(p){const{gl:g,CONTEXT_UID:m}=this,Z=p._glTransformFeedbacks[m]||this.createGLTransformFeedback(p);g.bindTransformFeedback(g.TRANSFORM_FEEDBACK,Z)}unbind(){const{gl:p}=this;p.bindTransformFeedback(p.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(p,g){const{gl:m,renderer:Z}=this;g&&Z.shader.bind(g),m.beginTransformFeedback(p)}endTransformFeedback(){const{gl:p}=this;p.endTransformFeedback()}createGLTransformFeedback(p){const{gl:g,renderer:m,CONTEXT_UID:Z}=this,H=g.createTransformFeedback();p._glTransformFeedbacks[Z]=H,g.bindTransformFeedback(g.TRANSFORM_FEEDBACK,H);for(let H=0;H<p.buffers.length;H++){const t=p.buffers[H];t&&(m.buffer.update(t),t._glBuffers[Z].refCount++,g.bindBufferBase(g.TRANSFORM_FEEDBACK_BUFFER,H,t._glBuffers[Z].buffer||null))}return g.bindTransformFeedback(g.TRANSFORM_FEEDBACK,null),p.disposeRunner.add(this),H}disposeTransformFeedback(p,g){const m=p._glTransformFeedbacks[this.CONTEXT_UID],Z=this.gl;p.disposeRunner.remove(this);const H=this.renderer.buffer;if(H)for(let m=0;m<p.buffers.length;m++){const Z=p.buffers[m];if(!Z)continue;const t=Z._glBuffers[this.CONTEXT_UID];t&&(t.refCount--,0===t.refCount&&!g&&H.dispose(Z,g))}m&&(g||Z.deleteTransformFeedback(m),delete p._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Xg.extension={type:k.A.RendererSystem,name:"transformFeedback"},k.X.add(Xg);class Kg{constructor(p){this.renderer=p}init(p){this.screen=new r.M_(0,0,p.width,p.height),this.element=p.view||H.W0.ADAPTER.createCanvas(),this.resolution=p.resolution||H.W0.RESOLUTION,this.autoDensity=!!p.autoDensity}resizeView(p,g){this.element.width=Math.round(p*this.resolution),this.element.height=Math.round(g*this.resolution);const m=this.element.width/this.resolution,Z=this.element.height/this.resolution;this.screen.width=m,this.screen.height=Z,this.autoDensity&&(this.element.style.width=`${m}px`,this.element.style.height=`${Z}px`),this.renderer.emit("resize",m,Z),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(p){var g;p&&(null===(g=this.element.parentNode)||void 0===g||g.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Kg.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Kg.extension={type:[k.A.RendererSystem,k.A.CanvasRendererSystem],name:"_view"},k.X.add(Kg),H.W0.PREFER_ENV=Z.Km.WEBGL2,H.W0.STRICT_TEXTURE_CACHE=!1,H.W0.RENDER_OPTIONS={...$p.defaultOptions,...Np.defaultOptions,...Kg.defaultOptions,...wg.defaultOptions},Object.defineProperties(H.W0,{WRAP_MODE:{get:()=>W.defaultOptions.wrapMode,set(p){t.deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),W.defaultOptions.wrapMode=p}},SCALE_MODE:{get:()=>W.defaultOptions.scaleMode,set(p){t.deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),W.defaultOptions.scaleMode=p}},MIPMAP_TEXTURES:{get:()=>W.defaultOptions.mipmap,set(p){t.deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),W.defaultOptions.mipmap=p}},ANISOTROPIC_LEVEL:{get:()=>W.defaultOptions.anisotropicLevel,set(p){t.deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),W.defaultOptions.anisotropicLevel=p}},FILTER_RESOLUTION:{get:()=>(t.deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ep.defaultResolution),set(p){ep.defaultResolution=p}},FILTER_MULTISAMPLE:{get:()=>(t.deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ep.defaultMultisample),set(p){ep.defaultMultisample=p}},SPRITE_MAX_TEXTURES:{get:()=>qp.defaultMaxTextures,set(p){t.deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),qp.defaultMaxTextures=p}},SPRITE_BATCH_SIZE:{get:()=>qp.defaultBatchSize,set(p){t.deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),qp.defaultBatchSize=p}},CAN_UPLOAD_SAME_BUFFER:{get:()=>qp.canUploadSameBuffer,set(p){t.deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),qp.canUploadSameBuffer=p}},GC_MODE:{get:()=>ug.defaultMode,set(p){t.deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),ug.defaultMode=p}},GC_MAX_IDLE:{get:()=>ug.defaultMaxIdle,set(p){t.deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),ug.defaultMaxIdle=p}},GC_MAX_CHECK_COUNT:{get:()=>ug.defaultCheckCountMax,set(p){t.deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),ug.defaultCheckCountMax=p}},PRECISION_VERTEX:{get:()=>pp.defaultVertexPrecision,set(p){t.deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),pp.defaultVertexPrecision=p}},PRECISION_FRAGMENT:{get:()=>pp.defaultFragmentPrecision,set(p){t.deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),pp.defaultFragmentPrecision=p}}});var jg=m(71931);const rg=[];function Ug(p){for(const g of rg)if(g.test(p))return new g(p);throw new Error("Unable to auto-detect a suitable renderer.")}k.X.handleByList(k.A.Renderer,rg);var Cg=m(391966);class xg{constructor(p){this.renderer=p}contextChange(p){let g;if(1===this.renderer.context.webGLVersion){const m=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,null),g=p.getParameter(p.SAMPLES),p.bindFramebuffer(p.FRAMEBUFFER,m)}else{const m=p.getParameter(p.DRAW_FRAMEBUFFER_BINDING);p.bindFramebuffer(p.DRAW_FRAMEBUFFER,null),g=p.getParameter(p.SAMPLES),p.bindFramebuffer(p.DRAW_FRAMEBUFFER,m)}g>=Z.he.HIGH?this.multisample=Z.he.HIGH:g>=Z.he.MEDIUM?this.multisample=Z.he.MEDIUM:g>=Z.he.LOW?this.multisample=Z.he.LOW:this.multisample=Z.he.NONE}destroy(){}}xg.extension={type:k.A.RendererSystem,name:"_multisample"},k.X.add(xg);class Rg{constructor(p){this.buffer=p||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class cg{constructor(p){this.renderer=p,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(p){const{gl:g,CONTEXT_UID:m}=this,Z=p._glBuffers[m]||this.createGLBuffer(p);g.bindBuffer(p.type,Z.buffer)}unbind(p){const{gl:g}=this;g.bindBuffer(p,null)}bindBufferBase(p,g){const{gl:m,CONTEXT_UID:Z}=this;if(this.boundBufferBases[g]!==p){const H=p._glBuffers[Z]||this.createGLBuffer(p);this.boundBufferBases[g]=p,m.bindBufferBase(m.UNIFORM_BUFFER,g,H.buffer)}}bindBufferRange(p,g,m){const{gl:Z,CONTEXT_UID:H}=this;m=m||0;const t=p._glBuffers[H]||this.createGLBuffer(p);Z.bindBufferRange(Z.UNIFORM_BUFFER,g||0,t.buffer,256*m,256)}update(p){const{gl:g,CONTEXT_UID:m}=this,Z=p._glBuffers[m]||this.createGLBuffer(p);if(p._updateID!==Z.updateID)if(Z.updateID=p._updateID,g.bindBuffer(p.type,Z.buffer),Z.byteLength>=p.data.byteLength)g.bufferSubData(p.type,0,p.data);else{const m=p.static?g.STATIC_DRAW:g.DYNAMIC_DRAW;Z.byteLength=p.data.byteLength,g.bufferData(p.type,p.data,m)}}dispose(p,g){if(!this.managedBuffers[p.id])return;delete this.managedBuffers[p.id];const m=p._glBuffers[this.CONTEXT_UID],Z=this.gl;p.disposeRunner.remove(this),m&&(g||Z.deleteBuffer(m.buffer),delete p._glBuffers[this.CONTEXT_UID])}disposeAll(p){const g=Object.keys(this.managedBuffers);for(let m=0;m<g.length;m++)this.dispose(this.managedBuffers[g[m]],p)}createGLBuffer(p){const{CONTEXT_UID:g,gl:m}=this;return p._glBuffers[g]=new Rg(m.createBuffer()),this.managedBuffers[p.id]=p,p.disposeRunner.add(this),p._glBuffers[g]}}cg.extension={type:k.A.RendererSystem,name:"buffer"},k.X.add(cg);class Og{constructor(p){this.renderer=p}render(p,g){const m=this.renderer;let Z,H,t,h;if(g&&(Z=g.renderTexture,H=g.clear,t=g.transform,h=g.skipUpdateTransform),this.renderingToScreen=!Z,m.runners.prerender.emit(),m.emit("prerender"),m.projection.transform=t,!m.context.isLost){if(Z||(this.lastObjectRendered=p),!h){const g=p.enableTempParent();p.updateTransform(),p.disableTempParent(g)}m.renderTexture.bind(Z),m.batch.currentRenderer.start(),(null!=H?H:m.background.clearBeforeRender)&&m.renderTexture.clear(),p.render(m),m.batch.currentRenderer.flush(),Z&&(g.blit&&m.framebuffer.blit(),Z.baseTexture.update()),m.runners.postrender.emit(),m.projection.transform=null,m.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Og.extension={type:k.A.RendererSystem,name:"objectRenderer"},k.X.add(Og);const fg=class p extends zg{constructor(g){super(),this.type=Z.h3.WEBGL,g=Object.assign({},H.W0.RENDER_OPTIONS,g),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new mp({projectionMatrix:new r.uq},!0);const m={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:p.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(m),"useContextAlpha"in g&&(t.deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),g.premultipliedAlpha=g.useContextAlpha&&"notMultiplied"!==g.useContextAlpha,g.backgroundAlpha=!1===g.useContextAlpha?1:g.backgroundAlpha),this._plugin.rendererPlugins=p.__plugins,this.options=g,this.startup.run(this.options)}static test(p){return!(null==p?void 0:p.forceCanvas)&&t.isWebGLSupported()}render(p,g){this.objectRenderer.render(p,g)}resize(p,g){this._view.resizeView(p,g)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(p=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:p}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(p){this._view.resolution=p,this.runners.resolutionChange.emit(p)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return t.deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return t.deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return t.deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return t.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(p){t.deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=p}get backgroundAlpha(){return t.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(p){t.deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=p}get powerPreference(){return t.deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(p,g){return this.textureGenerator.generateTexture(p,g)}};fg.extension={type:k.A.Renderer,priority:1},fg.__plugins={},fg.__systems={};let _g=fg;k.X.handleByMap(k.A.RendererPlugin,_g.__plugins),k.X.handleByMap(k.A.RendererSystem,_g.__systems),k.X.add(_g);class Eg extends i{constructor(p,g){const{width:m,height:Z}=g||{};super(m,Z),this.items=[],this.itemDirtyIds=[];for(let g=0;g<p;g++){const p=new W;this.items.push(p),this.itemDirtyIds.push(-2)}this.length=p,this._load=null,this.baseTexture=null}initFromArray(p,g){for(let m=0;m<this.length;m++)p[m]&&(p[m].castToBaseTexture?this.addBaseTextureAt(p[m].castToBaseTexture(),m):p[m]instanceof i?this.addResourceAt(p[m],m):this.addResourceAt(w(p[m],g),m))}dispose(){for(let p=0,g=this.length;p<g;p++)this.items[p].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(p,g){if(!this.items[g])throw new Error(`Index ${g} is out of bounds`);return p.valid&&!this.valid&&this.resize(p.width,p.height),this.items[g].setResource(p),this}bind(p){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(p);for(let g=0;g<this.length;g++)this.items[g].parentTextureArray=p,this.items[g].on("update",p.update,p)}unbind(p){super.unbind(p);for(let g=0;g<this.length;g++)this.items[g].parentTextureArray=null,this.items[g].off("update",p.update,p)}load(){if(this._load)return this._load;const p=this.items.map((p=>p.resource)).filter((p=>p)).map((p=>p.load()));return this._load=Promise.all(p).then((()=>{const{realWidth:p,realHeight:g}=this.items[0];return this.resize(p,g),this.update(),Promise.resolve(this)})),this._load}}const Gg=class p extends Eg{constructor(g,m){const{width:H,height:t,autoLoad:h,linkBaseTexture:k}=m||{};if(g&&g.length!==p.SIDES)throw new Error(`Invalid length. Got ${g.length}, expected 6`);super(6,{width:H,height:t});for(let g=0;g<p.SIDES;g++)this.items[g].target=Z.dW.TEXTURE_CUBE_MAP_POSITIVE_X+g;this.linkBaseTexture=!1!==k,g&&this.initFromArray(g,m),!1!==h&&this.load()}bind(p){super.bind(p),p.target=Z.dW.TEXTURE_CUBE_MAP}addBaseTextureAt(p,g,m){if(void 0===m&&(m=this.linkBaseTexture),!this.items[g])throw new Error(`Index ${g} is out of bounds`);if(!this.linkBaseTexture||p.parentTextureArray||Object.keys(p._glTextures).length>0){if(!p.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(p.resource,g)}else p.target=Z.dW.TEXTURE_CUBE_MAP_POSITIVE_X+g,p.parentTextureArray=this.baseTexture,this.items[g]=p;return p.valid&&!this.valid&&this.resize(p.realWidth,p.realHeight),this.items[g]=p,this}upload(g,m,Z){const H=this.itemDirtyIds;for(let t=0;t<p.SIDES;t++){const p=this.items[t];(H[t]<p.dirtyId||Z.dirtyId<m.dirtyId)&&(p.valid&&p.resource?(p.resource.upload(g,p,Z),H[t]=p.dirtyId):H[t]<-1&&(g.gl.texImage2D(p.target,0,Z.internalFormat,m.realWidth,m.realHeight,0,m.format,Z.type,null),H[t]=-1))}return!0}static test(g){return Array.isArray(g)&&g.length===p.SIDES}};Gg.SIDES=6;let Mg=Gg;class sg extends ip{constructor(p,g){var m,Z;let H,t,h;g=g||{},"string"==typeof p?(H=sg.EMPTY,t=p,h=!0):(H=p,t=null,h=!1),super(H),this.url=t,this.crossOrigin=null===(m=g.crossOrigin)||void 0===m||m,this.alphaMode="number"==typeof g.alphaMode?g.alphaMode:null,this.ownsImageBitmap=null!==(Z=g.ownsImageBitmap)&&void 0!==Z?Z:h,this._load=null,!1!==g.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(p,g)=>{if(null!==this.url)try{const g=await H.W0.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const m=await g.blob();if(this.destroyed)return;const t=await createImageBitmap(m,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===Z.Gk.UNPACK?"premultiply":"none"});if(this.destroyed)return void t.close();this.source=t,this.update(),p(this)}catch(p){if(this.destroyed)return;g(p),this.onError.emit(p)}else p(this)}))),this._load}upload(p,g,m){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(g.alphaMode=this.alphaMode),super.upload(p,g,m)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(p){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof p||p instanceof ImageBitmap)}static get EMPTY(){var p;return sg._EMPTY=null!==(p=sg._EMPTY)&&void 0!==p?p:H.W0.ADAPTER.createCanvas(0,0),sg._EMPTY}}const Tg=class p extends ip{constructor(p,g){g=g||{},super(H.W0.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=p,this.scale=g.scale||1,this._overrideWidth=g.width,this._overrideHeight=g.height,this._resolve=null,this._crossorigin=g.crossorigin,this._load=null,!1!==g.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((g=>{if(this._resolve=()=>{this.update(),g(this)},p.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const p=new Image;ip.crossOrigin(p,this.svg,this._crossorigin),p.src=this.svg,p.onerror=g=>{this._resolve&&(p.onerror=null,this.onError.emit(g))},p.onload=()=>{if(!this._resolve)return;const g=p.width,m=p.height;if(!g||!m)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let Z=g*this.scale,H=m*this.scale;(this._overrideWidth||this._overrideHeight)&&(Z=this._overrideWidth||this._overrideHeight/m*g,H=this._overrideHeight||this._overrideWidth/g*m),Z=Math.round(Z),H=Math.round(H);const h=this.source;h.width=Z,h.height=H,h._pixiId=`canvas_${t.uid()}`,h.getContext("2d").drawImage(p,0,0,g,m,0,0,Z,H),this._resolve(),this._resolve=null}}static getSize(g){const m=p.SVG_SIZE.exec(g),Z={};return m&&(Z[m[1]]=Math.round(parseFloat(m[3])),Z[m[5]]=Math.round(parseFloat(m[7]))),Z}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(g,m){return"svg"===m||"string"==typeof g&&g.startsWith("data:image/svg+xml")||"string"==typeof g&&p.SVG_XML.test(g)}};Tg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Tg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let lg=Tg;const Ag=class p extends ip{constructor(g,m){if(m=m||{},!(g instanceof HTMLVideoElement)){const Z=document.createElement("video");!1!==m.autoLoad&&Z.setAttribute("preload","auto"),!1!==m.playsinline&&(Z.setAttribute("webkit-playsinline",""),Z.setAttribute("playsinline","")),!0===m.muted&&(Z.setAttribute("muted",""),Z.muted=!0),!0===m.loop&&Z.setAttribute("loop",""),!1!==m.autoPlay&&Z.setAttribute("autoplay",""),"string"==typeof g&&(g=[g]);const H=g[0].src||g[0];ip.crossOrigin(Z,H,m.crossorigin);for(let m=0;m<g.length;++m){const H=document.createElement("source");let{src:t,mime:h}=g[m];if(t=t||g[m],t.startsWith("data:"))h=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const g=t.split("?").shift().toLowerCase(),m=g.slice(g.lastIndexOf(".")+1);h=h||p.MIME_TYPES[m]||`video/${m}`}H.src=t,h&&(H.type=h),Z.appendChild(H)}g=Z}super(g),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=m.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==m.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==m.autoLoad&&this.load()}update(p=0){if(!this.destroyed){if(this._updateFPS){const p=jg.Rv.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-p)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const p=this.source;return(p.readyState===p.HAVE_ENOUGH_DATA||p.readyState===p.HAVE_FUTURE_DATA)&&p.width&&p.height&&(p.complete=!0),p.addEventListener("play",this._onPlayStart),p.addEventListener("pause",this._onPlayStop),p.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(p.addEventListener("canplay",this._onCanPlay),p.addEventListener("canplaythrough",this._onCanPlay),p.addEventListener("error",this._onError,!0)),this._load=new Promise(((g,m)=>{this.valid?g(this):(this._resolve=g,this._reject=m,p.load())})),this._load}_onError(p){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(p),this._reject&&(this._reject(p),this._reject=null,this._resolve=null)}_isSourcePlaying(){const p=this.source;return!p.paused&&!p.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const p=this.source;p.removeEventListener("canplay",this._onCanPlay),p.removeEventListener("canplaythrough",this._onCanPlay);const g=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!g&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&p.play()}dispose(){this._configureAutoUpdate();const p=this.source;p&&(p.removeEventListener("play",this._onPlayStart),p.removeEventListener("pause",this._onPlayStop),p.removeEventListener("seeked",this._onSeeked),p.removeEventListener("canplay",this._onCanPlay),p.removeEventListener("canplaythrough",this._onCanPlay),p.removeEventListener("error",this._onError,!0),p.pause(),p.src="",p.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(p){p!==this._autoUpdate&&(this._autoUpdate=p,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(p){p!==this._updateFPS&&(this._updateFPS=p,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(jg.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(jg.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(jg.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(g,m){return globalThis.HTMLVideoElement&&g instanceof HTMLVideoElement||p.TYPES.includes(m)}};Ag.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Ag.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Lg=Ag;$.push(sg,Pp,class extends ip{constructor(p){super(p)}static test(p){const{OffscreenCanvas:g}=globalThis;return!!(g&&p instanceof g)||globalThis.HTMLCanvasElement&&p instanceof HTMLCanvasElement}},Lg,lg,P,Mg,class extends Eg{constructor(p,g){const{width:m,height:Z}=g||{};let H,t;Array.isArray(p)?(H=p,t=p.length):t=p,super(t,{width:m,height:Z}),H&&this.initFromArray(H,g)}addBaseTextureAt(p,g){if(!p.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(p.resource,g),this}bind(p){super.bind(p),p.target=Z.dW.TEXTURE_2D_ARRAY}upload(p,g,m){const{length:Z,itemDirtyIds:H,items:t}=this,{gl:h}=p;m.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,m.internalFormat,this._width,this._height,Z,0,g.format,m.type,null);for(let p=0;p<Z;p++){const Z=t[p];H[p]<Z.dirtyId&&(H[p]=Z.dirtyId,Z.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,p,Z.resource.width,Z.resource.height,1,g.format,m.type,Z.resource.source))}return!0}})},110715:(p,g,m)=>{m.d(g,{cz:()=>H,mc:()=>q,q9:()=>t});var Z=m(316197);class H{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(p){return this.minX>this.maxX||this.minY>this.maxY?Z.M_.EMPTY:((p=p||new Z.M_(0,0,1,1)).x=this.minX,p.y=this.minY,p.width=this.maxX-this.minX,p.height=this.maxY-this.minY,p)}addPoint(p){this.minX=Math.min(this.minX,p.x),this.maxX=Math.max(this.maxX,p.x),this.minY=Math.min(this.minY,p.y),this.maxY=Math.max(this.maxY,p.y)}addPointMatrix(p,g){const{a:m,b:Z,c:H,d:t,tx:h,ty:k}=p,n=m*g.x+H*g.y+h,S=Z*g.x+t*g.y+k;this.minX=Math.min(this.minX,n),this.maxX=Math.max(this.maxX,n),this.minY=Math.min(this.minY,S),this.maxY=Math.max(this.maxY,S)}addQuad(p){let g=this.minX,m=this.minY,Z=this.maxX,H=this.maxY,t=p[0],h=p[1];g=t<g?t:g,m=h<m?h:m,Z=t>Z?t:Z,H=h>H?h:H,t=p[2],h=p[3],g=t<g?t:g,m=h<m?h:m,Z=t>Z?t:Z,H=h>H?h:H,t=p[4],h=p[5],g=t<g?t:g,m=h<m?h:m,Z=t>Z?t:Z,H=h>H?h:H,t=p[6],h=p[7],g=t<g?t:g,m=h<m?h:m,Z=t>Z?t:Z,H=h>H?h:H,this.minX=g,this.minY=m,this.maxX=Z,this.maxY=H}addFrame(p,g,m,Z,H){this.addFrameMatrix(p.worldTransform,g,m,Z,H)}addFrameMatrix(p,g,m,Z,H){const t=p.a,h=p.b,k=p.c,n=p.d,S=p.tx,q=p.ty;let D=this.minX,I=this.minY,b=this.maxX,e=this.maxY,N=t*g+k*m+S,d=h*g+n*m+q;D=N<D?N:D,I=d<I?d:I,b=N>b?N:b,e=d>e?d:e,N=t*Z+k*m+S,d=h*Z+n*m+q,D=N<D?N:D,I=d<I?d:I,b=N>b?N:b,e=d>e?d:e,N=t*g+k*H+S,d=h*g+n*H+q,D=N<D?N:D,I=d<I?d:I,b=N>b?N:b,e=d>e?d:e,N=t*Z+k*H+S,d=h*Z+n*H+q,D=N<D?N:D,I=d<I?d:I,b=N>b?N:b,e=d>e?d:e,this.minX=D,this.minY=I,this.maxX=b,this.maxY=e}addVertexData(p,g,m){let Z=this.minX,H=this.minY,t=this.maxX,h=this.maxY;for(let k=g;k<m;k+=2){const g=p[k],m=p[k+1];Z=g<Z?g:Z,H=m<H?m:H,t=g>t?g:t,h=m>h?m:h}this.minX=Z,this.minY=H,this.maxX=t,this.maxY=h}addVertices(p,g,m,Z){this.addVerticesMatrix(p.worldTransform,g,m,Z)}addVerticesMatrix(p,g,m,Z,H=0,t=H){const h=p.a,k=p.b,n=p.c,S=p.d,q=p.tx,D=p.ty;let I=this.minX,b=this.minY,e=this.maxX,N=this.maxY;for(let p=m;p<Z;p+=2){const m=g[p],Z=g[p+1],d=h*m+n*Z+q,Q=S*Z+k*m+D;I=Math.min(I,d-H),e=Math.max(e,d+H),b=Math.min(b,Q-t),N=Math.max(N,Q+t)}this.minX=I,this.minY=b,this.maxX=e,this.maxY=N}addBounds(p){const g=this.minX,m=this.minY,Z=this.maxX,H=this.maxY;this.minX=p.minX<g?p.minX:g,this.minY=p.minY<m?p.minY:m,this.maxX=p.maxX>Z?p.maxX:Z,this.maxY=p.maxY>H?p.maxY:H}addBoundsMask(p,g){const m=p.minX>g.minX?p.minX:g.minX,Z=p.minY>g.minY?p.minY:g.minY,H=p.maxX<g.maxX?p.maxX:g.maxX,t=p.maxY<g.maxY?p.maxY:g.maxY;if(m<=H&&Z<=t){const p=this.minX,g=this.minY,h=this.maxX,k=this.maxY;this.minX=m<p?m:p,this.minY=Z<g?Z:g,this.maxX=H>h?H:h,this.maxY=t>k?t:k}}addBoundsMatrix(p,g){this.addFrameMatrix(g,p.minX,p.minY,p.maxX,p.maxY)}addBoundsArea(p,g){const m=p.minX>g.x?p.minX:g.x,Z=p.minY>g.y?p.minY:g.y,H=p.maxX<g.x+g.width?p.maxX:g.x+g.width,t=p.maxY<g.y+g.height?p.maxY:g.y+g.height;if(m<=H&&Z<=t){const p=this.minX,g=this.minY,h=this.maxX,k=this.maxY;this.minX=m<p?m:p,this.minY=Z<g?Z:g,this.maxX=H>h?H:h,this.maxY=t>k?t:k}}pad(p=0,g=p){this.isEmpty()||(this.minX-=p,this.maxX+=p,this.minY-=g,this.maxY+=g)}addFramePad(p,g,m,Z,H,t){p-=H,g-=t,m+=H,Z+=t,this.minX=this.minX<p?this.minX:p,this.maxX=this.maxX>m?this.maxX:m,this.minY=this.minY<g?this.minY:g,this.maxY=this.maxY>Z?this.maxY:Z}}class t extends Z.Wp.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Z.dL,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new H,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(p){const g=Object.keys(p);for(let m=0;m<g.length;++m){const Z=g[m];Object.defineProperty(t.prototype,Z,Object.getOwnPropertyDescriptor(p,Z))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(p,g){return p||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),g||(this._boundsRect||(this._boundsRect=new Z.M_),g=this._boundsRect),this._bounds.getRectangle(g)}getLocalBounds(p){var g;p||(this._localBoundsRect||(this._localBoundsRect=new Z.M_),p=this._localBoundsRect),this._localBounds||(this._localBounds=new H);const m=this.transform,t=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!==(g=null==t?void 0:t.worldAlpha)&&void 0!==g?g:1,this.transform=this._tempDisplayObjectParent.transform;const h=this._bounds,k=this._boundsID;this._bounds=this._localBounds;const n=this.getBounds(!1,p);return this.parent=t,this.transform=m,this._bounds=h,this._bounds.updateID+=this._boundsID-k,n}toGlobal(p,g,m=!1){return m||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(p,g)}toLocal(p,g,m,Z){return g&&(p=g.toGlobal(p,m,Z)),Z||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(p,m)}setParent(p){if(!p||!p.addChild)throw new Error("setParent: Argument must be a Container");return p.addChild(this),p}removeFromParent(){var p;null===(p=this.parent)||void 0===p||p.removeChild(this)}setTransform(p=0,g=0,m=1,Z=1,H=0,t=0,h=0,k=0,n=0){return this.position.x=p,this.position.y=g,this.scale.x=m||1,this.scale.y=Z||1,this.rotation=H,this.skew.x=t,this.skew.y=h,this.pivot.x=k,this.pivot.y=n,this}destroy(p){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new h),this.tempDisplayObjectParent}enableTempParent(){const p=this.parent;return this.parent=this._tempDisplayObjectParent,p}disableTempParent(p){this.parent=p}get x(){return this.position.x}set x(p){this.transform.position.x=p}get y(){return this.position.y}set y(p){this.transform.position.y=p}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(p){this.transform.position.copyFrom(p)}get scale(){return this.transform.scale}set scale(p){this.transform.scale.copyFrom(p)}get pivot(){return this.transform.pivot}set pivot(p){this.transform.pivot.copyFrom(p)}get skew(){return this.transform.skew}set skew(p){this.transform.skew.copyFrom(p)}get rotation(){return this.transform.rotation}set rotation(p){this.transform.rotation=p}get angle(){return this.transform.rotation*Z.bO}set angle(p){this.transform.rotation=p*Z.Td}get zIndex(){return this._zIndex}set zIndex(p){this._zIndex=p,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let p=this;do{if(!p.visible)return!1;p=p.parent}while(p);return!0}get mask(){return this._mask}set mask(p){if(this._mask!==p){if(this._mask){const p=this._mask.isMaskData?this._mask.maskObject:this._mask;p&&(p._maskRefCount--,0===p._maskRefCount&&(p.renderable=!0,p.isMask=!1))}if(this._mask=p,this._mask){const p=this._mask.isMaskData?this._mask.maskObject:this._mask;p&&(0===p._maskRefCount&&(p.renderable=!1,p.isMask=!0),p._maskRefCount++)}}}}class h extends t{constructor(){super(...arguments),this.sortDirty=null}}t.prototype.displayObjectUpdateTransform=t.prototype.updateTransform;const k=new Z.uq;function n(p,g){return p.zIndex===g.zIndex?p._lastSortedIndex-g._lastSortedIndex:p.zIndex-g.zIndex}const S=class p extends t{constructor(){super(),this.children=[],this.sortableChildren=p.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(p){}addChild(...p){if(p.length>1)for(let g=0;g<p.length;g++)this.addChild(p[g]);else{const g=p[0];g.parent&&g.parent.removeChild(g),g.parent=this,this.sortDirty=!0,g.transform._parentID=-1,this.children.push(g),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",g,this,this.children.length-1),g.emit("added",this)}return p[0]}addChildAt(p,g){if(g<0||g>this.children.length)throw new Error(`${p}addChildAt: The index ${g} supplied is out of bounds ${this.children.length}`);return p.parent&&p.parent.removeChild(p),p.parent=this,this.sortDirty=!0,p.transform._parentID=-1,this.children.splice(g,0,p),this._boundsID++,this.onChildrenChange(g),p.emit("added",this),this.emit("childAdded",p,this,g),p}swapChildren(p,g){if(p===g)return;const m=this.getChildIndex(p),Z=this.getChildIndex(g);this.children[m]=g,this.children[Z]=p,this.onChildrenChange(m<Z?m:Z)}getChildIndex(p){const g=this.children.indexOf(p);if(-1===g)throw new Error("The supplied DisplayObject must be a child of the caller");return g}setChildIndex(p,g){if(g<0||g>=this.children.length)throw new Error(`The index ${g} supplied is out of bounds ${this.children.length}`);const m=this.getChildIndex(p);Z.Wp.removeItems(this.children,m,1),this.children.splice(g,0,p),this.onChildrenChange(g)}getChildAt(p){if(p<0||p>=this.children.length)throw new Error(`getChildAt: Index (${p}) does not exist.`);return this.children[p]}removeChild(...p){if(p.length>1)for(let g=0;g<p.length;g++)this.removeChild(p[g]);else{const g=p[0],m=this.children.indexOf(g);if(-1===m)return null;g.parent=null,g.transform._parentID=-1,Z.Wp.removeItems(this.children,m,1),this._boundsID++,this.onChildrenChange(m),g.emit("removed",this),this.emit("childRemoved",g,this,m)}return p[0]}removeChildAt(p){const g=this.getChildAt(p);return g.parent=null,g.transform._parentID=-1,Z.Wp.removeItems(this.children,p,1),this._boundsID++,this.onChildrenChange(p),g.emit("removed",this),this.emit("childRemoved",g,this,p),g}removeChildren(p=0,g=this.children.length){const m=p,Z=g-m;let H;if(Z>0&&Z<=g){H=this.children.splice(m,Z);for(let p=0;p<H.length;++p)H[p].parent=null,H[p].transform&&(H[p].transform._parentID=-1);this._boundsID++,this.onChildrenChange(p);for(let p=0;p<H.length;++p)H[p].emit("removed",this),this.emit("childRemoved",H[p],this,p);return H}if(0===Z&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let p=!1;for(let g=0,m=this.children.length;g<m;++g){const m=this.children[g];m._lastSortedIndex=g,!p&&0!==m.zIndex&&(p=!0)}p&&this.children.length>1&&this.children.sort(n),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let p=0,g=this.children.length;p<g;++p){const g=this.children[p];g.visible&&g.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let p=0;p<this.children.length;p++){const g=this.children[p];if(g.visible&&g.renderable)if(g.calculateBounds(),g._mask){const p=g._mask.isMaskData?g._mask.maskObject:g._mask;p?(p.calculateBounds(),this._bounds.addBoundsMask(g._bounds,p._bounds)):this._bounds.addBounds(g._bounds)}else g.filterArea?this._bounds.addBoundsArea(g._bounds,g.filterArea):this._bounds.addBounds(g._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(p,g=!1){const m=super.getLocalBounds(p);if(!g)for(let p=0,g=this.children.length;p<g;++p){const g=this.children[p];g.visible&&g.updateTransform()}return m}_calculateBounds(){}_renderWithCulling(g){const m=g.renderTexture.sourceFrame;if(!(m.width>0&&m.height>0))return;let Z,H;this.cullArea?(Z=this.cullArea,H=this.worldTransform):this._render!==p.prototype._render&&(Z=this.getBounds(!0));const t=g.projection.transform;if(t&&(H?(H=k.copyFrom(H),H.prepend(t)):H=t),Z&&m.intersects(Z,H))this._render(g);else if(this.cullArea)return;for(let p=0,m=this.children.length;p<m;++p){const m=this.children[p],Z=m.cullable;m.cullable=Z||!this.cullArea,m.render(g),m.cullable=Z}}render(p){var g;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||(null===(g=this.filters)||void 0===g?void 0:g.length))this.renderAdvanced(p);else if(this.cullable)this._renderWithCulling(p);else{this._render(p);for(let g=0,m=this.children.length;g<m;++g)this.children[g].render(p)}}renderAdvanced(p){var g,m,H;const t=this.filters,h=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const k=t&&(null===(g=this._enabledFilters)||void 0===g?void 0:g.length)||h&&(!h.isMaskData||h.enabled&&(h.autoDetect||h.type!==Z.vg.NONE));if(k&&p.batch.flush(),t&&(null===(m=this._enabledFilters)||void 0===m?void 0:m.length)&&p.filter.push(this,this._enabledFilters),h&&p.mask.push(this,this._mask),this.cullable)this._renderWithCulling(p);else{this._render(p);for(let g=0,m=this.children.length;g<m;++g)this.children[g].render(p)}k&&p.batch.flush(),h&&p.mask.pop(this),t&&(null===(H=this._enabledFilters)||void 0===H?void 0:H.length)&&p.filter.pop()}_render(p){}destroy(p){super.destroy(),this.sortDirty=!1;const g="boolean"==typeof p?p:null==p?void 0:p.children,m=this.removeChildren(0,this.children.length);if(g)for(let g=0;g<m.length;++g)m[g].destroy(p)}get width(){return this.scale.x*this.getLocalBounds().width}set width(p){const g=this.getLocalBounds().width;this.scale.x=0!==g?p/g:1,this._width=p}get height(){return this.scale.y*this.getLocalBounds().height}set height(p){const g=this.getLocalBounds().height;this.scale.y=0!==g?p/g:1,this._height=p}};S.defaultSortableChildren=!1;let q=S;q.prototype.containerUpdateTransform=q.prototype.updateTransform,Object.defineProperties(Z.W0,{SORTABLE_CHILDREN:{get:()=>q.defaultSortableChildren,set(p){Z.Wp.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),q.defaultSortableChildren=p}}})},738637:(p,g,m)=>{m.d(g,{A:()=>Z,X:()=>h});var Z=(p=>(p.Renderer="renderer",p.Application="application",p.RendererSystem="renderer-webgl-system",p.RendererPlugin="renderer-webgl-plugin",p.CanvasRendererSystem="renderer-canvas-system",p.CanvasRendererPlugin="renderer-canvas-plugin",p.Asset="asset",p.LoadParser="load-parser",p.ResolveParser="resolve-parser",p.CacheParser="cache-parser",p.DetectionParser="detection-parser",p))(Z||{});const H=p=>{if("function"==typeof p||"object"==typeof p&&p.extension){if(!p.extension)throw new Error("Extension class must have an extension object");p={..."object"!=typeof p.extension?{type:p.extension}:p.extension,ref:p}}if("object"!=typeof p)throw new Error("Invalid extension type");return"string"==typeof(p={...p}).type&&(p.type=[p.type]),p},t=(p,g)=>{var m;return null!==(m=H(p).priority)&&void 0!==m?m:g},h={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...p){return p.map(H).forEach((p=>{p.type.forEach((g=>{var m,Z;return null===(Z=(m=this._removeHandlers)[g])||void 0===Z?void 0:Z.call(m,p)}))})),this},add(...p){return p.map(H).forEach((p=>{p.type.forEach((g=>{const m=this._addHandlers,Z=this._queue;m[g]?m[g](p):(Z[g]=Z[g]||[],Z[g].push(p))}))})),this},handle(p,g,m){const Z=this._addHandlers,H=this._removeHandlers;if(Z[p]||H[p])throw new Error(`Extension type ${p} already has a handler`);Z[p]=g,H[p]=m;const t=this._queue;return t[p]&&(t[p].forEach((p=>g(p))),delete t[p]),this},handleByMap(p,g){return this.handle(p,(p=>{g[p.name]=p.ref}),(p=>{delete g[p.name]}))},handleByList(p,g,m=-1){return this.handle(p,(p=>{g.includes(p.ref)||(g.push(p.ref),g.sort(((p,g)=>t(g,m)-t(p,m))))}),(p=>{const m=g.indexOf(p.ref);-1!==m&&g.splice(m,1)}))}}},246638:(p,g,m)=>{m.d(g,{Z:()=>t});var Z=m(316197),H=`varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n`;class t extends Z.dJ{constructor(p=1){super(Z.MT,H,{uAlpha:1}),this.alpha=p}get alpha(){return this.uniforms.uAlpha}set alpha(p){this.uniforms.uAlpha=p}}},528176:(p,g,m)=>{m.d(g,{e:()=>n,H:()=>k});var Z=m(316197);const H={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},t=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`\n`),h=`\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }`;class k extends Z.dJ{constructor(p,g=8,m=4,k=Z.dJ.defaultResolution,n=5){const S=function(p,g){const m=Math.ceil(p/2);let Z,H=h,t="";Z=g?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let g=0;g<p;g++){let p=Z.replace("%index%",g.toString());p=p.replace("%sampleIndex%",`${g-(m-1)}.0`),t+=p,t+=`\n`}return H=H.replace("%blur%",t),H=H.replace("%size%",p.toString()),H}(n,p),q=function(p){const g=H[p],m=g.length;let Z=t,h="";const k="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let n;for(let Z=0;Z<p;Z++){let H=k.replace("%index%",Z.toString());n=Z,Z>=m&&(n=p-Z-1),H=H.replace("%value%",g[n].toString()),h+=H,h+=`\n`}return Z=Z.replace("%blur%",h),Z=Z.replace("%size%",p.toString()),Z}(n);super(S,q),this.horizontal=p,this.resolution=k,this._quality=0,this.quality=m,this.blur=g}apply(p,g,m,H){if(m?this.horizontal?this.uniforms.strength=1/m.width*(m.width/g.width):this.uniforms.strength=1/m.height*(m.height/g.height):this.horizontal?this.uniforms.strength=1/p.renderer.width*(p.renderer.width/g.width):this.uniforms.strength=1/p.renderer.height*(p.renderer.height/g.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)p.applyFilter(this,g,m,H);else{const t=p.getFilterTexture(),h=p.renderer;let k=g,n=t;this.state.blend=!1,p.applyFilter(this,k,n,Z.fr.CLEAR);for(let g=1;g<this.passes-1;g++){p.bindAndClear(k,Z.fr.BLIT),this.uniforms.uSampler=n;const g=n;n=k,k=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,p.applyFilter(this,n,m,H),p.returnFilterTexture(t)}}get blur(){return this.strength}set blur(p){this.padding=1+2*Math.abs(p),this.strength=p}get quality(){return this._quality}set quality(p){this._quality=p,this.passes=p}}class n extends Z.dJ{constructor(p=8,g=4,m=Z.dJ.defaultResolution,H=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new k(!0,p,g,m,H),this.blurYFilter=new k(!1,p,g,m,H),this.resolution=m,this.quality=g,this.blur=p,this.repeatEdgePixels=!1}apply(p,g,m,H){const t=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(t&&h){const t=p.getFilterTexture();this.blurXFilter.apply(p,g,t,Z.fr.CLEAR),this.blurYFilter.apply(p,t,m,H),p.returnFilterTexture(t)}else h?this.blurYFilter.apply(p,g,m,H):this.blurXFilter.apply(p,g,m,H)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(p){this.blurXFilter.blur=this.blurYFilter.blur=p,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(p){this.blurXFilter.quality=this.blurYFilter.quality=p}get blurX(){return this.blurXFilter.blur}set blurX(p){this.blurXFilter.blur=p,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(p){this.blurYFilter.blur=p,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(p){this.blurYFilter.blendMode=p}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(p){this._repeatEdgePixels=p,this.updatePadding()}}},698539:(p,g,m)=>{m.d(g,{N:()=>t});var Z=m(316197),H=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n`;class t extends Z.dJ{constructor(){const p={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Z.Eo,H,p),this.alpha=1}_loadMatrix(p,g=!1){let m=p;g&&(this._multiply(m,this.uniforms.m,p),m=this._colorMatrix(m)),this.uniforms.m=m}_multiply(p,g,m){return p[0]=g[0]*m[0]+g[1]*m[5]+g[2]*m[10]+g[3]*m[15],p[1]=g[0]*m[1]+g[1]*m[6]+g[2]*m[11]+g[3]*m[16],p[2]=g[0]*m[2]+g[1]*m[7]+g[2]*m[12]+g[3]*m[17],p[3]=g[0]*m[3]+g[1]*m[8]+g[2]*m[13]+g[3]*m[18],p[4]=g[0]*m[4]+g[1]*m[9]+g[2]*m[14]+g[3]*m[19]+g[4],p[5]=g[5]*m[0]+g[6]*m[5]+g[7]*m[10]+g[8]*m[15],p[6]=g[5]*m[1]+g[6]*m[6]+g[7]*m[11]+g[8]*m[16],p[7]=g[5]*m[2]+g[6]*m[7]+g[7]*m[12]+g[8]*m[17],p[8]=g[5]*m[3]+g[6]*m[8]+g[7]*m[13]+g[8]*m[18],p[9]=g[5]*m[4]+g[6]*m[9]+g[7]*m[14]+g[8]*m[19]+g[9],p[10]=g[10]*m[0]+g[11]*m[5]+g[12]*m[10]+g[13]*m[15],p[11]=g[10]*m[1]+g[11]*m[6]+g[12]*m[11]+g[13]*m[16],p[12]=g[10]*m[2]+g[11]*m[7]+g[12]*m[12]+g[13]*m[17],p[13]=g[10]*m[3]+g[11]*m[8]+g[12]*m[13]+g[13]*m[18],p[14]=g[10]*m[4]+g[11]*m[9]+g[12]*m[14]+g[13]*m[19]+g[14],p[15]=g[15]*m[0]+g[16]*m[5]+g[17]*m[10]+g[18]*m[15],p[16]=g[15]*m[1]+g[16]*m[6]+g[17]*m[11]+g[18]*m[16],p[17]=g[15]*m[2]+g[16]*m[7]+g[17]*m[12]+g[18]*m[17],p[18]=g[15]*m[3]+g[16]*m[8]+g[17]*m[13]+g[18]*m[18],p[19]=g[15]*m[4]+g[16]*m[9]+g[17]*m[14]+g[18]*m[19]+g[19],p}_colorMatrix(p){const g=new Float32Array(p);return g[4]/=255,g[9]/=255,g[14]/=255,g[19]/=255,g}brightness(p,g){const m=[p,0,0,0,0,0,p,0,0,0,0,0,p,0,0,0,0,0,1,0];this._loadMatrix(m,g)}tint(p,g){const[m,H,t]=Z.Q1.shared.setValue(p).toArray(),h=[m,0,0,0,0,0,H,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(h,g)}greyscale(p,g){const m=[p,p,p,0,0,p,p,p,0,0,p,p,p,0,0,0,0,0,1,0];this._loadMatrix(m,g)}blackAndWhite(p){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],p)}hue(p,g){p=(p||0)/180*Math.PI;const m=Math.cos(p),Z=Math.sin(p),H=1/3,t=(0,Math.sqrt)(H),h=[m+(1-m)*H,H*(1-m)-t*Z,H*(1-m)+t*Z,0,0,H*(1-m)+t*Z,m+H*(1-m),H*(1-m)-t*Z,0,0,H*(1-m)-t*Z,H*(1-m)+t*Z,m+H*(1-m),0,0,0,0,0,1,0];this._loadMatrix(h,g)}contrast(p,g){const m=(p||0)+1,Z=-.5*(m-1),H=[m,0,0,0,Z,0,m,0,0,Z,0,0,m,0,Z,0,0,0,1,0];this._loadMatrix(H,g)}saturate(p=0,g){const m=2*p/3+1,Z=-.5*(m-1),H=[m,Z,Z,0,0,Z,m,Z,0,0,Z,Z,m,0,0,0,0,0,1,0];this._loadMatrix(H,g)}desaturate(){this.saturate(-1)}negative(p){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],p)}sepia(p){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],p)}technicolor(p){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],p)}polaroid(p){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],p)}toBGR(p){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],p)}kodachrome(p){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],p)}browni(p){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],p)}vintage(p){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],p)}colorTone(p,g,m,H,t){p=p||.2,g=g||.15,m=m||16770432,H=H||3375104;const h=Z.Q1.shared,[k,n,S]=h.setValue(m).toArray(),[q,D,I]=h.setValue(H).toArray(),b=[.3,.59,.11,0,0,k,n,S,p,0,q,D,I,g,0,k-q,n-D,S-I,0,0];this._loadMatrix(b,t)}night(p,g){const m=[-2*(p=p||.1),-p,0,0,0,-p,0,p,0,0,0,p,2*p,0,0,0,0,0,1,0];this._loadMatrix(m,g)}predator(p,g){const m=[11.224130630493164*p,-4.794486999511719*p,-2.8746118545532227*p,0*p,.40342438220977783*p,-3.6330697536468506*p,9.193157196044922*p,-2.951810836791992*p,0*p,-1.316135048866272*p,-3.2184197902679443*p,-4.2375030517578125*p,7.476448059082031*p,0*p,.8044459223747253*p,0,0,0,1,0];this._loadMatrix(m,g)}lsd(p){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],p)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(p){this.uniforms.m=p}get alpha(){return this.uniforms.uAlpha}set alpha(p){this.uniforms.uAlpha=p}}t.prototype.grayscale=t.prototype.greyscale},132565:(p,g,m)=>{m.d(g,{U:()=>h});var Z=m(316197),H=`varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n`,t=`attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n`;class h extends Z.dJ{constructor(p,g){const m=new Z.uq;p.renderable=!1,super(t,H,{mapSampler:p._texture,filterMatrix:m,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=p,this.maskMatrix=m,null==g&&(g=20),this.scale=new Z.bR(g,g)}apply(p,g,m,Z){this.uniforms.filterMatrix=p.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const H=this.maskSprite.worldTransform,t=Math.sqrt(H.a*H.a+H.b*H.b),h=Math.sqrt(H.c*H.c+H.d*H.d);0!==t&&0!==h&&(this.uniforms.rotation[0]=H.a/t,this.uniforms.rotation[1]=H.b/t,this.uniforms.rotation[2]=H.c/h,this.uniforms.rotation[3]=H.d/h),p.applyFilter(this,g,m,Z)}get map(){return this.uniforms.mapSampler}set map(p){this.uniforms.mapSampler=p}}},476:(p,g,m)=>{var Z=m(688172),H=m(316197),t=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,h=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\n\nuniform vec2 shift;\nuniform vec4 inputSize;\n\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\n\n    // Premultiply alpha\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}`,k=Object.defineProperty,n=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,D=(p,g,m)=>g in p?k(p,g,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[g]=m,I=(p,g)=>{for(var m in g||(g={}))S.call(g,m)&&D(p,m,g[m]);if(n)for(var m of n(g))q.call(g,m)&&D(p,m,g[m]);return p};const b=class extends H.dJ{constructor(p){super(),this.angle=45,this._distance=5,this._resolution=H.W0.FILTER_RESOLUTION;const g=p?I(I({},b.defaults),p):b.defaults,{kernels:m,blur:k,quality:n,pixelSize:S,resolution:q}=g;this._offset=new H.oA(this._updatePadding,this),this._tintFilter=new H.dJ(t,h),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=q,this._blurFilter=m?new Z.Q(m):new Z.Q(k,n),this.pixelSize=S,this.resolution=q;const{shadowOnly:D,rotation:e,distance:N,offset:d,alpha:Q,color:$}=g;this.shadowOnly=D,void 0!==e&&void 0!==N?(this.rotation=e,this.distance=N):this.offset=d,this.alpha=Q,this.color=$}apply(p,g,m,Z){const H=p.getFilterTexture();this._tintFilter.apply(p,g,H,1),this._blurFilter.apply(p,H,m,Z),!0!==this.shadowOnly&&p.applyFilter(this,g,m,0),p.returnFilterTexture(H)}_updatePadding(){const p=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=p+2*this.blur}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(p){this._offset.copyFrom(p),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(p){this._resolution=p,this._tintFilter&&(this._tintFilter.resolution=p),this._blurFilter&&(this._blurFilter.resolution=p)}get distance(){return this._distance}set distance(p){H.Wp.deprecation("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=p,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/H.Td}set rotation(p){H.Wp.deprecation("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=p*H.Td,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(p){this._tintFilter.uniforms.alpha=p}get color(){return H.Wp.rgb2hex(this._tintFilter.uniforms.color)}set color(p){H.Wp.hex2rgb(p,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(p){this._blurFilter.kernels=p}get blur(){return this._blurFilter.blur}set blur(p){this._blurFilter.blur=p,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(p){this._blurFilter.quality=p}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(p){this._blurFilter.pixelSize=p}};b.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:H.W0.FILTER_RESOLUTION}},614812:(p,g,m)=>{var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`// precision highp float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\nuniform float aspect;\n\nuniform sampler2D displacementMap;\nuniform float offset;\nuniform float sinDir;\nuniform float cosDir;\nuniform int fillMode;\n\nuniform float seed;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nconst int TRANSPARENT = 0;\nconst int ORIGINAL = 1;\nconst int LOOP = 2;\nconst int CLAMP = 3;\nconst int MIRROR = 4;\n\nvoid main(void)\n{\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\n\n    if (coord.x > 1.0 || coord.y > 1.0) {\n        return;\n    }\n\n    float cx = coord.x - 0.5;\n    float cy = (coord.y - 0.5) * aspect;\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\n\n    // displacementMap: repeat\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\n\n    // displacementMap: mirror\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\n\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\n\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\n\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\n\n    if (fillMode == CLAMP) {\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    } else {\n        if( coord.x > filterClamp.z ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.x -= filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x = filterClamp.z * 2.0 - coord.x;\n            }\n        } else if( coord.x < filterClamp.x ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.x += filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x *= -filterClamp.z;\n            }\n        }\n\n        if( coord.y > filterClamp.w ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.y -= filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y = filterClamp.w * 2.0 - coord.y;\n            }\n        } else if( coord.y < filterClamp.y ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.y += filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y *= -filterClamp.w;\n            }\n        }\n    }\n\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\n    gl_FragColor.a = texture2D(uSampler, coord).a;\n}\n`;const h=class extends Z.dJ{constructor(p){super(H,t),this.offset=100,this.fillMode=h.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=Z.gP.from(this._canvas,{scaleMode:Z.M6.NEAREST}),Object.assign(this,h.defaults,p)}apply(p,g,m,Z){const{width:H,height:t}=g.filterFrame;this.uniforms.dimensions[0]=H,this.uniforms.dimensions[1]=t,this.uniforms.aspect=t/H,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,p.applyFilter(this,g,m,Z)}_randomizeSizes(){const p=this._sizes,g=this._slices-1,m=this.sampleSize,Z=Math.min(this.minSize/m,.9/this._slices);if(this.average){const m=this._slices;let H=1;for(let t=0;t<g;t++){const g=H/(m-t),h=Math.max(g*(1-.6*Math.random()),Z);p[t]=h,H-=h}p[g]=H}else{let m=1;const H=Math.sqrt(1/this._slices);for(let t=0;t<g;t++){const g=Math.max(H*m*Math.random(),Z);p[t]=g,m-=g}p[g]=m}this.shuffle()}shuffle(){const p=this._sizes;for(let g=this._slices-1;g>0;g--){const m=Math.random()*g>>0,Z=p[g];p[g]=p[m],p[m]=Z}}_randomizeOffsets(){for(let p=0;p<this._slices;p++)this._offsets[p]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const p=this.sampleSize,g=this.texture,m=this._canvas.getContext("2d");m.clearRect(0,0,8,p);let Z,H=0;for(let g=0;g<this._slices;g++){Z=Math.floor(256*this._offsets[g]);const t=this._sizes[g]*p,h=Z>0?Z:0,k=Z<0?-Z:0;m.fillStyle=`rgba(${h}, ${k}, 0, 1)`,m.fillRect(0,H>>0,p,t+1>>0),H+=t}g.baseTexture.update(),this.uniforms.displacementMap=g}set sizes(p){const g=Math.min(this._slices,p.length);for(let m=0;m<g;m++)this._sizes[m]=p[m]}get sizes(){return this._sizes}set offsets(p){const g=Math.min(this._slices,p.length);for(let m=0;m<g;m++)this._offsets[m]=p[m]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(p){this._slices!==p&&(this._slices=p,this.uniforms.slices=p,this._sizes=this.uniforms.slicesWidth=new Float32Array(p),this._offsets=this.uniforms.slicesOffset=new Float32Array(p),this.refresh())}get direction(){return this._direction}set direction(p){if(this._direction===p)return;this._direction=p;const g=p*Z.Td;this.uniforms.sinDir=Math.sin(g),this.uniforms.cosDir=Math.cos(g)}get red(){return this.uniforms.red}set red(p){this.uniforms.red=p}get green(){return this.uniforms.green}set green(p){this.uniforms.green=p}get blue(){return this.uniforms.blue}set blue(p){this.uniforms.blue=p}destroy(){var p;null==(p=this.texture)||p.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let k=h;k.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},k.TRANSPARENT=0,k.ORIGINAL=1,k.LOOP=2,k.CLAMP=3,k.MIRROR=4},577184:(p,g,m)=>{m.d(g,{q:()=>k});var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float outerStrength;\nuniform float innerStrength;\n\nuniform vec4 glowColor;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform bool knockout;\nuniform float alpha;\n\nconst float PI = 3.14159265358979323846264;\n\nconst float DIST = __DIST__;\nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);\nconst float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);\n\nconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\n    float totalAlpha = 0.0;\n\n    vec2 direction;\n    vec2 displaced;\n    vec4 curColor;\n\n    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {\n       direction = vec2(cos(angle), sin(angle)) * px;\n\n       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {\n           displaced = clamp(vTextureCoord + direction * \n                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);\n\n           curColor = texture2D(uSampler, displaced);\n\n           totalAlpha += (DIST - curDistance) * curColor.a;\n       }\n    }\n    \n    curColor = texture2D(uSampler, vTextureCoord);\n\n    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);\n\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\n    \n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);\n\n    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\n\n    if (knockout) {\n      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;\n      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else {\n      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;\n      gl_FragColor = innerColor + outerGlowColor;\n    }\n}\n`;const h=class extends Z.dJ{constructor(p){const g=Object.assign({},h.defaults,p),{outerStrength:m,innerStrength:Z,color:k,knockout:n,quality:S,alpha:q}=g,D=Math.round(g.distance);super(H,t.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/S/D).toFixed(7)}`).replace(/__DIST__/gi,`${D.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:k,outerStrength:m,innerStrength:Z,padding:D,knockout:n,alpha:q})}get color(){return Z.Wp.rgb2hex(this.uniforms.glowColor)}set color(p){Z.Wp.hex2rgb(p,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(p){this.uniforms.outerStrength=p}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(p){this.uniforms.innerStrength=p}get knockout(){return this.uniforms.knockout}set knockout(p){this.uniforms.knockout=p}get alpha(){return this.uniforms.alpha}set alpha(p){this.uniforms.alpha=p}};let k=h;k.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1}},688172:(p,g,m)=>{m.d(g,{Q:()=>k});var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}`,h=`\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n`;class k extends Z.dJ{constructor(p=4,g=3,m=!1){super(H,m?h:t),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new Z.bR,this.pixelSize=1,this._clamp=m,Array.isArray(p)?this.kernels=p:(this._blur=p,this.quality=g)}apply(p,g,m,Z){const H=this._pixelSize.x/g._frame.width,t=this._pixelSize.y/g._frame.height;let h;if(1===this._quality||0===this._blur)h=this._kernels[0]+.5,this.uniforms.uOffset[0]=h*H,this.uniforms.uOffset[1]=h*t,p.applyFilter(this,g,m,Z);else{const k=p.getFilterTexture();let n,S=g,q=k;const D=this._quality-1;for(let g=0;g<D;g++)h=this._kernels[g]+.5,this.uniforms.uOffset[0]=h*H,this.uniforms.uOffset[1]=h*t,p.applyFilter(this,S,q,1),n=S,S=q,q=n;h=this._kernels[D]+.5,this.uniforms.uOffset[0]=h*H,this.uniforms.uOffset[1]=h*t,p.applyFilter(this,S,m,Z),p.returnFilterTexture(k)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce(((p,g)=>p+g+.5),0))}_generateKernels(){const p=this._blur,g=this._quality,m=[p];if(p>0){let Z=p;const H=p/g;for(let p=1;p<g;p++)Z-=H,m.push(Z)}this._kernels=m,this._updatePadding()}get kernels(){return this._kernels}set kernels(p){Array.isArray(p)&&p.length>0?(this._kernels=p,this._quality=p.length,this._blur=Math.max(...p)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(p){"number"==typeof p?(this._pixelSize.x=p,this._pixelSize.y=p):Array.isArray(p)?(this._pixelSize.x=p[0],this._pixelSize.y=p[1]):p instanceof Z.bR?(this._pixelSize.x=p.x,this._pixelSize.y=p.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(p){this._quality=Math.max(1,Math.round(p)),this._generateKernels()}get blur(){return this._blur}set blur(p){this._blur=p,this._generateKernels()}}},543068:(p,g,m)=>{m(316197).dJ},702328:(p,g,m)=>{var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterClamp;\n\nuniform float uAlpha;\nuniform vec2 uThickness;\nuniform vec4 uColor;\nuniform bool uKnockout;\n\nconst float DOUBLE_PI = 2. * 3.14159265358979323846264;\nconst float ANGLE_STEP = \${angleStep};\n\nfloat outlineMaxAlphaAtPos(vec2 pos) {\n    if (uThickness.x == 0. || uThickness.y == 0.) {\n        return 0.;\n    }\n\n    vec4 displacedColor;\n    vec2 displacedPos;\n    float maxAlpha = 0.;\n\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {\n        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);\n        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);\n        displacedColor = texture2D(uSampler, clamp(displacedPos, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, displacedColor.a);\n    }\n\n    return maxAlpha;\n}\n\nvoid main(void) {\n    vec4 sourceColor = texture2D(uSampler, vTextureCoord);\n    vec4 contentColor = sourceColor * float(!uKnockout);\n    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);\n    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);\n    gl_FragColor = contentColor + outlineColor;\n}\n`;const h=class extends Z.dJ{constructor(p=1,g=0,m=.1,Z=1,k=!1){super(H,t.replace(/\$\{angleStep\}/,h.getAngleStep(m))),this._thickness=1,this._alpha=1,this._knockout=!1,this.uniforms.uThickness=new Float32Array([0,0]),this.uniforms.uColor=new Float32Array([0,0,0,1]),this.uniforms.uAlpha=Z,this.uniforms.uKnockout=k,Object.assign(this,{thickness:p,color:g,quality:m,alpha:Z,knockout:k})}static getAngleStep(p){const g=Math.max(p*h.MAX_SAMPLES,h.MIN_SAMPLES);return(2*Math.PI/g).toFixed(7)}apply(p,g,m,Z){this.uniforms.uThickness[0]=this._thickness/g._frame.width,this.uniforms.uThickness[1]=this._thickness/g._frame.height,this.uniforms.uAlpha=this._alpha,this.uniforms.uKnockout=this._knockout,p.applyFilter(this,g,m,Z)}get alpha(){return this._alpha}set alpha(p){this._alpha=p}get color(){return Z.Wp.rgb2hex(this.uniforms.uColor)}set color(p){Z.Wp.hex2rgb(p,this.uniforms.uColor)}get knockout(){return this._knockout}set knockout(p){this._knockout=p}get thickness(){return this._thickness}set thickness(p){this._thickness=p,this.padding=p}};let k=h;k.MIN_SAMPLES=1,k.MAX_SAMPLES=100},914712:(p,g,m)=>{var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nuniform bool mirror;\nuniform float boundary;\nuniform vec2 amplitude;\nuniform vec2 waveLength;\nuniform vec2 alpha;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    if (coord.y < boundary) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\n    float areaY = boundary * dimensions.y / filterArea.y;\n    float v = areaY + areaY - vTextureCoord.y;\n    float y = mirror ? v : vTextureCoord.y;\n\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\n\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\n    x = clamp(x, filterClamp.x, filterClamp.z);\n\n    vec4 color = texture2D(uSampler, vec2(x, y));\n\n    gl_FragColor = color * _alpha;\n}\n`;const h=class extends Z.dJ{constructor(p){super(H,t),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,h.defaults,p)}apply(p,g,m,Z){var H,t;this.uniforms.dimensions[0]=null==(H=g.filterFrame)?void 0:H.width,this.uniforms.dimensions[1]=null==(t=g.filterFrame)?void 0:t.height,this.uniforms.time=this.time,p.applyFilter(this,g,m,Z)}set mirror(p){this.uniforms.mirror=p}get mirror(){return this.uniforms.mirror}set boundary(p){this.uniforms.boundary=p}get boundary(){return this.uniforms.boundary}set amplitude(p){this.uniforms.amplitude[0]=p[0],this.uniforms.amplitude[1]=p[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(p){this.uniforms.waveLength[0]=p[0],this.uniforms.waveLength[1]=p[1]}get waveLength(){return this.uniforms.waveLength}set alpha(p){this.uniforms.alpha[0]=p[0],this.uniforms.alpha[1]=p[1]}get alpha(){return this.uniforms.alpha}};h.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0}},689800:(p,g,m)=>{var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n\n    gl_FragColor = color;\n}\n`;const h=class extends Z.dJ{constructor(p=[0,0],g,m=0){super(H,t),this.center=p,Object.assign(this,h.defaults,g),this.time=m}apply(p,g,m,Z){this.uniforms.time=this.time,p.applyFilter(this,g,m,Z)}get center(){return this.uniforms.center}set center(p){this.uniforms.center=p}get amplitude(){return this.uniforms.amplitude}set amplitude(p){this.uniforms.amplitude=p}get wavelength(){return this.uniforms.wavelength}set wavelength(p){this.uniforms.wavelength=p}get brightness(){return this.uniforms.brightness}set brightness(p){this.uniforms.brightness=p}get speed(){return this.uniforms.speed}set speed(p){this.uniforms.speed=p}get radius(){return this.uniforms.radius}set radius(p){this.uniforms.radius=p}};h.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1}},412508:(p,g,m)=>{var Z=m(316197),H=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,t=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = \${maxKernelSize};\n\n// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand(vec2 co, float seed) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);\n    return fract(sin(sn) * c + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = rand(vTextureCoord, 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    color /= total;\n    // switch back from pre-multiplied alpha\n    // color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n`,h=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;const S=class extends Z.dJ{constructor(p){const g=Object.assign(S.defaults,p),{maxKernelSize:m}=g,Z=((p,g)=>{var m={};for(var Z in p)k.call(p,Z)&&g.indexOf(Z)<0&&(m[Z]=p[Z]);if(null!=p&&h)for(var Z of h(p))g.indexOf(Z)<0&&n.call(p,Z)&&(m[Z]=p[Z]);return m})(g,["maxKernelSize"]);super(H,t.replace("${maxKernelSize}",m.toFixed(1))),Object.assign(this,Z)}get center(){return this.uniforms.uCenter}set center(p){this.uniforms.uCenter=p}get strength(){return this.uniforms.uStrength}set strength(p){this.uniforms.uStrength=p}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(p){this.uniforms.uInnerRadius=p}get radius(){return this.uniforms.uRadius}set radius(p){(p<0||p===1/0)&&(p=-1),this.uniforms.uRadius=p}};S.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32}},366628:(p,g,m)=>{m.d(g,{A1:()=>a,Mp:()=>q,u2:()=>S});var Z=m(316197);const H={build(p){const g=p.points;let m,H,t,h,k,n;if(p.type===Z.HY.CIRC){const g=p.shape;m=g.x,H=g.y,k=n=g.radius,t=h=0}else if(p.type===Z.HY.ELIP){const g=p.shape;m=g.x,H=g.y,k=g.width,n=g.height,t=h=0}else{const g=p.shape,Z=g.width/2,S=g.height/2;m=g.x+Z,H=g.y+S,k=n=Math.max(0,Math.min(g.radius,Math.min(Z,S))),t=Z-k,h=S-n}if(!(k>=0&&n>=0&&t>=0&&h>=0))return void(g.length=0);const S=Math.ceil(2.3*Math.sqrt(k+n)),q=8*S+(t?4:0)+(h?4:0);if(g.length=q,0===q)return;if(0===S)return g.length=8,g[0]=g[6]=m+t,g[1]=g[3]=H+h,g[2]=g[4]=m-t,void(g[5]=g[7]=H-h);let D=0,I=4*S+(t?2:0)+2,b=I,e=q;{const p=t+k,Z=h,n=m+p,S=m-p,q=H+Z;if(g[D++]=n,g[D++]=q,g[--I]=q,g[--I]=S,h){const p=H-Z;g[b++]=S,g[b++]=p,g[--e]=p,g[--e]=n}}for(let p=1;p<S;p++){const Z=Math.PI/2*(p/S),q=t+Math.cos(Z)*k,N=h+Math.sin(Z)*n,d=m+q,Q=m-q,$=H+N,w=H-N;g[D++]=d,g[D++]=$,g[--I]=$,g[--I]=Q,g[b++]=Q,g[b++]=w,g[--e]=w,g[--e]=d}{const p=h+n,Z=m+t,k=m-t,S=H+p,q=H-p;g[D++]=Z,g[D++]=S,g[--e]=q,g[--e]=Z,t&&(g[D++]=k,g[D++]=S,g[--e]=q,g[--e]=k)}},triangulate(p,g){const m=p.points,H=g.points,t=g.indices;if(0===m.length)return;let h=H.length/2;const k=h;let n,S;if(p.type!==Z.HY.RREC){const g=p.shape;n=g.x,S=g.y}else{const g=p.shape;n=g.x+g.width/2,S=g.y+g.height/2}const q=p.matrix;H.push(p.matrix?q.a*n+q.c*S+q.tx:n,p.matrix?q.b*n+q.d*S+q.ty:S),h++,H.push(m[0],m[1]);for(let p=2;p<m.length;p+=2)H.push(m[p],m[p+1]),t.push(h++,k,h);t.push(k+1,k,h)}};function t(p,g=!1){const m=p.length;if(m<6)return;let Z=0;for(let g=0,H=p[m-2],t=p[m-1];g<m;g+=2){const m=p[g],h=p[g+1];Z+=(m-H)*(h+t),H=m,t=h}if(!g&&Z>0||g&&Z<=0){const g=m/2;for(let Z=g+g%2;Z<m;Z+=2){const g=m-Z-2,H=m-Z-1,t=Z,h=Z+1;[p[g],p[t]]=[p[t],p[g]],[p[H],p[h]]=[p[h],p[H]]}}}const h={build(p){p.points=p.shape.points.slice()},triangulate(p,g){let m=p.points;const H=p.holes,h=g.points,k=g.indices;if(m.length>=6){t(m,!1);const p=[];for(let g=0;g<H.length;g++){const Z=H[g];t(Z.points,!0),p.push(m.length/2),m=m.concat(Z.points)}const g=Z.Wp.earcut(m,p,2);if(!g)return;const n=h.length/2;for(let p=0;p<g.length;p+=3)k.push(g[p]+n),k.push(g[p+1]+n),k.push(g[p+2]+n);for(let p=0;p<m.length;p++)h.push(m[p])}}},k={build(p){const g=p.shape,m=g.x,Z=g.y,H=g.width,t=g.height,h=p.points;h.length=0,H>=0&&t>=0&&h.push(m,Z,m+H,Z,m+H,Z+t,m,Z+t)},triangulate(p,g){const m=p.points,Z=g.points;if(0===m.length)return;const H=Z.length/2;Z.push(m[0],m[1],m[2],m[3],m[6],m[7],m[4],m[5]),g.indices.push(H,H+1,H+2,H+1,H+2,H+3)}},n={build(p){H.build(p)},triangulate(p,g){H.triangulate(p,g)}};var S=(p=>(p.MITER="miter",p.BEVEL="bevel",p.ROUND="round",p))(S||{}),q=(p=>(p.BUTT="butt",p.ROUND="round",p.SQUARE="square",p))(q||{});const D={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(p,g=20){if(!this.adaptive||!p||isNaN(p))return g;let m=Math.ceil(p/this.maxLength);return m<this.minSegments?m=this.minSegments:m>this.maxSegments&&(m=this.maxSegments),m}};class I{static curveTo(p,g,m,Z,H,t){const h=t[t.length-2],k=t[t.length-1]-g,n=h-p,S=Z-g,q=m-p,D=Math.abs(k*q-n*S);if(D<1e-8||0===H)return(t[t.length-2]!==p||t[t.length-1]!==g)&&t.push(p,g),null;const I=k*k+n*n,b=S*S+q*q,e=k*S+n*q,N=H*Math.sqrt(I)/D,d=H*Math.sqrt(b)/D,Q=N*e/I,$=d*e/b,w=N*q+d*n,Y=N*S+d*k,i=n*(d+Q),P=k*(d+Q),J=q*(N+$),y=S*(N+$);return{cx:w+p,cy:Y+g,radius:H,startAngle:Math.atan2(P-Y,i-w),endAngle:Math.atan2(y-Y,J-w),anticlockwise:n*S>q*k}}static arc(p,g,m,H,t,h,k,n,S){const q=k-h,I=D._segmentsCount(Math.abs(q)*t,40*Math.ceil(Math.abs(q)/Z.TO)),b=q/(2*I),e=2*b,N=Math.cos(b),d=Math.sin(b),Q=I-1,$=Q%1/Q;for(let p=0;p<=Q;++p){const g=b+h+e*(p+$*p),Z=Math.cos(g),k=-Math.sin(g);S.push((N*Z+d*k)*t+m,(N*-k+d*Z)*t+H)}}}class b{static curveLength(p,g,m,Z,H,t,h,k){let n=0,S=0,q=0,D=0,I=0,b=0,e=0,N=0,d=0,Q=0,$=0,w=p,Y=g;for(let i=1;i<=10;++i)S=i/10,q=S*S,D=q*S,I=1-S,b=I*I,e=b*I,N=e*p+3*b*S*m+3*I*q*H+D*h,d=e*g+3*b*S*Z+3*I*q*t+D*k,Q=w-N,$=Y-d,w=N,Y=d,n+=Math.sqrt(Q*Q+$*$);return n}static curveTo(p,g,m,Z,H,t,h){const k=h[h.length-2],n=h[h.length-1];h.length-=2;const S=D._segmentsCount(b.curveLength(k,n,p,g,m,Z,H,t));let q=0,I=0,e=0,N=0,d=0;h.push(k,n);for(let D=1,b=0;D<=S;++D)b=D/S,q=1-b,I=q*q,e=I*q,N=b*b,d=N*b,h.push(e*k+3*I*b*p+3*q*N*m+d*H,e*n+3*I*b*g+3*q*N*Z+d*t)}}function e(p,g,m,Z,H,t,h,k){let n,S;h?(n=Z,S=-m):(n=-Z,S=m);const q=p-m*H+n,D=g-Z*H+S,I=p+m*t+n,b=g+Z*t+S;return k.push(q,D,I,b),2}function N(p,g,m,Z,H,t,h,k){const n=m-p,S=Z-g;let q=Math.atan2(n,S),D=Math.atan2(H-p,t-g);k&&q<D?q+=2*Math.PI:!k&&q>D&&(D+=2*Math.PI);let I=q;const b=D-q,e=Math.abs(b),N=Math.sqrt(n*n+S*S),d=(15*e*Math.sqrt(N)/Math.PI>>0)+1,Q=b/d;if(I+=Q,k){h.push(p,g,m,Z);for(let m=1,Z=I;m<d;m++,Z+=Q)h.push(p,g,p+Math.sin(Z)*N,g+Math.cos(Z)*N);h.push(p,g,H,t)}else{h.push(m,Z,p,g);for(let m=1,Z=I;m<d;m++,Z+=Q)h.push(p+Math.sin(Z)*N,g+Math.cos(Z)*N,p,g);h.push(H,t,p,g)}return 2*d}function d(p,g){p.lineStyle.native?function(p,g){let m=0;const H=p.shape,t=p.points||H.points,h=H.type!==Z.HY.POLY||H.closeStroke;if(0===t.length)return;const k=g.points,n=g.indices,S=t.length/2,q=k.length/2;let D=q;for(k.push(t[0],t[1]),m=1;m<S;m++)k.push(t[2*m],t[2*m+1]),n.push(D,D+1),D++;h&&n.push(D,q)}(p,g):function(p,g){const m=p.shape;let H=p.points||m.points.slice();const t=g.closePointEps;if(0===H.length)return;const h=p.lineStyle,k=new Z.bR(H[0],H[1]),n=new Z.bR(H[H.length-2],H[H.length-1]),I=m.type!==Z.HY.POLY||m.closeStroke,b=Math.abs(k.x-n.x)<t&&Math.abs(k.y-n.y)<t;if(I){H=H.slice(),b&&(H.pop(),H.pop(),n.set(H[H.length-2],H[H.length-1]));const p=.5*(k.x+n.x),g=.5*(n.y+k.y);H.unshift(p,g),H.push(p,g)}const d=g.points,Q=H.length/2;let $=H.length;const w=d.length/2,Y=h.width/2,i=Y*Y,P=h.miterLimit*h.miterLimit;let J=H[0],y=H[1],W=H[2],v=H[3],V=0,z=0,B=-(y-v),u=J-W,a=0,F=0,X=Math.sqrt(B*B+u*u);B/=X,u/=X,B*=Y,u*=Y;const K=h.alignment,j=2*(1-K),r=2*K;I||(h.cap===q.ROUND?$+=N(J-B*(j-r)*.5,y-u*(j-r)*.5,J-B*j,y-u*j,J+B*r,y+u*r,d,!0)+2:h.cap===q.SQUARE&&($+=e(J,y,B,u,j,r,!0,d))),d.push(J-B*j,y-u*j,J+B*r,y+u*r);for(let p=1;p<Q-1;++p){J=H[2*(p-1)],y=H[2*(p-1)+1],W=H[2*p],v=H[2*p+1],V=H[2*(p+1)],z=H[2*(p+1)+1],B=-(y-v),u=J-W,X=Math.sqrt(B*B+u*u),B/=X,u/=X,B*=Y,u*=Y,a=-(v-z),F=W-V,X=Math.sqrt(a*a+F*F),a/=X,F/=X,a*=Y,F*=Y;const g=W-J,m=y-v,Z=W-V,t=z-v,k=g*Z+m*t,n=m*Z-t*g,q=n<0;if(Math.abs(n)<.001*Math.abs(k)){d.push(W-B*j,v-u*j,W+B*r,v+u*r),k>=0&&(h.join===S.ROUND?$+=N(W,v,W-B*j,v-u*j,W-a*j,v-F*j,d,!1)+4:$+=2,d.push(W-a*r,v-F*r,W+a*j,v+F*j));continue}const D=(-B+J)*(-u+v)-(-B+W)*(-u+y),I=(-a+V)*(-F+v)-(-a+W)*(-F+z),b=(g*I-Z*D)/n,e=(t*D-m*I)/n,Q=(b-W)*(b-W)+(e-v)*(e-v),w=W+(b-W)*j,K=v+(e-v)*j,U=W-(b-W)*r,C=v-(e-v)*r,x=q?j:r,R=Q<=Math.min(g*g+m*m,Z*Z+t*t)+x*x*i;let c=h.join;if(c===S.MITER&&Q/i>P&&(c=S.BEVEL),R)switch(c){case S.MITER:d.push(w,K,U,C);break;case S.BEVEL:q?d.push(w,K,W+B*r,v+u*r,w,K,W+a*r,v+F*r):d.push(W-B*j,v-u*j,U,C,W-a*j,v-F*j,U,C),$+=2;break;case S.ROUND:q?(d.push(w,K,W+B*r,v+u*r),$+=N(W,v,W+B*r,v+u*r,W+a*r,v+F*r,d,!0)+4,d.push(w,K,W+a*r,v+F*r)):(d.push(W-B*j,v-u*j,U,C),$+=N(W,v,W-B*j,v-u*j,W-a*j,v-F*j,d,!1)+4,d.push(W-a*j,v-F*j,U,C))}else{switch(d.push(W-B*j,v-u*j,W+B*r,v+u*r),c){case S.MITER:q?d.push(U,C,U,C):d.push(w,K,w,K),$+=2;break;case S.ROUND:$+=q?N(W,v,W+B*r,v+u*r,W+a*r,v+F*r,d,!0)+2:N(W,v,W-B*j,v-u*j,W-a*j,v-F*j,d,!1)+2}d.push(W-a*j,v-F*j,W+a*r,v+F*r),$+=2}}J=H[2*(Q-2)],y=H[2*(Q-2)+1],W=H[2*(Q-1)],v=H[2*(Q-1)+1],B=-(y-v),u=J-W,X=Math.sqrt(B*B+u*u),B/=X,u/=X,B*=Y,u*=Y,d.push(W-B*j,v-u*j,W+B*r,v+u*r),I||(h.cap===q.ROUND?$+=N(W-B*(j-r)*.5,v-u*(j-r)*.5,W-B*j,v-u*j,W+B*r,v+u*r,d,!1)+2:h.cap===q.SQUARE&&($+=e(W,v,B,u,j,r,!1,d)));const U=g.indices,C=D.epsilon*D.epsilon;for(let p=w;p<$+w-2;++p)J=d[2*p],y=d[2*p+1],W=d[2*(p+1)],v=d[2*(p+1)+1],V=d[2*(p+2)],z=d[2*(p+2)+1],!(Math.abs(J*(v-z)+W*(z-y)+V*(y-v))<C)&&U.push(p,p+1,p+2)}(p,g)}class Q{static curveLength(p,g,m,Z,H,t){const h=p-2*m+H,k=g-2*Z+t,n=2*m-2*p,S=2*Z-2*g,q=4*(h*h+k*k),D=4*(h*n+k*S),I=n*n+S*S,b=2*Math.sqrt(q+D+I),e=Math.sqrt(q),N=2*q*e,d=2*Math.sqrt(I),Q=D/e;return(N*b+e*D*(b-d)+(4*I*q-D*D)*Math.log((2*e+Q+b)/(Q+d)))/(4*N)}static curveTo(p,g,m,Z,H){const t=H[H.length-2],h=H[H.length-1],k=D._segmentsCount(Q.curveLength(t,h,p,g,m,Z));let n=0,S=0;for(let q=1;q<=k;++q){const D=q/k;n=t+(p-t)*D,S=h+(g-h)*D,H.push(n+(p+(m-p)*D-n)*D,S+(g+(Z-g)*D-S)*D)}}}const $={[Z.HY.POLY]:h,[Z.HY.CIRC]:H,[Z.HY.ELIP]:H,[Z.HY.RECT]:k,[Z.HY.RREC]:n},w=[],Y=[];var i=m(110715);class P{constructor(p,g=null,m=null,Z=null){this.points=[],this.holes=[],this.shape=p,this.lineStyle=m,this.fillStyle=g,this.matrix=Z,this.type=p.type}clone(){return new P(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}class J{constructor(){this.reset()}begin(p,g,m){this.reset(),this.style=p,this.start=g,this.attribStart=m}end(p,g){this.attribSize=g-this.attribStart,this.size=p-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const y=new Z.bR,W=class p extends Z.JH{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new i.cz,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Y.push(this.drawCalls[p]);this.drawCalls.length=0;for(let p=0;p<this.batches.length;p++){const g=this.batches[p];g.reset(),w.push(g)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(p,g=null,m=null,Z=null){const H=new P(p,g,m,Z);return this.graphicsData.push(H),this.dirty++,this}drawHole(p,g=null){if(!this.graphicsData.length)return null;const m=new P(p,null,null,g),Z=this.graphicsData[this.graphicsData.length-1];return m.lineStyle=Z.lineStyle,Z.holes.push(m),this.dirty++,this}destroy(){super.destroy();for(let p=0;p<this.graphicsData.length;++p)this.graphicsData[p].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(p){const g=this.graphicsData;for(let m=0;m<g.length;++m){const Z=g[m];if(Z.fillStyle.visible&&Z.shape&&(Z.matrix?Z.matrix.applyInverse(p,y):y.copyFrom(p),Z.shape.contains(y.x,y.y))){let p=!1;if(Z.holes)for(let g=0;g<Z.holes.length;g++)if(Z.holes[g].shape.contains(y.x,y.y)){p=!0;break}if(!p)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const p=this.uvs,g=this.graphicsData;let m=null,H=null;this.batches.length>0&&(m=this.batches[this.batches.length-1],H=m.style);for(let t=this.shapeIndex;t<g.length;t++){this.shapeIndex++;const h=g[t],k=h.fillStyle,n=h.lineStyle;$[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(k.visible||n.visible)&&this.processHoles(h.holes);for(let g=0;g<2;g++){const t=0===g?k:n;if(!t.visible)continue;const S=t.texture.baseTexture,q=this.indices.length,D=this.points.length/2;S.wrapMode=Z.uR.REPEAT,0===g?this.processFill(h):this.processLine(h);const I=this.points.length/2-D;0!==I&&(m&&!this._compareStyles(H,t)&&(m.end(q,D),m=null),m||(m=w.pop()||new J,m.begin(t,q,D),this.batches.push(m),H=t),this.addUvs(this.points,p,t.texture,D,I,t.matrix))}}const t=this.indices.length,h=this.points.length/2;if(m&&m.end(t,h),0===this.batches.length)return void(this.batchable=!0);const k=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&k===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=k?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(p,g){return!(!p||!g||p.texture.baseTexture!==g.texture.baseTexture||p.color+p.alpha!==g.color+g.alpha||!!p.native!=!!g.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let p=0,g=this.graphicsData.length;p<g;p++){const g=this.graphicsData[p],m=g.fillStyle,Z=g.lineStyle;if(m&&!m.texture.baseTexture.valid||Z&&!Z.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const p=this.batches;for(let g=0,m=p.length;g<m;g++){const m=p[g];for(let p=0;p<m.size;p++){const g=m.start+p;this.indicesUint16[g]=this.indicesUint16[g]-m.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const g=this.batches;for(let p=0;p<g.length;p++)if(g[p].style.native)return!1;return this.points.length<2*p.BATCHABLE_SIZE}buildDrawCalls(){let p=++Z.t5._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),Y.push(this.drawCalls[p]);this.drawCalls.length=0;const g=this.colors,m=this.textureIds;let H=Y.pop();H||(H=new Z.hq,H.texArray=new Z.cc),H.texArray.count=0,H.start=0,H.size=0,H.type=Z._4.TRIANGLES;let t=0,h=null,k=0,n=!1,S=Z._4.TRIANGLES,q=0;this.drawCalls.push(H);for(let D=0;D<this.batches.length;D++){const I=this.batches[D],b=8,e=I.style,N=e.texture.baseTexture;n!==!!e.native&&(n=!!e.native,S=n?Z._4.LINES:Z._4.TRIANGLES,h=null,t=b,p++),h!==N&&(h=N,N._batchEnabled!==p&&(t===b&&(p++,t=0,H.size>0&&(H=Y.pop(),H||(H=new Z.hq,H.texArray=new Z.cc),this.drawCalls.push(H)),H.start=q,H.size=0,H.texArray.count=0,H.type=S),N.touched=1,N._batchEnabled=p,N._batchLocation=t,N.wrapMode=Z.uR.REPEAT,H.texArray.elements[H.texArray.count++]=N,t++)),H.size+=I.size,q+=I.size,k=N._batchLocation,this.addColors(g,e.color,e.alpha,I.attribSize,I.attribStart),this.addTextureIds(m,k,I.attribSize,I.attribStart)}Z.t5._globalBatch=p,this.packAttributes()}packAttributes(){const p=this.points,g=this.uvs,m=this.colors,Z=this.textureIds,H=new ArrayBuffer(3*p.length*4),t=new Float32Array(H),h=new Uint32Array(H);let k=0;for(let H=0;H<p.length/2;H++)t[k++]=p[2*H],t[k++]=p[2*H+1],t[k++]=g[2*H],t[k++]=g[2*H+1],h[k++]=m[H],t[k++]=Z[H];this._buffer.update(H),this._indexBuffer.update(this.indicesUint16)}processFill(p){p.holes.length?h.triangulate(p,this):$[p.type].triangulate(p,this)}processLine(p){d(p,this);for(let g=0;g<p.holes.length;g++)d(p.holes[g],this)}processHoles(p){for(let g=0;g<p.length;g++){const m=p[g];$[m.type].build(m),m.matrix&&this.transformPoints(m.points,m.matrix)}}calculateBounds(){const p=this._bounds;p.clear(),p.addVertexData(this.points,0,this.points.length),p.pad(this.boundsPadding,this.boundsPadding)}transformPoints(p,g){for(let m=0;m<p.length/2;m++){const Z=p[2*m],H=p[2*m+1];p[2*m]=g.a*Z+g.c*H+g.tx,p[2*m+1]=g.b*Z+g.d*H+g.ty}}addColors(p,g,m,H,t=0){const h=Z.Q1.shared.setValue(g).toLittleEndianNumber(),k=Z.Q1.shared.setValue(h).toPremultiplied(m);p.length=Math.max(p.length,t+H);for(let g=0;g<H;g++)p[t+g]=k}addTextureIds(p,g,m,Z=0){p.length=Math.max(p.length,Z+m);for(let H=0;H<m;H++)p[Z+H]=g}addUvs(p,g,m,Z,H,t=null){let h=0;const k=g.length,n=m.frame;for(;h<H;){let m=p[2*(Z+h)],H=p[2*(Z+h)+1];if(t){const p=t.a*m+t.c*H+t.tx;H=t.b*m+t.d*H+t.ty,m=p}h++,g.push(m/n.width,H/n.height)}const S=m.baseTexture;(n.width<S.width||n.height<S.height)&&this.adjustUvs(g,m,k,H)}adjustUvs(p,g,m,Z){const H=g.baseTexture,t=1e-6,h=m+2*Z,k=g.frame,n=k.width/H.width,S=k.height/H.height;let q=k.x/k.width,D=k.y/k.height,I=Math.floor(p[m]+t),b=Math.floor(p[m+1]+t);for(let g=m+2;g<h;g+=2)I=Math.min(I,Math.floor(p[g]+t)),b=Math.min(b,Math.floor(p[g+1]+t));q-=I,D-=b;for(let g=m;g<h;g+=2)p[g]=(p[g]+q)*n,p[g+1]=(p[g+1]+D)*S}};W.BATCHABLE_SIZE=100;let v=W;class V{constructor(){this.color=16777215,this.alpha=1,this.texture=Z.gP.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const p=new V;return p.color=this.color,p.alpha=this.alpha,p.texture=this.texture,p.matrix=this.matrix,p.visible=this.visible,p}reset(){this.color=16777215,this.alpha=1,this.texture=Z.gP.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class z extends V{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=q.BUTT,this.join=S.MITER,this.miterLimit=10}clone(){const p=new z;return p.color=this.color,p.alpha=this.alpha,p.texture=this.texture,p.matrix=this.matrix,p.visible=this.visible,p.width=this.width,p.alignment=this.alignment,p.native=this.native,p.cap=this.cap,p.join=this.join,p.miterLimit=this.miterLimit,p}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=q.BUTT,this.join=S.MITER,this.miterLimit=10}}const B={},u=class p extends i.mc{constructor(p=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new V,this._lineStyle=new z,this._matrix=null,this._holeMode=!1,this.state=Z.Uw.for2d(),this._geometry=p||new v,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Z.Q1(16777215),this.blendMode=Z.B9.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new p(this._geometry)}set blendMode(p){this.state.blendMode=p}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(p){this._tintColor.setValue(p)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(p=null,g=0,m,Z=.5,H=!1){return"number"==typeof p&&(p={width:p,color:g,alpha:m,alignment:Z,native:H}),this.lineTextureStyle(p)}lineTextureStyle(p){const g={width:0,texture:Z.gP.WHITE,color:(null==p?void 0:p.texture)?16777215:0,matrix:null,alignment:.5,native:!1,cap:q.BUTT,join:S.MITER,miterLimit:10};p=Object.assign(g,p),this.normalizeColor(p),this.currentPath&&this.startPoly();const m=p.width>0&&p.alpha>0;return m?(p.matrix&&(p.matrix=p.matrix.clone(),p.matrix.invert()),Object.assign(this._lineStyle,{visible:m},p)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const p=this.currentPath.points,g=this.currentPath.points.length;g>2&&(this.drawShape(this.currentPath),this.currentPath=new Z.tS,this.currentPath.closeStroke=!1,this.currentPath.points.push(p[g-2],p[g-1]))}else this.currentPath=new Z.tS,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(p,g){return this.startPoly(),this.currentPath.points[0]=p,this.currentPath.points[1]=g,this}lineTo(p,g){this.currentPath||this.moveTo(0,0);const m=this.currentPath.points,Z=m[m.length-2],H=m[m.length-1];return(Z!==p||H!==g)&&m.push(p,g),this}_initCurve(p=0,g=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[p,g]):this.moveTo(p,g)}quadraticCurveTo(p,g,m,Z){this._initCurve();const H=this.currentPath.points;return 0===H.length&&this.moveTo(0,0),Q.curveTo(p,g,m,Z,H),this}bezierCurveTo(p,g,m,Z,H,t){return this._initCurve(),b.curveTo(p,g,m,Z,H,t,this.currentPath.points),this}arcTo(p,g,m,Z,H){this._initCurve(p,g);const t=this.currentPath.points,h=I.curveTo(p,g,m,Z,H,t);if(h){const{cx:p,cy:g,radius:m,startAngle:Z,endAngle:H,anticlockwise:t}=h;this.arc(p,g,m,Z,H,t)}return this}arc(p,g,m,H,t,h=!1){if(H===t)return this;if(!h&&t<=H?t+=Z.TO:h&&H<=t&&(H+=Z.TO),t-H==0)return this;const k=p+Math.cos(H)*m,n=g+Math.sin(H)*m,S=this._geometry.closePointEps;let q=this.currentPath?this.currentPath.points:null;if(q){const p=Math.abs(q[q.length-2]-k),g=Math.abs(q[q.length-1]-n);p<S&&g<S||q.push(k,n)}else this.moveTo(k,n),q=this.currentPath.points;return I.arc(k,n,p,g,m,H,t,h,q),this}beginFill(p=0,g){return this.beginTextureFill({texture:Z.gP.WHITE,color:p,alpha:g})}normalizeColor(p){var g,m;const H=Z.Q1.shared.setValue(null!==(g=p.color)&&void 0!==g?g:0);p.color=H.toNumber(),null!==(m=p.alpha)&&void 0!==m||(p.alpha=H.alpha)}beginTextureFill(p){const g={texture:Z.gP.WHITE,color:16777215,matrix:null};p=Object.assign(g,p),this.normalizeColor(p),this.currentPath&&this.startPoly();const m=p.alpha>0;return m?(p.matrix&&(p.matrix=p.matrix.clone(),p.matrix.invert()),Object.assign(this._fillStyle,{visible:m},p)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(p,g,m,H){return this.drawShape(new Z.M_(p,g,m,H))}drawRoundedRect(p,g,m,H,t){return this.drawShape(new Z.TE(p,g,m,H,t))}drawCircle(p,g,m){return this.drawShape(new Z.jl(p,g,m))}drawEllipse(p,g,m,H){return this.drawShape(new Z.Pp(p,g,m,H))}drawPolygon(...p){let g,m=!0;const H=p[0];H.points?(m=H.closeStroke,g=H.points):g=Array.isArray(p[0])?p[0]:p;const t=new Z.tS(g);return t.closeStroke=m,this.drawShape(t),this}drawShape(p){return this._holeMode?this._geometry.drawHole(p,this._matrix):this._geometry.drawShape(p,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const p=this._geometry.graphicsData;return!(1!==p.length||p[0].shape.type!==Z.HY.RECT||p[0].matrix||p[0].holes.length||p[0].lineStyle.visible&&p[0].lineStyle.width)}_render(p){this.finishPoly();const g=this._geometry;g.updateBatches(),g.batchable?(this.batchDirty!==g.batchDirty&&this._populateBatches(),this._renderBatched(p)):(p.batch.flush(),this._renderDirect(p))}_populateBatches(){const p=this._geometry,g=this.blendMode,m=p.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=p.batchDirty,this.batches.length=m,this.vertexData=new Float32Array(p.points);for(let H=0;H<m;H++){const m=p.batches[H],t=m.style.color,h=new Float32Array(this.vertexData.buffer,4*m.attribStart*2,2*m.attribSize),k=new Float32Array(p.uvsFloat32.buffer,4*m.attribStart*2,2*m.attribSize),n={vertexData:h,blendMode:g,indices:new Uint16Array(p.indicesUint16.buffer,2*m.start,m.size),uvs:k,_batchRGB:Z.Q1.shared.setValue(t).toRgbArray(),_tintRGB:t,_texture:m.style.texture,alpha:m.style.alpha,worldAlpha:1};this.batches[H]=n}}_renderBatched(p){if(this.batches.length){p.batch.setObjectRenderer(p.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let g=0,m=this.batches.length;g<m;g++){const m=this.batches[g];m.worldAlpha=this.worldAlpha*m.alpha,p.plugins[this.pluginName].render(m)}}}_renderDirect(p){const g=this._resolveDirectShader(p),m=this._geometry,H=this.worldAlpha,t=g.uniforms,h=m.drawCalls;t.translationMatrix=this.transform.worldTransform,Z.Q1.shared.setValue(this._tintColor).premultiply(H).toArray(t.tint),p.shader.bind(g),p.geometry.bind(m,g),p.state.set(this.state);for(let g=0,Z=h.length;g<Z;g++)this._renderDrawCallDirect(p,m.drawCalls[g])}_renderDrawCallDirect(p,g){const{texArray:m,type:Z,size:H,start:t}=g,h=m.count;for(let g=0;g<h;g++)p.texture.bind(m.elements[g],g);p.geometry.draw(Z,H,t)}_resolveDirectShader(p){let g=this.shader;const m=this.pluginName;if(!g){if(!B[m]){const{maxTextures:g}=p.plugins[m],H=new Int32Array(g);for(let p=0;p<g;p++)H[p]=p;const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Z.uq,default:Z.k2.from({uSamplers:H},!0)},h=p.plugins[m]._shader.program;B[m]=new Z.Mt(h,t)}g=B[m]}return g}_calculateBounds(){this.finishPoly();const p=this._geometry;if(!p.graphicsData.length)return;const{minX:g,minY:m,maxX:Z,maxY:H}=p.bounds;this._bounds.addFrame(this.transform,g,m,Z,H)}containsPoint(g){return this.worldTransform.applyInverse(g,p._TEMP_POINT),this._geometry.containsPoint(p._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let p=0;p<this.batches.length;p++){const g=this.batches[p];g._tintRGB=Z.Q1.shared.setValue(this._tintColor).multiply(g._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const p=this.transform._worldID;if(this._transformID===p)return;this._transformID=p;const g=this.transform.worldTransform,m=g.a,Z=g.b,H=g.c,t=g.d,h=g.tx,k=g.ty,n=this._geometry.points,S=this.vertexData;let q=0;for(let p=0;p<n.length;p+=2){const g=n[p],D=n[p+1];S[q++]=m*g+H*D+h,S[q++]=t*D+Z*g+k}}closePath(){const p=this.currentPath;return p&&(p.closeStroke=!0,this.finishPoly()),this}setMatrix(p){return this._matrix=p,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(p){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(p)}};u.curves=D,u._TEMP_POINT=new Z.bR;let a=u},514842:(p,g,m)=>{m.d(g,{jl:()=>q,Td:()=>t,Pp:()=>D,uq:()=>e,oA:()=>J,TO:()=>Z,bR:()=>k,tS:()=>I,bO:()=>H,M_:()=>S,TE:()=>b,HY:()=>h,dL:()=>W,ER:()=>P});const Z=2*Math.PI,H=180/Math.PI,t=Math.PI/180;var h=(p=>(p[p.POLY=0]="POLY",p[p.RECT=1]="RECT",p[p.CIRC=2]="CIRC",p[p.ELIP=3]="ELIP",p[p.RREC=4]="RREC",p))(h||{});class k{constructor(p=0,g=0){this.x=0,this.y=0,this.x=p,this.y=g}clone(){return new k(this.x,this.y)}copyFrom(p){return this.set(p.x,p.y),this}copyTo(p){return p.set(this.x,this.y),p}equals(p){return p.x===this.x&&p.y===this.y}set(p=0,g=p){return this.x=p,this.y=g,this}}k.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const n=[new k,new k,new k,new k];class S{constructor(p=0,g=0,m=0,Z=0){this.x=Number(p),this.y=Number(g),this.width=Number(m),this.height=Number(Z),this.type=h.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new S(0,0,0,0)}clone(){return new S(this.x,this.y,this.width,this.height)}copyFrom(p){return this.x=p.x,this.y=p.y,this.width=p.width,this.height=p.height,this}copyTo(p){return p.x=this.x,p.y=this.y,p.width=this.width,p.height=this.height,p}contains(p,g){return!(this.width<=0||this.height<=0)&&p>=this.x&&p<this.x+this.width&&g>=this.y&&g<this.y+this.height}intersects(p,g){if(!g){const g=this.x<p.x?p.x:this.x;if((this.right>p.right?p.right:this.right)<=g)return!1;const m=this.y<p.y?p.y:this.y;return(this.bottom>p.bottom?p.bottom:this.bottom)>m}const m=this.left,Z=this.right,H=this.top,t=this.bottom;if(Z<=m||t<=H)return!1;const h=n[0].set(p.left,p.top),k=n[1].set(p.left,p.bottom),S=n[2].set(p.right,p.top),q=n[3].set(p.right,p.bottom);if(S.x<=h.x||k.y<=h.y)return!1;const D=Math.sign(g.a*g.d-g.b*g.c);if(0===D||(g.apply(h,h),g.apply(k,k),g.apply(S,S),g.apply(q,q),Math.max(h.x,k.x,S.x,q.x)<=m||Math.min(h.x,k.x,S.x,q.x)>=Z||Math.max(h.y,k.y,S.y,q.y)<=H||Math.min(h.y,k.y,S.y,q.y)>=t))return!1;const I=D*(k.y-h.y),b=D*(h.x-k.x),e=I*m+b*H,N=I*Z+b*H,d=I*m+b*t,Q=I*Z+b*t;if(Math.max(e,N,d,Q)<=I*h.x+b*h.y||Math.min(e,N,d,Q)>=I*q.x+b*q.y)return!1;const $=D*(h.y-S.y),w=D*(S.x-h.x),Y=$*m+w*H,i=$*Z+w*H,P=$*m+w*t,J=$*Z+w*t;return!(Math.max(Y,i,P,J)<=$*h.x+w*h.y||Math.min(Y,i,P,J)>=$*q.x+w*q.y)}pad(p=0,g=p){return this.x-=p,this.y-=g,this.width+=2*p,this.height+=2*g,this}fit(p){const g=Math.max(this.x,p.x),m=Math.min(this.x+this.width,p.x+p.width),Z=Math.max(this.y,p.y),H=Math.min(this.y+this.height,p.y+p.height);return this.x=g,this.width=Math.max(m-g,0),this.y=Z,this.height=Math.max(H-Z,0),this}ceil(p=1,g=.001){const m=Math.ceil((this.x+this.width-g)*p)/p,Z=Math.ceil((this.y+this.height-g)*p)/p;return this.x=Math.floor((this.x+g)*p)/p,this.y=Math.floor((this.y+g)*p)/p,this.width=m-this.x,this.height=Z-this.y,this}enlarge(p){const g=Math.min(this.x,p.x),m=Math.max(this.x+this.width,p.x+p.width),Z=Math.min(this.y,p.y),H=Math.max(this.y+this.height,p.y+p.height);return this.x=g,this.width=m-g,this.y=Z,this.height=H-Z,this}}S.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class q{constructor(p=0,g=0,m=0){this.x=p,this.y=g,this.radius=m,this.type=h.CIRC}clone(){return new q(this.x,this.y,this.radius)}contains(p,g){if(this.radius<=0)return!1;const m=this.radius*this.radius;let Z=this.x-p,H=this.y-g;return Z*=Z,H*=H,Z+H<=m}getBounds(){return new S(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}q.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class D{constructor(p=0,g=0,m=0,Z=0){this.x=p,this.y=g,this.width=m,this.height=Z,this.type=h.ELIP}clone(){return new D(this.x,this.y,this.width,this.height)}contains(p,g){if(this.width<=0||this.height<=0)return!1;let m=(p-this.x)/this.width,Z=(g-this.y)/this.height;return m*=m,Z*=Z,m+Z<=1}getBounds(){return new S(this.x-this.width,this.y-this.height,this.width,this.height)}}D.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class I{constructor(...p){let g=Array.isArray(p[0])?p[0]:p;if("number"!=typeof g[0]){const p=[];for(let m=0,Z=g.length;m<Z;m++)p.push(g[m].x,g[m].y);g=p}this.points=g,this.type=h.POLY,this.closeStroke=!0}clone(){const p=this.points.slice(),g=new I(p);return g.closeStroke=this.closeStroke,g}contains(p,g){let m=!1;const Z=this.points.length/2;for(let H=0,t=Z-1;H<Z;t=H++){const Z=this.points[2*H],h=this.points[2*H+1],k=this.points[2*t],n=this.points[2*t+1];h>g!=n>g&&p<(k-Z)*((g-h)/(n-h))+Z&&(m=!m)}return m}}I.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce(((p,g)=>`${p}, ${g}`),"")}]`};class b{constructor(p=0,g=0,m=0,Z=0,H=20){this.x=p,this.y=g,this.width=m,this.height=Z,this.radius=H,this.type=h.RREC}clone(){return new b(this.x,this.y,this.width,this.height,this.radius)}contains(p,g){if(this.width<=0||this.height<=0)return!1;if(p>=this.x&&p<=this.x+this.width&&g>=this.y&&g<=this.y+this.height){const m=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(g>=this.y+m&&g<=this.y+this.height-m||p>=this.x+m&&p<=this.x+this.width-m)return!0;let Z=p-(this.x+m),H=g-(this.y+m);const t=m*m;if(Z*Z+H*H<=t||(Z=p-(this.x+this.width-m),Z*Z+H*H<=t)||(H=g-(this.y+this.height-m),Z*Z+H*H<=t)||(Z=p-(this.x+m),Z*Z+H*H<=t))return!0}return!1}}b.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class e{constructor(p=1,g=0,m=0,Z=1,H=0,t=0){this.array=null,this.a=p,this.b=g,this.c=m,this.d=Z,this.tx=H,this.ty=t}fromArray(p){this.a=p[0],this.b=p[1],this.c=p[3],this.d=p[4],this.tx=p[2],this.ty=p[5]}set(p,g,m,Z,H,t){return this.a=p,this.b=g,this.c=m,this.d=Z,this.tx=H,this.ty=t,this}toArray(p,g){this.array||(this.array=new Float32Array(9));const m=g||this.array;return p?(m[0]=this.a,m[1]=this.b,m[2]=0,m[3]=this.c,m[4]=this.d,m[5]=0,m[6]=this.tx,m[7]=this.ty,m[8]=1):(m[0]=this.a,m[1]=this.c,m[2]=this.tx,m[3]=this.b,m[4]=this.d,m[5]=this.ty,m[6]=0,m[7]=0,m[8]=1),m}apply(p,g){g=g||new k;const m=p.x,Z=p.y;return g.x=this.a*m+this.c*Z+this.tx,g.y=this.b*m+this.d*Z+this.ty,g}applyInverse(p,g){g=g||new k;const m=1/(this.a*this.d+this.c*-this.b),Z=p.x,H=p.y;return g.x=this.d*m*Z+-this.c*m*H+(this.ty*this.c-this.tx*this.d)*m,g.y=this.a*m*H+-this.b*m*Z+(-this.ty*this.a+this.tx*this.b)*m,g}translate(p,g){return this.tx+=p,this.ty+=g,this}scale(p,g){return this.a*=p,this.d*=g,this.c*=p,this.b*=g,this.tx*=p,this.ty*=g,this}rotate(p){const g=Math.cos(p),m=Math.sin(p),Z=this.a,H=this.c,t=this.tx;return this.a=Z*g-this.b*m,this.b=Z*m+this.b*g,this.c=H*g-this.d*m,this.d=H*m+this.d*g,this.tx=t*g-this.ty*m,this.ty=t*m+this.ty*g,this}append(p){const g=this.a,m=this.b,Z=this.c,H=this.d;return this.a=p.a*g+p.b*Z,this.b=p.a*m+p.b*H,this.c=p.c*g+p.d*Z,this.d=p.c*m+p.d*H,this.tx=p.tx*g+p.ty*Z+this.tx,this.ty=p.tx*m+p.ty*H+this.ty,this}setTransform(p,g,m,Z,H,t,h,k,n){return this.a=Math.cos(h+n)*H,this.b=Math.sin(h+n)*H,this.c=-Math.sin(h-k)*t,this.d=Math.cos(h-k)*t,this.tx=p-(m*this.a+Z*this.c),this.ty=g-(m*this.b+Z*this.d),this}prepend(p){const g=this.tx;if(1!==p.a||0!==p.b||0!==p.c||1!==p.d){const g=this.a,m=this.c;this.a=g*p.a+this.b*p.c,this.b=g*p.b+this.b*p.d,this.c=m*p.a+this.d*p.c,this.d=m*p.b+this.d*p.d}return this.tx=g*p.a+this.ty*p.c+p.tx,this.ty=g*p.b+this.ty*p.d+p.ty,this}decompose(p){const g=this.a,m=this.b,H=this.c,t=this.d,h=p.pivot,k=-Math.atan2(-H,t),n=Math.atan2(m,g),S=Math.abs(k+n);return S<1e-5||Math.abs(Z-S)<1e-5?(p.rotation=n,p.skew.x=p.skew.y=0):(p.rotation=0,p.skew.x=k,p.skew.y=n),p.scale.x=Math.sqrt(g*g+m*m),p.scale.y=Math.sqrt(H*H+t*t),p.position.x=this.tx+(h.x*g+h.y*H),p.position.y=this.ty+(h.x*m+h.y*t),p}invert(){const p=this.a,g=this.b,m=this.c,Z=this.d,H=this.tx,t=p*Z-g*m;return this.a=Z/t,this.b=-g/t,this.c=-m/t,this.d=p/t,this.tx=(m*this.ty-Z*H)/t,this.ty=-(p*this.ty-g*H)/t,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const p=new e;return p.a=this.a,p.b=this.b,p.c=this.c,p.d=this.d,p.tx=this.tx,p.ty=this.ty,p}copyTo(p){return p.a=this.a,p.b=this.b,p.c=this.c,p.d=this.d,p.tx=this.tx,p.ty=this.ty,p}copyFrom(p){return this.a=p.a,this.b=p.b,this.c=p.c,this.d=p.d,this.tx=p.tx,this.ty=p.ty,this}static get IDENTITY(){return new e}static get TEMP_MATRIX(){return new e}}e.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const N=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Q=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],$=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],w=[],Y=[],i=Math.sign;(function(){for(let p=0;p<16;p++){const g=[];w.push(g);for(let m=0;m<16;m++){const Z=i(N[p]*N[m]+Q[p]*d[m]),H=i(d[p]*N[m]+$[p]*d[m]),t=i(N[p]*Q[m]+Q[p]*$[m]),h=i(d[p]*Q[m]+$[p]*$[m]);for(let p=0;p<16;p++)if(N[p]===Z&&d[p]===H&&Q[p]===t&&$[p]===h){g.push(p);break}}}for(let p=0;p<16;p++){const g=new e;g.set(N[p],d[p],Q[p],$[p],0,0),Y.push(g)}})();const P={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:p=>N[p],uY:p=>d[p],vX:p=>Q[p],vY:p=>$[p],inv:p=>8&p?15&p:7&-p,add:(p,g)=>w[p][g],sub:(p,g)=>w[p][P.inv(g)],rotate180:p=>4^p,isVertical:p=>2==(3&p),byDirection:(p,g)=>2*Math.abs(p)<=Math.abs(g)?g>=0?P.S:P.N:2*Math.abs(g)<=Math.abs(p)?p>0?P.E:P.W:g>0?p>0?P.SE:P.SW:p>0?P.NE:P.NW,matrixAppendRotationInv:(p,g,m=0,Z=0)=>{const H=Y[P.inv(g)];H.tx=m,H.ty=Z,p.append(H)}};class J{constructor(p,g,m=0,Z=0){this._x=m,this._y=Z,this.cb=p,this.scope=g}clone(p=this.cb,g=this.scope){return new J(p,g,this._x,this._y)}set(p=0,g=p){return(this._x!==p||this._y!==g)&&(this._x=p,this._y=g,this.cb.call(this.scope)),this}copyFrom(p){return(this._x!==p.x||this._y!==p.y)&&(this._x=p.x,this._y=p.y,this.cb.call(this.scope)),this}copyTo(p){return p.set(this._x,this._y),p}equals(p){return p.x===this._x&&p.y===this._y}get x(){return this._x}set x(p){this._x!==p&&(this._x=p,this.cb.call(this.scope))}get y(){return this._y}set y(p){this._y!==p&&(this._y=p,this.cb.call(this.scope))}}J.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const y=class{constructor(){this.worldTransform=new e,this.localTransform=new e,this.position=new J(this.onChange,this,0,0),this.scale=new J(this.onChange,this,1,1),this.pivot=new J(this.onChange,this,0,0),this.skew=new J(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const p=this.localTransform;this._localID!==this._currentLocalID&&(p.a=this._cx*this.scale.x,p.b=this._sx*this.scale.x,p.c=this._cy*this.scale.y,p.d=this._sy*this.scale.y,p.tx=this.position.x-(this.pivot.x*p.a+this.pivot.y*p.c),p.ty=this.position.y-(this.pivot.x*p.b+this.pivot.y*p.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(p){const g=this.localTransform;if(this._localID!==this._currentLocalID&&(g.a=this._cx*this.scale.x,g.b=this._sx*this.scale.x,g.c=this._cy*this.scale.y,g.d=this._sy*this.scale.y,g.tx=this.position.x-(this.pivot.x*g.a+this.pivot.y*g.c),g.ty=this.position.y-(this.pivot.x*g.b+this.pivot.y*g.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==p._worldID){const m=p.worldTransform,Z=this.worldTransform;Z.a=g.a*m.a+g.b*m.c,Z.b=g.a*m.b+g.b*m.d,Z.c=g.c*m.a+g.d*m.c,Z.d=g.c*m.b+g.d*m.d,Z.tx=g.tx*m.a+g.ty*m.c+m.tx,Z.ty=g.tx*m.b+g.ty*m.d+m.ty,this._parentID=p._worldID,this._worldID++}}setFromMatrix(p){p.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(p){this._rotation!==p&&(this._rotation=p,this.updateSkew())}};y.IDENTITY=new y;let W=y;W.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}},209218:(p,g,m)=>{m.d(g,{g:()=>t});var Z=m(401947);Z.u,Z.u;var H=m(316197);Z.e;class t extends Z.e{constructor(p=H.gP.EMPTY,g,m,t,h){const k=new Z.u(g,m,t);k.getBuffer("aVertexPosition").static=!1,super(k,new Z.PX(p),null,h),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(p){this.geometry.getBuffer("aVertexPosition").data=p}_render(p){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(p)}}Z.e},401947:(p,g,m)=>{m.d(g,{e:()=>S,u:()=>q,PX:()=>b});var Z=m(316197),H=m(110715);class t{constructor(p,g){this.uvBuffer=p,this.uvMatrix=g,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(p){if(!p&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const g=this.uvBuffer.data;(!this.data||this.data.length!==g.length)&&(this.data=new Float32Array(g.length)),this.uvMatrix.multiplyUvs(g,this.data),this._updateID++}}const h=new Z.bR,k=new Z.tS,n=class p extends H.mc{constructor(p,g,m,H=Z._4.TRIANGLES){super(),this.geometry=p,this.shader=g,this.state=m||Z.Uw.for2d(),this.drawMode=H,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Z.W0.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(p){this._geometry!==p&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=p,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(p){this.shader=p}get material(){return this.shader}set blendMode(p){this.state.blendMode=p}get blendMode(){return this.state.blendMode}set roundPixels(p){this._roundPixels!==p&&(this._transformID=-1),this._roundPixels=p}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(p){this.shader.tint=p}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(p){this.shader.texture=p}_render(g){const m=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Z._4.TRIANGLES&&m.length<2*p.BATCHABLE_SIZE?this._renderToBatch(g):this._renderDefault(g)}_renderDefault(p){const g=this.shader;g.alpha=this.worldAlpha,g.update&&g.update(),p.batch.flush(),g.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),p.shader.bind(g),p.state.set(this.state),p.geometry.bind(this.geometry,g),p.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(p){const g=this.geometry,m=this.shader;m.uvMatrix&&(m.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=g.indexBuffer.data,this._tintRGB=m._tintRGB,this._texture=m.texture;const Z=this.material.pluginName;p.batch.setObjectRenderer(p.plugins[Z]),p.plugins[Z].render(this)}calculateVertices(){const p=this.geometry.buffers[0],g=p.data,m=p._updateID;if(m===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==g.length&&(this.vertexData=new Float32Array(g.length));const H=this.transform.worldTransform,t=H.a,h=H.b,k=H.c,n=H.d,S=H.tx,q=H.ty,D=this.vertexData;for(let p=0;p<D.length/2;p++){const m=g[2*p],Z=g[2*p+1];D[2*p]=t*m+k*Z+S,D[2*p+1]=h*m+n*Z+q}if(this._roundPixels){const p=Z.W0.RESOLUTION;for(let g=0;g<D.length;++g)D[g]=Math.round(D[g]*p)/p}this.vertexDirty=m}calculateUvs(){const p=this.geometry.buffers[1],g=this.shader;g.uvMatrix.isSimple?this.uvs=p.data:(this.batchUvs||(this.batchUvs=new t(p,g.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(p){if(!this.getBounds().contains(p.x,p.y))return!1;this.worldTransform.applyInverse(p,h);const g=this.geometry.getBuffer("aVertexPosition").data,m=k.points,Z=this.geometry.getIndex().data,H=Z.length,t=4===this.drawMode?3:1;for(let p=0;p+2<H;p+=t){const H=2*Z[p],t=2*Z[p+1],n=2*Z[p+2];if(m[0]=g[H],m[1]=g[H+1],m[2]=g[t],m[3]=g[t+1],m[4]=g[n],m[5]=g[n+1],k.contains(h.x,h.y))return!0}return!1}destroy(p){super.destroy(p),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};n.BATCHABLE_SIZE=100;let S=n;class q extends Z.V2{constructor(p,g,m){super();const H=new Z.hp(p),t=new Z.hp(g,!0),h=new Z.hp(m,!0,!0);this.addAttribute("aVertexPosition",H,2,!1,Z.QE.FLOAT).addAttribute("aTextureCoord",t,2,!1,Z.QE.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var D=`varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n`,I=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n`;class b extends Z.Mt{constructor(p,g){const m={uSampler:p,alpha:1,uTextureMatrix:Z.uq.IDENTITY,uColor:new Float32Array([1,1,1,1])};(g=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},g)).uniforms&&Object.assign(m,g.uniforms),super(g.program||Z.BP.from(I,D),m),this._colorDirty=!1,this.uvMatrix=new Z.NW(p),this.batchable=void 0===g.program,this.pluginName=g.pluginName,this._tintColor=new Z.Q1(g.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=g.alpha}get texture(){return this.uniforms.uSampler}set texture(p){this.uniforms.uSampler!==p&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!p.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=p,this.uvMatrix.texture=p)}set alpha(p){p!==this._alpha&&(this._alpha=p,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(p){p!==this.tint&&(this._tintColor.setValue(p),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const p=this.texture.baseTexture.alphaMode;Z.Q1.shared.setValue(this._tintColor).premultiply(this._alpha,p).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}},344944:(p,g,m)=>{var Z=m(316197),H=m(110715),t=m(722711);class h{constructor(p){this.maxItemsPerFrame=p,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function k(p,g){var m;let H=!1;if(null===(m=null==p?void 0:p._textures)||void 0===m?void 0:m.length)for(let m=0;m<p._textures.length;m++)if(p._textures[m]instanceof Z.gP){const Z=p._textures[m].baseTexture;g.includes(Z)||(g.push(Z),H=!0)}return H}function n(p,g){if(p.baseTexture instanceof Z.t5){const m=p.baseTexture;return g.includes(m)||g.push(m),!0}return!1}function S(p,g){if(p._texture&&p._texture instanceof Z.gP){const m=p._texture.baseTexture;return g.includes(m)||g.push(m),!0}return!1}function q(p,g){return g instanceof t.EY&&(g.updateText(!0),!0)}function D(p,g){if(g instanceof t.xJ){const p=g.toFontString();return t.Z1.measureFont(p),!0}return!1}function I(p,g){if(p instanceof t.EY){g.includes(p.style)||g.push(p.style),g.includes(p)||g.push(p);const m=p._texture.baseTexture;return g.includes(m)||g.push(m),!0}return!1}function b(p,g){return p instanceof t.xJ&&(g.includes(p)||g.push(p),!0)}const e=class p{constructor(g){this.limiter=new h(p.uploadsPerFrame),this.renderer=g,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(I),this.registerFindHook(b),this.registerFindHook(k),this.registerFindHook(n),this.registerFindHook(S),this.registerUploadHook(q),this.registerUploadHook(D)}upload(p){return new Promise((g=>{p&&this.add(p),this.queue.length?(this.completes.push(g),this.ticking||(this.ticking=!0,Z.Rv.system.addOnce(this.tick,this,Z.dQ.UTILITY))):g()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const p=this.queue[0];let g=!1;if(p&&!p._destroyed)for(let m=0,Z=this.uploadHooks.length;m<Z;m++)if(this.uploadHooks[m](this.uploadHookHelper,p)){this.queue.shift(),g=!0;break}g||this.queue.shift()}if(this.queue.length)Z.Rv.system.addOnce(this.tick,this,Z.dQ.UTILITY);else{this.ticking=!1;const p=this.completes.slice(0);this.completes.length=0;for(let g=0,m=p.length;g<m;g++)p[g]()}}registerFindHook(p){return p&&this.addHooks.push(p),this}registerUploadHook(p){return p&&this.uploadHooks.push(p),this}add(p){for(let g=0,m=this.addHooks.length;g<m&&!this.addHooks[g](p,this.queue);g++);if(p instanceof H.mc)for(let g=p.children.length-1;g>=0;g--)this.add(p.children[g]);return this}destroy(){this.ticking&&Z.Rv.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};e.uploadsPerFrame=4;let N=e;Object.defineProperties(Z.W0,{UPLOADS_PER_FRAME:{get:()=>N.uploadsPerFrame,set(p){Z.Wp.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),N.uploadsPerFrame=p}}});var d=m(366628);function Q(p,g){return g instanceof Z.t5&&(g._glTextures[p.CONTEXT_UID]||p.texture.bind(g),!0)}function $(p,g){if(!(g instanceof d.A1))return!1;const{geometry:m}=g;g.finishPoly(),m.updateBatches();const{batches:Z}=m;for(let g=0;g<Z.length;g++){const{texture:m}=Z[g].style;m&&Q(p,m.baseTexture)}return m.batchable||p.geometry.bind(m,g._resolveDirectShader(p)),!0}function w(p,g){return p instanceof d.A1&&(g.push(p),!0)}class Y extends N{constructor(p){super(p),this.uploadHookHelper=this.renderer,this.registerFindHook(w),this.registerUploadHook(Q),this.registerUploadHook($)}}Y.extension={name:"prepare",type:Z.Ag.RendererSystem},Z.XO.add(Y)},968381:(p,g,m)=>{m.d(g,{Fr:()=>J,W0:()=>H});const Z={createCanvas:(p,g)=>{const m=document.createElement("canvas");return m.width=p,m.height=g,m},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var p;return null!==(p=document.baseURI)&&void 0!==p?p:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(p,g)=>fetch(p,g),parseXML:p=>(new DOMParser).parseFromString(p,"text/xml")},H={ADAPTER:Z,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var t,h=/iPhone/i,k=/iPod/i,n=/iPad/i,S=/\biOS-universal(?:.+)Mac\b/i,q=/\bAndroid(?:.+)Mobile\b/i,D=/Android/i,I=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,b=/Silk/i,e=/Windows Phone/i,N=/\bWindows(?:.+)ARM\b/i,d=/BlackBerry/i,Q=/BB10/i,$=/Opera Mini/i,w=/\b(CriOS|Chrome)(?:.+)Mobile/i,Y=/Mobile(?:.+)Firefox\b/i,i=function(p){return void 0!==p&&"MacIntel"===p.platform&&"number"==typeof p.maxTouchPoints&&p.maxTouchPoints>1&&"undefined"==typeof MSStream};function P(p){var g={userAgent:"",platform:"",maxTouchPoints:0};p||"undefined"==typeof navigator?"string"==typeof p?g.userAgent=p:p&&p.userAgent&&(g={userAgent:p.userAgent,platform:p.platform,maxTouchPoints:p.maxTouchPoints||0}):g={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var m=g.userAgent,Z=m.split("[FBAN");void 0!==Z[1]&&(m=Z[0]),void 0!==(Z=m.split("Twitter"))[1]&&(m=Z[0]);var H=function(p){return function(g){return g.test(p)}}(m),t={apple:{phone:H(h)&&!H(e),ipod:H(k),tablet:!H(h)&&(H(n)||i(g))&&!H(e),universal:H(S),device:(H(h)||H(k)||H(n)||H(S)||i(g))&&!H(e)},amazon:{phone:H(I),tablet:!H(I)&&H(b),device:H(I)||H(b)},android:{phone:!H(e)&&H(I)||!H(e)&&H(q),tablet:!H(e)&&!H(I)&&!H(q)&&(H(b)||H(D)),device:!H(e)&&(H(I)||H(b)||H(q)||H(D))||H(/\bokhttp\b/i)},windows:{phone:H(e),tablet:H(N),device:H(e)||H(N)},other:{blackberry:H(d),blackberry10:H(Q),opera:H($),firefox:H(Y),chrome:H(w),device:H(d)||H(Q)||H($)||H(Y)||H(w)},any:!1,phone:!1,tablet:!1};return t.any=t.apple.device||t.android.device||t.windows.device||t.other.device,t.phone=t.apple.phone||t.android.phone||t.windows.phone,t.tablet=t.apple.tablet||t.android.tablet||t.windows.tablet,t}const J=(null!==(t=P["default"])&&void 0!==t?t:P)(globalThis.navigator)},672076:(p,g,m)=>{m.d(g,{k:()=>k});var Z=m(316197),H=m(110715);const t=new Z.bR,h=new Uint16Array([0,1,2,0,2,3]);class k extends H.mc{constructor(p){super(),this._anchor=new Z.oA(this._onAnchorUpdate,this,p?p.defaultAnchor.x:0,p?p.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Z.Q1(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Z.B9.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=p||Z.gP.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=h,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Z.W0.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Z.Wp.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Z.Wp.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const p=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===p._updateID)return;this._textureID!==p._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=p._updateID;const g=this.transform.worldTransform,m=g.a,H=g.b,t=g.c,h=g.d,k=g.tx,n=g.ty,S=this.vertexData,q=p.trim,D=p.orig,I=this._anchor;let b=0,e=0,N=0,d=0;if(q?(e=q.x-I._x*D.width,b=e+q.width,d=q.y-I._y*D.height,N=d+q.height):(e=-I._x*D.width,b=e+D.width,d=-I._y*D.height,N=d+D.height),S[0]=m*e+t*d+k,S[1]=h*d+H*e+n,S[2]=m*b+t*d+k,S[3]=h*d+H*b+n,S[4]=m*b+t*N+k,S[5]=h*N+H*b+n,S[6]=m*e+t*N+k,S[7]=h*N+H*e+n,this._roundPixels){const p=Z.W0.RESOLUTION;for(let g=0;g<S.length;++g)S[g]=Math.round(S[g]*p)/p}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const p=this._texture,g=this.vertexTrimmedData,m=p.orig,H=this._anchor,t=this.transform.worldTransform,h=t.a,k=t.b,n=t.c,S=t.d,q=t.tx,D=t.ty,I=-H._x*m.width,b=I+m.width,e=-H._y*m.height,N=e+m.height;if(g[0]=h*I+n*e+q,g[1]=S*e+k*I+D,g[2]=h*b+n*e+q,g[3]=S*e+k*b+D,g[4]=h*b+n*N+q,g[5]=S*N+k*b+D,g[6]=h*I+n*N+q,g[7]=S*N+k*I+D,this._roundPixels){const p=Z.W0.RESOLUTION;for(let m=0;m<g.length;++m)g[m]=Math.round(g[m]*p)/p}}_render(p){this.calculateVertices(),p.batch.setObjectRenderer(p.plugins[this.pluginName]),p.plugins[this.pluginName].render(this)}_calculateBounds(){const p=this._texture.trim,g=this._texture.orig;!p||p.width===g.width&&p.height===g.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(p){return 0===this.children.length?(this._localBounds||(this._localBounds=new H.cz),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),p||(this._localBoundsRect||(this._localBoundsRect=new Z.M_),p=this._localBoundsRect),this._localBounds.getRectangle(p)):super.getLocalBounds.call(this,p)}containsPoint(p){this.worldTransform.applyInverse(p,t);const g=this._texture.orig.width,m=this._texture.orig.height,Z=-g*this.anchor.x;let H=0;return t.x>=Z&&t.x<Z+g&&(H=-m*this.anchor.y,t.y>=H&&t.y<H+m)}destroy(p){if(super.destroy(p),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof p?p:null==p?void 0:p.texture){const g="boolean"==typeof p?p:null==p?void 0:p.baseTexture;this._texture.destroy(!!g)}this._texture=null}static from(p,g){const m=p instanceof Z.gP?p:Z.gP.from(p,g);return new k(m)}set roundPixels(p){this._roundPixels!==p&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=p}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(p){const g=Z.Wp.sign(this.scale.x)||1;this.scale.x=g*p/this._texture.orig.width,this._width=p}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(p){const g=Z.Wp.sign(this.scale.y)||1;this.scale.y=g*p/this._texture.orig.height,this._height=p}get anchor(){return this._anchor}set anchor(p){this._anchor.copyFrom(p)}get tint(){return this._tintColor.value}set tint(p){this._tintColor.setValue(p),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(p){this._texture!==p&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=p||Z.gP.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,p&&(p.baseTexture.valid?this._onTextureUpdate():p.once("update",this._onTextureUpdate,this)))}}},722711:(p,g,m)=>{m.d(g,{T:()=>Z,EY:()=>d,Z1:()=>n,xJ:()=>D});var Z=(p=>(p[p.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",p[p.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",p))(Z||{}),H=m(316197),t=m(672076);const h={willReadFrequently:!0},k=class p{static get experimentalLetterSpacingSupported(){let g=p._experimentalLetterSpacingSupported;if(void 0!==g){const m=H.W0.ADAPTER.getCanvasRenderingContext2D().prototype;g=p._experimentalLetterSpacingSupported="letterSpacing"in m||"textLetterSpacing"in m}return g}constructor(p,g,m,Z,H,t,h,k,n){this.text=p,this.style=g,this.width=m,this.height=Z,this.lines=H,this.lineWidths=t,this.lineHeight=h,this.maxLineWidth=k,this.fontProperties=n}static measureText(g,m,Z,H=p._canvas){Z=null!=Z?Z:m.wordWrap;const t=m.toFontString(),k=p.measureFont(t);0===k.fontSize&&(k.fontSize=m.fontSize,k.ascent=m.fontSize);const n=H.getContext("2d",h);n.font=t;const S=(Z?p.wordWrap(g,m,H):g).split(/(?:\r\n|\r|\n)/),q=new Array(S.length);let D=0;for(let g=0;g<S.length;g++){const Z=p._measureText(S[g],m.letterSpacing,n);q[g]=Z,D=Math.max(D,Z)}let I=D+m.strokeThickness;m.dropShadow&&(I+=m.dropShadowDistance);const b=m.lineHeight||k.fontSize+m.strokeThickness;let e=Math.max(b,k.fontSize+2*m.strokeThickness)+m.leading+(S.length-1)*(b+m.leading);return m.dropShadow&&(e+=m.dropShadowDistance),new p(g,m,I,e,S,q,b+m.leading,D,k)}static _measureText(g,m,Z){let H=!1;p.experimentalLetterSpacingSupported&&(p.experimentalLetterSpacing?(Z.letterSpacing=`${m}px`,Z.textLetterSpacing=`${m}px`,H=!0):(Z.letterSpacing="0px",Z.textLetterSpacing="0px"));let t=Z.measureText(g).width;return t>0&&(H?t-=m:t+=(p.graphemeSegmenter(g).length-1)*m),t}static wordWrap(g,m,Z=p._canvas){const H=Z.getContext("2d",h);let t=0,k="",n="";const S=Object.create(null),{letterSpacing:q,whiteSpace:D}=m,I=p.collapseSpaces(D),b=p.collapseNewlines(D);let e=!I;const N=m.wordWrapWidth+q,d=p.tokenize(g);for(let g=0;g<d.length;g++){let Z=d[g];if(p.isNewline(Z)){if(!b){n+=p.addLine(k),e=!I,k="",t=0;continue}Z=" "}if(I){const g=p.isBreakingSpace(Z),m=p.isBreakingSpace(k[k.length-1]);if(g&&m)continue}const h=p.getFromCache(Z,q,S,H);if(h>N)if(""!==k&&(n+=p.addLine(k),k="",t=0),p.canBreakWords(Z,m.breakWords)){const g=p.wordWrapSplit(Z);for(let h=0;h<g.length;h++){let D=g[h],I=D,b=1;for(;g[h+b];){const H=g[h+b];if(p.canBreakChars(I,H,Z,h,m.breakWords))break;D+=H,I=H,b++}h+=b-1;const d=p.getFromCache(D,q,S,H);d+t>N&&(n+=p.addLine(k),e=!1,k="",t=0),k+=D,t+=d}}else{k.length>0&&(n+=p.addLine(k),k="",t=0);const m=g===d.length-1;n+=p.addLine(Z,!m),e=!1,k="",t=0}else h+t>N&&(e=!1,n+=p.addLine(k),k="",t=0),(k.length>0||!p.isBreakingSpace(Z)||e)&&(k+=Z,t+=h)}return n+=p.addLine(k,!1),n}static addLine(g,m=!0){return g=p.trimRight(g),m?`${g}\n`:g}static getFromCache(g,m,Z,H){let t=Z[g];return"number"!=typeof t&&(t=p._measureText(g,m,H)+m,Z[g]=t),t}static collapseSpaces(p){return"normal"===p||"pre-line"===p}static collapseNewlines(p){return"normal"===p}static trimRight(g){if("string"!=typeof g)return"";for(let m=g.length-1;m>=0;m--){const Z=g[m];if(!p.isBreakingSpace(Z))break;g=g.slice(0,-1)}return g}static isNewline(g){return"string"==typeof g&&p._newlines.includes(g.charCodeAt(0))}static isBreakingSpace(g,m){return"string"==typeof g&&p._breakingSpaces.includes(g.charCodeAt(0))}static tokenize(g){const m=[];let Z="";if("string"!=typeof g)return m;for(let H=0;H<g.length;H++){const t=g[H],h=g[H+1];p.isBreakingSpace(t,h)||p.isNewline(t)?(""!==Z&&(m.push(Z),Z=""),m.push(t)):Z+=t}return""!==Z&&m.push(Z),m}static canBreakWords(p,g){return g}static canBreakChars(p,g,m,Z,H){return!0}static wordWrapSplit(g){return p.graphemeSegmenter(g)}static measureFont(g){if(p._fonts[g])return p._fonts[g];const m={ascent:0,descent:0,fontSize:0},Z=p._canvas,H=p._context;H.font=g;const t=p.METRICS_STRING+p.BASELINE_SYMBOL,h=Math.ceil(H.measureText(t).width);let k=Math.ceil(H.measureText(p.BASELINE_SYMBOL).width);const n=Math.ceil(p.HEIGHT_MULTIPLIER*k);if(k=k*p.BASELINE_MULTIPLIER|0,0===h||0===n)return p._fonts[g]=m,m;Z.width=h,Z.height=n,H.fillStyle="#f00",H.fillRect(0,0,h,n),H.font=g,H.textBaseline="alphabetic",H.fillStyle="#000",H.fillText(t,0,k);const S=H.getImageData(0,0,h,n).data,q=S.length,D=4*h;let I=0,b=0,e=!1;for(I=0;I<k;++I){for(let p=0;p<D;p+=4)if(255!==S[b+p]){e=!0;break}if(e)break;b+=D}for(m.ascent=k-I,b=q-D,e=!1,I=n;I>k;--I){for(let p=0;p<D;p+=4)if(255!==S[b+p]){e=!0;break}if(e)break;b-=D}return m.descent=I-k,m.fontSize=m.ascent+m.descent,p._fonts[g]=m,m}static clearMetrics(g=""){g?delete p._fonts[g]:p._fonts={}}static get _canvas(){var g;if(!p.__canvas){let m;try{const Z=new OffscreenCanvas(0,0);if(null===(g=Z.getContext("2d",h))||void 0===g?void 0:g.measureText)return p.__canvas=Z,Z;m=H.W0.ADAPTER.createCanvas()}catch(p){m=H.W0.ADAPTER.createCanvas()}m.width=m.height=10,p.__canvas=m}return p.__canvas}static get _context(){return p.__context||(p.__context=p._canvas.getContext("2d",h)),p.__context}};k.METRICS_STRING="|ÉqÅ",k.BASELINE_SYMBOL="M",k.BASELINE_MULTIPLIER=1.4,k.HEIGHT_MULTIPLIER=2,k.graphemeSegmenter=(()=>{if("function"==typeof(null===Intl||void 0===Intl?void 0:Intl.Segmenter)){const p=new Intl.Segmenter;return g=>[...p.segment(g)].map((p=>p.segment))}return p=>[...p]})(),k.experimentalLetterSpacing=!1,k._fonts={},k._newlines=[10,13],k._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let n=k;const S=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],q=class p{constructor(p){this.styleID=0,this.reset(),b(this,p,p)}clone(){const g={};return b(g,this,p.defaultStyle),new p(g)}reset(){b(this,p.defaultStyle,p.defaultStyle)}get align(){return this._align}set align(p){this._align!==p&&(this._align=p,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(p){this._breakWords!==p&&(this._breakWords=p,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(p){this._dropShadow!==p&&(this._dropShadow=p,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(p){this._dropShadowAlpha!==p&&(this._dropShadowAlpha=p,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(p){this._dropShadowAngle!==p&&(this._dropShadowAngle=p,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(p){this._dropShadowBlur!==p&&(this._dropShadowBlur=p,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(p){const g=I(p);this._dropShadowColor!==g&&(this._dropShadowColor=g,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(p){this._dropShadowDistance!==p&&(this._dropShadowDistance=p,this.styleID++)}get fill(){return this._fill}set fill(p){const g=I(p);this._fill!==g&&(this._fill=g,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(p){this._fillGradientType!==p&&(this._fillGradientType=p,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(p){(function(p,g){if(!Array.isArray(p)||!Array.isArray(g)||p.length!==g.length)return!1;for(let m=0;m<p.length;++m)if(p[m]!==g[m])return!1;return!0})(this._fillGradientStops,p)||(this._fillGradientStops=p,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(p){this.fontFamily!==p&&(this._fontFamily=p,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(p){this._fontSize!==p&&(this._fontSize=p,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(p){this._fontStyle!==p&&(this._fontStyle=p,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(p){this._fontVariant!==p&&(this._fontVariant=p,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(p){this._fontWeight!==p&&(this._fontWeight=p,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(p){this._letterSpacing!==p&&(this._letterSpacing=p,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(p){this._lineHeight!==p&&(this._lineHeight=p,this.styleID++)}get leading(){return this._leading}set leading(p){this._leading!==p&&(this._leading=p,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(p){this._lineJoin!==p&&(this._lineJoin=p,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(p){this._miterLimit!==p&&(this._miterLimit=p,this.styleID++)}get padding(){return this._padding}set padding(p){this._padding!==p&&(this._padding=p,this.styleID++)}get stroke(){return this._stroke}set stroke(p){const g=I(p);this._stroke!==g&&(this._stroke=g,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(p){this._strokeThickness!==p&&(this._strokeThickness=p,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(p){this._textBaseline!==p&&(this._textBaseline=p,this.styleID++)}get trim(){return this._trim}set trim(p){this._trim!==p&&(this._trim=p,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(p){this._whiteSpace!==p&&(this._whiteSpace=p,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(p){this._wordWrap!==p&&(this._wordWrap=p,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(p){this._wordWrapWidth!==p&&(this._wordWrapWidth=p,this.styleID++)}toFontString(){const p="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let g=this.fontFamily;Array.isArray(this.fontFamily)||(g=this.fontFamily.split(","));for(let p=g.length-1;p>=0;p--){let m=g[p].trim();!/([\"\'])[^\'\"]+\1/.test(m)&&!S.includes(m)&&(m=`"${m}"`),g[p]=m}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${p} ${g.join(",")}`}};q.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Z.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let D=q;function I(p){const g=H.Q1.shared,m=p=>{const m=g.setValue(p);return 1===m.alpha?m.toHex():m.toRgbaString()};return Array.isArray(p)?p.map(m):m(p)}function b(p,g,m){for(const Z in m)Array.isArray(g[Z])?p[Z]=g[Z].slice():p[Z]=g[Z]}const e={texture:!0,children:!1,baseTexture:!0},N=class p extends t.k{constructor(g,m,Z){var t;let h=!1;Z||(Z=H.W0.ADAPTER.createCanvas(),h=!0),Z.width=3,Z.height=3;const k=H.gP.from(Z);k.orig=new H.M_,k.trim=new H.M_,super(k),this._ownCanvas=h,this.canvas=Z,this.context=Z.getContext("2d",{willReadFrequently:!0}),this._resolution=null!==(t=p.defaultResolution)&&void 0!==t?t:H.W0.RESOLUTION,this._autoResolution=p.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=g,this.style=m,this.localStyleID=-1}static get experimentalLetterSpacing(){return n.experimentalLetterSpacing}static set experimentalLetterSpacing(p){H.Wp.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),n.experimentalLetterSpacing=p}updateText(p){const g=this._style;if(this.localStyleID!==g.styleID&&(this.dirty=!0,this.localStyleID=g.styleID),!this.dirty&&p)return;this._font=this._style.toFontString();const m=this.context,Z=n.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=Z.width,h=Z.height,k=Z.lines,S=Z.lineHeight,q=Z.lineWidths,D=Z.maxLineWidth,I=Z.fontProperties;let b,e;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,t)+2*g.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+2*g.padding)*this._resolution),m.scale(this._resolution,this._resolution),m.clearRect(0,0,this.canvas.width,this.canvas.height),m.font=this._font,m.lineWidth=g.strokeThickness,m.textBaseline=g.textBaseline,m.lineJoin=g.lineJoin,m.miterLimit=g.miterLimit;const N=g.dropShadow?2:1;for(let p=0;p<N;++p){const t=g.dropShadow&&0===p,n=t?Math.ceil(Math.max(1,h)+2*g.padding):0,N=n*this._resolution;if(t){m.fillStyle="black",m.strokeStyle="black";const p=g.dropShadowColor,Z=g.dropShadowBlur*this._resolution,t=g.dropShadowDistance*this._resolution;m.shadowColor=H.Q1.shared.setValue(p).setAlpha(g.dropShadowAlpha).toRgbaString(),m.shadowBlur=Z,m.shadowOffsetX=Math.cos(g.dropShadowAngle)*t,m.shadowOffsetY=Math.sin(g.dropShadowAngle)*t+N}else m.fillStyle=this._generateFillStyle(g,k,Z),m.strokeStyle=g.stroke,m.shadowColor="black",m.shadowBlur=0,m.shadowOffsetX=0,m.shadowOffsetY=0;let d=(S-I.fontSize)/2;S-I.fontSize<0&&(d=0);for(let p=0;p<k.length;p++)b=g.strokeThickness/2,e=g.strokeThickness/2+p*S+I.ascent+d,"right"===g.align?b+=D-q[p]:"center"===g.align&&(b+=(D-q[p])/2),g.stroke&&g.strokeThickness&&this.drawLetterSpacing(k[p],b+g.padding,e+g.padding-n,!0),g.fill&&this.drawLetterSpacing(k[p],b+g.padding,e+g.padding-n)}this.updateTexture()}drawLetterSpacing(p,g,m,Z=!1){const H=this._style.letterSpacing;let t=!1;if(n.experimentalLetterSpacingSupported&&(n.experimentalLetterSpacing?(this.context.letterSpacing=`${H}px`,this.context.textLetterSpacing=`${H}px`,t=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===H||t)return void(Z?this.context.strokeText(p,g,m):this.context.fillText(p,g,m));let h=g;const k=n.graphemeSegmenter(p);let S=this.context.measureText(p).width,q=0;for(let p=0;p<k.length;++p){const g=k[p];Z?this.context.strokeText(g,h,m):this.context.fillText(g,h,m);let t="";for(let g=p+1;g<k.length;++g)t+=k[g];q=this.context.measureText(t).width,h+=S-q+H,S=q}}updateTexture(){const p=this.canvas;if(this._style.trim){const g=H.Wp.trimCanvas(p);g.data&&(p.width=g.width,p.height=g.height,this.context.putImageData(g.data,0,0))}const g=this._texture,m=this._style,Z=m.trim?0:m.padding,t=g.baseTexture;g.trim.width=g._frame.width=p.width/this._resolution,g.trim.height=g._frame.height=p.height/this._resolution,g.trim.x=-Z,g.trim.y=-Z,g.orig.width=g._frame.width-2*Z,g.orig.height=g._frame.height-2*Z,this._onTextureUpdate(),t.setRealSize(p.width,p.height,this._resolution),g.updateUvs(),this.dirty=!1}_render(p){this._autoResolution&&this._resolution!==p.resolution&&(this._resolution=p.resolution,this.dirty=!0),this.updateText(!0),super._render(p)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(p,g){return this.updateText(!0),-1===this._textureID&&(p=!1),super.getBounds(p,g)}getLocalBounds(p){return this.updateText(!0),super.getLocalBounds.call(this,p)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(p,g,m){const H=p.fill;if(!Array.isArray(H))return H;if(1===H.length)return H[0];let t;const h=p.dropShadow?p.dropShadowDistance:0,k=p.padding||0,n=this.canvas.width/this._resolution-h-2*k,S=this.canvas.height/this._resolution-h-2*k,q=H.slice(),D=p.fillGradientStops.slice();if(!D.length){const p=q.length+1;for(let g=1;g<p;++g)D.push(g/p)}if(q.unshift(H[0]),D.unshift(0),q.push(H[H.length-1]),D.push(1),p.fillGradientType===Z.LINEAR_VERTICAL){t=this.context.createLinearGradient(n/2,k,n/2,S+k);const Z=m.fontProperties.fontSize+p.strokeThickness;for(let p=0;p<g.length;p++){const H=m.lineHeight*(p-1)+Z,h=m.lineHeight*p;let k=h;p>0&&H>h&&(k=(h+H)/2);const n=h+Z,I=m.lineHeight*(p+1);let b=n;p+1<g.length&&I<n&&(b=(n+I)/2);const e=(b-k)/S;for(let p=0;p<q.length;p++){let g=0;g="number"==typeof D[p]?D[p]:p/q.length;let m=Math.min(1,Math.max(0,k/S+g*e));m=Number(m.toFixed(5)),t.addColorStop(m,q[p])}}}else{t=this.context.createLinearGradient(k,S/2,n+k,S/2);const p=q.length+1;let g=1;for(let m=0;m<q.length;m++){let Z;Z="number"==typeof D[m]?D[m]:g/p,t.addColorStop(Z,q[m]),g++}}return t}destroy(p){"boolean"==typeof p&&(p={children:p}),p=Object.assign({},e,p),super.destroy(p),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(p){this.updateText(!0);const g=H.Wp.sign(this.scale.x)||1;this.scale.x=g*p/this._texture.orig.width,this._width=p}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(p){this.updateText(!0);const g=H.Wp.sign(this.scale.y)||1;this.scale.y=g*p/this._texture.orig.height,this._height=p}get style(){return this._style}set style(p){p=p||{},this._style=p instanceof D?p:new D(p),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(p){p=String(null!=p?p:""),this._text!==p&&(this._text=p,this.dirty=!0)}get resolution(){return this._resolution}set resolution(p){this._autoResolution=!1,this._resolution!==p&&(this._resolution=p,this.dirty=!0)}};N.defaultAutoResolution=!0;let d=N},71931:(p,g,m)=>{m.d(g,{Rv:()=>n,dQ:()=>t});var Z=m(968381),H=m(578351),t=(p=>(p[p.INTERACTION=50]="INTERACTION",p[p.HIGH=25]="HIGH",p[p.NORMAL=0]="NORMAL",p[p.LOW=-25]="LOW",p[p.UTILITY=-50]="UTILITY",p))(t||{});class h{constructor(p,g=null,m=0,Z=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=p,this.context=g,this.priority=m,this.once=Z}match(p,g=null){return this.fn===p&&this.context===g}emit(p){this.fn&&(this.context?this.fn.call(this.context,p):this.fn(p));const g=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),g}connect(p){this.previous=p,p.next&&(p.next.previous=this),this.next=p.next,p.next=this}destroy(p=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const g=this.next;return this.next=p?null:g,this.previous=null,g}}const k=class p{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new h(null,null,1/0),this.deltaMS=1/p.targetFPMS,this.elapsedMS=1/p.targetFPMS,this._tick=p=>{this._requestId=null,this.started&&(this.update(p),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(p,g,m=t.NORMAL){return this._addListener(new h(p,g,m))}addOnce(p,g,m=t.NORMAL){return this._addListener(new h(p,g,m,!0))}_addListener(p){let g=this._head.next,m=this._head;if(g){for(;g;){if(p.priority>g.priority){p.connect(m);break}m=g,g=g.next}p.previous||p.connect(m)}else p.connect(m);return this._startIfPossible(),this}remove(p,g){let m=this._head.next;for(;m;)m=m.match(p,g)?m.destroy():m.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let p=0,g=this._head;for(;g=g.next;)p++;return p}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let p=this._head.next;for(;p;)p=p.destroy(!0);this._head.destroy(),this._head=null}}update(g=performance.now()){let m;if(g>this.lastTime){if(m=this.elapsedMS=g-this.lastTime,m>this._maxElapsedMS&&(m=this._maxElapsedMS),m*=this.speed,this._minElapsedMS){const p=g-this._lastFrame|0;if(p<this._minElapsedMS)return;this._lastFrame=g-p%this._minElapsedMS}this.deltaMS=m,this.deltaTime=this.deltaMS*p.targetFPMS;const Z=this._head;let H=Z.next;for(;H;)H=H.emit(this.deltaTime);Z.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=g}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(g){const m=Math.min(this.maxFPS,g),Z=Math.min(Math.max(0,m)/1e3,p.targetFPMS);this._maxElapsedMS=1/Z}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(p){if(0===p)this._minElapsedMS=0;else{const g=Math.max(this.minFPS,p);this._minElapsedMS=1/(g/1e3)}}static get shared(){if(!p._shared){const g=p._shared=new p;g.autoStart=!0,g._protected=!0}return p._shared}static get system(){if(!p._system){const g=p._system=new p;g.autoStart=!0,g._protected=!0}return p._system}};k.targetFPMS=.06;let n=k;Object.defineProperties(Z.W0,{TARGET_FPMS:{get:()=>n.targetFPMS,set(p){H.deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),n.targetFPMS=p}}});var S=m(738637);class q{static init(p){p=Object.assign({autoStart:!0,sharedTicker:!1},p),Object.defineProperty(this,"ticker",{set(p){this._ticker&&this._ticker.remove(this.render,this),this._ticker=p,p&&p.add(this.render,this,t.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=p.sharedTicker?n.shared:new n,p.autoStart&&this.start()}static destroy(){if(this._ticker){const p=this._ticker;this.ticker=null,p.destroy()}}}q.extension=S.A.Application,S.X.add(q)},96457:(p,g,m)=>{m.d(g,{U:()=>Z});const Z=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},413781:(p,g,m)=>{function Z(p,g=null){const m=6*p;if((g=g||new Uint16Array(m)).length!==m)throw new Error(`Out buffer length is incorrect, got ${g.length} and expected ${m}`);for(let p=0,Z=0;p<m;p+=6,Z+=4)g[p+0]=Z+0,g[p+1]=Z+1,g[p+2]=Z+2,g[p+3]=Z+0,g[p+4]=Z+2,g[p+5]=Z+3;return g}m.d(g,{L:()=>Z})},321671:(p,g,m)=>{function Z(p){if(4===p.BYTES_PER_ELEMENT)return p instanceof Float32Array?"Float32Array":p instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===p.BYTES_PER_ELEMENT){if(p instanceof Uint16Array)return"Uint16Array"}else if(1===p.BYTES_PER_ELEMENT&&p instanceof Uint8Array)return"Uint8Array";return null}m.d(g,{L:()=>Z})},307627:(p,g,m)=>{function Z(p){return p+=0===p?1:0,--p,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,(p|=p>>>16)+1}function H(p){return!(p&p-1||!p)}function t(p){let g=(p>65535?1:0)<<4,m=((p>>>=g)>255?1:0)<<3;return g|=m,m=((p>>>=m)>15?1:0)<<2,g|=m,m=((p>>>=m)>3?1:0)<<1,g|=m,g|(p>>>=m)>>1}m.d(g,{U5:()=>Z,f3:()=>H,p6:()=>t})},892653:(p,g,m)=>{function Z(p,g,m){const Z=p.length;let H;if(g>=Z||0===m)return;const t=Z-(m=g+m>Z?Z-g:m);for(H=g;H<t;++H)p[H]=p[H+m];p.length=t}m.d(g,{d:()=>Z})},61036:(p,g,m)=>{function Z(p){return 0===p?0:p<0?-1:1}m.d(g,{_:()=>Z})},429619:(p,g,m)=>{m.d(g,{L:()=>H});let Z=0;function H(){return++Z}},578351:(p,g,m)=>{m.r(g),m.d(g,{BaseTextureCache:()=>f,BoundingBox:()=>R,CanvasRenderTarget:()=>G,DATA_URI:()=>u.U,EventEmitter:()=>H,ProgramCache:()=>c,TextureCache:()=>O,clearTextureCache:()=>E,correctBlendMode:()=>v,createIndicesForQuads:()=>a.L,decomposeDataUri:()=>A.Q,deprecation:()=>n,destroyTextureCache:()=>_,detectVideoAlphaMode:()=>d,determineCrossOrigin:()=>L.I,earcut:()=>t,getBufferType:()=>F.L,getCanvasBoundingBox:()=>T,getResolutionOfUrl:()=>o,hex2rgb:()=>i,hex2string:()=>P,interleaveTypedArrays:()=>K,isMobile:()=>Z.Fr,isPow2:()=>j.f3,isWebGLSupported:()=>w,log2:()=>j.p6,nextPow2:()=>j.U5,path:()=>I,premultiplyBlendMode:()=>W,premultiplyRgba:()=>V,premultiplyTint:()=>z,premultiplyTintToRgba:()=>B,removeItems:()=>r.d,rgb2hex:()=>y,sayHello:()=>$,sign:()=>U._,skipHello:()=>Q,string2hex:()=>J,trimCanvas:()=>l,uid:()=>C.L,url:()=>S});var Z=m(968381);Z.W0.RETINA_PREFIX=/@([0-9\.]+)x/,Z.W0.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var H=m(258055),t=m(827700),h=m(517116);const k={};function n(p,g,m=3){if(k[g])return;let Z=(new Error).stack;typeof Z>"u"?console.warn("PixiJS Deprecation Warning: ",`${g}\nDeprecated since v${p}`):(Z=Z.split(`\n`).splice(m).join(`\n`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${g}\nDeprecated since v${p}`),console.warn(Z),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${g}\nDeprecated since v${p}`),console.warn(Z))),k[g]=!0}const S={get parse(){return n("7.3.0","utils.url.parse is deprecated, use native URL API instead."),h.qg},get format(){return n("7.3.0","utils.url.format is deprecated, use native URL API instead."),h.GP},get resolve(){return n("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),h.hd}};function q(p){if("string"!=typeof p)throw new TypeError(`Path must be a string. Received ${JSON.stringify(p)}`)}function D(p){return p.split("?")[0].split("#")[0]}const I={toPosix(p){return g="\\",m="/",p.replace(new RegExp(g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),m);var g,m},isUrl(p){return/^https?:/.test(this.toPosix(p))},isDataUrl:p=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(p),isBlobUrl:p=>p.startsWith("blob:"),hasProtocol(p){return/^[^/:]+:/.test(this.toPosix(p))},getProtocol(p){q(p),p=this.toPosix(p);const g=/^file:\/\/\//.exec(p);if(g)return g[0];const m=/^[^/:]+:\/{0,2}/.exec(p);return m?m[0]:""},toAbsolute(p,g,m){if(q(p),this.isDataUrl(p)||this.isBlobUrl(p))return p;const H=D(this.toPosix(null!=g?g:Z.W0.ADAPTER.getBaseUrl())),t=D(this.toPosix(null!=m?m:this.rootname(H)));return(p=this.toPosix(p)).startsWith("/")?I.join(t,p.slice(1)):this.isAbsolute(p)?p:this.join(H,p)},normalize(p){if(q(p),0===p.length)return".";if(this.isDataUrl(p)||this.isBlobUrl(p))return p;let g="";const m=(p=this.toPosix(p)).startsWith("/");this.hasProtocol(p)&&(g=this.rootname(p),p=p.slice(g.length));const Z=p.endsWith("/");return(p=function(p,g){let m="",Z=0,H=-1,t=0,h=-1;for(let k=0;k<=p.length;++k){if(k<p.length)h=p.charCodeAt(k);else{if(47===h)break;h=47}if(47===h){if(H!==k-1&&1!==t)if(H!==k-1&&2===t){if(m.length<2||2!==Z||46!==m.charCodeAt(m.length-1)||46!==m.charCodeAt(m.length-2))if(m.length>2){const p=m.lastIndexOf("/");if(p!==m.length-1){-1===p?(m="",Z=0):(m=m.slice(0,p),Z=m.length-1-m.lastIndexOf("/")),H=k,t=0;continue}}else if(2===m.length||1===m.length){m="",Z=0,H=k,t=0;continue}g&&(m.length>0?m+="/..":m="..",Z=2)}else m.length>0?m+=`/${p.slice(H+1,k)}`:m=p.slice(H+1,k),Z=k-H-1;H=k,t=0}else 46===h&&-1!==t?++t:t=-1}return m}(p,!1)).length>0&&Z&&(p+="/"),m?`/${p}`:g+p},isAbsolute(p){return q(p),p=this.toPosix(p),!!this.hasProtocol(p)||p.startsWith("/")},join(...p){var g;if(0===p.length)return".";let m;for(let Z=0;Z<p.length;++Z){const H=p[Z];if(q(H),H.length>0)if(void 0===m)m=H;else{const t=null!==(g=p[Z-1])&&void 0!==g?g:"";this.extname(t)?m+=`/../${H}`:m+=`/${H}`}}return void 0===m?".":this.normalize(m)},dirname(p){if(q(p),0===p.length)return".";let g=(p=this.toPosix(p)).charCodeAt(0);const m=47===g;let Z=-1,H=!0;const t=this.getProtocol(p),h=p;for(let m=(p=p.slice(t.length)).length-1;m>=1;--m)if(g=p.charCodeAt(m),47===g){if(!H){Z=m;break}}else H=!1;return-1===Z?m?"/":this.isUrl(h)?t+p:t:m&&1===Z?"//":t+p.slice(0,Z)},rootname(p){q(p);let g="";if(g=(p=this.toPosix(p)).startsWith("/")?"/":this.getProtocol(p),this.isUrl(p)){const m=p.indexOf("/",g.length);g=-1!==m?p.slice(0,m):p,g.endsWith("/")||(g+="/")}return g},basename(p,g){q(p),g&&q(g),p=D(this.toPosix(p));let m,Z=0,H=-1,t=!0;if(void 0!==g&&g.length>0&&g.length<=p.length){if(g.length===p.length&&g===p)return"";let h=g.length-1,k=-1;for(m=p.length-1;m>=0;--m){const n=p.charCodeAt(m);if(47===n){if(!t){Z=m+1;break}}else-1===k&&(t=!1,k=m+1),h>=0&&(n===g.charCodeAt(h)?-1==--h&&(H=m):(h=-1,H=k))}return Z===H?H=k:-1===H&&(H=p.length),p.slice(Z,H)}for(m=p.length-1;m>=0;--m)if(47===p.charCodeAt(m)){if(!t){Z=m+1;break}}else-1===H&&(t=!1,H=m+1);return-1===H?"":p.slice(Z,H)},extname(p){q(p);let g=-1,m=0,Z=-1,H=!0,t=0;for(let h=(p=D(this.toPosix(p))).length-1;h>=0;--h){const k=p.charCodeAt(h);if(47!==k)-1===Z&&(H=!1,Z=h+1),46===k?-1===g?g=h:1!==t&&(t=1):-1!==g&&(t=-1);else if(!H){m=h+1;break}}return-1===g||-1===Z||0===t||1===t&&g===Z-1&&g===m+1?"":p.slice(g,Z)},parse(p){q(p);const g={root:"",dir:"",base:"",ext:"",name:""};if(0===p.length)return g;let m=(p=D(this.toPosix(p))).charCodeAt(0);const Z=this.isAbsolute(p);let H;const t="";g.root=this.rootname(p),H=Z||this.hasProtocol(p)?1:0;let h=-1,k=0,n=-1,S=!0,I=p.length-1,b=0;for(;I>=H;--I)if(m=p.charCodeAt(I),47!==m)-1===n&&(S=!1,n=I+1),46===m?-1===h?h=I:1!==b&&(b=1):-1!==h&&(b=-1);else if(!S){k=I+1;break}return-1===h||-1===n||0===b||1===b&&h===n-1&&h===k+1?-1!==n&&(g.base=g.name=0===k&&Z?p.slice(1,n):p.slice(k,n)):(0===k&&Z?(g.name=p.slice(1,h),g.base=p.slice(1,n)):(g.name=p.slice(k,h),g.base=p.slice(k,n)),g.ext=p.slice(h,n)),g.dir=this.dirname(p),t&&(g.dir=t+g.dir),g},sep:"/",delimiter:":"};var b=m(424608);let e,N;async function d(){return null!=e||(e=(async()=>{var p;const g=document.createElement("canvas").getContext("webgl");if(!g)return b.Gk.UNPACK;const m=await new Promise((p=>{const g=document.createElement("video");g.onloadeddata=()=>p(g),g.onerror=()=>p(null),g.autoplay=!1,g.crossOrigin="anonymous",g.preload="auto",g.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",g.load()}));if(!m)return b.Gk.UNPACK;const Z=g.createTexture();g.bindTexture(g.TEXTURE_2D,Z);const H=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,H),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,Z,0),g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),g.pixelStorei(g.UNPACK_COLORSPACE_CONVERSION_WEBGL,g.NONE),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,m);const t=new Uint8Array(4);return g.readPixels(0,0,1,1,g.RGBA,g.UNSIGNED_BYTE,t),g.deleteFramebuffer(H),g.deleteTexture(Z),null===(p=g.getExtension("WEBGL_lose_context"))||void 0===p||p.loseContext(),t[0]<=t[3]?b.Gk.PMA:b.Gk.UNPACK})()),e}function Q(){n("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function $(){n("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}function w(){return typeof N>"u"&&(N=function(){var p;const g={stencil:!0,failIfMajorPerformanceCaveat:Z.W0.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Z.W0.ADAPTER.getWebGLRenderingContext())return!1;const m=Z.W0.ADAPTER.createCanvas();let H=m.getContext("webgl",g)||m.getContext("experimental-webgl",g);const t=!!(null===(p=null==H?void 0:H.getContextAttributes())||void 0===p?void 0:p.stencil);if(H){const p=H.getExtension("WEBGL_lose_context");p&&p.loseContext()}return H=null,t}catch(p){return!1}}()),N}var Y=m(817798);function i(p,g=[]){return n("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),Y.Q.shared.setValue(p).toRgbArray(g)}function P(p){return n("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Y.Q.shared.setValue(p).toHex()}function J(p){return n("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),Y.Q.shared.setValue(p).toNumber()}function y(p){return n("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Y.Q.shared.setValue(p).toNumber()}const W=function(){const p=[],g=[];for(let m=0;m<32;m++)p[m]=m,g[m]=m;p[b.B9.NORMAL_NPM]=b.B9.NORMAL,p[b.B9.ADD_NPM]=b.B9.ADD,p[b.B9.SCREEN_NPM]=b.B9.SCREEN,g[b.B9.NORMAL]=b.B9.NORMAL_NPM,g[b.B9.ADD]=b.B9.ADD_NPM,g[b.B9.SCREEN]=b.B9.SCREEN_NPM;const m=[];return m.push(g),m.push(p),m}();function v(p,g){return W[g?1:0][p]}function V(p,g,m,Z=!0){return n("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),Y.Q.shared.setValue(p).premultiply(g,Z).toArray(null!=m?m:new Float32Array(4))}function z(p,g){return n("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),Y.Q.shared.setValue(p).toPremultiplied(g)}function B(p,g,m,Z=!0){return n("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),Y.Q.shared.setValue(p).premultiply(g,Z).toArray(null!=m?m:new Float32Array(4))}var u=m(96457),a=m(413781),F=m(321671);const X={Float32Array,Uint32Array,Int32Array,Uint8Array};function K(p,g){let m=0,Z=0;const H={};for(let H=0;H<p.length;H++)Z+=g[H],m+=p[H].length;const t=new ArrayBuffer(4*m);let h=null,k=0;for(let m=0;m<p.length;m++){const n=g[m],S=p[m],q=F.L(S);H[q]||(H[q]=new X[q](t)),h=H[q];for(let p=0;p<S.length;p++)h[(p/n|0)*Z+k+p%n]=S[p];k+=n}return new Float32Array(t)}var j=m(307627),r=m(892653),U=m(61036),C=m(429619);const x=class{constructor(p,g,m,Z){this.left=p,this.top=g,this.right=m,this.bottom=Z}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};x.EMPTY=new x(0,0,0,0);let R=x;const c={},O=Object.create(null),f=Object.create(null);function _(){let p;for(p in O)O[p].destroy();for(p in f)f[p].destroy()}function E(){let p;for(p in O)delete O[p];for(p in f)delete f[p]}class G{constructor(p,g,m){this._canvas=Z.W0.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=m||Z.W0.RESOLUTION,this.resize(p,g)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(p,g){this._checkDestroyed(),this._canvas.width=Math.round(p*this.resolution),this._canvas.height=Math.round(g*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(p){this._checkDestroyed(),this._canvas.width=Math.round(p)}get height(){return this._checkDestroyed(),this._canvas.height}set height(p){this._checkDestroyed(),this._canvas.height=Math.round(p)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function M(p,g,m){for(let Z=0,H=4*m*g;Z<g;++Z,H+=4)if(0!==p[H+3])return!1;return!0}function s(p,g,m,Z,H){const t=4*g;for(let g=Z,h=Z*t+4*m;g<=H;++g,h+=t)if(0!==p[h+3])return!1;return!0}function T(p){const{width:g,height:m}=p,Z=p.getContext("2d",{willReadFrequently:!0});if(null===Z)throw new TypeError("Failed to get canvas 2D context");const H=Z.getImageData(0,0,g,m).data;let t=0,h=0,k=g-1,n=m-1;for(;h<m&&M(H,g,h);)++h;if(h===m)return R.EMPTY;for(;M(H,g,n);)--n;for(;s(H,g,t,h,n);)++t;for(;s(H,g,k,h,n);)--k;return++k,++n,new R(t,h,k,n)}function l(p){const g=T(p),{width:m,height:Z}=g;let H=null;if(!g.isEmpty()){const t=p.getContext("2d");if(null===t)throw new TypeError("Failed to get canvas 2D context");H=t.getImageData(g.left,g.top,m,Z)}return{width:m,height:Z,data:H}}var A=m(296606),L=m(605786);function o(p,g=1){var m;const H=null===(m=Z.W0.RETINA_PREFIX)||void 0===m?void 0:m.exec(p);return H?parseFloat(H[1]):g}},296606:(p,g,m)=>{m.d(g,{Q:()=>H});var Z=m(96457);function H(p){const g=Z.U.exec(p);if(g)return{mediaType:g[1]?g[1].toLowerCase():void 0,subType:g[2]?g[2].toLowerCase():void 0,charset:g[3]?g[3].toLowerCase():void 0,encoding:g[4]?g[4].toLowerCase():void 0,data:g[5]}}},605786:(p,g,m)=>{function Z(p,g=globalThis.location){if(p.startsWith("data:"))return"";g=g||globalThis.location;const m=new URL(p,document.baseURI);return m.hostname!==g.hostname||m.port!==g.port||m.protocol!==g.protocol?"anonymous":""}m.d(g,{I:()=>Z})},401832:(p,g,m)=>{m.d(g,{qx:()=>x.q});var Z=m(316197);Z.dJ;var H=m(688172),t=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,h=`\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n`;class k extends Z.dJ{constructor(p=.5){super(t,h),this.threshold=p}get threshold(){return this.uniforms.threshold}set threshold(p){this.uniforms.threshold=p}}var n=`uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n`;const S=class extends Z.dJ{constructor(p){super(t,n),this.bloomScale=1,this.brightness=1,this._resolution=Z.W0.FILTER_RESOLUTION,"number"==typeof p&&(p={threshold:p});const g=Object.assign(S.defaults,p);this.bloomScale=g.bloomScale,this.brightness=g.brightness;const{kernels:m,blur:h,quality:q,pixelSize:D,resolution:I}=g;this._extractFilter=new k(g.threshold),this._extractFilter.resolution=I,this._blurFilter=m?new H.Q(m):new H.Q(h,q),this.pixelSize=D,this.resolution=I}apply(p,g,m,Z,H){const t=p.getFilterTexture();this._extractFilter.apply(p,g,t,1,H);const h=p.getFilterTexture();this._blurFilter.apply(p,t,h,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=h,p.applyFilter(this,g,m,Z),p.returnFilterTexture(h),p.returnFilterTexture(t)}get resolution(){return this._resolution}set resolution(p){this._resolution=p,this._extractFilter&&(this._extractFilter.resolution=p),this._blurFilter&&(this._blurFilter.resolution=p)}get threshold(){return this._extractFilter.threshold}set threshold(p){this._extractFilter.threshold=p}get kernels(){return this._blurFilter.kernels}set kernels(p){this._blurFilter.kernels=p}get blur(){return this._blurFilter.blur}set blur(p){this._blurFilter.blur=p}get quality(){return this._blurFilter.quality}set quality(p){this._blurFilter.quality=p}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(p){this._blurFilter.pixelSize=p}};S.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:Z.W0.FILTER_RESOLUTION},Z.dJ,Z.dJ,m(246638),m(528176),Z.dJ;var q=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,D=`uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n`;const I=class extends Z.dJ{constructor(p){super(q,D),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,I.defaults,p)}apply(p,g,m,Z){const{width:H,height:t}=g.filterFrame;this.uniforms.dimensions[0]=H,this.uniforms.dimensions[1]=t,p.applyFilter(this,g,m,Z)}get radius(){return this.uniforms.radius}set radius(p){this.uniforms.radius=p}get strength(){return this.uniforms.strength}set strength(p){this.uniforms.strength=p}get center(){return this.uniforms.center}set center(p){this.uniforms.center=p}};I.defaults={center:[.5,.5],radius:100,strength:1};var b,e,N=`const float PI = 3.1415926538;\nconst float PI_2 = PI*2.;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\n\nconst int TYPE_LINEAR = 0;\nconst int TYPE_RADIAL = 1;\nconst int TYPE_CONIC = 2;\nconst int MAX_STOPS = 32;\n\nuniform int uNumStops;\nuniform float uAlphas[3*MAX_STOPS];\nuniform vec3 uColors[MAX_STOPS];\nuniform float uOffsets[MAX_STOPS];\nuniform int uType;\nuniform float uAngle;\nuniform float uAlpha;\nuniform int uMaxColors;\n\nstruct ColorStop {\n    float offset;\n    vec3 color;\n    float alpha;\n};\n\nmat2 rotate2d(float angle){\n    return mat2(cos(angle), -sin(angle),\n    sin(angle), cos(angle));\n}\n\nfloat projectLinearPosition(vec2 pos, float angle){\n    vec2 center = vec2(0.5);\n    vec2 result = pos - center;\n    result = rotate2d(angle) * result;\n    result = result + center;\n    return clamp(result.x, 0., 1.);\n}\n\nfloat projectRadialPosition(vec2 pos) {\n    float r = distance(vFilterCoord, vec2(0.5));\n    return clamp(2.*r, 0., 1.);\n}\n\nfloat projectAnglePosition(vec2 pos, float angle) {\n    vec2 center = pos - vec2(0.5);\n    float polarAngle=atan(-center.y, center.x);\n    return mod(polarAngle + angle, PI_2) / PI_2;\n}\n\nfloat projectPosition(vec2 pos, int type, float angle) {\n    if (type == TYPE_LINEAR) {\n        return projectLinearPosition(pos, angle);\n    } else if (type == TYPE_RADIAL) {\n        return projectRadialPosition(pos);\n    } else if (type == TYPE_CONIC) {\n        return projectAnglePosition(pos, angle);\n    }\n\n    return pos.y;\n}\n\nvoid main(void) {\n    // current/original color\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n\n    // skip calculations if gradient alpha is 0\n    if (0.0 == uAlpha) {\n        gl_FragColor = currentColor;\n        return;\n    }\n\n    // project position\n    float y = projectPosition(vFilterCoord, uType, radians(uAngle));\n\n    // check gradient bounds\n    float offsetMin = uOffsets[0];\n    float offsetMax = 0.0;\n\n    for (int i = 0; i < MAX_STOPS; i++) {\n        if (i == uNumStops-1){ // last index\n            offsetMax = uOffsets[i];\n        }\n    }\n\n    if (y  < offsetMin || y > offsetMax) {\n        gl_FragColor = currentColor;\n        return;\n    }\n\n    // limit colors\n    if (uMaxColors > 0) {\n        float stepSize = 1./float(uMaxColors);\n        float stepNumber = float(floor(y/stepSize));\n        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment\n    }\n\n    // find color stops\n    ColorStop from;\n    ColorStop to;\n\n    for (int i = 0; i < MAX_STOPS; i++) {\n        if (y >= uOffsets[i]) {\n            from = ColorStop(uOffsets[i], uColors[i], uAlphas[i]);\n            to = ColorStop(uOffsets[i+1], uColors[i+1], uAlphas[i+1]);\n        }\n\n        if (i == uNumStops-1){ // last index\n            break;\n        }\n    }\n\n    // mix colors from stops\n    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);\n    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);\n\n    float segmentHeight = to.offset - from.offset;\n    float relativePos = y - from.offset;// position from 0 to [segmentHeight]\n    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].\n\n    float gradientAlpha = uAlpha * currentColor.a;\n    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;\n\n    // mix resulting color with current color\n    gl_FragColor = gradientColor + currentColor*(1.-gradientColor.a);\n}\n`,d=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vFilterCoord = vTextureCoord * inputSize.xy / outputFrame.zw;\n}\n`;(b=b||{}).stringify=(e={"visit_linear-gradient":function(p){return e.visit_gradient(p)},"visit_repeating-linear-gradient":function(p){return e.visit_gradient(p)},"visit_radial-gradient":function(p){return e.visit_gradient(p)},"visit_repeating-radial-gradient":function(p){return e.visit_gradient(p)},visit_gradient:function(p){var g=e.visit(p.orientation);return g&&(g+=", "),p.type+"("+g+e.visit(p.colorStops)+")"},visit_shape:function(p){var g=p.value,m=e.visit(p.at),Z=e.visit(p.style);return Z&&(g+=" "+Z),m&&(g+=" at "+m),g},"visit_default-radial":function(p){var g="",m=e.visit(p.at);return m&&(g+=m),g},"visit_extent-keyword":function(p){var g=p.value,m=e.visit(p.at);return m&&(g+=" at "+m),g},"visit_position-keyword":function(p){return p.value},visit_position:function(p){return e.visit(p.value.x)+" "+e.visit(p.value.y)},"visit_%":function(p){return p.value+"%"},visit_em:function(p){return p.value+"em"},visit_px:function(p){return p.value+"px"},visit_literal:function(p){return e.visit_color(p.value,p)},visit_hex:function(p){return e.visit_color("#"+p.value,p)},visit_rgb:function(p){return e.visit_color("rgb("+p.value.join(", ")+")",p)},visit_rgba:function(p){return e.visit_color("rgba("+p.value.join(", ")+")",p)},visit_color:function(p,g){var m=p,Z=e.visit(g.length);return Z&&(m+=" "+Z),m},visit_angular:function(p){return p.value+"deg"},visit_directional:function(p){return"to "+p.value},visit_array:function(p){var g="",m=p.length;return p.forEach((function(p,Z){g+=e.visit(p),Z<m-1&&(g+=", ")})),g},visit:function(p){if(!p)return"";if(p instanceof Array)return e.visit_array(p,"");if(p.type){var g=e["visit_"+p.type];if(g)return g(p);throw Error("Missing visitor visit_"+p.type)}throw Error("Invalid node.")}},function(p){return e.visit(p)}),(b=b||{}).parse=function(){var p=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,g=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,m=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,Z=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,H=/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,t=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,h=/^(left|center|right|top|bottom)/i,k=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,n=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,S=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,q=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,D=/^\(/,I=/^\)/,b=/^,/,e=/^\#([0-9a-fA-F]+)/,N=/^([a-zA-Z]+)/,d=/^rgb/i,Q=/^rgba/i,$=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,w="";function Y(p){var g=new Error(w+": "+p);throw g.source=w,g}function i(){return P("linear-gradient",p,y)||P("repeating-linear-gradient",g,y)||P("radial-gradient",m,W)||P("repeating-radial-gradient",Z,W)}function P(p,g,m){return J(g,(function(g){var Z=m();return Z&&(r(b)||Y("Missing comma before color stops")),{type:p,orientation:Z,colorStops:u(a)}}))}function J(p,g){var m=r(p);if(m){r(D)||Y("Missing (");var Z=g(m);return r(I)||Y("Missing )"),Z}}function y(){return j("directional",H,1)||j("angular",q,1)}function W(){var p,g,m=v();return m&&((p=[]).push(m),g=w,r(b)&&((m=v())?p.push(m):w=g)),p}function v(){var p=function(){var p=j("shape",/^(circle)/i,0);return p&&(p.style=K()||V()),p}()||function(){var p=j("shape",/^(ellipse)/i,0);return p&&(p.style=X()||V()),p}();if(p)p.at=z();else{var g=V();if(g){p=g;var m=z();m&&(p.at=m)}else{var Z=B();Z&&(p={type:"default-radial",at:Z})}}return p}function V(){return j("extent-keyword",t,1)}function z(){if(j("position",/^at/,0)){var p=B();return p||Y("Missing positioning value"),p}}function B(){var p={x:X(),y:X()};if(p.x||p.y)return{type:"position",value:p}}function u(p){var g=p(),m=[];if(g)for(m.push(g);r(b);)(g=p())?m.push(g):Y("One extra comma");return m}function a(){var p=j("hex",e,1)||J(Q,(function(){return{type:"rgba",value:u(F)}}))||J(d,(function(){return{type:"rgb",value:u(F)}}))||j("literal",N,0);return p||Y("Expected color definition"),p.length=X(),p}function F(){return r($)[1]}function X(){return j("%",n,1)||j("position-keyword",h,1)||K()}function K(){return j("px",k,1)||j("em",S,1)}function j(p,g,m){var Z=r(g);if(Z)return{type:p,value:Z[m]}}function r(p){var g,m;return(m=/^[\n\r\t\s]+/.exec(w))&&U(m[0].length),(g=p.exec(w))&&U(g[0].length),g}function U(p){w=w.substr(p)}return function(p){return w=p.toString(),function(){var p=u(i);return w.length>0&&Y("Invalid input not EOF"),p}()}}();var Q=b.parse;b.stringify;var $={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},w={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},Y={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},i={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(p){var g,m,Z,H,t,h=p[0]/360,k=p[1]/100,n=p[2]/100;if(0===k)return[t=255*n,t,t];g=2*n-(m=n<.5?n*(1+k):n+k-n*k),H=[0,0,0];for(var S=0;S<3;S++)(Z=h+1/3*-(S-1))<0?Z++:Z>1&&Z--,t=6*Z<1?g+6*(m-g)*Z:2*Z<1?m:3*Z<2?g+(m-g)*(2/3-Z)*6:g,H[S]=255*t;return H}};function P(p){switch(typeof p){case"string":return function(p){const g=function(p){Array.isArray(p)&&p.raw&&(p=String.raw(...arguments));var g,m=function(p){var g,m,Z=[],H=1;if("string"==typeof p)if($[p])Z=$[p].slice(),m="rgb";else if("transparent"===p)H=0,m="rgb",Z=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(p)){var t=p.slice(1);H=1,(n=t.length)<=4?(Z=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],4===n&&(H=parseInt(t[3]+t[3],16)/255)):(Z=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],8===n&&(H=parseInt(t[6]+t[7],16)/255)),Z[0]||(Z[0]=0),Z[1]||(Z[1]=0),Z[2]||(Z[2]=0),m="rgb"}else if(g=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(p)){var h=g[1],k="rgb"===h;m=t=h.replace(/a$/,"");var n="cmyk"===t?4:"gray"===t?1:3;Z=g[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(p,g){if(/%$/.test(p))return g===n?parseFloat(p)/100:"rgb"===t?255*parseFloat(p)/100:parseFloat(p);if("h"===t[g]){if(/deg$/.test(p))return parseFloat(p);if(void 0!==w[p])return w[p]}return parseFloat(p)})),h===t&&Z.push(1),H=k||void 0===Z[n]?1:Z[n],Z=Z.slice(0,n)}else p.length>10&&/[0-9](?:\s|\/)/.test(p)&&(Z=p.match(/([0-9]+)/g).map((function(p){return parseFloat(p)})),m=p.match(/([a-z])/gi).join("").toLowerCase());else isNaN(p)?Array.isArray(p)||p.length?(Z=[p[0],p[1],p[2]],m="rgb",H=4===p.length?p[3]:1):p instanceof Object&&(null!=p.r||null!=p.red||null!=p.R?(m="rgb",Z=[p.r||p.red||p.R||0,p.g||p.green||p.G||0,p.b||p.blue||p.B||0]):(m="hsl",Z=[p.h||p.hue||p.H||0,p.s||p.saturation||p.S||0,p.l||p.lightness||p.L||p.b||p.brightness]),H=p.a||p.alpha||p.opacity||1,null!=p.opacity&&(H/=100)):(m="rgb",Z=[p>>>16,(65280&p)>>>8,255&p]);return{space:m,values:Z,alpha:H}}(p);if(!m.space)return[];const Z="h"===m.space[0]?i.min:Y.min,H="h"===m.space[0]?i.max:Y.max;return(g=Array(3))[0]=Math.min(Math.max(m.values[0],Z[0]),H[0]),g[1]=Math.min(Math.max(m.values[1],Z[1]),H[1]),g[2]=Math.min(Math.max(m.values[2],Z[2]),H[2]),"h"===m.space[0]&&(g=i.rgb(g)),g.push(Math.min(Math.max(m.alpha,0),1)),g}(p);if(!g)throw new Error(`Unable to parse color "${p}" as RGBA.`);return[g[0]/255,g[1]/255,g[2]/255,g[3]]}(p);case"number":return Z.Wp.hex2rgb(p);default:return p}}function J(p){return P(function(p){switch(p.type){case"hex":return`#${p.value}`;case"literal":return p.value;default:return`${p.type}(${p.value.join(",")})`}}(p))}function y(p){return p.toString().length>6?parseFloat(p.toString().substring(0,6)):p}Y.hsl=function(p){var g,m,Z=p[0]/255,H=p[1]/255,t=p[2]/255,h=Math.min(Z,H,t),k=Math.max(Z,H,t),n=k-h;return k===h?g=0:Z===k?g=(H-t)/n:H===k?g=2+(t-Z)/n:t===k&&(g=4+(Z-H)/n),(g=Math.min(60*g,360))<0&&(g+=360),m=(h+k)/2,[g,100*(k===h?0:m<=.5?n/(k+h):n/(2-k-h)),100*m]};var W=Object.defineProperty,v=Object.defineProperties,V=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,a=(p,g,m)=>g in p?W(p,g,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[g]=m,F=(p,g)=>{for(var m in g||(g={}))B.call(g,m)&&a(p,m,g[m]);if(z)for(var m of z(g))u.call(g,m)&&a(p,m,g[m]);return p};const X=90,K=class extends Z.dJ{constructor(p){p&&"css"in p&&(p=((p,g)=>v(p,V(g)))(F({},function(p){const g=Q(function(p){let g=p.replace(/\s{2,}/gu," ");return g=g.replace(/;/g,""),g=g.replace(/ ,/g,","),g=g.replace(/\( /g,"("),g=g.replace(/ \)/g,")"),g.trim()}(p));if(0===g.length)throw new Error("Invalid CSS gradient.");if(1!==g.length)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const m=g[0],Z=function(p){const g={"linear-gradient":0,"radial-gradient":1};if(!(p in g))throw new Error(`Unsupported gradient type "${p}"`);return g[p]}(m.type),H=function(p){const g=function(p){const g=[];for(let m=0;m<p.length;m++){const Z=p[m];let H=-1;"literal"===Z.type&&Z.length&&"type"in Z.length&&"%"===Z.length.type&&"value"in Z.length&&(H=parseFloat(Z.length.value)/100),g.push(H)}const m=p=>{for(let m=p;m<g.length;m++)if(-1!==g[m])return{indexDelta:m-p,offset:g[m]};return{indexDelta:g.length-1-p,offset:1}};let Z=0;for(let p=0;p<g.length;p++){const H=g[p];if(-1!==H)Z=H;else if(0===p)g[p]=0;else if(p+1===g.length)g[p]=1;else{const H=m(p),t=(H.offset-Z)/(1+H.indexDelta);for(let m=0;m<=H.indexDelta;m++)g[p+m]=Z+(m+1)*t;p+=H.indexDelta,Z=g[p]}}return g.map(y)}(p),m=[];for(let Z=0;Z<p.length;Z++){const H=J(p[Z]);m.push({offset:g[Z],color:H.slice(0,3),alpha:H[3]})}return m}(m.colorStops),t=function(p){if(void 0===p)return 0;if("type"in p&&"value"in p)switch(p.type){case"angular":return parseFloat(p.value);case"directional":return function(p){const g={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(p in g))throw new Error(`Unsupported directional value "${p}"`);return g[p]}(p.value)}return 0}(m.orientation);return{type:Z,stops:H,angle:t}}(p.css||"")),{alpha:p.alpha,maxColors:p.maxColors}));const g=F(F({},K.defaults),p);if(!g.stops||g.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");super(d,N),this._stops=[],this.autoFit=!1,Object.assign(this,g)}get stops(){return this._stops}set stops(p){const g=function(p){return[...p].sort(((p,g)=>p.offset-g.offset))}(p),m=new Float32Array(3*g.length),Z=0,H=1,t=2;for(let p=0;p<g.length;p++){const h=P(g[p].color),k=3*p;m[k+Z]=h[Z],m[k+H]=h[H],m[k+t]=h[t]}this.uniforms.uColors=m,this.uniforms.uOffsets=g.map((p=>p.offset)),this.uniforms.uAlphas=g.map((p=>p.alpha)),this.uniforms.uNumStops=g.length,this._stops=g}set type(p){this.uniforms.uType=p}get type(){return this.uniforms.uType}set angle(p){this.uniforms.uAngle=p-X}get angle(){return this.uniforms.uAngle+X}set alpha(p){this.uniforms.uAlpha=p}get alpha(){return this.uniforms.uAlpha}set maxColors(p){this.uniforms.uMaxColors=p}get maxColors(){return this.uniforms.uMaxColors}};let j=K;j.LINEAR=0,j.RADIAL=1,j.CONIC=2,j.defaults={type:K.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0},Z.dJ,Z.dJ,Z.dJ,Z.dJ,Z.dJ;var r=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,U=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nconst float SQRT_2 = 1.414213;\n\nconst float light = 1.0;\n\nuniform float curvature;\nuniform float lineWidth;\nuniform float lineContrast;\nuniform bool verticalLine;\nuniform float noise;\nuniform float noiseSize;\n\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\n\nuniform float seed;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));\n    \n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 rgb = gl_FragColor.rgb;\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        rgb += _noise * noise;\n    }\n\n    if (lineWidth > 0.0)\n    {\n        float _c = curvature > 0. ? curvature : 1.;\n        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\n        vec2 uv = dir * k;\n\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\n        rgb *= j;\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\n        rgb *= 0.99 + ceil(segment) * 0.015;\n    }\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    gl_FragColor.rgb = rgb;\n}\n`;const C=class extends Z.dJ{constructor(p){super(r,U),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,C.defaults,p)}apply(p,g,m,Z){const{width:H,height:t}=g.filterFrame;this.uniforms.dimensions[0]=H,this.uniforms.dimensions[1]=t,this.uniforms.seed=this.seed,this.uniforms.time=this.time,p.applyFilter(this,g,m,Z)}set curvature(p){this.uniforms.curvature=p}get curvature(){return this.uniforms.curvature}set lineWidth(p){this.uniforms.lineWidth=p}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(p){this.uniforms.lineContrast=p}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(p){this.uniforms.verticalLine=p}get verticalLine(){return this.uniforms.verticalLine}set noise(p){this.uniforms.noise=p}get noise(){return this.uniforms.noise}set noiseSize(p){this.uniforms.noiseSize=p}get noiseSize(){return this.uniforms.noiseSize}set vignetting(p){this.uniforms.vignetting=p}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(p){this.uniforms.vignettingAlpha=p}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(p){this.uniforms.vignettingBlur=p}get vignettingBlur(){return this.uniforms.vignettingBlur}};C.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},Z.dJ,m(476),Z.dJ,m(614812);var x=m(577184),R=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,c=`vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n`,O=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 light;\nuniform bool parallel;\nuniform float aspect;\n\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\nuniform float alpha;\n\n\${perlin}\n\nvoid main(void) {\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float d;\n\n    if (parallel) {\n        float _cos = light.x;\n        float _sin = light.y;\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\n    } else {\n        float dx = coord.x - light.x / dimensions.x;\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\n        d = dy / dis;\n    }\n\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n    // apply user alpha\n    mist *= alpha;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\n\n}\n`;const f=class extends Z.dJ{constructor(p){super(R,O.replace("${perlin}",c)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const g=Object.assign(f.defaults,p);this._angleLight=new Z.bR,this.angle=g.angle,this.gain=g.gain,this.lacunarity=g.lacunarity,this.alpha=g.alpha,this.parallel=g.parallel,this.center=g.center,this.time=g.time}apply(p,g,m,Z){const{width:H,height:t}=g.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=H,this.uniforms.dimensions[1]=t,this.uniforms.aspect=t/H,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,p.applyFilter(this,g,m,Z)}get angle(){return this._angle}set angle(p){this._angle=p;const g=p*Z.Td;this._angleLight.x=Math.cos(g),this._angleLight.y=Math.sin(g)}get gain(){return this.uniforms.gain}set gain(p){this.uniforms.gain=p}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(p){this.uniforms.lacunarity=p}get alpha(){return this.uniforms.alpha}set alpha(p){this.uniforms.alpha=p}};f.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1},Z.dJ;var _=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,E=`precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float uHue;\nuniform float uAlpha;\nuniform bool uColorize;\nuniform float uSaturation;\nuniform float uLightness;\n\n// https://en.wikipedia.org/wiki/Luma_(video)\nconst vec3 weight = vec3(0.299, 0.587, 0.114);\n\nfloat getWeightedAverage(vec3 rgb) {\n    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;\n}\n\n// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243\nconst vec3 k = vec3(0.57735, 0.57735, 0.57735);\n\nvec3 hueShift(vec3 color, float angle) {\n    float cosAngle = cos(angle);\n    return vec3(\n    color * cosAngle +\n    cross(k, color) * sin(angle) +\n    k * dot(k, color) * (1.0 - cosAngle)\n    );\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    vec4 result = color;\n\n    // colorize\n    if (uColorize) {\n        result.rgb = vec3(getWeightedAverage(result.rgb), 0., 0.);\n    }\n\n    // hue\n    result.rgb = hueShift(result.rgb, uHue);\n\n    // saturation\n    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js\n    float average = (result.r + result.g + result.b) / 3.0;\n\n    if (uSaturation > 0.) {\n        result.rgb += (average - result.rgb) * (1. - 1. / (1.001 - uSaturation));\n    } else {\n        result.rgb -= (average - result.rgb) * uSaturation;\n    }\n\n    // lightness\n    result.rgb = mix(result.rgb, vec3(ceil(uLightness)) * color.a, abs(uLightness));\n\n    // alpha\n    gl_FragColor = mix(color, result, uAlpha);\n}\n`;const G=class extends Z.dJ{constructor(p){super(_,E),this._hue=0;const g=Object.assign({},G.defaults,p);Object.assign(this,g)}get hue(){return this._hue}set hue(p){this._hue=p,this.uniforms.uHue=this._hue*(Math.PI/180)}get alpha(){return this.uniforms.uAlpha}set alpha(p){this.uniforms.uAlpha=p}get colorize(){return this.uniforms.uColorize}set colorize(p){this.uniforms.uColorize=p}get lightness(){return this.uniforms.uLightness}set lightness(p){this.uniforms.uLightness=p}get saturation(){return this.uniforms.uSaturation}set saturation(p){this.uniforms.uSaturation=p}};G.defaults={hue:0,saturation:0,lightness:0,colorize:!1,alpha:1},m(543068),Z.dJ;var M=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,s=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n`;const T=class extends Z.dJ{constructor(p,g=0){super(M,s),this.seed=0,this.uniforms.dimensions=new Float32Array(2),"number"==typeof p?(this.seed=p,p=void 0):this.seed=g,Object.assign(this,T.defaults,p)}apply(p,g,m,Z){var H,t;this.uniforms.dimensions[0]=null==(H=g.filterFrame)?void 0:H.width,this.uniforms.dimensions[1]=null==(t=g.filterFrame)?void 0:t.height,this.uniforms.seed=this.seed,p.applyFilter(this,g,m,Z)}set sepia(p){this.uniforms.sepia=p}get sepia(){return this.uniforms.sepia}set noise(p){this.uniforms.noise=p}get noise(){return this.uniforms.noise}set noiseSize(p){this.uniforms.noiseSize=p}get noiseSize(){return this.uniforms.noiseSize}set scratch(p){this.uniforms.scratch=p}get scratch(){return this.uniforms.scratch}set scratchDensity(p){this.uniforms.scratchDensity=p}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(p){this.uniforms.scratchWidth=p}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(p){this.uniforms.vignetting=p}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(p){this.uniforms.vignettingAlpha=p}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(p){this.uniforms.vignettingBlur=p}get vignettingBlur(){return this.uniforms.vignettingBlur}};T.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3},m(702328),Z.dJ,Z.dJ,m(914712),Z.dJ,m(689800),Z.dJ;var l=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,A=`varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    color /= total;\n    color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n`;class L extends Z.dJ{constructor(p){var g,m;super(l,A),this.uniforms.blur=p.blur,this.uniforms.gradientBlur=p.gradientBlur,this.uniforms.start=null!=(g=p.start)?g:new Z.bR(0,window.innerHeight/2),this.uniforms.end=null!=(m=p.end)?m:new Z.bR(600,window.innerHeight/2),this.uniforms.delta=new Z.bR(30,30),this.uniforms.texSize=new Z.bR(window.innerWidth,window.innerHeight),this.updateDelta()}updateDelta(){this.uniforms.delta.x=0,this.uniforms.delta.y=0}get blur(){return this.uniforms.blur}set blur(p){this.uniforms.blur=p}get gradientBlur(){return this.uniforms.gradientBlur}set gradientBlur(p){this.uniforms.gradientBlur=p}get start(){return this.uniforms.start}set start(p){this.uniforms.start=p,this.updateDelta()}get end(){return this.uniforms.end}set end(p){this.uniforms.end=p,this.updateDelta()}}class o extends L{updateDelta(){const p=this.uniforms.end.x-this.uniforms.start.x,g=this.uniforms.end.y-this.uniforms.start.y,m=Math.sqrt(p*p+g*g);this.uniforms.delta.x=p/m,this.uniforms.delta.y=g/m}}class pp extends L{updateDelta(){const p=this.uniforms.end.x-this.uniforms.start.x,g=this.uniforms.end.y-this.uniforms.start.y,m=Math.sqrt(p*p+g*g);this.uniforms.delta.x=-g/m,this.uniforms.delta.y=p/m}}const gp=class extends Z.dJ{constructor(p,g,m,H){super(),"number"==typeof p&&(Z.Wp.deprecation("5.3.0","TiltShiftFilter constructor arguments is deprecated, use options."),p={blur:p,gradientBlur:g,start:m,end:H}),p=Object.assign({},gp.defaults,p),this.tiltShiftXFilter=new o(p),this.tiltShiftYFilter=new pp(p)}apply(p,g,m,Z){const H=p.getFilterTexture();this.tiltShiftXFilter.apply(p,g,H,1),this.tiltShiftYFilter.apply(p,H,m,Z),p.returnFilterTexture(H)}get blur(){return this.tiltShiftXFilter.blur}set blur(p){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=p}get gradientBlur(){return this.tiltShiftXFilter.gradientBlur}set gradientBlur(p){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=p}get start(){return this.tiltShiftXFilter.start}set start(p){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=p}get end(){return this.tiltShiftXFilter.end}set end(p){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=p}};gp.defaults={blur:100,gradientBlur:600,start:void 0,end:void 0};var mp=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,Zp=`varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n`;const Hp=class extends Z.dJ{constructor(p){super(mp,Zp),Object.assign(this,Hp.defaults,p)}get offset(){return this.uniforms.offset}set offset(p){this.uniforms.offset=p}get radius(){return this.uniforms.radius}set radius(p){this.uniforms.radius=p}get angle(){return this.uniforms.angle}set angle(p){this.uniforms.angle=p}};Hp.defaults={radius:200,angle:4,padding:20,offset:new Z.bR},m(412508)},573098:(p,g,m)=>{m.d(g,{I9:()=>H.I9,cj:()=>H.cj,wh:()=>H.wh,yE:()=>Z.yE});var Z=m(766905),H=m(367866);m(370757)},478128:(p,g,m)=>{m.d(g,{Dl5:()=>Zg,lgM:()=>_,sP:()=>G.sP,B9A:()=>Z.B9,BxG:()=>vg,T7$:()=>Xg,eV2:()=>S.e,Q1f:()=>Z.Q1,mcf:()=>H.mc,Tde:()=>Z.Td,AgS:()=>Z.Ag,dJT:()=>Z.dJ,A1g:()=>lp.A1,MpE:()=>lp.Mp,u2q:()=>lp.u2,oA$:()=>Z.oA,wSt:()=>Lp,bRX:()=>Z.bR,M_G:()=>Z.M_,Y7R:()=>Z.Y7,kxk:()=>t.k,zo6:()=>Ig,Ta0:()=>dg.T,EYj:()=>dg.EY,gPd:()=>Z.gP,RvI:()=>Z.Rv,dLy:()=>Z.dL,XOh:()=>Z.XO,W0u:()=>Z.W0});var Z=m(316197),H=m(110715),t=m(672076);const h=new Z.uq;H.q9.prototype._cacheAsBitmap=!1,H.q9.prototype._cacheData=null,H.q9.prototype._cacheAsBitmapResolution=null,H.q9.prototype._cacheAsBitmapMultisample=null;class k{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(H.q9.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(p){p!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=p,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(p){p!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=p,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(p){if(this._cacheAsBitmap===p)return;let g;this._cacheAsBitmap=p,p?(this._cacheData||(this._cacheData=new k),g=this._cacheData,g.originalRender=this.render,g.originalRenderCanvas=this.renderCanvas,g.originalUpdateTransform=this.updateTransform,g.originalCalculateBounds=this.calculateBounds,g.originalGetLocalBounds=this.getLocalBounds,g.originalDestroy=this.destroy,g.originalContainsPoint=this.containsPoint,g.originalMask=this._mask,g.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(g=this._cacheData,g.sprite&&this._destroyCachedDisplayObject(),this.render=g.originalRender,this.renderCanvas=g.originalRenderCanvas,this.calculateBounds=g.originalCalculateBounds,this.getLocalBounds=g.originalGetLocalBounds,this.destroy=g.originalDestroy,this.updateTransform=g.originalUpdateTransform,this.containsPoint=g.originalContainsPoint,this._mask=g.originalMask,this.filterArea=g.originalFilterArea)}}}),H.q9.prototype._renderCached=function(p){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(p),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(p))},H.q9.prototype._initCachedDisplayObject=function(p){var g,m,H;if(null===(g=this._cacheData)||void 0===g?void 0:g.sprite)return;const k=this.alpha;this.alpha=1,p.batch.flush();const n=this.getLocalBounds(new Z.M_,!0);if(null===(m=this.filters)||void 0===m?void 0:m.length){const p=this.filters[0].padding;n.pad(p)}const S=this.cacheAsBitmapResolution||p.resolution;n.ceil(S),n.width=Math.max(n.width,1/S),n.height=Math.max(n.height,1/S);const q=p.renderTexture.current,D=p.renderTexture.sourceFrame.clone(),I=p.renderTexture.destinationFrame.clone(),b=p.projection.transform,e=Z.Y7.create({width:n.width,height:n.height,resolution:S,multisample:null!==(H=this.cacheAsBitmapMultisample)&&void 0!==H?H:p.multisample}),N=`cacheAsBitmap_${Z.Wp.uid()}`;this._cacheData.textureCacheId=N,Z.t5.addToCache(e.baseTexture,N),Z.gP.addToCache(e,N);const d=this.transform.localTransform.copyTo(h).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,p.render(this,{renderTexture:e,clear:!0,transform:d,skipUpdateTransform:!1}),p.framebuffer.blit(),p.projection.transform=b,p.renderTexture.bind(q,D,I),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=k;const Q=new t.k(e);Q.transform.worldTransform=this.transform.worldTransform,Q.anchor.x=-n.x/n.width,Q.anchor.y=-n.y/n.height,Q.alpha=k,Q._bounds=this._bounds,this._cacheData.sprite=Q,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=Q.containsPoint.bind(Q)},H.q9.prototype._renderCachedCanvas=function(p){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(p),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(p))},H.q9.prototype._initCachedDisplayObjectCanvas=function(p){var g;if(null===(g=this._cacheData)||void 0===g?void 0:g.sprite)return;const m=this.getLocalBounds(new Z.M_,!0),H=this.alpha;this.alpha=1;const k=p.canvasContext.activeContext,n=p._projTransform,S=this.cacheAsBitmapResolution||p.resolution;m.ceil(S),m.width=Math.max(m.width,1/S),m.height=Math.max(m.height,1/S);const q=Z.Y7.create({width:m.width,height:m.height,resolution:S}),D=`cacheAsBitmap_${Z.Wp.uid()}`;this._cacheData.textureCacheId=D,Z.t5.addToCache(q.baseTexture,D),Z.gP.addToCache(q,D);const I=h;this.transform.localTransform.copyTo(I),I.invert(),I.tx-=m.x,I.ty-=m.y,this.renderCanvas=this._cacheData.originalRenderCanvas,p.render(this,{renderTexture:q,clear:!0,transform:I,skipUpdateTransform:!1}),p.canvasContext.activeContext=k,p._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=H;const b=new t.k(q);b.transform.worldTransform=this.transform.worldTransform,b.anchor.x=-m.x/m.width,b.anchor.y=-m.y/m.height,b.alpha=H,b._bounds=this._bounds,this._cacheData.sprite=b,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=p._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=b.containsPoint.bind(b)},H.q9.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},H.q9.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},H.q9.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Z.t5.removeFromCache(this._cacheData.textureCacheId),Z.gP.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},H.q9.prototype._cacheAsBitmapDestroy=function(p){this.cacheAsBitmap=!1,this.destroy(p)},H.q9.prototype.name=null,H.mc.prototype.getChildByName=function(p,g){for(let g=0,m=this.children.length;g<m;g++)if(this.children[g].name===p)return this.children[g];if(g)for(let g=0,m=this.children.length;g<m;g++){const m=this.children[g];if(!m.getChildByName)continue;const Z=m.getChildByName(p,!0);if(Z)return Z}return null},H.q9.prototype.getGlobalPosition=function(p=new Z.bR,g=!1){return this.parent?this.parent.toGlobal(this.position,p,g):(p.x=this.position.x,p.y=this.position.y),p};var n=m(246638),S=m(528176),q=m(698539),D=m(132565),I=`varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n`,b=`\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n`;class e extends Z.dJ{constructor(){super(b,I)}}var N=`precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n`;class d extends Z.dJ{constructor(p=.5,g=Math.random()){super(Z.Eo,N,{uNoise:0,uSeed:0}),this.noise=p,this.seed=g}get noise(){return this.uniforms.uNoise}set noise(p){this.uniforms.uNoise=p}get seed(){return this.uniforms.uSeed}set seed(p){this.uniforms.uSeed=p}}const Q={AlphaFilter:n.Z,BlurFilter:S.e,BlurFilterPass:S.H,ColorMatrixFilter:q.N,DisplacementFilter:D.U,FXAAFilter:e,NoiseFilter:d};Object.entries(Q).forEach((([p,g])=>{Object.defineProperty(Q,p,{get:()=>(Z.Wp.deprecation("7.1.0",`filters.${p} has moved to ${p}`),g)})}));const $=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(p){this.removeTickerListener(),this.events=p,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(p){this._pauseUpdate=p}addTickerListener(){this.tickerAdded||!this.domElement||(Z.Rv.system.add(this.tickerUpdate,this,Z.dQ.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Z.Rv.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const p=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===p.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:p.clientX,clientY:p.clientY}))}tickerUpdate(p){this._deltaTime+=p,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class w{constructor(p){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=w.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Z.bR,this.page=new Z.bR,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=p}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(p,g,m){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(p,g,m,Z,H){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Y extends w{constructor(){super(...arguments),this.client=new Z.bR,this.movement=new Z.bR,this.offset=new Z.bR,this.global=new Z.bR,this.screen=new Z.bR}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(p,g,m){return p.worldTransform.applyInverse(m||this.global,g)}getModifierState(p){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(p)}initMouseEvent(p,g,m,Z,H,t,h,k,n,S,q,D,I,b,e){throw new Error("Method not implemented.")}}class i extends Y{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class P extends Y{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}P.DOM_DELTA_PIXEL=0,P.DOM_DELTA_LINE=1,P.DOM_DELTA_PAGE=2;const J=2048,y=new Z.bR,W=new Z.bR;class v{constructor(p){this.dispatch=new Z.Wp.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=p,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(p,g){this.mappingTable[p]||(this.mappingTable[p]=[]),this.mappingTable[p].push({fn:g,priority:0}),this.mappingTable[p].sort(((p,g)=>p.priority-g.priority))}dispatchEvent(p,g){p.propagationStopped=!1,p.propagationImmediatelyStopped=!1,this.propagate(p,g),this.dispatch.emit(g||p.type,p)}mapEvent(p){if(!this.rootTarget)return;const g=this.mappingTable[p.type];if(g)for(let m=0,Z=g.length;m<Z;m++)g[m].fn(p);else console.warn(`[EventBoundary]: Event mapping not defined for ${p.type}`)}hitTest(p,g){$.pauseUpdate=!0;const m=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,y.set(p,g),this.hitTestFn,this.hitPruneFn);return m&&m[0]}propagate(p,g){if(!p.target)return;const m=p.composedPath();p.eventPhase=p.CAPTURING_PHASE;for(let Z=0,H=m.length-1;Z<H;Z++)if(p.currentTarget=m[Z],this.notifyTarget(p,g),p.propagationStopped||p.propagationImmediatelyStopped)return;if(p.eventPhase=p.AT_TARGET,p.currentTarget=p.target,this.notifyTarget(p,g),!p.propagationStopped&&!p.propagationImmediatelyStopped){p.eventPhase=p.BUBBLING_PHASE;for(let Z=m.length-2;Z>=0;Z--)if(p.currentTarget=m[Z],this.notifyTarget(p,g),p.propagationStopped||p.propagationImmediatelyStopped)return}}all(p,g,m=this._allInteractiveElements){if(0===m.length)return;p.eventPhase=p.BUBBLING_PHASE;const Z=Array.isArray(g)?g:[g];for(let g=m.length-1;g>=0;g--)Z.forEach((Z=>{p.currentTarget=m[g],this.notifyTarget(p,Z)}))}propagationPath(p){const g=[p];for(let m=0;m<J&&p!==this.rootTarget;m++){if(!p.parent)throw new Error("Cannot find propagation path to disconnected target");g.push(p.parent),p=p.parent}return g.reverse(),g}hitTestMoveRecursive(p,g,m,Z,H,t=!1){let h=!1;if(this._interactivePrune(p))return null;if(("dynamic"===p.eventMode||"dynamic"===g)&&($.pauseUpdate=!1),p.interactiveChildren&&p.children){const k=p.children;for(let n=k.length-1;n>=0;n--){const S=k[n],q=this.hitTestMoveRecursive(S,this._isInteractive(g)?g:S.eventMode,m,Z,H,t||H(p,m));if(q){if(q.length>0&&!q[q.length-1].parent)continue;const g=p.isInteractive();(q.length>0||g)&&(g&&this._allInteractiveElements.push(p),q.push(p)),0===this._hitElements.length&&(this._hitElements=q),h=!0}}}const k=this._isInteractive(g),n=p.isInteractive();return k&&n&&this._allInteractiveElements.push(p),t||this._hitElements.length>0?null:h?this._hitElements:k&&!H(p,m)&&Z(p,m)?n?[p]:[]:null}hitTestRecursive(p,g,m,Z,H){if(this._interactivePrune(p)||H(p,m))return null;if(("dynamic"===p.eventMode||"dynamic"===g)&&($.pauseUpdate=!1),p.interactiveChildren&&p.children){const t=p.children;for(let h=t.length-1;h>=0;h--){const k=t[h],n=this.hitTestRecursive(k,this._isInteractive(g)?g:k.eventMode,m,Z,H);if(n){if(n.length>0&&!n[n.length-1].parent)continue;const g=p.isInteractive();return(n.length>0||g)&&n.push(p),n}}}const t=this._isInteractive(g),h=p.isInteractive();return t&&Z(p,m)?h?[p]:[]:null}_isInteractive(p){return"static"===p||"dynamic"===p}_interactivePrune(p){return!(p&&!p.isMask&&p.visible&&p.renderable&&"none"!==p.eventMode&&("passive"!==p.eventMode||p.interactiveChildren)&&!p.isMask)}hitPruneFn(p,g){var m;if(p.hitArea&&(p.worldTransform.applyInverse(g,W),!p.hitArea.contains(W.x,W.y)))return!0;if(p._mask){const Z=p._mask.isMaskData?p._mask.maskObject:p._mask;if(Z&&!(null===(m=Z.containsPoint)||void 0===m?void 0:m.call(Z,g)))return!0}return!1}hitTestFn(p,g){return"passive"!==p.eventMode&&(!!p.hitArea||!!p.containsPoint&&p.containsPoint(g))}notifyTarget(p,g){var m,Z;const H=`on${g=null!=g?g:p.type}`;null===(Z=(m=p.currentTarget)[H])||void 0===Z||Z.call(m,p);const t=p.eventPhase===p.CAPTURING_PHASE||p.eventPhase===p.AT_TARGET?`${g}capture`:g;this.notifyListeners(p,t),p.eventPhase===p.AT_TARGET&&this.notifyListeners(p,g)}mapPointerDown(p){if(!(p instanceof i))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const g=this.createPointerEvent(p);if(this.dispatchEvent(g,"pointerdown"),"touch"===g.pointerType)this.dispatchEvent(g,"touchstart");else if("mouse"===g.pointerType||"pen"===g.pointerType){const p=2===g.button;this.dispatchEvent(g,p?"rightdown":"mousedown")}this.trackingData(p.pointerId).pressTargetsByButton[p.button]=g.composedPath(),this.freeEvent(g)}mapPointerMove(p){var g,m,Z;if(!(p instanceof i))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const H=this.createPointerEvent(p);this._isPointerMoveEvent=!1;const t="mouse"===H.pointerType||"pen"===H.pointerType,h=this.trackingData(p.pointerId),k=this.findMountedTarget(h.overTargets);if((null===(g=h.overTargets)||void 0===g?void 0:g.length)>0&&k!==H.target){const g="mousemove"===p.type?"mouseout":"pointerout",m=this.createPointerEvent(p,g,k);if(this.dispatchEvent(m,"pointerout"),t&&this.dispatchEvent(m,"mouseout"),!H.composedPath().includes(k)){const g=this.createPointerEvent(p,"pointerleave",k);for(g.eventPhase=g.AT_TARGET;g.target&&!H.composedPath().includes(g.target);)g.currentTarget=g.target,this.notifyTarget(g),t&&this.notifyTarget(g,"mouseleave"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(m)}if(k!==H.target){const g="mousemove"===p.type?"mouseover":"pointerover",m=this.clonePointerEvent(H,g);this.dispatchEvent(m,"pointerover"),t&&this.dispatchEvent(m,"mouseover");let Z=null==k?void 0:k.parent;for(;Z&&Z!==this.rootTarget.parent&&Z!==H.target;)Z=Z.parent;if(!Z||Z===this.rootTarget.parent){const p=this.clonePointerEvent(H,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==k&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),t&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(m)}const n=[],S=null===(m=this.enableGlobalMoveEvents)||void 0===m||m;this.moveOnAll?n.push("pointermove"):this.dispatchEvent(H,"pointermove"),S&&n.push("globalpointermove"),"touch"===H.pointerType&&(this.moveOnAll?n.splice(1,0,"touchmove"):this.dispatchEvent(H,"touchmove"),S&&n.push("globaltouchmove")),t&&(this.moveOnAll?n.splice(1,0,"mousemove"):this.dispatchEvent(H,"mousemove"),S&&n.push("globalmousemove"),this.cursor=null===(Z=H.target)||void 0===Z?void 0:Z.cursor),n.length>0&&this.all(H,n),this._allInteractiveElements.length=0,this._hitElements.length=0,h.overTargets=H.composedPath(),this.freeEvent(H)}mapPointerOver(p){var g;if(!(p instanceof i))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const m=this.trackingData(p.pointerId),Z=this.createPointerEvent(p),H="mouse"===Z.pointerType||"pen"===Z.pointerType;this.dispatchEvent(Z,"pointerover"),H&&this.dispatchEvent(Z,"mouseover"),"mouse"===Z.pointerType&&(this.cursor=null===(g=Z.target)||void 0===g?void 0:g.cursor);const t=this.clonePointerEvent(Z,"pointerenter");for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),H&&this.notifyTarget(t,"mouseenter"),t.target=t.target.parent;m.overTargets=Z.composedPath(),this.freeEvent(Z),this.freeEvent(t)}mapPointerOut(p){if(!(p instanceof i))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const g=this.trackingData(p.pointerId);if(g.overTargets){const m="mouse"===p.pointerType||"pen"===p.pointerType,Z=this.findMountedTarget(g.overTargets),H=this.createPointerEvent(p,"pointerout",Z);this.dispatchEvent(H),m&&this.dispatchEvent(H,"mouseout");const t=this.createPointerEvent(p,"pointerleave",Z);for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),m&&this.notifyTarget(t,"mouseleave"),t.target=t.target.parent;g.overTargets=null,this.freeEvent(H),this.freeEvent(t)}this.cursor=null}mapPointerUp(p){if(!(p instanceof i))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const g=performance.now(),m=this.createPointerEvent(p);if(this.dispatchEvent(m,"pointerup"),"touch"===m.pointerType)this.dispatchEvent(m,"touchend");else if("mouse"===m.pointerType||"pen"===m.pointerType){const p=2===m.button;this.dispatchEvent(m,p?"rightup":"mouseup")}const Z=this.trackingData(p.pointerId),H=this.findMountedTarget(Z.pressTargetsByButton[p.button]);let t=H;if(H&&!m.composedPath().includes(H)){let g=H;for(;g&&!m.composedPath().includes(g);){if(m.currentTarget=g,this.notifyTarget(m,"pointerupoutside"),"touch"===m.pointerType)this.notifyTarget(m,"touchendoutside");else if("mouse"===m.pointerType||"pen"===m.pointerType){const p=2===m.button;this.notifyTarget(m,p?"rightupoutside":"mouseupoutside")}g=g.parent}delete Z.pressTargetsByButton[p.button],t=g}if(t){const H=this.clonePointerEvent(m,"click");H.target=t,H.path=null,Z.clicksByButton[p.button]||(Z.clicksByButton[p.button]={clickCount:0,target:H.target,timeStamp:g});const h=Z.clicksByButton[p.button];if(h.target===H.target&&g-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=H.target,h.timeStamp=g,H.detail=h.clickCount,"mouse"===H.pointerType){const p=2===H.button;this.dispatchEvent(H,p?"rightclick":"click")}else"touch"===H.pointerType&&this.dispatchEvent(H,"tap");this.dispatchEvent(H,"pointertap"),this.freeEvent(H)}this.freeEvent(m)}mapPointerUpOutside(p){if(!(p instanceof i))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const g=this.trackingData(p.pointerId),m=this.findMountedTarget(g.pressTargetsByButton[p.button]),Z=this.createPointerEvent(p);if(m){let H=m;for(;H;)Z.currentTarget=H,this.notifyTarget(Z,"pointerupoutside"),"touch"===Z.pointerType?this.notifyTarget(Z,"touchendoutside"):("mouse"===Z.pointerType||"pen"===Z.pointerType)&&this.notifyTarget(Z,2===Z.button?"rightupoutside":"mouseupoutside"),H=H.parent;delete g.pressTargetsByButton[p.button]}this.freeEvent(Z)}mapWheel(p){if(!(p instanceof P))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const g=this.createWheelEvent(p);this.dispatchEvent(g),this.freeEvent(g)}findMountedTarget(p){if(!p)return null;let g=p[0];for(let m=1;m<p.length&&p[m].parent===g;m++)g=p[m];return g}createPointerEvent(p,g,m){var Z;const H=this.allocateEvent(i);return this.copyPointerData(p,H),this.copyMouseData(p,H),this.copyData(p,H),H.nativeEvent=p.nativeEvent,H.originalEvent=p,H.target=null!==(Z=null!=m?m:this.hitTest(H.global.x,H.global.y))&&void 0!==Z?Z:this._hitElements[0],"string"==typeof g&&(H.type=g),H}createWheelEvent(p){const g=this.allocateEvent(P);return this.copyWheelData(p,g),this.copyMouseData(p,g),this.copyData(p,g),g.nativeEvent=p.nativeEvent,g.originalEvent=p,g.target=this.hitTest(g.global.x,g.global.y),g}clonePointerEvent(p,g){const m=this.allocateEvent(i);return m.nativeEvent=p.nativeEvent,m.originalEvent=p.originalEvent,this.copyPointerData(p,m),this.copyMouseData(p,m),this.copyData(p,m),m.target=p.target,m.path=p.composedPath().slice(),m.type=null!=g?g:m.type,m}copyWheelData(p,g){g.deltaMode=p.deltaMode,g.deltaX=p.deltaX,g.deltaY=p.deltaY,g.deltaZ=p.deltaZ}copyPointerData(p,g){p instanceof i&&g instanceof i&&(g.pointerId=p.pointerId,g.width=p.width,g.height=p.height,g.isPrimary=p.isPrimary,g.pointerType=p.pointerType,g.pressure=p.pressure,g.tangentialPressure=p.tangentialPressure,g.tiltX=p.tiltX,g.tiltY=p.tiltY,g.twist=p.twist)}copyMouseData(p,g){p instanceof Y&&g instanceof Y&&(g.altKey=p.altKey,g.button=p.button,g.buttons=p.buttons,g.client.copyFrom(p.client),g.ctrlKey=p.ctrlKey,g.metaKey=p.metaKey,g.movement.copyFrom(p.movement),g.screen.copyFrom(p.screen),g.shiftKey=p.shiftKey,g.global.copyFrom(p.global))}copyData(p,g){g.isTrusted=p.isTrusted,g.srcElement=p.srcElement,g.timeStamp=performance.now(),g.type=p.type,g.detail=p.detail,g.view=p.view,g.which=p.which,g.layer.copyFrom(p.layer),g.page.copyFrom(p.page)}trackingData(p){return this.mappingState.trackingData[p]||(this.mappingState.trackingData[p]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[p]}allocateEvent(p){this.eventPool.has(p)||this.eventPool.set(p,[]);const g=this.eventPool.get(p).pop()||new p(this);return g.eventPhase=g.NONE,g.currentTarget=null,g.path=null,g.target=null,g}freeEvent(p){if(p.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const g=p.constructor;this.eventPool.has(g)||this.eventPool.set(g,[]),this.eventPool.get(g).push(p)}notifyListeners(p,g){const m=p.currentTarget._events[g];if(m&&p.currentTarget.isInteractive())if("fn"in m)m.once&&p.currentTarget.removeListener(g,m.fn,void 0,!0),m.fn.call(m.context,p);else for(let Z=0,H=m.length;Z<H&&!p.propagationImmediatelyStopped;Z++)m[Z].once&&p.currentTarget.removeListener(g,m[Z].fn,void 0,!0),m[Z].fn.call(m[Z].context,p)}}const V=1,z={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},B=class p{constructor(g){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=g,this.rootBoundary=new v(null),$.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new i(null),this.rootWheelEvent=new P(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...p.defaultEventFeatures},{set:(p,g,m)=>("globalMove"===g&&(this.rootBoundary.enableGlobalMoveEvents=m),p[g]=m,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(g){var m,Z;const{view:H,resolution:t}=this.renderer;this.setTargetElement(H),this.resolution=t,p._defaultEventMode=null!==(m=g.eventMode)&&void 0!==m?m:"auto",Object.assign(this.features,null!==(Z=g.eventFeatures)&&void 0!==Z?Z:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(p){this.resolution=p}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(p){p=p||"default";let g=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(g=!1),this.currentCursor===p)return;this.currentCursor=p;const m=this.cursorStyles[p];if(m)switch(typeof m){case"string":g&&(this.domElement.style.cursor=m);break;case"function":m(p);break;case"object":g&&Object.assign(this.domElement.style,m)}else g&&"string"==typeof p&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,p)&&(this.domElement.style.cursor=p)}get pointer(){return this.rootPointerEvent}onPointerDown(p){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const g=this.normalizeToPointerData(p);this.autoPreventDefault&&g[0].isNormalized&&(p.cancelable||!("cancelable"in p))&&p.preventDefault();for(let p=0,m=g.length;p<m;p++){const m=g[p],Z=this.bootstrapEvent(this.rootPointerEvent,m);this.rootBoundary.mapEvent(Z)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(p){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,$.pointerMoved();const g=this.normalizeToPointerData(p);for(let p=0,m=g.length;p<m;p++){const m=this.bootstrapEvent(this.rootPointerEvent,g[p]);this.rootBoundary.mapEvent(m)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(p){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let g=p.target;p.composedPath&&p.composedPath().length>0&&(g=p.composedPath()[0]);const m=g!==this.domElement?"outside":"",Z=this.normalizeToPointerData(p);for(let p=0,g=Z.length;p<g;p++){const g=this.bootstrapEvent(this.rootPointerEvent,Z[p]);g.type+=m,this.rootBoundary.mapEvent(g)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(p){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const g=this.normalizeToPointerData(p);for(let p=0,m=g.length;p<m;p++){const m=this.bootstrapEvent(this.rootPointerEvent,g[p]);this.rootBoundary.mapEvent(m)}this.setCursor(this.rootBoundary.cursor)}onWheel(p){if(!this.features.wheel)return;const g=this.normalizeWheelEvent(p);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(g)}setTargetElement(p){this.removeEvents(),this.domElement=p,$.domElement=p,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;$.addTickerListener();const p=this.domElement.style;p&&(globalThis.navigator.msPointerEnabled?(p.msContentZooming="none",p.msTouchAction="none"):this.supportsPointerEvents&&(p.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;$.removeTickerListener();const p=this.domElement.style;globalThis.navigator.msPointerEnabled?(p.msContentZooming="",p.msTouchAction=""):this.supportsPointerEvents&&(p.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(p,g,m){const Z=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},H=1/this.resolution;p.x=(g-Z.left)*(this.domElement.width/Z.width)*H,p.y=(m-Z.top)*(this.domElement.height/Z.height)*H}normalizeToPointerData(p){const g=[];if(this.supportsTouchEvents&&p instanceof TouchEvent)for(let m=0,Z=p.changedTouches.length;m<Z;m++){const Z=p.changedTouches[m];typeof Z.button>"u"&&(Z.button=0),typeof Z.buttons>"u"&&(Z.buttons=1),typeof Z.isPrimary>"u"&&(Z.isPrimary=1===p.touches.length&&"touchstart"===p.type),typeof Z.width>"u"&&(Z.width=Z.radiusX||1),typeof Z.height>"u"&&(Z.height=Z.radiusY||1),typeof Z.tiltX>"u"&&(Z.tiltX=0),typeof Z.tiltY>"u"&&(Z.tiltY=0),typeof Z.pointerType>"u"&&(Z.pointerType="touch"),typeof Z.pointerId>"u"&&(Z.pointerId=Z.identifier||0),typeof Z.pressure>"u"&&(Z.pressure=Z.force||.5),typeof Z.twist>"u"&&(Z.twist=0),typeof Z.tangentialPressure>"u"&&(Z.tangentialPressure=0),typeof Z.layerX>"u"&&(Z.layerX=Z.offsetX=Z.clientX),typeof Z.layerY>"u"&&(Z.layerY=Z.offsetY=Z.clientY),Z.isNormalized=!0,Z.type=p.type,g.push(Z)}else if(!globalThis.MouseEvent||p instanceof MouseEvent&&!(this.supportsPointerEvents&&p instanceof globalThis.PointerEvent)){const m=p;typeof m.isPrimary>"u"&&(m.isPrimary=!0),typeof m.width>"u"&&(m.width=1),typeof m.height>"u"&&(m.height=1),typeof m.tiltX>"u"&&(m.tiltX=0),typeof m.tiltY>"u"&&(m.tiltY=0),typeof m.pointerType>"u"&&(m.pointerType="mouse"),typeof m.pointerId>"u"&&(m.pointerId=V),typeof m.pressure>"u"&&(m.pressure=.5),typeof m.twist>"u"&&(m.twist=0),typeof m.tangentialPressure>"u"&&(m.tangentialPressure=0),m.isNormalized=!0,g.push(m)}else g.push(p);return g}normalizeWheelEvent(p){const g=this.rootWheelEvent;return this.transferMouseData(g,p),g.deltaX=p.deltaX,g.deltaY=p.deltaY,g.deltaZ=p.deltaZ,g.deltaMode=p.deltaMode,this.mapPositionToPoint(g.screen,p.clientX,p.clientY),g.global.copyFrom(g.screen),g.offset.copyFrom(g.screen),g.nativeEvent=p,g.type=p.type,g}bootstrapEvent(p,g){return p.originalEvent=null,p.nativeEvent=g,p.pointerId=g.pointerId,p.width=g.width,p.height=g.height,p.isPrimary=g.isPrimary,p.pointerType=g.pointerType,p.pressure=g.pressure,p.tangentialPressure=g.tangentialPressure,p.tiltX=g.tiltX,p.tiltY=g.tiltY,p.twist=g.twist,this.transferMouseData(p,g),this.mapPositionToPoint(p.screen,g.clientX,g.clientY),p.global.copyFrom(p.screen),p.offset.copyFrom(p.screen),p.isTrusted=g.isTrusted,"pointerleave"===p.type&&(p.type="pointerout"),p.type.startsWith("mouse")&&(p.type=p.type.replace("mouse","pointer")),p.type.startsWith("touch")&&(p.type=z[p.type]||p.type),p}transferMouseData(p,g){p.isTrusted=g.isTrusted,p.srcElement=g.srcElement,p.timeStamp=performance.now(),p.type=g.type,p.altKey=g.altKey,p.button=g.button,p.buttons=g.buttons,p.client.x=g.clientX,p.client.y=g.clientY,p.ctrlKey=g.ctrlKey,p.metaKey=g.metaKey,p.movement.x=g.movementX,p.movement.y=g.movementY,p.page.x=g.pageX,p.page.y=g.pageY,p.relatedTarget=null,p.shiftKey=g.shiftKey}};B.extension={name:"events",type:[Z.Ag.RendererSystem,Z.Ag.CanvasRendererSystem]},B.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let u=B;function a(p){return"dynamic"===p||"static"===p}Z.XO.add(u);const F={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var p;return null!==(p=this._internalInteractive)&&void 0!==p?p:a(u.defaultEventMode)},set interactive(p){Z.Wp.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=p,this.eventMode=p?"static":"auto"},_internalEventMode:void 0,get eventMode(){var p;return null!==(p=this._internalEventMode)&&void 0!==p?p:u.defaultEventMode},set eventMode(p){this._internalInteractive=a(p),this._internalEventMode=p},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(p,g,m){const Z="function"==typeof g?void 0:g;p="boolean"==typeof m&&m||"object"==typeof m&&m.capture?`${p}capture`:p,g="function"==typeof g?g:g.handleEvent,this.on(p,g,Z)},removeEventListener(p,g,m){const Z="function"==typeof g?void 0:g;p="boolean"==typeof m&&m||"object"==typeof m&&m.capture?`${p}capture`:p,g="function"==typeof g?g:g.handleEvent,this.off(p,g,Z)},dispatchEvent(p){if(!(p instanceof w))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return p.defaultPrevented=!1,p.path=null,p.target=this,p.manager.dispatchEvent(p),!p.defaultPrevented}};H.q9.mixin(F),H.q9.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});const X=9,K=100,j=0,r=0,U=2,C=1,x=-1e3,R=-1e3,c=2;class O{constructor(p){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Z.Wp.isMobile.tablet||Z.Wp.isMobile.phone)&&this.createTouchHook();const g=document.createElement("div");g.style.width=`${K}px`,g.style.height=`${K}px`,g.style.position="absolute",g.style.top=`${j}px`,g.style.left=`${r}px`,g.style.zIndex=U.toString(),this.div=g,this.renderer=p,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const p=document.createElement("button");p.style.width=`${C}px`,p.style.height=`${C}px`,p.style.position="absolute",p.style.top=`${x}px`,p.style.left=`${R}px`,p.style.zIndex=c.toString(),p.style.backgroundColor="#FF0000",p.title="select to enable accessibility for this content",p.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(p),this._hookDiv=p}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var p;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(p=this.renderer.view.parentNode)||void 0===p||p.appendChild(this.div))}deactivate(){var p;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(p=this.div.parentNode)||void 0===p||p.removeChild(this.div))}updateAccessibleObjects(p){if(!p.visible||!p.accessibleChildren)return;p.accessible&&p.isInteractive()&&(p._accessibleActive||this.addChild(p),p.renderId=this.renderId);const g=p.children;if(g)for(let p=0;p<g.length;p++)this.updateAccessibleObjects(g[p])}update(){const p=performance.now();if(Z.Wp.isMobile.android.device&&p<this.androidUpdateCount||(this.androidUpdateCount=p+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:g,y:m,width:H,height:t}=this.renderer.view.getBoundingClientRect(),{width:h,height:k,resolution:n}=this.renderer,S=H/h*n,q=t/k*n;let D=this.div;D.style.left=`${g}px`,D.style.top=`${m}px`,D.style.width=`${h}px`,D.style.height=`${k}px`;for(let p=0;p<this.children.length;p++){const g=this.children[p];if(g.renderId!==this.renderId)g._accessibleActive=!1,Z.Wp.removeItems(this.children,p,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,p--;else{D=g._accessibleDiv;let p=g.hitArea;const m=g.worldTransform;g.hitArea?(D.style.left=`${(m.tx+p.x*m.a)*S}px`,D.style.top=`${(m.ty+p.y*m.d)*q}px`,D.style.width=`${p.width*m.a*S}px`,D.style.height=`${p.height*m.d*q}px`):(p=g.getBounds(),this.capHitArea(p),D.style.left=`${p.x*S}px`,D.style.top=`${p.y*q}px`,D.style.width=`${p.width*S}px`,D.style.height=`${p.height*q}px`,D.title!==g.accessibleTitle&&null!==g.accessibleTitle&&(D.title=g.accessibleTitle),D.getAttribute("aria-label")!==g.accessibleHint&&null!==g.accessibleHint&&D.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==D.title||g.tabIndex!==D.tabIndex)&&(D.title=g.accessibleTitle,D.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(D))}}this.renderId++}updateDebugHTML(p){p.innerHTML=`type: ${p.type}</br> title : ${p.title}</br> tabIndex: ${p.tabIndex}`}capHitArea(p){p.x<0&&(p.width+=p.x,p.x=0),p.y<0&&(p.height+=p.y,p.y=0);const{width:g,height:m}=this.renderer;p.x+p.width>g&&(p.width=g-p.x),p.y+p.height>m&&(p.height=m-p.y)}addChild(p){let g=this.pool.pop();g||(g=document.createElement("button"),g.style.width=`${K}px`,g.style.height=`${K}px`,g.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",g.style.position="absolute",g.style.zIndex=U.toString(),g.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?g.setAttribute("aria-live","off"):g.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?g.setAttribute("aria-relevant","additions"):g.setAttribute("aria-relevant","text"),g.addEventListener("click",this._onClick.bind(this)),g.addEventListener("focus",this._onFocus.bind(this)),g.addEventListener("focusout",this._onFocusOut.bind(this))),g.style.pointerEvents=p.accessiblePointerEvents,g.type=p.accessibleType,p.accessibleTitle&&null!==p.accessibleTitle?g.title=p.accessibleTitle:(!p.accessibleHint||null===p.accessibleHint)&&(g.title=`displayObject ${p.tabIndex}`),p.accessibleHint&&null!==p.accessibleHint&&g.setAttribute("aria-label",p.accessibleHint),this.debug&&this.updateDebugHTML(g),p._accessibleActive=!0,p._accessibleDiv=g,g.displayObject=p,this.children.push(p),this.div.appendChild(p._accessibleDiv),p._accessibleDiv.tabIndex=p.tabIndex}_dispatchEvent(p,g){const{displayObject:m}=p.target,Z=this.renderer.events.rootBoundary,H=Object.assign(new w(Z),{target:m});Z.rootTarget=this.renderer.lastObjectRendered,g.forEach((p=>Z.dispatchEvent(H,p)))}_onClick(p){this._dispatchEvent(p,["click","pointertap","tap"])}_onFocus(p){p.target.getAttribute("aria-live")||p.target.setAttribute("aria-live","assertive"),this._dispatchEvent(p,["mouseover"])}_onFocusOut(p){p.target.getAttribute("aria-live")||p.target.setAttribute("aria-live","polite"),this._dispatchEvent(p,["mouseout"])}_onKeyDown(p){p.keyCode===X&&this.activate()}_onMouseMove(p){0===p.movementX&&0===p.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}O.extension={name:"accessibility",type:[Z.Ag.RendererPlugin,Z.Ag.CanvasRendererPlugin]},Z.XO.add(O);const f=class p{constructor(g){this.stage=new H.mc,g=Object.assign({forceCanvas:!1},g),this.renderer=Z.q5(g),p._plugins.forEach((p=>{p.init.call(this,g)}))}render(){this.renderer.render(this.stage)}get view(){var p;return null===(p=this.renderer)||void 0===p?void 0:p.view}get screen(){var p;return null===(p=this.renderer)||void 0===p?void 0:p.screen}destroy(g,m){const Z=p._plugins.slice(0);Z.reverse(),Z.forEach((p=>{p.destroy.call(this)})),this.stage.destroy(m),this.stage=null,this.renderer.destroy(g),this.renderer=null}};f._plugins=[];let _=f;Z.XO.handleByList(Z.Ag.Application,_._plugins);class E{static init(p){Object.defineProperty(this,"resizeTo",{set(p){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=p,p&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let p,g;if(this.cancelResize(),this._resizeTo===globalThis.window)p=globalThis.innerWidth,g=globalThis.innerHeight;else{const{clientWidth:m,clientHeight:Z}=this._resizeTo;p=m,g=Z}this.renderer.resize(p,g),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=p.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}E.extension=Z.Ag.Application,Z.XO.add(E);var G=m(557108),M=(p=>(p[p.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",p[p.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",p[p.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",p[p.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",p[p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",p[p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",p[p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",p[p.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",p[p.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",p[p.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",p[p.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",p[p.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",p[p.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",p[p.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",p[p.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",p[p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",p[p.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",p[p.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",p[p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",p[p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",p[p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",p[p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",p[p.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",p[p.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",p[p.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",p[p.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",p[p.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",p))(M||{});const s={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let T,l;function A(){l={s3tc:T.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:T.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:T.getExtension("WEBGL_compressed_texture_etc"),etc1:T.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:T.getExtension("WEBGL_compressed_texture_pvrtc")||T.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:T.getExtension("WEBGL_compressed_texture_atc"),astc:T.getExtension("WEBGL_compressed_texture_astc")}}const L={extension:{type:Z.Ag.DetectionParser,priority:2},test:async()=>{const p=Z.W0.ADAPTER.createCanvas().getContext("webgl");return p?(T=p,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async p=>{l||A();const g=[];for(const p in l)l[p]&&g.push(p);return[...g,...p]},remove:async p=>(l||A(),p.filter((p=>!(p in l))))};Z.XO.add(L);class o extends Z.dZ{constructor(p,g={width:1,height:1,autoLoad:!0}){let m,H;"string"==typeof p?(m=p,H=new Uint8Array):(m=null,H=p),super(H,g),this.origin=m,this.buffer=H?new Z.u3(H):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==g.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(p){}load(){return this._load||(this._load=fetch(this.origin).then((p=>p.blob())).then((p=>p.arrayBuffer())).then((p=>(this.data=new Uint32Array(p),this.buffer=new Z.u3(p),this.loaded=!0,this.onBlobLoaded(p),this.update(),this)))),this._load}}class pp extends o{constructor(p,g){super(p,g),this.format=g.format,this.levels=g.levels||1,this._width=g.width,this._height=g.height,this._extension=pp._formatToExtension(this.format),(g.levelBuffers||this.buffer)&&(this._levelBuffers=g.levelBuffers||pp._createLevelBuffers(p instanceof Uint8Array?p:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(p,g,m){const Z=p.gl;if(!p.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;Z.pixelStorei(Z.UNPACK_ALIGNMENT,4);for(let p=0,g=this.levels;p<g;p++){const{levelID:g,levelWidth:m,levelHeight:H,levelBuffer:t}=this._levelBuffers[p];Z.compressedTexImage2D(Z.TEXTURE_2D,g,this.format,m,H,0,t)}return!0}onBlobLoaded(){this._levelBuffers=pp._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(p){if(p>=33776&&p<=33779)return"s3tc";if(p>=37488&&p<=37497)return"etc";if(p>=35840&&p<=35843)return"pvrtc";if(p>=36196)return"etc1";if(p>=35986&&p<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(p,g,m,Z,H,t,h){const k=new Array(m);let n=p.byteOffset,S=t,q=h,D=S+Z-1&~(Z-1),I=q+H-1&~(H-1),b=D*I*s[g];for(let t=0;t<m;t++)k[t]={levelID:t,levelWidth:m>1?S:D,levelHeight:m>1?q:I,levelBuffer:new Uint8Array(p.buffer,n,b)},n+=b,S=S>>1||1,q=q>>1||1,D=S+Z-1&~(Z-1),I=q+H-1&~(H-1),b=D*I*s[g];return k}}const gp=4,mp=124,Zp=32,Hp=20,tp=542327876,hp=3,kp=4,np=7,Sp=19,qp=2,Dp=0,Ip=1,bp=2,ep=3,Np=1,dp=2,Qp=4,$p=64,wp=512,Yp=131072,ip=808540228,Pp=4,Jp={827611204:M.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:M.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:M.COMPRESSED_RGBA_S3TC_DXT5_EXT},yp={70:M.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:M.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:M.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:M.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:M.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:M.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:M.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:M.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:M.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT},Wp=[171,75,84,88,32,49,49,187,13,10,26,10],vp=67305985,Vp=12,zp=16,Bp=24,up=28,ap=36,Fp=40,Xp=44,Kp=48,jp=52,rp=56,Up=60,Cp=64,xp={[Z.QE.UNSIGNED_BYTE]:1,[Z.QE.UNSIGNED_SHORT]:2,[Z.QE.INT]:4,[Z.QE.UNSIGNED_INT]:4,[Z.QE.FLOAT]:4,[Z.QE.HALF_FLOAT]:8},Rp={[Z.hR.RGBA]:4,[Z.hR.RGB]:3,[Z.hR.RG]:2,[Z.hR.RED]:1,[Z.hR.LUMINANCE]:1,[Z.hR.LUMINANCE_ALPHA]:2,[Z.hR.ALPHA]:1},cp={[Z.QE.UNSIGNED_SHORT_4_4_4_4]:2,[Z.QE.UNSIGNED_SHORT_5_5_5_1]:2,[Z.QE.UNSIGNED_SHORT_5_6_5]:2};function Op(p){switch(p){case Z.hR.RGBA:return Z.hR.RGBA_INTEGER;case Z.hR.RGB:return Z.hR.RGB_INTEGER;case Z.hR.RG:return Z.hR.RG_INTEGER;case Z.hR.RED:return Z.hR.RED_INTEGER;default:return p}}const fp={extension:{type:Z.Ag.LoadParser,priority:G.T9.High},name:"loadDDS",test:p=>G.WO(p,".dds"),async load(p,g,m){const H=function(p){const g=new Uint32Array(p);if(g[0]!==tp)throw new Error("Invalid DDS file magic word");const m=new Uint32Array(p,0,mp/Uint32Array.BYTES_PER_ELEMENT),Z=m[hp],H=m[kp],t=m[np],h=new Uint32Array(p,Sp*Uint32Array.BYTES_PER_ELEMENT,Zp/Uint32Array.BYTES_PER_ELEMENT),k=h[Np];if(k&Qp){const m=h[qp];if(m!==ip){const g=Jp[m],h=new Uint8Array(p,gp+mp);return[new pp(h,{format:g,width:H,height:Z,levels:t})]}const k=gp+mp,n=new Uint32Array(g.buffer,k,Hp/Uint32Array.BYTES_PER_ELEMENT),S=n[Dp],q=n[Ip],D=n[bp],I=n[ep],b=yp[S];if(void 0===b)throw new Error(`DDSParser cannot parse texture data with DXGI format ${S}`);if(D===Pp)throw new Error("DDSParser does not support cubemap textures");if(6===q)throw new Error("DDSParser does not supported 3D texture data");const e=new Array,N=gp+mp+Hp;if(1===I)e.push(new Uint8Array(p,N));else{const g=s[b];let m=0,h=H,k=Z;for(let p=0;p<t;p++)m+=Math.max(1,h+3&-4)*Math.max(1,k+3&-4)*g,h>>>=1,k>>>=1;let n=N;for(let g=0;g<I;g++)e.push(new Uint8Array(p,n,m)),n+=m}return e.map((p=>new pp(p,{format:b,width:H,height:Z,levels:t})))}throw k&$p?new Error("DDSParser does not support uncompressed texture data."):k&wp?new Error("DDSParser does not supported YUV uncompressed texture data."):k&Yp?new Error("DDSParser does not support single-channel (lumninance) texture data!"):k&dp?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}(await(await Z.W0.ADAPTER.fetch(p)).arrayBuffer()).map((H=>{const t=new Z.t5(H,{mipmap:Z.E8.OFF,alphaMode:Z.Gk.NO_PREMULTIPLIED_ALPHA,resolution:Z.Wp.getResolutionOfUrl(p),...g.data});return G.sZ(t,m,p)}));return 1===H.length?H[0]:H},unload(p){Array.isArray(p)?p.forEach((p=>p.destroy(!0))):p.destroy(!0)}};Z.XO.add(fp);const _p={extension:{type:Z.Ag.LoadParser,priority:G.T9.High},name:"loadKTX",test:p=>G.WO(p,".ktx"),async load(p,g,m){const H=await(await Z.W0.ADAPTER.fetch(p)).arrayBuffer(),{compressed:t,uncompressed:h,kvData:k}=function(p,g,m=!1){const H=new DataView(g);if(!function(p,g){for(let m=0;m<Wp.length;m++)if(g.getUint8(m)!==Wp[m])return console.error(`${p} is not a valid *.ktx file!`),!1;return!0}(p,H))return null;const t=H.getUint32(Vp,!0)===vp,h=H.getUint32(zp,t),k=H.getUint32(Bp,t),n=H.getUint32(up,t),S=H.getUint32(ap,t),q=H.getUint32(Fp,t)||1,D=H.getUint32(Xp,t)||1,I=H.getUint32(Kp,t)||1,b=H.getUint32(jp,t),e=H.getUint32(rp,t),N=H.getUint32(Up,t);if(0===q||1!==D)throw new Error("Only 2D textures are supported");if(1!==b)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==I)throw new Error("WebGL does not support array textures");const d=4,Q=4,$=S+3&-4,w=q+3&-4,Y=new Array(I);let i,P=S*q;if(0===h&&(P=$*w),i=0!==h?xp[h]?xp[h]*Rp[k]:cp[h]:s[n],void 0===i)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const J=m?function(p,g,m){const Z=new Map;let H=0;for(;H<g;){const t=p.getUint32(Cp+H,m),h=Cp+H+4,k=3-(t+3)%4;if(0===t||t>g-H){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let n=0;for(;n<t&&0!==p.getUint8(h+n);n++);if(-1===n){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const S=(new TextDecoder).decode(new Uint8Array(p.buffer,h,n)),q=new DataView(p.buffer,h+n+1,t-n-1);Z.set(S,q),H+=4+t+k}return Z}(H,N,t):null;let y=P*i,W=S,v=q,V=$,z=w,B=Cp+N;for(let p=0;p<e;p++){const m=H.getUint32(B,t);let Z=B+4;for(let m=0;m<I;m++){let H=Y[m];H||(H=Y[m]=new Array(e)),H[p]={levelID:p,levelWidth:e>1||0!==h?W:V,levelHeight:e>1||0!==h?v:z,levelBuffer:new Uint8Array(g,Z,y)},Z+=y}B+=m+4,B=B%4!=0?B+4-B%4:B,W=W>>1||1,v=v>>1||1,V=W+d-1&~(d-1),z=v+Q-1&~(Q-1),y=V*z*i}return 0!==h?{uncompressed:Y.map((p=>{let g=p[0].levelBuffer,m=!1;return h===Z.QE.FLOAT?g=new Float32Array(p[0].levelBuffer.buffer,p[0].levelBuffer.byteOffset,p[0].levelBuffer.byteLength/4):h===Z.QE.UNSIGNED_INT?(m=!0,g=new Uint32Array(p[0].levelBuffer.buffer,p[0].levelBuffer.byteOffset,p[0].levelBuffer.byteLength/4)):h===Z.QE.INT&&(m=!0,g=new Int32Array(p[0].levelBuffer.buffer,p[0].levelBuffer.byteOffset,p[0].levelBuffer.byteLength/4)),{resource:new Z.dZ(g,{width:p[0].levelWidth,height:p[0].levelHeight}),type:h,format:m?Op(k):k}})),kvData:J}:{compressed:Y.map((p=>new pp(null,{format:n,width:S,height:q,levels:e,levelBuffers:p}))),kvData:J}}(p,H),n=null!=t?t:h,S={mipmap:Z.E8.OFF,alphaMode:Z.Gk.NO_PREMULTIPLIED_ALPHA,resolution:Z.Wp.getResolutionOfUrl(p),...g.data},q=n.map((g=>{var H;n===h&&Object.assign(S,{type:g.type,format:g.format});const t=null!==(H=g.resource)&&void 0!==H?H:g,q=new Z.t5(t,S);return q.ktxKeyValueData=k,G.sZ(q,m,p)}));return 1===q.length?q[0]:q},unload(p){Array.isArray(p)?p.forEach((p=>p.destroy(!0))):p.destroy(!0)}};Z.XO.add(_p);const Ep={extension:Z.Ag.ResolveParser,test:p=>{const g=Z.Wp.path.extname(p).slice(1);return["basis","ktx","dds"].includes(g)},parse:p=>{var g,m,H,t;const h=Z.Wp.path.extname(p).slice(1);if("ktx"===h){const H=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(H.some((g=>p.endsWith(g))))return{resolution:parseFloat(null!==(m=null===(g=Z.W0.RETINA_PREFIX.exec(p))||void 0===g?void 0:g[1])&&void 0!==m?m:"1"),format:H.find((g=>p.endsWith(g))),src:p}}return{resolution:parseFloat(null!==(t=null===(H=Z.W0.RETINA_PREFIX.exec(p))||void 0===H?void 0:H[1])&&void 0!==t?t:"1"),format:h,src:p}}};Z.XO.add(Ep);const Gp=new Z.M_,Mp=4,sp=class p{constructor(p){this.renderer=p,this._rendererPremultipliedAlpha=!1}contextChange(){var p;const g=null===(p=this.renderer)||void 0===p?void 0:p.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(g&&g.alpha&&g.premultipliedAlpha)}async image(p,g,m,Z){const H=new Image;return H.src=await this.base64(p,g,m,Z),H}async base64(p,g,m,Z){const H=this.canvas(p,Z);if(void 0!==H.toBlob)return new Promise(((p,Z)=>{H.toBlob((g=>{if(!g)return void Z(new Error("ICanvas.toBlob failed!"));const m=new FileReader;m.onload=()=>p(m.result),m.onerror=Z,m.readAsDataURL(g)}),g,m)}));if(void 0!==H.toDataURL)return H.toDataURL(g,m);if(void 0!==H.convertToBlob){const p=await H.convertToBlob({type:g,quality:m});return new Promise(((g,m)=>{const Z=new FileReader;Z.onload=()=>g(Z.result),Z.onerror=m,Z.readAsDataURL(p)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(g,m){const{pixels:H,width:t,height:h,flipY:k,premultipliedAlpha:n}=this._rawPixels(g,m);k&&p._flipY(H,t,h),n&&p._unpremultiplyAlpha(H);const S=new Z.Wp.CanvasRenderTarget(t,h,1),q=new ImageData(new Uint8ClampedArray(H.buffer),t,h);return S.context.putImageData(q,0,0),S.canvas}pixels(g,m){const{pixels:Z,width:H,height:t,flipY:h,premultipliedAlpha:k}=this._rawPixels(g,m);return h&&p._flipY(Z,H,t),k&&p._unpremultiplyAlpha(Z),Z}_rawPixels(p,g){const m=this.renderer;if(!m)throw new Error("The Extract has already been destroyed");let H,t,h=!1,k=!1,n=!1;p&&(p instanceof Z.Y7?t=p:(t=m.generateTexture(p,{region:g,resolution:m.resolution,multisample:m.multisample}),n=!0,g&&(Gp.width=g.width,Gp.height=g.height,g=Gp)));const S=m.gl;if(t){if(H=t.baseTexture.resolution,g=null!=g?g:t.frame,h=!1,k=t.baseTexture.alphaMode>0&&t.baseTexture.format===Z.hR.RGBA,!n){m.renderTexture.bind(t);const p=t.framebuffer.glFramebuffers[m.CONTEXT_UID];p.blitFramebuffer&&m.framebuffer.bind(p.blitFramebuffer)}}else H=m.resolution,g||((g=Gp).width=m.width/H,g.height=m.height/H),h=!0,k=this._rendererPremultipliedAlpha,m.renderTexture.bind();const q=Math.max(Math.round(g.width*H),1),D=Math.max(Math.round(g.height*H),1),I=new Uint8Array(Mp*q*D);return S.readPixels(Math.round(g.x*H),Math.round(g.y*H),q,D,S.RGBA,S.UNSIGNED_BYTE,I),n&&(null==t||t.destroy(!0)),{pixels:I,width:q,height:D,flipY:h,premultipliedAlpha:k}}destroy(){this.renderer=null}static _flipY(p,g,m){const Z=g<<2,H=m>>1,t=new Uint8Array(Z);for(let g=0;g<H;g++){const H=g*Z,h=(m-g-1)*Z;t.set(p.subarray(H,H+Z)),p.copyWithin(H,h,h+Z),p.set(t,h)}}static _unpremultiplyAlpha(p){p instanceof Uint8ClampedArray&&(p=new Uint8Array(p.buffer));const g=p.length;for(let m=0;m<g;m+=4){const g=p[m+3];if(0!==g){const Z=255.001/g;p[m]=p[m]*Z+.5,p[m+1]=p[m+1]*Z+.5,p[m+2]=p[m+2]*Z+.5}}}};sp.extension={name:"extract",type:Z.Ag.RendererSystem};let Tp=sp;Z.XO.add(Tp);var lp=m(366628),Ap=m(401947);m(209218);class Lp extends H.mc{constructor(p=1500,g,m=16384,H=!1){super();const t=16384;m>t&&(m=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=p,this._batchSize=m,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Z.B9.NORMAL,this.autoResize=H,this.roundPixels=!0,this.baseTexture=null,this.setProperties(g),this._tintColor=new Z.Q1(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(p){p&&(this._properties[0]="vertices"in p||"scale"in p?!!p.vertices||!!p.scale:this._properties[0],this._properties[1]="position"in p?!!p.position:this._properties[1],this._properties[2]="rotation"in p?!!p.rotation:this._properties[2],this._properties[3]="uvs"in p?!!p.uvs:this._properties[3],this._properties[4]="tint"in p||"alpha"in p?!!p.tint||!!p.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(p){this._tintColor.setValue(p),this._tintColor.toRgbArray(this.tintRgb)}render(p){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),p.batch.setObjectRenderer(p.plugins.particle),p.plugins.particle.render(this))}onChildrenChange(p){const g=Math.floor(p/this._batchSize);for(;this._bufferUpdateIDs.length<g;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[g]=++this._updateID}dispose(){if(this._buffers){for(let p=0;p<this._buffers.length;++p)this._buffers[p].destroy();this._buffers=null}}destroy(p){super.destroy(p),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class op{constructor(p,g,m){this.geometry=new Z.V2,this.indexBuffer=null,this.size=m,this.dynamicProperties=[],this.staticProperties=[];for(let m=0;m<p.length;++m){let H=p[m];H={attributeName:H.attributeName,size:H.size,uploadFunction:H.uploadFunction,type:H.type||Z.QE.FLOAT,offset:H.offset},g[m]?this.dynamicProperties.push(H):this.staticProperties.push(H)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const p=this.geometry;let g=0;this.indexBuffer=new Z.hp(Z.Wp.createIndicesForQuads(this.size),!0,!0),p.addIndex(this.indexBuffer),this.dynamicStride=0;for(let p=0;p<this.dynamicProperties.length;++p){const m=this.dynamicProperties[p];m.offset=g,g+=m.size,this.dynamicStride+=m.size}const m=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(m),this.dynamicDataUint32=new Uint32Array(m),this.dynamicBuffer=new Z.hp(this.dynamicData,!1,!1);let H=0;this.staticStride=0;for(let p=0;p<this.staticProperties.length;++p){const g=this.staticProperties[p];g.offset=H,H+=g.size,this.staticStride+=g.size}const t=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(t),this.staticDataUint32=new Uint32Array(t),this.staticBuffer=new Z.hp(this.staticData,!0,!1);for(let g=0;g<this.dynamicProperties.length;++g){const m=this.dynamicProperties[g];p.addAttribute(m.attributeName,this.dynamicBuffer,0,m.type===Z.QE.UNSIGNED_BYTE,m.type,4*this.dynamicStride,4*m.offset)}for(let g=0;g<this.staticProperties.length;++g){const m=this.staticProperties[g];p.addAttribute(m.attributeName,this.staticBuffer,0,m.type===Z.QE.UNSIGNED_BYTE,m.type,4*this.staticStride,4*m.offset)}}uploadDynamic(p,g,m){for(let H=0;H<this.dynamicProperties.length;H++){const t=this.dynamicProperties[H];t.uploadFunction(p,g,m,t.type===Z.QE.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,t.offset)}this.dynamicBuffer._updateID++}uploadStatic(p,g,m){for(let H=0;H<this.staticProperties.length;H++){const t=this.staticProperties[H];t.uploadFunction(p,g,m,t.type===Z.QE.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,t.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var pg=`varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}`,gg=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n`;class mg extends Z.Pt{constructor(p){super(p),this.shader=null,this.properties=null,this.tempMatrix=new Z.uq,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Z.QE.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Z.Mt.from(gg,pg,{}),this.state=Z.Uw.for2d()}render(p){const g=p.children,m=p._maxSize,H=p._batchSize,t=this.renderer;let h=g.length;if(0===h)return;h>m&&!p.autoResize&&(h=m);let k=p._buffers;k||(k=p._buffers=this.generateBuffers(p));const n=g[0]._texture.baseTexture,S=n.alphaMode>0;this.state.blendMode=Z.Wp.correctBlendMode(p.blendMode,S),t.state.set(this.state);const q=t.gl,D=p.worldTransform.copyTo(this.tempMatrix);D.prepend(t.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=D.toArray(!0),this.shader.uniforms.uColor=Z.Q1.shared.setValue(p.tintRgb).premultiply(p.worldAlpha,S).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=n,this.renderer.shader.bind(this.shader);let I=!1;for(let m=0,Z=0;m<h;m+=H,Z+=1){let n=h-m;n>H&&(n=H),Z>=k.length&&k.push(this._generateOneMoreBuffer(p));const S=k[Z];S.uploadDynamic(g,m,n);const D=p._bufferUpdateIDs[Z]||0;I=I||S._updateID<D,I&&(S._updateID=p._updateID,S.uploadStatic(g,m,n)),t.geometry.bind(S.geometry),q.drawElements(q.TRIANGLES,6*n,q.UNSIGNED_SHORT,0)}}generateBuffers(p){const g=[],m=p._maxSize,Z=p._batchSize,H=p._properties;for(let p=0;p<m;p+=Z)g.push(new op(this.properties,H,Z));return g}_generateOneMoreBuffer(p){const g=p._batchSize,m=p._properties;return new op(this.properties,m,g)}uploadVertices(p,g,m,Z,H,t){let h=0,k=0,n=0,S=0;for(let q=0;q<m;++q){const m=p[g+q],D=m._texture,I=m.scale.x,b=m.scale.y,e=D.trim,N=D.orig;e?(k=e.x-m.anchor.x*N.width,h=k+e.width,S=e.y-m.anchor.y*N.height,n=S+e.height):(h=N.width*(1-m.anchor.x),k=N.width*-m.anchor.x,n=N.height*(1-m.anchor.y),S=N.height*-m.anchor.y),Z[t]=k*I,Z[t+1]=S*b,Z[t+H]=h*I,Z[t+H+1]=S*b,Z[t+2*H]=h*I,Z[t+2*H+1]=n*b,Z[t+3*H]=k*I,Z[t+3*H+1]=n*b,t+=4*H}}uploadPosition(p,g,m,Z,H,t){for(let h=0;h<m;h++){const m=p[g+h].position;Z[t]=m.x,Z[t+1]=m.y,Z[t+H]=m.x,Z[t+H+1]=m.y,Z[t+2*H]=m.x,Z[t+2*H+1]=m.y,Z[t+3*H]=m.x,Z[t+3*H+1]=m.y,t+=4*H}}uploadRotation(p,g,m,Z,H,t){for(let h=0;h<m;h++){const m=p[g+h].rotation;Z[t]=m,Z[t+H]=m,Z[t+2*H]=m,Z[t+3*H]=m,t+=4*H}}uploadUvs(p,g,m,Z,H,t){for(let h=0;h<m;++h){const m=p[g+h]._texture._uvs;m?(Z[t]=m.x0,Z[t+1]=m.y0,Z[t+H]=m.x1,Z[t+H+1]=m.y1,Z[t+2*H]=m.x2,Z[t+2*H+1]=m.y2,Z[t+3*H]=m.x3,Z[t+3*H+1]=m.y3,t+=4*H):(Z[t]=0,Z[t+1]=0,Z[t+H]=0,Z[t+H+1]=0,Z[t+2*H]=0,Z[t+2*H+1]=0,Z[t+3*H]=0,Z[t+3*H+1]=0,t+=4*H)}}uploadTint(p,g,m,H,t,h){for(let k=0;k<m;++k){const m=p[g+k],n=Z.Q1.shared.setValue(m._tintRGB).toPremultiplied(m.alpha,m.texture.baseTexture.alphaMode>0);H[h]=n,H[h+t]=n,H[h+2*t]=n,H[h+3*t]=n,h+=4*t}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}mg.extension={name:"particle",type:Z.Ag.RendererPlugin},Z.XO.add(mg),m(344944);class Zg extends t.k{constructor(p,g=!0){super(p[0]instanceof Z.gP?p[0]:p[0].texture),this._textures=null,this._durations=null,this._autoUpdate=g,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=p}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Z.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Z.Rv.shared.add(this.update,this,Z.dQ.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(p){this.stop(),this.currentFrame=p}gotoAndPlay(p){this.currentFrame=p,this.play()}update(p){if(!this._playing)return;const g=this.animationSpeed*p,m=this.currentFrame;if(null!==this._durations){let m=this._currentTime%1*this._durations[this.currentFrame];for(m+=g/60*1e3;m<0;)this._currentTime--,m+=this._durations[this.currentFrame];const Z=Math.sign(this.animationSpeed*p);for(this._currentTime=Math.floor(this._currentTime);m>=this._durations[this.currentFrame];)m-=this._durations[this.currentFrame]*Z,this._currentTime+=Z;this._currentTime+=m/this._durations[this.currentFrame]}else this._currentTime+=g;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):m!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<m||this.animationSpeed<0&&this.currentFrame>m)&&this.onLoop(),this.updateTexture())}updateTexture(){const p=this.currentFrame;this._previousFrame!==p&&(this._previousFrame=p,this._texture=this._textures[p],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(p){this.stop(),super.destroy(p),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(p){const g=[];for(let m=0;m<p.length;++m)g.push(Z.gP.from(p[m]));return new Zg(g)}static fromImages(p){const g=[];for(let m=0;m<p.length;++m)g.push(Z.gP.from(p[m]));return new Zg(g)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(p){if(p[0]instanceof Z.gP)this._textures=p,this._durations=null;else{this._textures=[],this._durations=[];for(let g=0;g<p.length;g++)this._textures.push(p[g].texture),this._durations.push(p[g].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let p=Math.floor(this._currentTime)%this._textures.length;return p<0&&(p+=this._textures.length),p}set currentFrame(p){if(p<0||p>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${p}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const g=this.currentFrame;this._currentTime=p,g!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(p){p!==this._autoUpdate&&(this._autoUpdate=p,!this._autoUpdate&&this._isConnectedToTicker?(Z.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Z.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0))}}new Z.bR,t.k;var Hg=`#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n`,tg=`#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n`,hg=`#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n`,kg=`#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n`,ng=`#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n`;const Sg=new Z.uq;class qg extends Z.Pt{constructor(p){super(p),p.runners.contextChange.add(this),this.quad=new Z.X1,this.state=Z.Uw.for2d()}contextChange(){const p=this.renderer,g={globals:p.globalUniforms};this.simpleShader=Z.Mt.from(kg,ng,g),this.shader=p.context.webGLVersion>1?Z.Mt.from(tg,Hg,g):Z.Mt.from(kg,hg,g)}render(p){const g=this.renderer,m=this.quad;let H=m.vertices;H[0]=H[6]=p._width*-p.anchor.x,H[1]=H[3]=p._height*-p.anchor.y,H[2]=H[4]=p._width*(1-p.anchor.x),H[5]=H[7]=p._height*(1-p.anchor.y);const t=p.uvRespectAnchor?p.anchor.x:0,h=p.uvRespectAnchor?p.anchor.y:0;H=m.uvs,H[0]=H[6]=-t,H[1]=H[3]=-h,H[2]=H[4]=1-t,H[5]=H[7]=1-h,m.invalidate();const k=p._texture,n=k.baseTexture,S=n.alphaMode>0,q=p.tileTransform.localTransform,D=p.uvMatrix;let I=n.isPowerOfTwo&&k.frame.width===n.width&&k.frame.height===n.height;I&&(n._glTextures[g.CONTEXT_UID]?I=n.wrapMode!==Z.uR.CLAMP:n.wrapMode===Z.uR.CLAMP&&(n.wrapMode=Z.uR.REPEAT));const b=I?this.simpleShader:this.shader,e=k.width,N=k.height,d=p._width,Q=p._height;Sg.set(q.a*e/d,q.b*e/Q,q.c*N/d,q.d*N/Q,q.tx/d,q.ty/Q),Sg.invert(),I?Sg.prepend(D.mapCoord):(b.uniforms.uMapCoord=D.mapCoord.toArray(!0),b.uniforms.uClampFrame=D.uClampFrame,b.uniforms.uClampOffset=D.uClampOffset),b.uniforms.uTransform=Sg.toArray(!0),b.uniforms.uColor=Z.Q1.shared.setValue(p.tint).premultiply(p.worldAlpha,S).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=p.transform.worldTransform.toArray(!0),b.uniforms.uSampler=k,g.shader.bind(b),g.geometry.bind(m),this.state.blendMode=Z.Wp.correctBlendMode(p.blendMode,S),g.state.set(this.state),g.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}qg.extension={name:"tilingSprite",type:Z.Ag.RendererPlugin},Z.XO.add(qg);const Dg=class p{constructor(p,g,m=null){this.linkedSheets=[],this._texture=p instanceof Z.gP?p:null,this.baseTexture=p instanceof Z.t5?p:this._texture.baseTexture,this.textures={},this.animations={},this.data=g;const H=this.baseTexture.resource;this.resolution=this._updateResolution(m||(H?H.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(p=null){const{scale:g}=this.data.meta;let m=Z.Wp.getResolutionOfUrl(p,null);return null===m&&(m=parseFloat(null!=g?g:"1")),1!==m&&this.baseTexture.setResolution(m),m}parse(){return new Promise((g=>{this._callback=g,this._batchIndex=0,this._frameKeys.length<=p.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(g){let m=g;const H=p.BATCH_SIZE;for(;m-g<H&&m<this._frameKeys.length;){const p=this._frameKeys[m],g=this._frames[p],H=g.frame;if(H){let m=null,t=null;const h=!1!==g.trimmed&&g.sourceSize?g.sourceSize:g.frame,k=new Z.M_(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);m=g.rotated?new Z.M_(Math.floor(H.x)/this.resolution,Math.floor(H.y)/this.resolution,Math.floor(H.h)/this.resolution,Math.floor(H.w)/this.resolution):new Z.M_(Math.floor(H.x)/this.resolution,Math.floor(H.y)/this.resolution,Math.floor(H.w)/this.resolution,Math.floor(H.h)/this.resolution),!1!==g.trimmed&&g.spriteSourceSize&&(t=new Z.M_(Math.floor(g.spriteSourceSize.x)/this.resolution,Math.floor(g.spriteSourceSize.y)/this.resolution,Math.floor(H.w)/this.resolution,Math.floor(H.h)/this.resolution)),this.textures[p]=new Z.gP(this.baseTexture,m,k,t,g.rotated?2:0,g.anchor,g.borders),Z.gP.addToCache(this.textures[p],p.toString())}m++}}_processAnimations(){const p=this.data.animations||{};for(const g in p){this.animations[g]=[];for(let m=0;m<p[g].length;m++){const Z=p[g][m];this.animations[g].push(this.textures[Z])}}}_parseComplete(){const p=this._callback;this._callback=null,this._batchIndex=0,p.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*p.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*p.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(p=!1){var g;for(const p in this.textures)this.textures[p].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,p&&(null===(g=this._texture)||void 0===g||g.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Dg.BATCH_SIZE=1e3;let Ig=Dg;const bg=["jpg","png","jpeg","avif","webp"];function eg(p,g,m){const H={};if(p.forEach((p=>{H[p]=g})),Object.keys(g.textures).forEach((p=>{H[p]=g.textures[p]})),!m){const m=Z.Wp.path.dirname(p[0]);g.linkedSheets.forEach(((p,Z)=>{const t=eg([`${m}/${g.data.meta.related_multi_packs[Z]}`],p,!0);Object.assign(H,t)}))}return H}const Ng={extension:Z.Ag.Asset,cache:{test:p=>p instanceof Ig,getCacheableAssets:(p,g)=>eg(p,g,!1)},resolver:{test:p=>{const g=p.split("?")[0].split("."),m=g.pop(),Z=g.pop();return"json"===m&&bg.includes(Z)},parse:p=>{var g,m;const H=p.split(".");return{resolution:parseFloat(null!==(m=null===(g=Z.W0.RETINA_PREFIX.exec(p))||void 0===g?void 0:g[1])&&void 0!==m?m:"1"),format:H[H.length-2],src:p}}},loader:{name:"spritesheetLoader",extension:{type:Z.Ag.LoadParser,priority:G.T9.Normal},testParse:async(p,g)=>".json"===Z.Wp.path.extname(g.src).toLowerCase()&&!!p.frames,async parse(p,g,m){var H,t;let h=Z.Wp.path.dirname(g.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let k=h+p.meta.image;k=G.Y8(k,g.src);const n=(await m.load([k]))[k],S=new Ig(n.baseTexture,p,g.src);await S.parse();const q=null===(H=null==p?void 0:p.meta)||void 0===H?void 0:H.related_multi_packs;if(Array.isArray(q)){const p=[];for(const Z of q){if("string"!=typeof Z)continue;let H=h+Z;(null===(t=g.data)||void 0===t?void 0:t.ignoreMultiPack)||(H=G.Y8(H,g.src),p.push(m.load({src:H,data:{ignoreMultiPack:!0}})))}const Z=await Promise.all(p);S.linkedSheets=Z,Z.forEach((p=>{p.linkedSheets=[S].concat(S.linkedSheets.filter((g=>g!==p)))}))}return S},unload(p){p.destroy(!0)}}};Z.XO.add(Ng);var dg=m(722711);class Qg{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class $g{static test(p){return"string"==typeof p&&p.startsWith("info face=")}static parse(p){const g=p.match(/^[a-z]+\s+.+$/gm),m={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const p in g){const Z=g[p].match(/^[a-z]+/gm)[0],H=g[p].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),t={};for(const p in H){const g=H[p].split("="),m=g[0],Z=g[1].replace(/"/gm,""),h=parseFloat(Z),k=isNaN(h)?Z:h;t[m]=k}m[Z].push(t)}const Z=new Qg;return m.info.forEach((p=>Z.info.push({face:p.face,size:parseInt(p.size,10)}))),m.common.forEach((p=>Z.common.push({lineHeight:parseInt(p.lineHeight,10)}))),m.page.forEach((p=>Z.page.push({id:parseInt(p.id,10),file:p.file}))),m.char.forEach((p=>Z.char.push({id:parseInt(p.id,10),page:parseInt(p.page,10),x:parseInt(p.x,10),y:parseInt(p.y,10),width:parseInt(p.width,10),height:parseInt(p.height,10),xoffset:parseInt(p.xoffset,10),yoffset:parseInt(p.yoffset,10),xadvance:parseInt(p.xadvance,10)}))),m.kerning.forEach((p=>Z.kerning.push({first:parseInt(p.first,10),second:parseInt(p.second,10),amount:parseInt(p.amount,10)}))),m.distanceField.forEach((p=>Z.distanceField.push({distanceRange:parseInt(p.distanceRange,10),fieldType:p.fieldType}))),Z}}class wg{static test(p){const g=p;return"string"!=typeof p&&"getElementsByTagName"in p&&g.getElementsByTagName("page").length&&null!==g.getElementsByTagName("info")[0].getAttribute("face")}static parse(p){const g=new Qg,m=p.getElementsByTagName("info"),Z=p.getElementsByTagName("common"),H=p.getElementsByTagName("page"),t=p.getElementsByTagName("char"),h=p.getElementsByTagName("kerning"),k=p.getElementsByTagName("distanceField");for(let p=0;p<m.length;p++)g.info.push({face:m[p].getAttribute("face"),size:parseInt(m[p].getAttribute("size"),10)});for(let p=0;p<Z.length;p++)g.common.push({lineHeight:parseInt(Z[p].getAttribute("lineHeight"),10)});for(let p=0;p<H.length;p++)g.page.push({id:parseInt(H[p].getAttribute("id"),10)||0,file:H[p].getAttribute("file")});for(let p=0;p<t.length;p++){const m=t[p];g.char.push({id:parseInt(m.getAttribute("id"),10),page:parseInt(m.getAttribute("page"),10)||0,x:parseInt(m.getAttribute("x"),10),y:parseInt(m.getAttribute("y"),10),width:parseInt(m.getAttribute("width"),10),height:parseInt(m.getAttribute("height"),10),xoffset:parseInt(m.getAttribute("xoffset"),10),yoffset:parseInt(m.getAttribute("yoffset"),10),xadvance:parseInt(m.getAttribute("xadvance"),10)})}for(let p=0;p<h.length;p++)g.kerning.push({first:parseInt(h[p].getAttribute("first"),10),second:parseInt(h[p].getAttribute("second"),10),amount:parseInt(h[p].getAttribute("amount"),10)});for(let p=0;p<k.length;p++)g.distanceField.push({fieldType:k[p].getAttribute("fieldType"),distanceRange:parseInt(k[p].getAttribute("distanceRange"),10)});return g}}class Yg{static test(p){return!("string"!=typeof p||!p.includes("<font>"))&&wg.test(Z.W0.ADAPTER.parseXML(p))}static parse(p){return wg.parse(Z.W0.ADAPTER.parseXML(p))}}const ig=[$g,wg,Yg];function Pg(p,g,m,H,t,h,k){const n=m.text,S=m.fontProperties;g.translate(H,t),g.scale(h,h);const q=k.strokeThickness/2,D=-k.strokeThickness/2;if(g.font=k.toFontString(),g.lineWidth=k.strokeThickness,g.textBaseline=k.textBaseline,g.lineJoin=k.lineJoin,g.miterLimit=k.miterLimit,g.fillStyle=function(p,g,m,Z,H,t){const h=m.fill;if(!Array.isArray(h))return h;if(1===h.length)return h[0];let k;const n=m.dropShadow?m.dropShadowDistance:0,S=m.padding||0,q=p.width/Z-n-2*S,D=p.height/Z-n-2*S,I=h.slice(),b=m.fillGradientStops.slice();if(!b.length){const p=I.length+1;for(let g=1;g<p;++g)b.push(g/p)}if(I.unshift(h[0]),b.unshift(0),I.push(h[h.length-1]),b.push(1),m.fillGradientType===dg.T.LINEAR_VERTICAL){k=g.createLinearGradient(q/2,S,q/2,D+S);let p=0;const Z=(t.fontProperties.fontSize+m.strokeThickness)/D;for(let g=0;g<H.length;g++){const m=t.lineHeight*g;for(let g=0;g<I.length;g++){let H=0;H="number"==typeof b[g]?b[g]:g/I.length;const t=m/D+H*Z;let h=Math.max(p,t);h=Math.min(h,1),k.addColorStop(h,I[g]),p=h}}}else{k=g.createLinearGradient(S,D/2,q+S,D/2);const p=I.length+1;let m=1;for(let g=0;g<I.length;g++){let Z;Z="number"==typeof b[g]?b[g]:m/p,k.addColorStop(Z,I[g]),m++}}return k}(p,g,k,h,[n],m),g.strokeStyle=k.stroke,k.dropShadow){const p=k.dropShadowColor,m=k.dropShadowBlur*h,H=k.dropShadowDistance*h;g.shadowColor=Z.Q1.shared.setValue(p).setAlpha(k.dropShadowAlpha).toRgbaString(),g.shadowBlur=m,g.shadowOffsetX=Math.cos(k.dropShadowAngle)*H,g.shadowOffsetY=Math.sin(k.dropShadowAngle)*H}else g.shadowColor="black",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0;k.stroke&&k.strokeThickness&&g.strokeText(n,q,D+m.lineHeight-S.descent),k.fill&&g.fillText(n,q,D+m.lineHeight-S.descent),g.setTransform(1,0,0,1,0,0),g.fillStyle="rgba(0, 0, 0, 0)"}function Jg(p){return Array.from?Array.from(p):p.split("")}function yg(p){return p.codePointAt?p.codePointAt(0):p.charCodeAt(0)}const Wg=class p{constructor(p,g,m){var H,t;const[h]=p.info,[k]=p.common,[n]=p.page,[S]=p.distanceField,q=Z.Wp.getResolutionOfUrl(n.file),D={};this._ownsTextures=m,this.font=h.face,this.size=h.size,this.lineHeight=k.lineHeight/q,this.chars={},this.pageTextures=D;for(let m=0;m<p.page.length;m++){const{id:H,file:t}=p.page[m];D[H]=g instanceof Array?g[m]:g[t],(null==S?void 0:S.fieldType)&&"none"!==S.fieldType&&(D[H].baseTexture.alphaMode=Z.Gk.NO_PREMULTIPLIED_ALPHA,D[H].baseTexture.mipmap=Z.E8.OFF)}for(let g=0;g<p.char.length;g++){const{id:m,page:H}=p.char[g];let{x:t,y:h,width:k,height:n,xoffset:S,yoffset:I,xadvance:b}=p.char[g];t/=q,h/=q,k/=q,n/=q,S/=q,I/=q,b/=q;const e=new Z.M_(t+D[H].frame.x/q,h+D[H].frame.y/q,k,n);this.chars[m]={xOffset:S,yOffset:I,xAdvance:b,kerning:{},texture:new Z.gP(D[H].baseTexture,e),page:H}}for(let g=0;g<p.kerning.length;g++){let{first:m,second:Z,amount:H}=p.kerning[g];m/=q,Z/=q,H/=q,this.chars[Z]&&(this.chars[Z].kerning[m]=H)}this.distanceFieldRange=null==S?void 0:S.distanceRange,this.distanceFieldType=null!==(t=null===(H=null==S?void 0:S.fieldType)||void 0===H?void 0:H.toLowerCase())&&void 0!==t?t:"none"}destroy(){for(const p in this.chars)this.chars[p].texture.destroy(),this.chars[p].texture=null;for(const p in this.pageTextures)this._ownsTextures&&this.pageTextures[p].destroy(!0),this.pageTextures[p]=null;this.chars=null,this.pageTextures=null}static install(g,m,H){let t;if(g instanceof Qg)t=g;else{const p=function(p){for(let g=0;g<ig.length;g++)if(ig[g].test(p))return ig[g];return null}(g);if(!p)throw new Error("Unrecognized data format for font.");t=p.parse(g)}m instanceof Z.gP&&(m=[m]);const h=new p(t,m,H);return p.available[h.font]=h,h}static uninstall(g){const m=p.available[g];if(!m)throw new Error(`No font found named '${g}'`);m.destroy(),delete p.available[g]}static from(g,m,H){if(!g)throw new Error("[BitmapFont] Property `name` is required.");const{chars:t,padding:h,resolution:k,textureWidth:n,textureHeight:S,...q}=Object.assign({},p.defaultOptions,H),D=function(p){"string"==typeof p&&(p=[p]);const g=[];for(let m=0,Z=p.length;m<Z;m++){const Z=p[m];if(Array.isArray(Z)){if(2!==Z.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${Z.length}.`);const p=Z[0].charCodeAt(0),m=Z[1].charCodeAt(0);if(m<p)throw new Error("[BitmapFont]: Invalid character range.");for(let Z=p,H=m;Z<=H;Z++)g.push(String.fromCharCode(Z))}else g.push(...Jg(Z))}if(0===g.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return g}(t),I=m instanceof dg.xJ?m:new dg.xJ(m),b=n,e=new Qg;e.info[0]={face:I.fontFamily,size:I.fontSize},e.common[0]={lineHeight:I.fontSize};let N,d,Q,$=0,w=0,Y=0;const i=[],P=[];for(let p=0;p<D.length;p++){N||(N=Z.W0.ADAPTER.createCanvas(),N.width=n,N.height=S,d=N.getContext("2d"),Q=new Z.t5(N,{resolution:k,...q}),i.push(Q),P.push(new Z.gP(Q)),e.page.push({id:P.length-1,file:""}));const g=D[p],m=dg.Z1.measureText(g,I,!1,N),H=m.width,t=Math.ceil(m.height),J=Math.ceil(("italic"===I.fontStyle?2:1)*H);if(w>=S-t*k){if(0===w)throw new Error(`[BitmapFont] textureHeight ${S}px is too small (fontFamily: '${I.fontFamily}', fontSize: ${I.fontSize}px, char: '${g}')`);--p,N=null,d=null,Q=null,w=0,$=0,Y=0;continue}if(Y=Math.max(t+m.fontProperties.descent,Y),J*k+$>=b){if(0===$)throw new Error(`[BitmapFont] textureWidth ${n}px is too small (fontFamily: '${I.fontFamily}', fontSize: ${I.fontSize}px, char: '${g}')`);--p,w+=Y*k,w=Math.ceil(w),$=0,Y=0;continue}Pg(N,d,m,$,w,k,I);const y=yg(m.text);e.char.push({id:y,page:P.length-1,x:$/k,y:w/k,width:J,height:t,xoffset:0,yoffset:0,xadvance:H-(I.dropShadow?I.dropShadowDistance:0)-(I.stroke?I.strokeThickness:0)}),$+=(J+2*h)*k,$=Math.ceil($)}if(!(null==H?void 0:H.skipKerning))for(let p=0,g=D.length;p<g;p++){const m=D[p];for(let p=0;p<g;p++){const g=D[p],Z=d.measureText(m).width,H=d.measureText(g).width,t=d.measureText(m+g).width-(Z+H);t&&e.kerning.push({first:yg(m),second:yg(g),amount:t})}}const J=new p(e,P,!0);return void 0!==p.available[g]&&p.uninstall(g),p.available[g]=J,J}};Wg.ALPHA=[["a","z"],["A","Z"]," "],Wg.NUMERIC=[["0","9"]],Wg.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Wg.ASCII=[[" ","~"]],Wg.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Wg.ALPHANUMERIC},Wg.available={};let vg=Wg;var Vg=`// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n`,zg=`// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n`;const Bg=[],ug=[],ag=[],Fg=class p extends H.mc{constructor(g,m={}){super();const{align:H,tint:t,maxWidth:h,letterSpacing:k,fontName:n,fontSize:S}=Object.assign({},p.styleDefaults,m);if(!vg.available[n])throw new Error(`Missing BitmapFont "${n}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=H,this._tintColor=new Z.Q1(t),this._font=void 0,this._fontName=n,this._fontSize=S,this.text=g,this._maxWidth=h,this._maxLineHeight=0,this._letterSpacing=k,this._anchor=new Z.oA((()=>{this.dirty=!0}),this,0,0),this._roundPixels=Z.W0.ROUND_PIXELS,this.dirty=!0,this._resolution=Z.W0.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var p;const g=vg.available[this._fontName],m=this.fontSize,H=m/g.size,t=new Z.bR,h=[],k=[],n=[],S=Jg(this._text.replace(/(?:\r\n|\r)/g,`\n`)||" "),q=this._maxWidth*g.size/m,D="none"===g.distanceFieldType?Bg:ug;let I=null,b=0,e=0,N=0,d=-1,Q=0,$=0,w=0,Y=0;for(let p=0;p<S.length;p++){const m=S[p],H=yg(m);if(/(?:\s)/.test(m)&&(d=p,Q=b,Y++),"\r"===m||m===`\n`){k.push(b),n.push(-1),e=Math.max(e,b),++N,++$,t.x=0,t.y+=g.lineHeight,I=null,Y=0;continue}const D=g.chars[H];if(!D)continue;I&&D.kerning[I]&&(t.x+=D.kerning[I]);const i=ag.pop()||{texture:Z.gP.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Z.bR};i.texture=D.texture,i.line=N,i.charCode=H,i.position.x=Math.round(t.x+D.xOffset+this._letterSpacing/2),i.position.y=Math.round(t.y+D.yOffset),i.prevSpaces=Y,h.push(i),b=i.position.x+Math.max(D.xAdvance-D.xOffset,D.texture.orig.width),t.x+=D.xAdvance+this._letterSpacing,w=Math.max(w,D.yOffset+D.texture.height),I=H,-1!==d&&q>0&&t.x>q&&(++$,Z.Wp.removeItems(h,1+d-$,1+p-d),p=d,d=-1,k.push(Q),n.push(h.length>0?h[h.length-1].prevSpaces:0),e=Math.max(e,Q),N++,t.x=0,t.y+=g.lineHeight,I=null,Y=0)}const i=S[S.length-1];"\r"!==i&&i!==`\n`&&(/(?:\s)/.test(i)&&(b=Q),k.push(b),e=Math.max(e,b),n.push(-1));const P=[];for(let p=0;p<=N;p++){let g=0;"right"===this._align?g=e-k[p]:"center"===this._align?g=(e-k[p])/2:"justify"===this._align&&(g=n[p]<0?0:(e-k[p])/n[p]),P.push(g)}const J=h.length,y={},W=[],v=this._activePagesMeshData;D.push(...v);for(let p=0;p<J;p++){const m=h[p].texture,H=m.baseTexture.uid;if(!y[H]){let p=D.pop();if(!p){const m=new Ap.u;let H,t;"none"===g.distanceFieldType?(H=new Ap.PX(Z.gP.EMPTY),t=Z.B9.NORMAL):(H=new Ap.PX(Z.gP.EMPTY,{program:Z.BP.from(zg,Vg),uniforms:{uFWidth:0}}),t=Z.B9.NORMAL_NPM);const h=new Ap.e(m,H);h.blendMode=t,p={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:h,vertices:null,uvs:null,indices:null}}p.index=0,p.indexCount=0,p.vertexCount=0,p.uvsCount=0,p.total=0;const{_textureCache:t}=this;t[H]=t[H]||new Z.gP(m.baseTexture),p.mesh.texture=t[H],p.mesh.tint=this._tintColor.value,W.push(p),y[H]=p}y[H].total++}for(let p=0;p<v.length;p++)W.includes(v[p])||this.removeChild(v[p].mesh);for(let p=0;p<W.length;p++)W[p].mesh.parent!==this&&this.addChild(W[p].mesh);this._activePagesMeshData=W;for(const g in y){const m=y[g],Z=m.total;if(!((null===(p=m.indices)||void 0===p?void 0:p.length)>6*Z)||m.vertices.length<2*Ap.e.BATCHABLE_SIZE)m.vertices=new Float32Array(4*2*Z),m.uvs=new Float32Array(4*2*Z),m.indices=new Uint16Array(6*Z);else{const p=m.total,g=m.vertices;for(let m=4*p*2;m<g.length;m++)g[m]=0}m.mesh.size=6*Z}for(let p=0;p<J;p++){const g=h[p];let m=g.position.x+P[g.line]*("justify"===this._align?g.prevSpaces:1);this._roundPixels&&(m=Math.round(m));const Z=m*H,t=g.position.y*H,k=g.texture,n=y[k.baseTexture.uid],S=k.frame,q=k._uvs,D=n.index++;n.indices[6*D+0]=0+4*D,n.indices[6*D+1]=1+4*D,n.indices[6*D+2]=2+4*D,n.indices[6*D+3]=0+4*D,n.indices[6*D+4]=2+4*D,n.indices[6*D+5]=3+4*D,n.vertices[8*D+0]=Z,n.vertices[8*D+1]=t,n.vertices[8*D+2]=Z+S.width*H,n.vertices[8*D+3]=t,n.vertices[8*D+4]=Z+S.width*H,n.vertices[8*D+5]=t+S.height*H,n.vertices[8*D+6]=Z,n.vertices[8*D+7]=t+S.height*H,n.uvs[8*D+0]=q.x0,n.uvs[8*D+1]=q.y0,n.uvs[8*D+2]=q.x1,n.uvs[8*D+3]=q.y1,n.uvs[8*D+4]=q.x2,n.uvs[8*D+5]=q.y2,n.uvs[8*D+6]=q.x3,n.uvs[8*D+7]=q.y3}this._textWidth=e*H,this._textHeight=(t.y+g.lineHeight)*H;for(const p in y){const g=y[p];if(0!==this.anchor.x||0!==this.anchor.y){let p=0;const m=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y;for(let H=0;H<g.total;H++)g.vertices[p++]-=m,g.vertices[p++]-=Z,g.vertices[p++]-=m,g.vertices[p++]-=Z,g.vertices[p++]-=m,g.vertices[p++]-=Z,g.vertices[p++]-=m,g.vertices[p++]-=Z}this._maxLineHeight=w*H;const m=g.mesh.geometry.getBuffer("aVertexPosition"),Z=g.mesh.geometry.getBuffer("aTextureCoord"),t=g.mesh.geometry.getIndex();m.data=g.vertices,Z.data=g.uvs,t.data=g.indices,m.update(),Z.update(),t.update()}for(let p=0;p<h.length;p++)ag.push(h[p]);this._font=g,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(p){this._autoResolution&&this._resolution!==p.resolution&&(this._resolution=p.resolution,this.dirty=!0);const{distanceFieldRange:g,distanceFieldType:m,size:Z}=vg.available[this._fontName];if("none"!==m){const{a:m,b:H,c:t,d:h}=this.worldTransform,k=Math.sqrt(m*m+H*H),n=Math.sqrt(t*t+h*h),S=(Math.abs(k)+Math.abs(n))/2,q=this.fontSize/Z,D=p._view.resolution;for(const p of this._activePagesMeshData)p.mesh.shader.uniforms.uFWidth=S*g*q*D}super._render(p)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const p=vg.available[this._fontName];if(!p)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==p&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(p){if(this.tint!==p){this._tintColor.setValue(p);for(let g=0;g<this._activePagesMeshData.length;g++)this._activePagesMeshData[g].mesh.tint=p}}get align(){return this._align}set align(p){this._align!==p&&(this._align=p,this.dirty=!0)}get fontName(){return this._fontName}set fontName(p){if(!vg.available[p])throw new Error(`Missing BitmapFont "${p}"`);this._fontName!==p&&(this._fontName=p,this.dirty=!0)}get fontSize(){var p;return null!==(p=this._fontSize)&&void 0!==p?p:vg.available[this._fontName].size}set fontSize(p){this._fontSize!==p&&(this._fontSize=p,this.dirty=!0)}get anchor(){return this._anchor}set anchor(p){"number"==typeof p?this._anchor.set(p):this._anchor.copyFrom(p)}get text(){return this._text}set text(p){p=String(null!=p?p:""),this._text!==p&&(this._text=p,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(p){this._maxWidth!==p&&(this._maxWidth=p,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(p){this._letterSpacing!==p&&(this._letterSpacing=p,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(p){p!==this._roundPixels&&(this._roundPixels=p,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(p){this._autoResolution=!1,this._resolution!==p&&(this._resolution=p,this.dirty=!0)}destroy(p){const{_textureCache:g}=this,m="none"===vg.available[this._fontName].distanceFieldType?Bg:ug;m.push(...this._activePagesMeshData);for(const p of this._activePagesMeshData)this.removeChild(p.mesh);this._activePagesMeshData=[],m.filter((p=>g[p.mesh.texture.baseTexture.uid])).forEach((p=>{p.mesh.texture=Z.gP.EMPTY}));for(const p in g)g[p].destroy(),delete g[p];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(p)}};Fg.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Xg=Fg;const Kg=[".xml",".fnt"],jg={extension:{type:Z.Ag.LoadParser,priority:G.T9.Normal},name:"loadBitmapFont",test:p=>Kg.includes(Z.Wp.path.extname(p).toLowerCase()),testParse:async p=>$g.test(p)||Yg.test(p),async parse(p,g,m){const Z=$g.test(p)?$g.parse(p):Yg.parse(p),{src:H}=g,{page:t}=Z,h=[];for(let p=0;p<t.length;++p){let g=t[p].file;g=G.Y8(g,H),h.push(g)}const k=await m.load(h),n=h.map((p=>k[p]));return vg.install(Z,n,!0)},load:async(p,g)=>(await Z.W0.ADAPTER.fetch(p)).text(),unload(p){p.destroy()}};Z.XO.add(jg);const rg=class p extends dg.xJ{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(g){return new p(Object.keys(p.defaultOptions).reduce(((p,m)=>({...p,[m]:g[m]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((g=>{URL.revokeObjectURL(g.src),g.refs--,0===g.refs&&(g.fontFace&&document.fonts.delete(g.fontFace),delete p.availableFonts[g.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(g,m={}){const{availableFonts:H}=p;if(H[g]){const p=H[g];return this._fonts.push(p),p.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Z.W0.ADAPTER.fetch(g).then((p=>p.blob())).then((async p=>new Promise(((g,m)=>{const Z=URL.createObjectURL(p),H=new FileReader;H.onload=()=>g([Z,H.result]),H.onerror=m,H.readAsDataURL(p)})))).then((async([p,t])=>{const h=Object.assign({family:Z.Wp.path.basename(g,Z.Wp.path.extname(g)),weight:"normal",style:"normal",display:"auto",src:p,dataSrc:t,refs:1,originalUrl:g,fontFace:null},m);H[g]=h,this._fonts.push(h),this.styleID++;const k=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=k,await k.load(),document.fonts.add(k),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...p){const g=p.filter((p=>!this._overrides.includes(p)));g.length>0&&(this._overrides.push(...g),this.styleID++)}removeOverride(...p){const g=p.filter((p=>this._overrides.includes(p)));g.length>0&&(this._overrides=this._overrides.filter((p=>!g.includes(p))),this.styleID++)}toCSS(p){return[`transform: scale(${p})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((p,g)=>`${p}\n            @font-face {\n                font-family: "${g.family}";\n                src: url('${g.dataSrc}');\n                font-weight: ${g.weight};\n                font-style: ${g.style};\n                font-display: ${g.display};\n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(p){this._stylesheet!==p&&(this._stylesheet=p,this.styleID++)}normalizeColor(p){return Array.isArray(p)&&(p=Z.Wp.rgb2hex(p)),"number"==typeof p?Z.Wp.hex2string(p):p}dropShadowToCSS(){let p=this.normalizeColor(this.dropShadowColor);const g=this.dropShadowAlpha,m=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),Z=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);p.startsWith("#")&&g<1&&(p+=(255*g|0).toString(16).padStart(2,"0"));const H=`${m}px ${Z}px`;return this.dropShadowBlur>0?`text-shadow: ${H} ${this.dropShadowBlur}px ${p}`:`text-shadow: ${H} ${p}`}reset(){Object.assign(this,p.defaultOptions)}onBeforeDraw(){const{fontsDirty:p}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&p?new Promise((p=>setTimeout(p,100))):Promise.resolve()}get isSafari(){const{userAgent:p}=Z.W0.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(p)}set fillGradientStops(p){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(p){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(p){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(p){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(p){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(p){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(p){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};rg.availableFonts={},rg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Ug=rg;const Cg=class p extends t.k{constructor(g="",m={}){var H;super(Z.gP.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const t=new Image,h=Z.gP.from(t,{scaleMode:Z.W0.SCALE_MODE,resourceOptions:{autoLoad:!1}});h.orig=new Z.M_,h.trim=new Z.M_,this.texture=h;const k="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xhtml",S=document.createElementNS(k,"svg"),q=document.createElementNS(k,"foreignObject"),D=document.createElementNS(n,"div"),I=document.createElementNS(n,"style");q.setAttribute("width","10000"),q.setAttribute("height","10000"),q.style.overflow="hidden",S.appendChild(q),this.maxWidth=p.defaultMaxWidth,this.maxHeight=p.defaultMaxHeight,this._domElement=D,this._styleElement=I,this._svgRoot=S,this._foreignObject=q,this._foreignObject.appendChild(I),this._foreignObject.appendChild(D),this._image=t,this._loadImage=new Image,this._autoResolution=p.defaultAutoResolution,this._resolution=null!==(H=p.defaultResolution)&&void 0!==H?H:Z.W0.RESOLUTION,this.text=g,this.style=m}measureText(p){var g,m;const{text:Z,style:H,resolution:t}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},p);Object.assign(this._domElement,{innerHTML:Z,style:H.toCSS(t)}),this._styleElement.textContent=H.toGlobalCSS(),document.body.appendChild(this._svgRoot);const h=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:k,height:n}=h;(k>this.maxWidth||n>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const S=Math.min(this.maxWidth,Math.ceil(k)),q=Math.min(this.maxHeight,Math.ceil(n));return this._svgRoot.setAttribute("width",S.toString()),this._svgRoot.setAttribute("height",q.toString()),Z!==this._text&&(this._domElement.innerHTML=this._text),H!==this._style&&(Object.assign(this._domElement,{style:null===(g=this._style)||void 0===g?void 0:g.toCSS(t)}),this._styleElement.textContent=null===(m=this._style)||void 0===m?void 0:m.toGlobalCSS()),{width:S+2*H.padding,height:q+2*H.padding}}async updateText(p=!0){const{style:g,_image:m,_loadImage:Z}=this;if(this.localStyleID!==g.styleID&&(this.dirty=!0,this.localStyleID=g.styleID),!this.dirty&&p)return;const{width:H,height:t}=this.measureText();m.width=Z.width=Math.ceil(Math.max(1,H)),m.height=Z.height=Math.ceil(Math.max(1,t)),this._updateID++;const h=this._updateID;await new Promise((p=>{Z.onload=async()=>{h<this._updateID||(await g.onBeforeDraw(),m.src=Z.src,Z.onload=null,Z.src="",this.updateTexture()),p()};const H=(new XMLSerializer).serializeToString(this._svgRoot);Z.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(H)}`}))}get source(){return this._image}updateTexture(){const{style:p,texture:g,_image:m,resolution:Z}=this,{padding:H}=p,{baseTexture:t}=g;g.trim.width=g._frame.width=m.width/Z,g.trim.height=g._frame.height=m.height/Z,g.trim.x=-H,g.trim.y=-H,g.orig.width=g._frame.width-2*H,g.orig.height=g._frame.height-2*H,this._onTextureUpdate(),t.setRealSize(m.width,m.height,Z),this.dirty=!1}_render(p){this._autoResolution&&this._resolution!==p.resolution&&(this._resolution=p.resolution,this.dirty=!0),this.updateText(!0),super._render(p)}_renderCanvas(p){this._autoResolution&&this._resolution!==p.resolution&&(this._resolution=p.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(p)}getLocalBounds(p){return this.updateText(!0),super.getLocalBounds(p)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(g){var m,Z,H,t,h;"boolean"==typeof g&&(g={children:g}),g=Object.assign({},p.defaultDestroyOptions,g),super.destroy(g);const k=null;this.ownsStyle&&(null===(m=this._style)||void 0===m||m.cleanFonts()),this._style=k,null===(Z=this._svgRoot)||void 0===Z||Z.remove(),this._svgRoot=k,null===(H=this._domElement)||void 0===H||H.remove(),this._domElement=k,null===(t=this._foreignObject)||void 0===t||t.remove(),this._foreignObject=k,null===(h=this._styleElement)||void 0===h||h.remove(),this._styleElement=k,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=k,this._image.src="",this._image=k}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(p){this.updateText(!0);const g=Z.Wp.sign(this.scale.x)||1;this.scale.x=g*p/this._image.width/this.resolution,this._width=p}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(p){this.updateText(!0);const g=Z.Wp.sign(this.scale.y)||1;this.scale.y=g*p/this._image.height/this.resolution,this._height=p}get style(){return this._style}set style(p){this._style!==p&&((p=p||{})instanceof Ug?(this.ownsStyle=!1,this._style=p):p instanceof dg.xJ?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ug.from(p)):(this.ownsStyle=!0,this._style=new Ug(p)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(p){p=String(""===p||null==p?" ":p),p=this.sanitiseText(p),this._text!==p&&(this._text=p,this.dirty=!0)}get resolution(){return this._resolution}set resolution(p){this._autoResolution=!1,this._resolution!==p&&(this._resolution=p,this.dirty=!0)}sanitiseText(p){return p.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Cg.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Cg.defaultMaxWidth=2024,Cg.defaultMaxHeight=2024,Cg.defaultAutoResolution=!0}},n={};function S(p){var g=n[p];if(void 0!==g)return g.exports;var m=n[p]={id:p,loaded:!1,exports:{}};return k[p].call(m.exports,m,m.exports,S),m.loaded=!0,m.exports}S.m=k,p=[],S.O=(g,m,Z,H)=>{if(!m){var t=1/0;for(q=0;q<p.length;q++){for(var[m,Z,H]=p[q],h=!0,k=0;k<m.length;k++)(!1&H||t>=H)&&Object.keys(S.O).every((p=>S.O[p](m[k])))?m.splice(k--,1):(h=!1,H<t&&(t=H));if(h){p.splice(q--,1);var n=Z();void 0!==n&&(g=n)}}return g}H=H||0;for(var q=p.length;q>0&&p[q-1][2]>H;q--)p[q]=p[q-1];p[q]=[m,Z,H]},S.n=p=>{var g=p&&p.__esModule?()=>p["default"]:()=>p;return S.d(g,{a:g}),g},m=Object.getPrototypeOf?p=>Object.getPrototypeOf(p):p=>p.__proto__,S.t=function(p,Z){if(1&Z&&(p=this(p)),8&Z)return p;if("object"==typeof p&&p){if(4&Z&&p.__esModule)return p;if(16&Z&&"function"==typeof p.then)return p}var H=Object.create(null);S.r(H);var t={};g=g||[null,m({}),m([]),m(m)];for(var h=2&Z&&p;"object"==typeof h&&!~g.indexOf(h);h=m(h))Object.getOwnPropertyNames(h).forEach((g=>t[g]=()=>p[g]));return t["default"]=()=>p,S.d(H,t),H},S.d=(p,g)=>{for(var m in g)S.o(g,m)&&!S.o(p,m)&&Object.defineProperty(p,m,{enumerable:!0,get:g[m]})},S.f={},S.e=p=>Promise.all(Object.keys(S.f).reduce(((g,m)=>(S.f[m](p,g),g)),[])),S.u=p=>"js/"+({3474:"evo-promotions.SpinGiftsFrame",3863:"testTools",11674:"help.balloonrace",17474:"evo-game.mobileChat",22421:"testTools.PixiDevToolsPlugin",23136:"balloonraceTestToolsPlugins",24622:"evo-promotions.SpinGiftsWheelAnimation",30164:"game-client-history-round-info",36302:"evo-promotions.SpinGiftsCampaignRules",39340:"history.roundView",44806:"gameTestToolsPlugins",47290:"evo-promotions.SpinGiftsTermsConditions",50967:"help.common",54504:"evo-promotions.cashGifts",59760:"evo-game.chat",66703:"gameTestToolsSafeAreaPlugin",66885:"native-utilities",73375:"evo-promotions.spinGifts",73460:"evo-promotions.giftsWheel",77821:"evo-game.emojiMenu",80616:"video-lib-local",85687:"testTools.why-did-you-render"}[p]||p)+"."+{3474:"1a89cdcf",3863:"c68406f1",10306:"a97cff13",11674:"e908eb70",14291:"2f77c6ae",17474:"36703dd7",22421:"0fea869a",23136:"fc444ff3",24622:"c19aa584",27672:"21b8bdb0",30164:"81c32c92",32184:"a21bca64",36302:"63c3f631",37927:"b03e4e3d",39340:"87393490",42447:"0fe47cec",44806:"0741de9d",45444:"ef538133",47290:"25d266d1",50967:"2b6414a9",54504:"de8d33cf",59760:"c5c3f75e",66703:"d22f8b42",66885:"cf7c7b01",73375:"74edf8f6",73460:"b312a388",77821:"cadc9005",80616:"10095eb7",85687:"8dab9d33"}[p]+".js",S.miniCssF=p=>3863===p?"styles/testtools.c68406f1.css":36302===p?"styles/evopromoti.spingiftsc.63c3f631.css":47290===p?"styles/evopromoti.spingiftst.25d266d1.css":50967===p?"styles/help.common.2b6414a9.css":30164===p?"styles/gameclient.81c32c92.css":39340===p?"styles/history.roundview.87393490.css":17474===p?"styles/evogame.mobilechat.36703dd7.css":59760===p?"styles/evogame.chat.c5c3f75e.css":54504===p?"styles/evopromoti.cashgifts.de8d33cf.css":73375===p?"styles/evopromoti.spingifts.74edf8f6.css":77821===p?"styles/evogame.emojimenu.cadc9005.css":44806===p?"styles/gametestto.0741de9d.css":23136===p?"styles/balloonrac.fc444ff3.css":22421===p?"styles/testtools.pixidevtoo.0fea869a.css":11674===p?"styles/help.balloonrac.e908eb70.css":73460===p?"styles/evopromoti.giftswheel.b312a388.css":24622===p?"styles/evopromoti.spingiftsw.c19aa584.css":3474===p?"styles/evopromoti.spingiftsf.1a89cdcf.css":66703===p?"styles/gametestto.d22f8b42.css":void 0,S.hmd=p=>((p=Object.create(p)).children||(p.children=[]),Object.defineProperty(p,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+p.id)}}),p),S.o=(p,g)=>Object.prototype.hasOwnProperty.call(p,g),Z={},H="/frontend/evo/r2/:",S.l=(p,g,m,t)=>{if(Z[p])Z[p].push(g);else{var h,k;if(void 0!==m)for(var n=document.getElementsByTagName("script"),q=0;q<n.length;q++){var D=n[q];if(D.getAttribute("src")==p||D.getAttribute("data-webpack")==H+m){h=D;break}}h||(k=!0,(h=document.createElement("script")).charset="utf-8",h.timeout=NaN,S.nc&&h.setAttribute("nonce",S.nc),h.setAttribute("data-webpack",H+m),h.src=p),Z[p]=[g];var I=(g,m)=>{h.onerror=h.onload=null,clearTimeout(b);var H=Z[p];if(delete Z[p],h.parentNode&&h.parentNode.removeChild(h),H&&H.forEach((p=>p(m))),g)return g(m)},b=setTimeout(I.bind(null,void 0,{type:"timeout",target:h}),window.EVO_CDN?15e3:6e4);h.onerror=I.bind(null,h.onerror),h.onload=I.bind(null,h.onload),k&&document.head.appendChild(h)}},S.r=p=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},S.nmd=p=>(p.paths=[],p.children||(p.children=[]),p),S.j=65229,S.p=(globalThis.EVO_CDN||"")+"/frontend/evo/r2/",t=p=>new Promise(((g,m)=>{var Z=S.miniCssF(p),H=S.p+Z;if(((p,g)=>{for(var m=document.getElementsByTagName("link"),Z=0;Z<m.length;Z++){var H=(h=m[Z]).getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(H===p||H===g))return h}var t=document.getElementsByTagName("style");for(Z=0;Z<t.length;Z++){var h;if((H=(h=t[Z]).getAttribute("data-href"))===p||H===g)return h}})(Z,H))return g();((p,g,m,Z)=>{var H=document.createElement("link");H.setAttribute("data-sandbox","ignore"),H.rel="stylesheet",H.type="text/css",H.onerror=H.onload=t=>{if(H.onerror=H.onload=null,"load"===t.type)m();else{var h=t&&("load"===t.type?"missing":t.type),k=t&&t.target&&t.target.href||g,n=new Error("Loading CSS chunk "+p+" failed.\n("+k+")");n.code="CSS_CHUNK_LOAD_FAILED",n.type=h,n.request=k,H.parentNode.removeChild(H),Z(n)}},H.href=g,document.head.appendChild(H)})(p,H,g,m)})),h={65229:0},S.f.miniCss=(p,g)=>{h[p]?g.push(h[p]):0!==h[p]&&{3474:1,3863:1,11674:1,17474:1,22421:1,23136:1,24622:1,30164:1,36302:1,39340:1,44806:1,47290:1,50967:1,54504:1,59760:1,66703:1,73375:1,73460:1,77821:1}[p]&&g.push(h[p]=t(p).then((()=>{h[p]=0}),(g=>{throw delete h[p],g})))},(()=>{var p={65229:0};S.f.j=(g,m)=>{var Z=S.o(p,g)?p[g]:void 0;if(0!==Z)if(Z)m.push(Z[2]);else if(1){var H=new Promise(((m,H)=>Z=p[g]=[m,H]));m.push(Z[2]=H);var t=S.p+S.u(g),h=new Error;S.l(t,(m=>{if(S.o(p,g)&&(0!==(Z=p[g])&&(p[g]=void 0),Z)){var H=m&&("load"===m.type?"missing":m.type),t=m&&m.target&&m.target.src;h.message="Loading chunk "+g+" failed.\n("+H+": "+t+")",h.name="ChunkLoadError",h.type=H,h.request=t,Z[1](h)}}),"chunk-"+g,g)}},S.O.j=g=>0===p[g];var g=(g,m)=>{var Z,H,[t,h,k]=m,n=0;if(t.some((g=>0!==p[g]))){for(Z in h)S.o(h,Z)&&(S.m[Z]=h[Z]);if(k)var q=k(S)}for(g&&g(m);n<t.length;n++)H=t[n],S.o(p,H)&&p[H]&&p[H][0](),p[H]=0;return S.O(q)},m=self["webpackChunk_frontend_evo_r2_"]=self["webpackChunk_frontend_evo_r2_"]||[];m.forEach(g.bind(null,0)),m.push=g.bind(null,m.push.bind(m))})(),S.O(void 0,[35375,79949],(()=>S(515924)));var q=S.O(void 0,[35375,79949],(()=>S(104631)));q=S.O(q)})();
//# sourceMappingURL=https://sourcemaps.egcdn.com/frontend/evo/r2/js/balloonrac.aecb99b1.js.map